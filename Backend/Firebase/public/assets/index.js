function lv(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var id={exports:{}},Qs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function uT(){if(E_)return Qs;E_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Qs.Fragment=e,Qs.jsx=a,Qs.jsxs=a,Qs}var b_;function cT(){return b_||(b_=1,id.exports=uT()),id.exports}var F=cT(),ad={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function fT(){if(S_)return Ce;S_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function E(T){return T===null||typeof T!="object"?null:(T=v&&T[v]||T["@@iterator"],typeof T=="function"?T:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,H={};function z(T,q,ie){this.props=T,this.context=q,this.refs=H,this.updater=ie||S}z.prototype.isReactComponent={},z.prototype.setState=function(T,q){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,q,"setState")},z.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function P(){}P.prototype=z.prototype;function Q(T,q,ie){this.props=T,this.context=q,this.refs=H,this.updater=ie||S}var Z=Q.prototype=new P;Z.constructor=Q,N(Z,z.prototype),Z.isPureReactComponent=!0;var de=Array.isArray,W={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function _e(T,q,ie,ee,K,Te){return ie=Te.ref,{$$typeof:i,type:T,key:q,ref:ie!==void 0?ie:null,props:Te}}function Se(T,q){return _e(T.type,q,void 0,void 0,void 0,T.props)}function G(T){return typeof T=="object"&&T!==null&&T.$$typeof===i}function se(T){var q={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(ie){return q[ie]})}var Le=/\/+/g;function dt(T,q){return typeof T=="object"&&T!==null&&T.key!=null?se(""+T.key):q.toString(36)}function wt(){}function ht(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(wt,wt):(T.status="pending",T.then(function(q){T.status==="pending"&&(T.status="fulfilled",T.value=q)},function(q){T.status==="pending"&&(T.status="rejected",T.reason=q)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function Ve(T,q,ie,ee,K){var Te=typeof T;(Te==="undefined"||Te==="boolean")&&(T=null);var pe=!1;if(T===null)pe=!0;else switch(Te){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(T.$$typeof){case i:case e:pe=!0;break;case y:return pe=T._init,Ve(pe(T._payload),q,ie,ee,K)}}if(pe)return K=K(T),pe=ee===""?"."+dt(T,0):ee,de(K)?(ie="",pe!=null&&(ie=pe.replace(Le,"$&/")+"/"),Ve(K,q,ie,"",function(Ee){return Ee})):K!=null&&(G(K)&&(K=Se(K,ie+(K.key==null||T&&T.key===K.key?"":(""+K.key).replace(Le,"$&/")+"/")+pe)),q.push(K)),1;pe=0;var vt=ee===""?".":ee+":";if(de(T))for(var Ue=0;Ue<T.length;Ue++)ee=T[Ue],Te=vt+dt(ee,Ue),pe+=Ve(ee,q,ie,Te,K);else if(Ue=E(T),typeof Ue=="function")for(T=Ue.call(T),Ue=0;!(ee=T.next()).done;)ee=ee.value,Te=vt+dt(ee,Ue++),pe+=Ve(ee,q,ie,Te,K);else if(Te==="object"){if(typeof T.then=="function")return Ve(ht(T),q,ie,ee,K);throw q=String(T),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return pe}function Y(T,q,ie){if(T==null)return T;var ee=[],K=0;return Ve(T,ee,"","",function(Te){return q.call(ie,Te,K++)}),ee}function me(T){if(T._status===-1){var q=T._result;q=q(),q.then(function(ie){(T._status===0||T._status===-1)&&(T._status=1,T._result=ie)},function(ie){(T._status===0||T._status===-1)&&(T._status=2,T._result=ie)}),T._status===-1&&(T._status=0,T._result=q)}if(T._status===1)return T._result.default;throw T._result}var ue=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function Ne(){}return Ce.Children={map:Y,forEach:function(T,q,ie){Y(T,function(){q.apply(this,arguments)},ie)},count:function(T){var q=0;return Y(T,function(){q++}),q},toArray:function(T){return Y(T,function(q){return q})||[]},only:function(T){if(!G(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Ce.Component=z,Ce.Fragment=a,Ce.Profiler=o,Ce.PureComponent=Q,Ce.StrictMode=s,Ce.Suspense=m,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(T){return function(){return T.apply(null,arguments)}},Ce.cloneElement=function(T,q,ie){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var ee=N({},T.props),K=T.key,Te=void 0;if(q!=null)for(pe in q.ref!==void 0&&(Te=void 0),q.key!==void 0&&(K=""+q.key),q)!M.call(q,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&q.ref===void 0||(ee[pe]=q[pe]);var pe=arguments.length-2;if(pe===1)ee.children=ie;else if(1<pe){for(var vt=Array(pe),Ue=0;Ue<pe;Ue++)vt[Ue]=arguments[Ue+2];ee.children=vt}return _e(T.type,K,void 0,void 0,Te,ee)},Ce.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},Ce.createElement=function(T,q,ie){var ee,K={},Te=null;if(q!=null)for(ee in q.key!==void 0&&(Te=""+q.key),q)M.call(q,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(K[ee]=q[ee]);var pe=arguments.length-2;if(pe===1)K.children=ie;else if(1<pe){for(var vt=Array(pe),Ue=0;Ue<pe;Ue++)vt[Ue]=arguments[Ue+2];K.children=vt}if(T&&T.defaultProps)for(ee in pe=T.defaultProps,pe)K[ee]===void 0&&(K[ee]=pe[ee]);return _e(T,Te,void 0,void 0,null,K)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(T){return{$$typeof:h,render:T}},Ce.isValidElement=G,Ce.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:me}},Ce.memo=function(T,q){return{$$typeof:p,type:T,compare:q===void 0?null:q}},Ce.startTransition=function(T){var q=W.T,ie={};W.T=ie;try{var ee=T(),K=W.S;K!==null&&K(ie,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Ne,ue)}catch(Te){ue(Te)}finally{W.T=q}},Ce.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Ce.use=function(T){return W.H.use(T)},Ce.useActionState=function(T,q,ie){return W.H.useActionState(T,q,ie)},Ce.useCallback=function(T,q){return W.H.useCallback(T,q)},Ce.useContext=function(T){return W.H.useContext(T)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(T,q){return W.H.useDeferredValue(T,q)},Ce.useEffect=function(T,q){return W.H.useEffect(T,q)},Ce.useId=function(){return W.H.useId()},Ce.useImperativeHandle=function(T,q,ie){return W.H.useImperativeHandle(T,q,ie)},Ce.useInsertionEffect=function(T,q){return W.H.useInsertionEffect(T,q)},Ce.useLayoutEffect=function(T,q){return W.H.useLayoutEffect(T,q)},Ce.useMemo=function(T,q){return W.H.useMemo(T,q)},Ce.useOptimistic=function(T,q){return W.H.useOptimistic(T,q)},Ce.useReducer=function(T,q,ie){return W.H.useReducer(T,q,ie)},Ce.useRef=function(T){return W.H.useRef(T)},Ce.useState=function(T){return W.H.useState(T)},Ce.useSyncExternalStore=function(T,q,ie){return W.H.useSyncExternalStore(T,q,ie)},Ce.useTransition=function(){return W.H.useTransition()},Ce.version="19.0.0",Ce}var T_;function Zd(){return T_||(T_=1,ad.exports=fT()),ad.exports}var A=Zd();const dT=lv(A);var rd={exports:{}},Xs={},sd={exports:{}},ld={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function hT(){return C_||(C_=1,function(i){function e(Y,me){var ue=Y.length;Y.push(me);e:for(;0<ue;){var Ne=ue-1>>>1,T=Y[Ne];if(0<o(T,me))Y[Ne]=me,Y[ue]=T,ue=Ne;else break e}}function a(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var me=Y[0],ue=Y.pop();if(ue!==me){Y[0]=ue;e:for(var Ne=0,T=Y.length,q=T>>>1;Ne<q;){var ie=2*(Ne+1)-1,ee=Y[ie],K=ie+1,Te=Y[K];if(0>o(ee,ue))K<T&&0>o(Te,ee)?(Y[Ne]=Te,Y[K]=ue,Ne=K):(Y[Ne]=ee,Y[ie]=ue,Ne=ie);else if(K<T&&0>o(Te,ue))Y[Ne]=Te,Y[K]=ue,Ne=K;else break e}}return me}function o(Y,me){var ue=Y.sortIndex-me.sortIndex;return ue!==0?ue:Y.id-me.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();i.unstable_now=function(){return f.now()-h}}var m=[],p=[],y=1,v=null,E=3,S=!1,N=!1,H=!1,z=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function Z(Y){for(var me=a(p);me!==null;){if(me.callback===null)s(p);else if(me.startTime<=Y)s(p),me.sortIndex=me.expirationTime,e(m,me);else break;me=a(p)}}function de(Y){if(H=!1,Z(Y),!N)if(a(m)!==null)N=!0,ht();else{var me=a(p);me!==null&&Ve(de,me.startTime-Y)}}var W=!1,M=-1,_e=5,Se=-1;function G(){return!(i.unstable_now()-Se<_e)}function se(){if(W){var Y=i.unstable_now();Se=Y;var me=!0;try{e:{N=!1,H&&(H=!1,P(M),M=-1),S=!0;var ue=E;try{t:{for(Z(Y),v=a(m);v!==null&&!(v.expirationTime>Y&&G());){var Ne=v.callback;if(typeof Ne=="function"){v.callback=null,E=v.priorityLevel;var T=Ne(v.expirationTime<=Y);if(Y=i.unstable_now(),typeof T=="function"){v.callback=T,Z(Y),me=!0;break t}v===a(m)&&s(m),Z(Y)}else s(m);v=a(m)}if(v!==null)me=!0;else{var q=a(p);q!==null&&Ve(de,q.startTime-Y),me=!1}}break e}finally{v=null,E=ue,S=!1}me=void 0}}finally{me?Le():W=!1}}}var Le;if(typeof Q=="function")Le=function(){Q(se)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,wt=dt.port2;dt.port1.onmessage=se,Le=function(){wt.postMessage(null)}}else Le=function(){z(se,0)};function ht(){W||(W=!0,Le())}function Ve(Y,me){M=z(function(){Y(i.unstable_now())},me)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_continueExecution=function(){N||S||(N=!0,ht())},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_e=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_getFirstCallbackNode=function(){return a(m)},i.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var ue=E;E=me;try{return Y()}finally{E=ue}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Y,me){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ue=E;E=Y;try{return me()}finally{E=ue}},i.unstable_scheduleCallback=function(Y,me,ue){var Ne=i.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ne+ue:Ne):ue=Ne,Y){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=ue+T,Y={id:y++,callback:me,priorityLevel:Y,startTime:ue,expirationTime:T,sortIndex:-1},ue>Ne?(Y.sortIndex=ue,e(p,Y),a(m)===null&&Y===a(p)&&(H?(P(M),M=-1):H=!0,Ve(de,ue-Ne))):(Y.sortIndex=T,e(m,Y),N||S||(N=!0,ht())),Y},i.unstable_shouldYield=G,i.unstable_wrapCallback=function(Y){var me=E;return function(){var ue=E;E=me;try{return Y.apply(this,arguments)}finally{E=ue}}}}(ld)),ld}var w_;function mT(){return w_||(w_=1,sd.exports=hT()),sd.exports}var od={exports:{}},Ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function pT(){if(R_)return Ft;R_=1;var i=Zd();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ft.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(m,p,null,y)},Ft.flushSync=function(m){var p=f.T,y=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=p,s.p=y,s.d.f()}},Ft.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},Ft.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Ft.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:S}):y==="script"&&s.d.X(m,{crossOrigin:v,integrity:E,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ft.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},Ft.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ft.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=h(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},Ft.requestFormReset=function(m){s.d.r(m)},Ft.unstable_batchedUpdates=function(m,p){return m(p)},Ft.useFormState=function(m,p,y){return f.H.useFormState(m,p,y)},Ft.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ft.version="19.0.0",Ft}var A_;function ov(){if(A_)return od.exports;A_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),od.exports=pT(),od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function gT(){if(N_)return Xs;N_=1;var i=mT(),e=Zd(),a=ov();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),S=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),de=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=W&&t[W]||t["@@iterator"],typeof t=="function"?t:null)}var _e=Symbol.for("react.client.reference");function Se(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===_e?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case m:return"Fragment";case h:return"Portal";case y:return"Profiler";case p:return"StrictMode";case H:return"Suspense";case z:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case S:return(t.displayName||"Context")+".Provider";case E:return(t._context.displayName||"Context")+".Consumer";case N:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return n=t.displayName||null,n!==null?n:Se(t.type)||"Memo";case Q:n=t._payload,t=t._init;try{return Se(t(n))}catch{}}return null}var G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=Object.assign,Le,dt;function wt(t){if(Le===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Le=n&&n[1]||"",dt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Le+t+dt}var ht=!1;function Ve(t,n){if(!t||ht)return"";ht=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(U){var I=U}Reflect.construct(t,[],j)}else{try{j.call()}catch(U){I=U}t.call(j.prototype)}}else{try{throw Error()}catch(U){I=U}(j=t())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(U){if(U&&I&&typeof U.stack=="string")return[U.stack,I.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),g=d[0],_=d[1];if(g&&_){var b=g.split(`
`),R=_.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===R.length)for(l=b.length-1,c=R.length-1;1<=l&&0<=c&&b[l]!==R[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==R[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==R[c]){var k=`
`+b[l].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=l&&0<=c);break}}}finally{ht=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?wt(r):""}function Y(t){switch(t.tag){case 26:case 27:case 5:return wt(t.type);case 16:return wt("Lazy");case 13:return wt("Suspense");case 19:return wt("SuspenseList");case 0:case 15:return t=Ve(t.type,!1),t;case 11:return t=Ve(t.type.render,!1),t;case 1:return t=Ve(t.type,!0),t;default:return""}}function me(t){try{var n="";do n+=Y(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ue(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function Ne(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function T(t){if(ue(t)!==t)throw Error(s(188))}function q(t){var n=t.alternate;if(!n){if(n=ue(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===r)return T(c),t;if(d===l)return T(c),n;d=d.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=d;else{for(var g=!1,_=c.child;_;){if(_===r){g=!0,r=c,l=d;break}if(_===l){g=!0,l=c,r=d;break}_=_.sibling}if(!g){for(_=d.child;_;){if(_===r){g=!0,r=d,l=c;break}if(_===l){g=!0,l=d,r=c;break}_=_.sibling}if(!g)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function ie(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ie(t),n!==null)return n;t=t.sibling}return null}var ee=Array.isArray,K=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},pe=[],vt=-1;function Ue(t){return{current:t}}function Ee(t){0>vt||(t.current=pe[vt],pe[vt]=null,vt--)}function ve(t,n){vt++,pe[vt]=t.current,t.current=n}var $e=Ue(null),Rt=Ue(null),Et=Ue(null),At=Ue(null);function $t(t,n){switch(ve(Et,n),ve(Rt,t),ve($e,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?Kg(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=Kg(t),n=$g(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Ee($e),ve($e,n)}function Yt(){Ee($e),Ee(Rt),Ee(Et)}function hn(t){t.memoizedState!==null&&ve(At,t);var n=$e.current,r=$g(n,t.type);n!==r&&(ve(Rt,t),ve($e,r))}function li(t){Rt.current===t&&(Ee($e),Ee(Rt)),At.current===t&&(Ee(At),qs._currentValue=Te)}var Ui=Object.prototype.hasOwnProperty,ki=i.unstable_scheduleCallback,xn=i.unstable_cancelCallback,mn=i.unstable_shouldYield,Yn=i.unstable_requestPaint,jt=i.unstable_now,ya=i.unstable_getCurrentPriorityLevel,In=i.unstable_ImmediatePriority,pn=i.unstable_UserBlockingPriority,va=i.unstable_NormalPriority,es=i.unstable_LowPriority,zl=i.unstable_IdlePriority,Qn=i.log,Hl=i.unstable_setDisableYieldValue,zi=null,qt=null;function Wu(t){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(zi,t,void 0,(t.current.flags&128)===128)}catch{}}function Ln(t){if(typeof Qn=="function"&&Hl(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(zi,t)}catch{}}var Nt=Math.clz32?Math.clz32:Zu,Pl=Math.log,ts=Math.LN2;function Zu(t){return t>>>=0,t===0?32:31-(Pl(t)/ts|0)|0}var Ea=128,sr=4194304;function Xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oi(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,d=t.pingedLanes,g=t.warmLanes;t=t.finishedLanes!==0;var _=r&134217727;return _!==0?(r=_&~c,r!==0?l=Xn(r):(d&=_,d!==0?l=Xn(d):t||(g=_&~g,g!==0&&(l=Xn(g))))):(_=r&~c,_!==0?l=Xn(_):d!==0?l=Xn(d):t||(g=r&~g,g!==0&&(l=Xn(g)))),l===0?0:n!==0&&n!==l&&!(n&c)&&(c=l&-l,g=n&-n,c>=g||c===32&&(g&4194176)!==0)?n:l}function Kn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ju(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bl(){var t=Ea;return Ea<<=1,!(Ea&4194176)&&(Ea=128),t}function C(){var t=sr;return sr<<=1,!(sr&62914560)&&(sr=4194304),t}function O(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function L(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function V(t,n,r,l,c,d){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var _=t.entanglements,b=t.expirationTimes,R=t.hiddenUpdates;for(r=g&~r;0<r;){var k=31-Nt(r),j=1<<k;_[k]=0,b[k]=-1;var I=R[k];if(I!==null)for(R[k]=null,k=0;k<I.length;k++){var U=I[k];U!==null&&(U.lane&=-536870913)}r&=~j}l!==0&&J(t,l,0),d!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=d&~(g&~n))}function J(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Nt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function oe(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Nt(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function ye(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function te(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:m_(t.type))}function ae(t,n){var r=K.p;try{return K.p=t,n()}finally{K.p=r}}var $=Math.random().toString(36).slice(2),re="__reactFiber$"+$,fe="__reactProps$"+$,je="__reactContainer$"+$,mt="__reactEvents$"+$,tt="__reactListeners$"+$,Qe="__reactHandles$"+$,lt="__reactResources$"+$,gn="__reactMarker$"+$;function ui(t){delete t[re],delete t[fe],delete t[mt],delete t[tt],delete t[Qe]}function Ut(t){var n=t[re];if(n)return n;for(var r=t.parentNode;r;){if(n=r[je]||r[re]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Jg(t);t!==null;){if(r=t[re])return r;t=Jg(t)}return n}t=r,r=t.parentNode}return null}function kt(t){if(t=t[re]||t[je]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function ci(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function _n(t){var n=t[lt];return n||(n=t[lt]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function We(t){t[gn]=!0}var ba=new Set,Sa={};function ke(t,n){it(t,n),it(t+"Capture",n)}function it(t,n){for(Sa[t]=n,t=0;t<n.length;t++)ba.add(n[t])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ta=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),at={},fi={};function jl(t){return Ui.call(fi,t)?!0:Ui.call(at,t)?!1:Ta.test(t)?fi[t]=!0:(at[t]=!0,!1)}function lr(t,n,r){if(jl(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function ql(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function di(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function yn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zh(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function aS(t){var n=Zh(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,d=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){l=""+g,d.call(this,g)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Vl(t){t._valueTracker||(t._valueTracker=aS(t))}function Jh(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Zh(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Fl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var rS=/[\n"\\]/g;function vn(t){return t.replace(rS,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ec(t,n,r,l,c,d,g,_){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+yn(n)):t.value!==""+yn(n)&&(t.value=""+yn(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?tc(t,g,yn(n)):r!=null?tc(t,g,yn(r)):l!=null&&t.removeAttribute("value"),c==null&&d!=null&&(t.defaultChecked=!!d),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+yn(_):t.removeAttribute("name")}function em(t,n,r,l,c,d,g,_){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;r=r!=null?""+yn(r):"",n=n!=null?""+yn(n):r,_||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=_?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function tc(t,n,r){n==="number"&&Fl(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function or(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+yn(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function tm(t,n,r){if(n!=null&&(n=""+yn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+yn(r):""}function nm(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ee(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=yn(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function ur(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var sS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function im(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||sS.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function am(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&im(t,c,l)}else for(var d in n)n.hasOwnProperty(d)&&im(t,d,n[d])}function nc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gl(t){return oS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ic=null;function ac(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cr=null,fr=null;function rm(t){var n=kt(t);if(n&&(t=n.stateNode)){var r=t[fe]||null;e:switch(t=n.stateNode,n.type){case"input":if(ec(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+vn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[fe]||null;if(!c)throw Error(s(90));ec(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Jh(l)}break e;case"textarea":tm(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&or(t,!!r.multiple,n,!1)}}}var rc=!1;function sm(t,n,r){if(rc)return t(n,r);rc=!0;try{var l=t(n);return l}finally{if(rc=!1,(cr!==null||fr!==null)&&(Do(),cr&&(n=cr,t=fr,fr=cr=null,rm(n),t)))for(n=0;n<t.length;n++)rm(t[n])}}function ns(t,n){var r=t.stateNode;if(r===null)return null;var l=r[fe]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var sc=!1;if(Wt)try{var is={};Object.defineProperty(is,"passive",{get:function(){sc=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{sc=!1}var Hi=null,lc=null,Yl=null;function lm(){if(Yl)return Yl;var t,n=lc,r=n.length,l,c="value"in Hi?Hi.value:Hi.textContent,d=c.length;for(t=0;t<r&&n[t]===c[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===c[d-l];l++);return Yl=c.slice(t,1<l?1-l:void 0)}function Ql(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xl(){return!0}function om(){return!1}function Zt(t){function n(r,l,c,d,g){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(r=t[_],this[_]=r?r(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xl:om,this.isPropagationStopped=om,this}return se(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),n}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kl=Zt(Ca),as=se({},Ca,{view:0,detail:0}),uS=Zt(as),oc,uc,rs,$l=se({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rs&&(rs&&t.type==="mousemove"?(oc=t.screenX-rs.screenX,uc=t.screenY-rs.screenY):uc=oc=0,rs=t),oc)},movementY:function(t){return"movementY"in t?t.movementY:uc}}),um=Zt($l),cS=se({},$l,{dataTransfer:0}),fS=Zt(cS),dS=se({},as,{relatedTarget:0}),cc=Zt(dS),hS=se({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),mS=Zt(hS),pS=se({},Ca,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gS=Zt(pS),_S=se({},Ca,{data:0}),cm=Zt(_S),yS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ES={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bS(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ES[t])?!!n[t]:!1}function fc(){return bS}var SS=se({},as,{key:function(t){if(t.key){var n=yS[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ql(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fc,charCode:function(t){return t.type==="keypress"?Ql(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ql(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),TS=Zt(SS),CS=se({},$l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fm=Zt(CS),wS=se({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fc}),RS=Zt(wS),AS=se({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),NS=Zt(AS),DS=se({},$l,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),OS=Zt(DS),MS=se({},Ca,{newState:0,oldState:0}),xS=Zt(MS),IS=[9,13,27,32],dc=Wt&&"CompositionEvent"in window,ss=null;Wt&&"documentMode"in document&&(ss=document.documentMode);var LS=Wt&&"TextEvent"in window&&!ss,dm=Wt&&(!dc||ss&&8<ss&&11>=ss),hm=" ",mm=!1;function pm(t,n){switch(t){case"keyup":return IS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var dr=!1;function US(t,n){switch(t){case"compositionend":return gm(n);case"keypress":return n.which!==32?null:(mm=!0,hm);case"textInput":return t=n.data,t===hm&&mm?null:t;default:return null}}function kS(t,n){if(dr)return t==="compositionend"||!dc&&pm(t,n)?(t=lm(),Yl=lc=Hi=null,dr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return dm&&n.locale!=="ko"?null:n.data;default:return null}}var zS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _m(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!zS[t.type]:n==="textarea"}function ym(t,n,r,l){cr?fr?fr.push(l):fr=[l]:cr=l,n=Lo(n,"onChange"),0<n.length&&(r=new Kl("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var ls=null,os=null;function HS(t){Fg(t,0)}function Wl(t){var n=ci(t);if(Jh(n))return t}function vm(t,n){if(t==="change")return n}var Em=!1;if(Wt){var hc;if(Wt){var mc="oninput"in document;if(!mc){var bm=document.createElement("div");bm.setAttribute("oninput","return;"),mc=typeof bm.oninput=="function"}hc=mc}else hc=!1;Em=hc&&(!document.documentMode||9<document.documentMode)}function Sm(){ls&&(ls.detachEvent("onpropertychange",Tm),os=ls=null)}function Tm(t){if(t.propertyName==="value"&&Wl(os)){var n=[];ym(n,os,t,ac(t)),sm(HS,n)}}function PS(t,n,r){t==="focusin"?(Sm(),ls=n,os=r,ls.attachEvent("onpropertychange",Tm)):t==="focusout"&&Sm()}function BS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wl(os)}function jS(t,n){if(t==="click")return Wl(n)}function qS(t,n){if(t==="input"||t==="change")return Wl(n)}function VS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var rn=typeof Object.is=="function"?Object.is:VS;function us(t,n){if(rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Ui.call(n,c)||!rn(t[c],n[c]))return!1}return!0}function Cm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wm(t,n){var r=Cm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cm(r)}}function Rm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Rm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Am(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Fl(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Fl(t.document)}return n}function pc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function FS(t,n){var r=Am(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&Rm(n.ownerDocument.documentElement,n)){if(l!==null&&pc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,d=Math.min(l.start,c);l=l.end===void 0?d:Math.min(l.end,c),!r.extend&&d>l&&(c=l,l=d,d=c),c=wm(n,d);var g=wm(n,l);c&&g&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==g.node||r.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),d>l?(r.addRange(t),r.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var GS=Wt&&"documentMode"in document&&11>=document.documentMode,hr=null,gc=null,cs=null,_c=!1;function Nm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_c||hr==null||hr!==Fl(l)||(l=hr,"selectionStart"in l&&pc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cs&&us(cs,l)||(cs=l,l=Lo(gc,"onSelect"),0<l.length&&(n=new Kl("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=hr)))}function wa(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var mr={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionrun:wa("Transition","TransitionRun"),transitionstart:wa("Transition","TransitionStart"),transitioncancel:wa("Transition","TransitionCancel"),transitionend:wa("Transition","TransitionEnd")},yc={},Dm={};Wt&&(Dm=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function Ra(t){if(yc[t])return yc[t];if(!mr[t])return t;var n=mr[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Dm)return yc[t]=n[r];return t}var Om=Ra("animationend"),Mm=Ra("animationiteration"),xm=Ra("animationstart"),YS=Ra("transitionrun"),QS=Ra("transitionstart"),XS=Ra("transitioncancel"),Im=Ra("transitionend"),Lm=new Map,Um="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Un(t,n){Lm.set(t,n),ke(n,[t])}var En=[],pr=0,vc=0;function Zl(){for(var t=pr,n=vc=pr=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var d=En[n];if(En[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}d!==0&&km(r,c,d)}}function Jl(t,n,r,l){En[pr++]=t,En[pr++]=n,En[pr++]=r,En[pr++]=l,vc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ec(t,n,r,l){return Jl(t,n,r,l),eo(t)}function Pi(t,n){return Jl(t,null,null,n),eo(t)}function km(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,d=t.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(c=!0)),t=d,d=d.return;c&&n!==null&&t.tag===3&&(d=t.stateNode,c=31-Nt(r),d=d.hiddenUpdates,t=d[c],t===null?d[c]=[n]:t.push(n),n.lane=r|536870912)}function eo(t){if(50<Us)throw Us=0,Af=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var gr={},zm=new WeakMap;function bn(t,n){if(typeof t=="object"&&t!==null){var r=zm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:me(n)},zm.set(t,n),n)}return{value:t,source:n,stack:me(n)}}var _r=[],yr=0,to=null,no=0,Sn=[],Tn=0,Aa=null,hi=1,mi="";function Na(t,n){_r[yr++]=no,_r[yr++]=to,to=t,no=n}function Hm(t,n,r){Sn[Tn++]=hi,Sn[Tn++]=mi,Sn[Tn++]=Aa,Aa=t;var l=hi;t=mi;var c=32-Nt(l)-1;l&=~(1<<c),r+=1;var d=32-Nt(n)+c;if(30<d){var g=c-c%5;d=(l&(1<<g)-1).toString(32),l>>=g,c-=g,hi=1<<32-Nt(n)+c|r<<c|l,mi=d+t}else hi=1<<d|r<<c|l,mi=t}function bc(t){t.return!==null&&(Na(t,1),Hm(t,1,0))}function Sc(t){for(;t===to;)to=_r[--yr],_r[yr]=null,no=_r[--yr],_r[yr]=null;for(;t===Aa;)Aa=Sn[--Tn],Sn[Tn]=null,mi=Sn[--Tn],Sn[Tn]=null,hi=Sn[--Tn],Sn[Tn]=null}var Qt=null,zt=null,He=!1,kn=null,$n=!1,Tc=Error(s(519));function Da(t){var n=Error(s(418,""));throw hs(bn(n,t)),Tc}function Pm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[re]=t,n[fe]=l,r){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(r=0;r<zs.length;r++)xe(zs[r],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":xe("invalid",n),em(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Vl(n);break;case"select":xe("invalid",n);break;case"textarea":xe("invalid",n),nm(n,l.value,l.defaultValue,l.children),Vl(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Xg(n.textContent,r)?(l.popover!=null&&(xe("beforetoggle",n),xe("toggle",n)),l.onScroll!=null&&xe("scroll",n),l.onScrollEnd!=null&&xe("scrollend",n),l.onClick!=null&&(n.onclick=Uo),n=!0):n=!1,n||Da(t)}function Bm(t){for(Qt=t.return;Qt;)switch(Qt.tag){case 3:case 27:$n=!0;return;case 5:case 13:$n=!1;return;default:Qt=Qt.return}}function fs(t){if(t!==Qt)return!1;if(!He)return Bm(t),He=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Ff(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&zt&&Da(t),Bm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){zt=Hn(t.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}zt=null}}else zt=Qt?Hn(t.stateNode.nextSibling):null;return!0}function ds(){zt=Qt=null,He=!1}function hs(t){kn===null?kn=[t]:kn.push(t)}var ms=Error(s(460)),jm=Error(s(474)),Cc={then:function(){}};function qm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function io(){}function Vm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(io,io),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===ms?Error(s(483)):t;default:if(typeof n.status=="string")n.then(io,io);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===ms?Error(s(483)):t}throw ps=n,ms}}var ps=null;function Fm(){if(ps===null)throw Error(s(459));var t=ps;return ps=null,t}var vr=null,gs=0;function ao(t){var n=gs;return gs+=1,vr===null&&(vr=[]),Vm(vr,t,n)}function _s(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ro(t,n){throw n.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Gm(t){var n=t._init;return n(t._payload)}function Ym(t){function n(D,w){if(t){var x=D.deletions;x===null?(D.deletions=[w],D.flags|=16):x.push(w)}}function r(D,w){if(!t)return null;for(;w!==null;)n(D,w),w=w.sibling;return null}function l(D){for(var w=new Map;D!==null;)D.key!==null?w.set(D.key,D):w.set(D.index,D),D=D.sibling;return w}function c(D,w){return D=Wi(D,w),D.index=0,D.sibling=null,D}function d(D,w,x){return D.index=x,t?(x=D.alternate,x!==null?(x=x.index,x<w?(D.flags|=33554434,w):x):(D.flags|=33554434,w)):(D.flags|=1048576,w)}function g(D){return t&&D.alternate===null&&(D.flags|=33554434),D}function _(D,w,x,B){return w===null||w.tag!==6?(w=vf(x,D.mode,B),w.return=D,w):(w=c(w,x),w.return=D,w)}function b(D,w,x,B){var ne=x.type;return ne===m?k(D,w,x.props.children,B,x.key):w!==null&&(w.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Q&&Gm(ne)===w.type)?(w=c(w,x.props),_s(w,x),w.return=D,w):(w=Co(x.type,x.key,x.props,null,D.mode,B),_s(w,x),w.return=D,w)}function R(D,w,x,B){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Ef(x,D.mode,B),w.return=D,w):(w=c(w,x.children||[]),w.return=D,w)}function k(D,w,x,B,ne){return w===null||w.tag!==7?(w=Pa(x,D.mode,B,ne),w.return=D,w):(w=c(w,x),w.return=D,w)}function j(D,w,x){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=vf(""+w,D.mode,x),w.return=D,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case f:return x=Co(w.type,w.key,w.props,null,D.mode,x),_s(x,w),x.return=D,x;case h:return w=Ef(w,D.mode,x),w.return=D,w;case Q:var B=w._init;return w=B(w._payload),j(D,w,x)}if(ee(w)||M(w))return w=Pa(w,D.mode,x,null),w.return=D,w;if(typeof w.then=="function")return j(D,ao(w),x);if(w.$$typeof===S)return j(D,bo(D,w),x);ro(D,w)}return null}function I(D,w,x,B){var ne=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return ne!==null?null:_(D,w,""+x,B);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case f:return x.key===ne?b(D,w,x,B):null;case h:return x.key===ne?R(D,w,x,B):null;case Q:return ne=x._init,x=ne(x._payload),I(D,w,x,B)}if(ee(x)||M(x))return ne!==null?null:k(D,w,x,B,null);if(typeof x.then=="function")return I(D,w,ao(x),B);if(x.$$typeof===S)return I(D,w,bo(D,x),B);ro(D,x)}return null}function U(D,w,x,B,ne){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return D=D.get(x)||null,_(w,D,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return D=D.get(B.key===null?x:B.key)||null,b(w,D,B,ne);case h:return D=D.get(B.key===null?x:B.key)||null,R(w,D,B,ne);case Q:var Re=B._init;return B=Re(B._payload),U(D,w,x,B,ne)}if(ee(B)||M(B))return D=D.get(x)||null,k(w,D,B,ne,null);if(typeof B.then=="function")return U(D,w,x,ao(B),ne);if(B.$$typeof===S)return U(D,w,x,bo(w,B),ne);ro(w,B)}return null}function le(D,w,x,B){for(var ne=null,Re=null,ce=w,he=w=0,Mt=null;ce!==null&&he<x.length;he++){ce.index>he?(Mt=ce,ce=null):Mt=ce.sibling;var Pe=I(D,ce,x[he],B);if(Pe===null){ce===null&&(ce=Mt);break}t&&ce&&Pe.alternate===null&&n(D,ce),w=d(Pe,w,he),Re===null?ne=Pe:Re.sibling=Pe,Re=Pe,ce=Mt}if(he===x.length)return r(D,ce),He&&Na(D,he),ne;if(ce===null){for(;he<x.length;he++)ce=j(D,x[he],B),ce!==null&&(w=d(ce,w,he),Re===null?ne=ce:Re.sibling=ce,Re=ce);return He&&Na(D,he),ne}for(ce=l(ce);he<x.length;he++)Mt=U(ce,D,he,x[he],B),Mt!==null&&(t&&Mt.alternate!==null&&ce.delete(Mt.key===null?he:Mt.key),w=d(Mt,w,he),Re===null?ne=Mt:Re.sibling=Mt,Re=Mt);return t&&ce.forEach(function(aa){return n(D,aa)}),He&&Na(D,he),ne}function be(D,w,x,B){if(x==null)throw Error(s(151));for(var ne=null,Re=null,ce=w,he=w=0,Mt=null,Pe=x.next();ce!==null&&!Pe.done;he++,Pe=x.next()){ce.index>he?(Mt=ce,ce=null):Mt=ce.sibling;var aa=I(D,ce,Pe.value,B);if(aa===null){ce===null&&(ce=Mt);break}t&&ce&&aa.alternate===null&&n(D,ce),w=d(aa,w,he),Re===null?ne=aa:Re.sibling=aa,Re=aa,ce=Mt}if(Pe.done)return r(D,ce),He&&Na(D,he),ne;if(ce===null){for(;!Pe.done;he++,Pe=x.next())Pe=j(D,Pe.value,B),Pe!==null&&(w=d(Pe,w,he),Re===null?ne=Pe:Re.sibling=Pe,Re=Pe);return He&&Na(D,he),ne}for(ce=l(ce);!Pe.done;he++,Pe=x.next())Pe=U(ce,D,he,Pe.value,B),Pe!==null&&(t&&Pe.alternate!==null&&ce.delete(Pe.key===null?he:Pe.key),w=d(Pe,w,he),Re===null?ne=Pe:Re.sibling=Pe,Re=Pe);return t&&ce.forEach(function(oT){return n(D,oT)}),He&&Na(D,he),ne}function ct(D,w,x,B){if(typeof x=="object"&&x!==null&&x.type===m&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case f:e:{for(var ne=x.key;w!==null;){if(w.key===ne){if(ne=x.type,ne===m){if(w.tag===7){r(D,w.sibling),B=c(w,x.props.children),B.return=D,D=B;break e}}else if(w.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Q&&Gm(ne)===w.type){r(D,w.sibling),B=c(w,x.props),_s(B,x),B.return=D,D=B;break e}r(D,w);break}else n(D,w);w=w.sibling}x.type===m?(B=Pa(x.props.children,D.mode,B,x.key),B.return=D,D=B):(B=Co(x.type,x.key,x.props,null,D.mode,B),_s(B,x),B.return=D,D=B)}return g(D);case h:e:{for(ne=x.key;w!==null;){if(w.key===ne)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){r(D,w.sibling),B=c(w,x.children||[]),B.return=D,D=B;break e}else{r(D,w);break}else n(D,w);w=w.sibling}B=Ef(x,D.mode,B),B.return=D,D=B}return g(D);case Q:return ne=x._init,x=ne(x._payload),ct(D,w,x,B)}if(ee(x))return le(D,w,x,B);if(M(x)){if(ne=M(x),typeof ne!="function")throw Error(s(150));return x=ne.call(x),be(D,w,x,B)}if(typeof x.then=="function")return ct(D,w,ao(x),B);if(x.$$typeof===S)return ct(D,w,bo(D,x),B);ro(D,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,w!==null&&w.tag===6?(r(D,w.sibling),B=c(w,x),B.return=D,D=B):(r(D,w),B=vf(x,D.mode,B),B.return=D,D=B),g(D)):r(D,w)}return function(D,w,x,B){try{gs=0;var ne=ct(D,w,x,B);return vr=null,ne}catch(ce){if(ce===ms)throw ce;var Re=An(29,ce,null,D.mode);return Re.lanes=B,Re.return=D,Re}finally{}}}var Oa=Ym(!0),Qm=Ym(!1),Er=Ue(null),so=Ue(0);function Xm(t,n){t=wi,ve(so,t),ve(Er,n),wi=t|n.baseLanes}function wc(){ve(so,wi),ve(Er,Er.current)}function Rc(){wi=so.current,Ee(Er),Ee(so)}var Cn=Ue(null),Wn=null;function Bi(t){var n=t.alternate;ve(bt,bt.current&1),ve(Cn,t),Wn===null&&(n===null||Er.current!==null||n.memoizedState!==null)&&(Wn=t)}function Km(t){if(t.tag===22){if(ve(bt,bt.current),ve(Cn,t),Wn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Wn=t)}}else ji()}function ji(){ve(bt,bt.current),ve(Cn,Cn.current)}function pi(t){Ee(Cn),Wn===t&&(Wn=null),Ee(bt)}var bt=Ue(0);function lo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var KS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},$S=i.unstable_scheduleCallback,WS=i.unstable_NormalPriority,St={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ac(){return{controller:new KS,data:new Map,refCount:0}}function ys(t){t.refCount--,t.refCount===0&&$S(WS,function(){t.controller.abort()})}var vs=null,Nc=0,br=0,Sr=null;function ZS(t,n){if(vs===null){var r=vs=[];Nc=0,br=Uf(),Sr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Nc++,n.then($m,$m),n}function $m(){if(--Nc===0&&vs!==null){Sr!==null&&(Sr.status="fulfilled");var t=vs;vs=null,br=0,Sr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function JS(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Wm=G.S;G.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&ZS(t,n),Wm!==null&&Wm(t,n)};var Ma=Ue(null);function Dc(){var t=Ma.current;return t!==null?t:Ze.pooledCache}function oo(t,n){n===null?ve(Ma,Ma.current):ve(Ma,n.pool)}function Zm(){var t=Dc();return t===null?null:{parent:St._currentValue,pool:t}}var qi=0,we=null,Fe=null,gt=null,uo=!1,Tr=!1,xa=!1,co=0,Es=0,Cr=null,e0=0;function pt(){throw Error(s(321))}function Oc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!rn(t[r],n[r]))return!1;return!0}function Mc(t,n,r,l,c,d){return qi=d,we=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Ia:Vi,xa=!1,d=r(l,c),xa=!1,Tr&&(d=ep(n,r,l,c)),Jm(t),d}function Jm(t){G.H=Zn;var n=Fe!==null&&Fe.next!==null;if(qi=0,gt=Fe=we=null,uo=!1,Es=0,Cr=null,n)throw Error(s(300));t===null||Dt||(t=t.dependencies,t!==null&&Eo(t)&&(Dt=!0))}function ep(t,n,r,l){we=t;var c=0;do{if(Tr&&(Cr=null),Es=0,Tr=!1,25<=c)throw Error(s(301));if(c+=1,gt=Fe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=La,d=n(r,l)}while(Tr);return d}function t0(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?bs(n):n,t=t.useState()[0],(Fe!==null?Fe.memoizedState:null)!==t&&(we.flags|=1024),n}function xc(){var t=co!==0;return co=0,t}function Ic(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Lc(t){if(uo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}uo=!1}qi=0,gt=Fe=we=null,Tr=!1,Es=co=0,Cr=null}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?we.memoizedState=gt=t:gt=gt.next=t,gt}function _t(){if(Fe===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var n=gt===null?we.memoizedState:gt.next;if(n!==null)gt=n,Fe=t;else{if(t===null)throw we.alternate===null?Error(s(467)):Error(s(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},gt===null?we.memoizedState=gt=t:gt=gt.next=t}return gt}var fo;fo=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function bs(t){var n=Es;return Es+=1,Cr===null&&(Cr=[]),t=Vm(Cr,t,n),n=we,(gt===null?n.memoizedState:gt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Ia:Vi),t}function ho(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bs(t);if(t.$$typeof===S)return Vt(t)}throw Error(s(438,String(t)))}function Uc(t){var n=null,r=we.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=we.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=fo(),we.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=de;return n.index++,r}function gi(t,n){return typeof n=="function"?n(t):n}function mo(t){var n=_t();return kc(n,Fe,t)}function kc(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,d=l.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}n.baseQueue=c=d,l.pending=null}if(d=t.baseState,c===null)t.memoizedState=d;else{n=c.next;var _=g=null,b=null,R=n,k=!1;do{var j=R.lane&-536870913;if(j!==R.lane?(ze&j)===j:(qi&j)===j){var I=R.revertLane;if(I===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),j===br&&(k=!0);else if((qi&I)===I){R=R.next,I===br&&(k=!0);continue}else j={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(_=b=j,g=d):b=b.next=j,we.lanes|=I,Zi|=I;j=R.action,xa&&r(d,j),d=R.hasEagerState?R.eagerState:r(d,j)}else I={lane:j,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(_=b=I,g=d):b=b.next=I,we.lanes|=j,Zi|=j;R=R.next}while(R!==null&&R!==n);if(b===null?g=d:b.next=_,!rn(d,t.memoizedState)&&(Dt=!0,k&&(r=Sr,r!==null)))throw r;t.memoizedState=d,t.baseState=g,t.baseQueue=b,l.lastRenderedState=d}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function zc(t){var n=_t(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,d=n.memoizedState;if(c!==null){r.pending=null;var g=c=c.next;do d=t(d,g.action),g=g.next;while(g!==c);rn(d,n.memoizedState)||(Dt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,l]}function tp(t,n,r){var l=we,c=_t(),d=He;if(d){if(r===void 0)throw Error(s(407));r=r()}else r=n();var g=!rn((Fe||c).memoizedState,r);if(g&&(c.memoizedState=r,Dt=!0),c=c.queue,Bc(ap.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,wr(9,ip.bind(null,l,c,r,n),{destroy:void 0},null),Ze===null)throw Error(s(349));d||qi&60||np(l,n,r)}return r}function np(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=we.updateQueue,n===null?(n=fo(),we.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function ip(t,n,r,l){n.value=r,n.getSnapshot=l,rp(n)&&sp(t)}function ap(t,n,r){return r(function(){rp(n)&&sp(t)})}function rp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!rn(t,r)}catch{return!0}}function sp(t){var n=Pi(t,2);n!==null&&Xt(n,t,2)}function Hc(t){var n=Jt();if(typeof t=="function"){var r=t;if(t=r(),xa){Ln(!0);try{r()}finally{Ln(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:t},n}function lp(t,n,r,l){return t.baseState=r,kc(t,Fe,typeof l=="function"?l:gi)}function n0(t,n,r,l,c){if(_o(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};G.T!==null?r(!0):d.isTransition=!1,l(d),r=n.pending,r===null?(d.next=n.pending=d,op(n,d)):(d.next=r.next,n.pending=r.next=d)}}function op(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var d=G.T,g={};G.T=g;try{var _=r(c,l),b=G.S;b!==null&&b(g,_),up(t,n,_)}catch(R){Pc(t,n,R)}finally{G.T=d}}else try{d=r(c,l),up(t,n,d)}catch(R){Pc(t,n,R)}}function up(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){cp(t,n,l)},function(l){return Pc(t,n,l)}):cp(t,n,r)}function cp(t,n,r){n.status="fulfilled",n.value=r,fp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,op(t,r)))}function Pc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,fp(n),n=n.next;while(n!==l)}t.action=null}function fp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function dp(t,n){return n}function hp(t,n){if(He){var r=Ze.formState;if(r!==null){e:{var l=we;if(He){if(zt){t:{for(var c=zt,d=$n;c.nodeType!==8;){if(!d){c=null;break t}if(c=Hn(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){zt=Hn(c.nextSibling),l=c.data==="F!";break e}}Da(l)}l=!1}l&&(n=r[0])}}return r=Jt(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dp,lastRenderedState:n},r.queue=l,r=Mp.bind(null,we,l),l.dispatch=r,l=Hc(!1),d=Gc.bind(null,we,!1,l.queue),l=Jt(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=n0.bind(null,we,c,d,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function mp(t){var n=_t();return pp(n,Fe,t)}function pp(t,n,r){n=kc(t,n,dp)[0],t=mo(gi)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?bs(n):n;var l=_t(),c=l.queue,d=c.dispatch;return r!==l.memoizedState&&(we.flags|=2048,wr(9,i0.bind(null,c,r),{destroy:void 0},null)),[n,d,t]}function i0(t,n){t.action=n}function gp(t){var n=_t(),r=Fe;if(r!==null)return pp(n,r,t);_t(),n=n.memoizedState,r=_t();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function wr(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=we.updateQueue,n===null&&(n=fo(),we.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function _p(){return _t().memoizedState}function po(t,n,r,l){var c=Jt();we.flags|=t,c.memoizedState=wr(1|n,r,{destroy:void 0},l===void 0?null:l)}function go(t,n,r,l){var c=_t();l=l===void 0?null:l;var d=c.memoizedState.inst;Fe!==null&&l!==null&&Oc(l,Fe.memoizedState.deps)?c.memoizedState=wr(n,r,d,l):(we.flags|=t,c.memoizedState=wr(1|n,r,d,l))}function yp(t,n){po(8390656,8,t,n)}function Bc(t,n){go(2048,8,t,n)}function vp(t,n){return go(4,2,t,n)}function Ep(t,n){return go(4,4,t,n)}function bp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Sp(t,n,r){r=r!=null?r.concat([t]):null,go(4,4,bp.bind(null,n,t),r)}function jc(){}function Tp(t,n){var r=_t();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Oc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Cp(t,n){var r=_t();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Oc(n,l[1]))return l[0];if(l=t(),xa){Ln(!0);try{t()}finally{Ln(!1)}}return r.memoizedState=[l,n],l}function qc(t,n,r){return r===void 0||qi&1073741824?t.memoizedState=n:(t.memoizedState=r,t=Rg(),we.lanes|=t,Zi|=t,r)}function wp(t,n,r,l){return rn(r,n)?r:Er.current!==null?(t=qc(t,r,l),rn(t,n)||(Dt=!0),t):qi&42?(t=Rg(),we.lanes|=t,Zi|=t,n):(Dt=!0,t.memoizedState=r)}function Rp(t,n,r,l,c){var d=K.p;K.p=d!==0&&8>d?d:8;var g=G.T,_={};G.T=_,Gc(t,!1,n,r);try{var b=c(),R=G.S;if(R!==null&&R(_,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var k=JS(b,l);Ss(t,n,k,un(t))}else Ss(t,n,l,un(t))}catch(j){Ss(t,n,{then:function(){},status:"rejected",reason:j},un())}finally{K.p=d,G.T=g}}function a0(){}function Vc(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=Ap(t).queue;Rp(t,c,n,Te,r===null?a0:function(){return Np(t),r(l)})}function Ap(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:Te},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Np(t){var n=Ap(t).next.queue;Ss(t,n,{},un())}function Fc(){return Vt(qs)}function Dp(){return _t().memoizedState}function Op(){return _t().memoizedState}function r0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=un();t=Yi(r);var l=Qi(n,t,r);l!==null&&(Xt(l,n,r),ws(l,n,r)),n={cache:Ac()},t.payload=n;return}n=n.return}}function s0(t,n,r){var l=un();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},_o(t)?xp(n,r):(r=Ec(t,n,r,l),r!==null&&(Xt(r,t,l),Ip(r,n,l)))}function Mp(t,n,r){var l=un();Ss(t,n,r,l)}function Ss(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(_o(t))xp(n,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var g=n.lastRenderedState,_=d(g,r);if(c.hasEagerState=!0,c.eagerState=_,rn(_,g))return Jl(t,n,c,0),Ze===null&&Zl(),!1}catch{}finally{}if(r=Ec(t,n,c,l),r!==null)return Xt(r,t,l),Ip(r,n,l),!0}return!1}function Gc(t,n,r,l){if(l={lane:2,revertLane:Uf(),action:l,hasEagerState:!1,eagerState:null,next:null},_o(t)){if(n)throw Error(s(479))}else n=Ec(t,r,l,2),n!==null&&Xt(n,t,2)}function _o(t){var n=t.alternate;return t===we||n!==null&&n===we}function xp(t,n){Tr=uo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Ip(t,n,r){if(r&4194176){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,oe(t,r)}}var Zn={readContext:Vt,use:ho,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt};Zn.useCacheRefresh=pt,Zn.useMemoCache=pt,Zn.useHostTransitionStatus=pt,Zn.useFormState=pt,Zn.useActionState=pt,Zn.useOptimistic=pt;var Ia={readContext:Vt,use:ho,useCallback:function(t,n){return Jt().memoizedState=[t,n===void 0?null:n],t},useContext:Vt,useEffect:yp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,po(4194308,4,bp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return po(4194308,4,t,n)},useInsertionEffect:function(t,n){po(4,2,t,n)},useMemo:function(t,n){var r=Jt();n=n===void 0?null:n;var l=t();if(xa){Ln(!0);try{t()}finally{Ln(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Jt();if(r!==void 0){var c=r(n);if(xa){Ln(!0);try{r(n)}finally{Ln(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=s0.bind(null,we,t),[l.memoizedState,t]},useRef:function(t){var n=Jt();return t={current:t},n.memoizedState=t},useState:function(t){t=Hc(t);var n=t.queue,r=Mp.bind(null,we,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:jc,useDeferredValue:function(t,n){var r=Jt();return qc(r,t,n)},useTransition:function(){var t=Hc(!1);return t=Rp.bind(null,we,t.queue,!0,!1),Jt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=we,c=Jt();if(He){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Ze===null)throw Error(s(349));ze&60||np(l,n,r)}c.memoizedState=r;var d={value:r,getSnapshot:n};return c.queue=d,yp(ap.bind(null,l,d,t),[t]),l.flags|=2048,wr(9,ip.bind(null,l,d,r,n),{destroy:void 0},null),r},useId:function(){var t=Jt(),n=Ze.identifierPrefix;if(He){var r=mi,l=hi;r=(l&~(1<<32-Nt(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=co++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=e0++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return Jt().memoizedState=r0.bind(null,we)}};Ia.useMemoCache=Uc,Ia.useHostTransitionStatus=Fc,Ia.useFormState=hp,Ia.useActionState=hp,Ia.useOptimistic=function(t){var n=Jt();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Gc.bind(null,we,!0,r),r.dispatch=n,[t,n]};var Vi={readContext:Vt,use:ho,useCallback:Tp,useContext:Vt,useEffect:Bc,useImperativeHandle:Sp,useInsertionEffect:vp,useLayoutEffect:Ep,useMemo:Cp,useReducer:mo,useRef:_p,useState:function(){return mo(gi)},useDebugValue:jc,useDeferredValue:function(t,n){var r=_t();return wp(r,Fe.memoizedState,t,n)},useTransition:function(){var t=mo(gi)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:bs(t),n]},useSyncExternalStore:tp,useId:Dp};Vi.useCacheRefresh=Op,Vi.useMemoCache=Uc,Vi.useHostTransitionStatus=Fc,Vi.useFormState=mp,Vi.useActionState=mp,Vi.useOptimistic=function(t,n){var r=_t();return lp(r,Fe,t,n)};var La={readContext:Vt,use:ho,useCallback:Tp,useContext:Vt,useEffect:Bc,useImperativeHandle:Sp,useInsertionEffect:vp,useLayoutEffect:Ep,useMemo:Cp,useReducer:zc,useRef:_p,useState:function(){return zc(gi)},useDebugValue:jc,useDeferredValue:function(t,n){var r=_t();return Fe===null?qc(r,t,n):wp(r,Fe.memoizedState,t,n)},useTransition:function(){var t=zc(gi)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:bs(t),n]},useSyncExternalStore:tp,useId:Dp};La.useCacheRefresh=Op,La.useMemoCache=Uc,La.useHostTransitionStatus=Fc,La.useFormState=gp,La.useActionState=gp,La.useOptimistic=function(t,n){var r=_t();return Fe!==null?lp(r,Fe,t,n):(r.baseState=t,[t,r.queue.dispatch])};function Yc(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:se({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Qc={isMounted:function(t){return(t=t._reactInternals)?ue(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=un(),c=Yi(l);c.payload=n,r!=null&&(c.callback=r),n=Qi(t,c,l),n!==null&&(Xt(n,t,l),ws(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=un(),c=Yi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Qi(t,c,l),n!==null&&(Xt(n,t,l),ws(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=un(),l=Yi(r);l.tag=2,n!=null&&(l.callback=n),n=Qi(t,l,r),n!==null&&(Xt(n,t,r),ws(n,t,r))}};function Lp(t,n,r,l,c,d,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,g):n.prototype&&n.prototype.isPureReactComponent?!us(r,l)||!us(c,d):!0}function Up(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Qc.enqueueReplaceState(n,n.state,null)}function Ua(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=se({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var yo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function kp(t){yo(t)}function zp(t){console.error(t)}function Hp(t){yo(t)}function vo(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Pp(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Xc(t,n,r){return r=Yi(r),r.tag=3,r.payload={element:null},r.callback=function(){vo(t,n)},r}function Bp(t){return t=Yi(t),t.tag=3,t}function jp(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=l.value;t.payload=function(){return c(d)},t.callback=function(){Pp(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Pp(n,r,l),typeof c!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function l0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Cs(n,r,c,!0),r=Cn.current,r!==null){switch(r.tag){case 13:return Wn===null?Of():r.alternate===null&&ut===0&&(ut=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Cc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),xf(t,l,c)),!1;case 22:return r.flags|=65536,l===Cc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),xf(t,l,c)),!1}throw Error(s(435,r.tag))}return xf(t,l,c),Of(),!1}if(He)return n=Cn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Tc&&(t=Error(s(422),{cause:l}),hs(bn(t,r)))):(l!==Tc&&(n=Error(s(423),{cause:l}),hs(bn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=bn(l,r),c=Xc(t.stateNode,l,c),cf(t,c),ut!==4&&(ut=2)),!1;var d=Error(s(520),{cause:l});if(d=bn(d,r),Is===null?Is=[d]:Is.push(d),ut!==4&&(ut=2),n===null)return!0;l=bn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Xc(r.stateNode,l,t),cf(r,t),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ji===null||!Ji.has(d))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Bp(c),jp(c,t,r,l),cf(r,c),!1}r=r.return}while(r!==null);return!1}var qp=Error(s(461)),Dt=!1;function Ht(t,n,r,l){n.child=t===null?Qm(n,null,r,l):Oa(n,t.child,r,l)}function Vp(t,n,r,l,c){r=r.render;var d=n.ref;if("ref"in l){var g={};for(var _ in l)_!=="ref"&&(g[_]=l[_])}else g=l;return za(n),l=Mc(t,n,r,g,d,c),_=xc(),t!==null&&!Dt?(Ic(t,n,c),_i(t,n,c)):(He&&_&&bc(n),n.flags|=1,Ht(t,n,l,c),n.child)}function Fp(t,n,r,l,c){if(t===null){var d=r.type;return typeof d=="function"&&!yf(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,Gp(t,n,d,l,c)):(t=Co(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!af(t,c)){var g=d.memoizedProps;if(r=r.compare,r=r!==null?r:us,r(g,l)&&t.ref===n.ref)return _i(t,n,c)}return n.flags|=1,t=Wi(d,l),t.ref=n.ref,t.return=n,n.child=t}function Gp(t,n,r,l,c){if(t!==null){var d=t.memoizedProps;if(us(d,l)&&t.ref===n.ref)if(Dt=!1,n.pendingProps=l=d,af(t,c))t.flags&131072&&(Dt=!0);else return n.lanes=t.lanes,_i(t,n,c)}return Kc(t,n,r,l,c)}function Yp(t,n,r){var l=n.pendingProps,c=l.children,d=(n.stateNode._pendingVisibility&2)!==0,g=t!==null?t.memoizedState:null;if(Ts(t,n),l.mode==="hidden"||d){if(n.flags&128){if(l=g!==null?g.baseLanes|r:r,t!==null){for(c=n.child=t.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return Qp(t,n,l,r)}if(r&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&oo(n,g!==null?g.cachePool:null),g!==null?Xm(n,g):wc(),Km(n);else return n.lanes=n.childLanes=536870912,Qp(t,n,g!==null?g.baseLanes|r:r,r)}else g!==null?(oo(n,g.cachePool),Xm(n,g),ji(),n.memoizedState=null):(t!==null&&oo(n,null),wc(),ji());return Ht(t,n,c,r),n.child}function Qp(t,n,r,l){var c=Dc();return c=c===null?null:{parent:St._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&oo(n,null),wc(),Km(n),t!==null&&Cs(t,n,l,!0),null}function Ts(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function Kc(t,n,r,l,c){return za(n),r=Mc(t,n,r,l,void 0,c),l=xc(),t!==null&&!Dt?(Ic(t,n,c),_i(t,n,c)):(He&&l&&bc(n),n.flags|=1,Ht(t,n,r,c),n.child)}function Xp(t,n,r,l,c,d){return za(n),n.updateQueue=null,r=ep(n,l,r,c),Jm(t),l=xc(),t!==null&&!Dt?(Ic(t,n,d),_i(t,n,d)):(He&&l&&bc(n),n.flags|=1,Ht(t,n,r,d),n.child)}function Kp(t,n,r,l,c){if(za(n),n.stateNode===null){var d=gr,g=r.contextType;typeof g=="object"&&g!==null&&(d=Vt(g)),d=new r(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qc,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},of(n),g=r.contextType,d.context=typeof g=="object"&&g!==null?Vt(g):gr,d.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Yc(n,r,g,l),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&Qc.enqueueReplaceState(d,d.state,null),As(n,l,d,c),Rs(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var _=n.memoizedProps,b=Ua(r,_);d.props=b;var R=d.context,k=r.contextType;g=gr,typeof k=="object"&&k!==null&&(g=Vt(k));var j=r.getDerivedStateFromProps;k=typeof j=="function"||typeof d.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,k||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_||R!==g)&&Up(n,d,l,g),Gi=!1;var I=n.memoizedState;d.state=I,As(n,l,d,c),Rs(),R=n.memoizedState,_||I!==R||Gi?(typeof j=="function"&&(Yc(n,r,j,l),R=n.memoizedState),(b=Gi||Lp(n,r,b,l,I,R,g))?(k||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=R),d.props=l,d.state=R,d.context=g,l=b):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,uf(t,n),g=n.memoizedProps,k=Ua(r,g),d.props=k,j=n.pendingProps,I=d.context,R=r.contextType,b=gr,typeof R=="object"&&R!==null&&(b=Vt(R)),_=r.getDerivedStateFromProps,(R=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==j||I!==b)&&Up(n,d,l,b),Gi=!1,I=n.memoizedState,d.state=I,As(n,l,d,c),Rs();var U=n.memoizedState;g!==j||I!==U||Gi||t!==null&&t.dependencies!==null&&Eo(t.dependencies)?(typeof _=="function"&&(Yc(n,r,_,l),U=n.memoizedState),(k=Gi||Lp(n,r,k,l,I,U,b)||t!==null&&t.dependencies!==null&&Eo(t.dependencies))?(R||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,U,b),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,U,b)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=U),d.props=l,d.state=U,d.context=b,l=k):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Ts(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Oa(n,t.child,null,c),n.child=Oa(n,null,r,c)):Ht(t,n,r,c),n.memoizedState=d.state,t=n.child):t=_i(t,n,c),t}function $p(t,n,r,l){return ds(),n.flags|=256,Ht(t,n,r,l),n.child}var $c={dehydrated:null,treeContext:null,retryLane:0};function Wc(t){return{baseLanes:t,cachePool:Zm()}}function Zc(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Nn),t}function Wp(t,n,r){var l=n.pendingProps,c=!1,d=(n.flags&128)!==0,g;if((g=d)||(g=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(He){if(c?Bi(n):ji(),He){var _=zt,b;if(b=_){e:{for(b=_,_=$n;b.nodeType!==8;){if(!_){_=null;break e}if(b=Hn(b.nextSibling),b===null){_=null;break e}}_=b}_!==null?(n.memoizedState={dehydrated:_,treeContext:Aa!==null?{id:hi,overflow:mi}:null,retryLane:536870912},b=An(18,null,null,0),b.stateNode=_,b.return=n,n.child=b,Qt=n,zt=null,b=!0):b=!1}b||Da(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return _.data==="$!"?n.lanes=16:n.lanes=536870912,null;pi(n)}return _=l.children,l=l.fallback,c?(ji(),c=n.mode,_=ef({mode:"hidden",children:_},c),l=Pa(l,c,r,null),_.return=n,l.return=n,_.sibling=l,n.child=_,c=n.child,c.memoizedState=Wc(r),c.childLanes=Zc(t,g,r),n.memoizedState=$c,l):(Bi(n),Jc(n,_))}if(b=t.memoizedState,b!==null&&(_=b.dehydrated,_!==null)){if(d)n.flags&256?(Bi(n),n.flags&=-257,n=tf(t,n,r)):n.memoizedState!==null?(ji(),n.child=t.child,n.flags|=128,n=null):(ji(),c=l.fallback,_=n.mode,l=ef({mode:"visible",children:l.children},_),c=Pa(c,_,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Oa(n,t.child,null,r),l=n.child,l.memoizedState=Wc(r),l.childLanes=Zc(t,g,r),n.memoizedState=$c,n=c);else if(Bi(n),_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var R=g.dgst;g=R,l=Error(s(419)),l.stack="",l.digest=g,hs({value:l,source:null,stack:null}),n=tf(t,n,r)}else if(Dt||Cs(t,n,r,!1),g=(r&t.childLanes)!==0,Dt||g){if(g=Ze,g!==null){if(l=r&-r,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(g.suspendedLanes|r)?0:l,l!==0&&l!==b.retryLane)throw b.retryLane=l,Pi(t,l),Xt(g,t,l),qp}_.data==="$?"||Of(),n=tf(t,n,r)}else _.data==="$?"?(n.flags|=128,n.child=t.child,n=S0.bind(null,t),_._reactRetry=n,n=null):(t=b.treeContext,zt=Hn(_.nextSibling),Qt=n,He=!0,kn=null,$n=!1,t!==null&&(Sn[Tn++]=hi,Sn[Tn++]=mi,Sn[Tn++]=Aa,hi=t.id,mi=t.overflow,Aa=n),n=Jc(n,l.children),n.flags|=4096);return n}return c?(ji(),c=l.fallback,_=n.mode,b=t.child,R=b.sibling,l=Wi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&31457280,R!==null?c=Wi(R,c):(c=Pa(c,_,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,_=t.child.memoizedState,_===null?_=Wc(r):(b=_.cachePool,b!==null?(R=St._currentValue,b=b.parent!==R?{parent:R,pool:R}:b):b=Zm(),_={baseLanes:_.baseLanes|r,cachePool:b}),c.memoizedState=_,c.childLanes=Zc(t,g,r),n.memoizedState=$c,l):(Bi(n),r=t.child,t=r.sibling,r=Wi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function Jc(t,n){return n=ef({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ef(t,n){return Tg(t,n,0,null)}function tf(t,n,r){return Oa(n,t.child,null,r),t=Jc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Zp(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),sf(t.return,n,r)}function nf(t,n,r,l,c){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=r,d.tailMode=c)}function Jp(t,n,r){var l=n.pendingProps,c=l.revealOrder,d=l.tail;if(Ht(t,n,l.children,r),l=bt.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zp(t,r,n);else if(t.tag===19)Zp(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ve(bt,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&lo(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),nf(n,!1,c,r,d);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&lo(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}nf(n,!0,r,null,d);break;case"together":nf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function _i(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Zi|=n.lanes,!(r&n.childLanes))if(t!==null){if(Cs(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Wi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Wi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function af(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&Eo(t)))}function o0(t,n,r){switch(n.tag){case 3:$t(n,n.stateNode.containerInfo),Fi(n,St,t.memoizedState.cache),ds();break;case 27:case 5:hn(n);break;case 4:$t(n,n.stateNode.containerInfo);break;case 10:Fi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Bi(n),n.flags|=128,null):r&n.child.childLanes?Wp(t,n,r):(Bi(n),t=_i(t,n,r),t!==null?t.sibling:null);Bi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Cs(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Jp(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ve(bt,bt.current),l)break;return null;case 22:case 23:return n.lanes=0,Yp(t,n,r);case 24:Fi(n,St,t.memoizedState.cache)}return _i(t,n,r)}function eg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Dt=!0;else{if(!af(t,r)&&!(n.flags&128))return Dt=!1,o0(t,n,r);Dt=!!(t.flags&131072)}else Dt=!1,He&&n.flags&1048576&&Hm(n,no,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")yf(l)?(t=Ua(l,t),n.tag=1,n=Kp(null,n,l,t,r)):(n.tag=0,n=Kc(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===N){n.tag=11,n=Vp(null,n,l,t,r);break e}else if(c===P){n.tag=14,n=Fp(null,n,l,t,r);break e}}throw n=Se(l)||l,Error(s(306,n,""))}}return n;case 0:return Kc(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Ua(l,n.pendingProps),Kp(t,n,l,c,r);case 3:e:{if($t(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var d=n.pendingProps;c=n.memoizedState,l=c.element,uf(t,n),As(n,d,null,r);var g=n.memoizedState;if(d=g.cache,Fi(n,St,d),d!==c.cache&&lf(n,[St],r,!0),Rs(),d=g.element,c.isDehydrated)if(c={element:d,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=$p(t,n,d,r);break e}else if(d!==l){l=bn(Error(s(424)),n),hs(l),n=$p(t,n,d,r);break e}else for(zt=Hn(n.stateNode.containerInfo.firstChild),Qt=n,He=!0,kn=null,$n=!0,r=Qm(n,null,d,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ds(),d===l){n=_i(t,n,r);break e}Ht(t,n,d,r)}n=n.child}return n;case 26:return Ts(t,n),t===null?(r=i_(n.type,null,n.pendingProps,null))?n.memoizedState=r:He||(r=n.type,t=n.pendingProps,l=ko(Et.current).createElement(r),l[re]=n,l[fe]=t,Pt(l,r,t),We(l),n.stateNode=l):n.memoizedState=i_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return hn(n),t===null&&He&&(l=n.stateNode=e_(n.type,n.pendingProps,Et.current),Qt=n,$n=!0,zt=Hn(l.firstChild)),l=n.pendingProps.children,t!==null||He?Ht(t,n,l,r):n.child=Oa(n,null,l,r),Ts(t,n),n.child;case 5:return t===null&&He&&((c=l=zt)&&(l=H0(l,n.type,n.pendingProps,$n),l!==null?(n.stateNode=l,Qt=n,zt=Hn(l.firstChild),$n=!1,c=!0):c=!1),c||Da(n)),hn(n),c=n.type,d=n.pendingProps,g=t!==null?t.memoizedProps:null,l=d.children,Ff(c,d)?l=null:g!==null&&Ff(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Mc(t,n,t0,null,null,r),qs._currentValue=c),Ts(t,n),Ht(t,n,l,r),n.child;case 6:return t===null&&He&&((t=r=zt)&&(r=P0(r,n.pendingProps,$n),r!==null?(n.stateNode=r,Qt=n,zt=null,t=!0):t=!1),t||Da(n)),null;case 13:return Wp(t,n,r);case 4:return $t(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Oa(n,null,l,r):Ht(t,n,l,r),n.child;case 11:return Vp(t,n,n.type,n.pendingProps,r);case 7:return Ht(t,n,n.pendingProps,r),n.child;case 8:return Ht(t,n,n.pendingProps.children,r),n.child;case 12:return Ht(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Fi(n,n.type,l.value),Ht(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,za(n),c=Vt(c),l=l(c),n.flags|=1,Ht(t,n,l,r),n.child;case 14:return Fp(t,n,n.type,n.pendingProps,r);case 15:return Gp(t,n,n.type,n.pendingProps,r);case 19:return Jp(t,n,r);case 22:return Yp(t,n,r);case 24:return za(n),l=Vt(St),t===null?(c=Dc(),c===null&&(c=Ze,d=Ac(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=r),c=d),n.memoizedState={parent:l,cache:c},of(n),Fi(n,St,c)):(t.lanes&r&&(uf(t,n),As(n,null,null,r),Rs()),c=t.memoizedState,d=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Fi(n,St,l)):(l=d.cache,Fi(n,St,l),l!==c.cache&&lf(n,[St],r,!0))),Ht(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var rf=Ue(null),ka=null,yi=null;function Fi(t,n,r){ve(rf,n._currentValue),n._currentValue=r}function vi(t){t._currentValue=rf.current,Ee(rf)}function sf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function lf(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var d=c.dependencies;if(d!==null){var g=c.child;d=d.firstContext;e:for(;d!==null;){var _=d;d=c;for(var b=0;b<n.length;b++)if(_.context===n[b]){d.lanes|=r,_=d.alternate,_!==null&&(_.lanes|=r),sf(d.return,r,t),l||(g=null);break e}d=_.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=r,d=g.alternate,d!==null&&(d.lanes|=r),sf(g,r,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Cs(t,n,r,l){t=null;for(var c=n,d=!1;c!==null;){if(!d){if(c.flags&524288)d=!0;else if(c.flags&262144)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var _=c.type;rn(c.pendingProps.value,g.value)||(t!==null?t.push(_):t=[_])}}else if(c===At.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(qs):t=[qs])}c=c.return}t!==null&&lf(n,t,r,l),n.flags|=262144}function Eo(t){for(t=t.firstContext;t!==null;){if(!rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function za(t){ka=t,yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Vt(t){return tg(ka,t)}function bo(t,n){return ka===null&&za(t),tg(t,n)}function tg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},yi===null){if(t===null)throw Error(s(308));yi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else yi=yi.next=n;return r}var Gi=!1;function of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,st&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=eo(t),km(t,null,r),n}return Jl(t,l,n,r),eo(t)}function ws(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,oe(t,r)}}function cf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?c=d=g:d=d.next=g,r=r.next}while(r!==null);d===null?c=d=n:d=d.next=n}else c=d=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var ff=!1;function Rs(){if(ff){var t=Sr;if(t!==null)throw t}}function As(t,n,r,l){ff=!1;var c=t.updateQueue;Gi=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var b=_,R=b.next;b.next=null,g===null?d=R:g.next=R,g=b;var k=t.alternate;k!==null&&(k=k.updateQueue,_=k.lastBaseUpdate,_!==g&&(_===null?k.firstBaseUpdate=R:_.next=R,k.lastBaseUpdate=b))}if(d!==null){var j=c.baseState;g=0,k=R=b=null,_=d;do{var I=_.lane&-536870913,U=I!==_.lane;if(U?(ze&I)===I:(l&I)===I){I!==0&&I===br&&(ff=!0),k!==null&&(k=k.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var le=t,be=_;I=n;var ct=r;switch(be.tag){case 1:if(le=be.payload,typeof le=="function"){j=le.call(ct,j,I);break e}j=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=be.payload,I=typeof le=="function"?le.call(ct,j,I):le,I==null)break e;j=se({},j,I);break e;case 2:Gi=!0}}I=_.callback,I!==null&&(t.flags|=64,U&&(t.flags|=8192),U=c.callbacks,U===null?c.callbacks=[I]:U.push(I))}else U={lane:I,tag:_.tag,payload:_.payload,callback:_.callback,next:null},k===null?(R=k=U,b=j):k=k.next=U,g|=I;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;U=_,_=U.next,U.next=null,c.lastBaseUpdate=U,c.shared.pending=null}}while(!0);k===null&&(b=j),c.baseState=b,c.firstBaseUpdate=R,c.lastBaseUpdate=k,d===null&&(c.shared.lanes=0),Zi|=g,t.lanes=g,t.memoizedState=j}}function ng(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function ig(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ng(r[t],n)}function Ns(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var d=r.create,g=r.inst;l=d(),g.destroy=l}r=r.next}while(r!==c)}}catch(_){Xe(n,n.return,_)}}function Xi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&t)===t){var g=l.inst,_=g.destroy;if(_!==void 0){g.destroy=void 0,c=n;var b=r;try{_()}catch(R){Xe(c,b,R)}}}l=l.next}while(l!==d)}}catch(R){Xe(n,n.return,R)}}function ag(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{ig(n,r)}catch(l){Xe(t,t.return,l)}}}function rg(t,n,r){r.props=Ua(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xe(t,n,l)}}function Ha(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(d){Xe(t,n,d)}}function sn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Xe(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xe(t,n,c)}else r.current=null}function sg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Xe(t,t.return,c)}}function lg(t,n,r){try{var l=t.stateNode;I0(l,t.type,r,n),l[fe]=n}catch(c){Xe(t,t.return,c)}}function og(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function df(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||og(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Uo));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(hf(t,n,r),t=t.sibling;t!==null;)hf(t,n,r),t=t.sibling}function So(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(So(t,n,r),t=t.sibling;t!==null;)So(t,n,r),t=t.sibling}var Ei=!1,ot=!1,mf=!1,ug=typeof WeakSet=="function"?WeakSet:Set,Ot=null,cg=!1;function u0(t,n){if(t=t.containerInfo,qf=qo,t=Am(t),pc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var g=0,_=-1,b=-1,R=0,k=0,j=t,I=null;t:for(;;){for(var U;j!==r||c!==0&&j.nodeType!==3||(_=g+c),j!==d||l!==0&&j.nodeType!==3||(b=g+l),j.nodeType===3&&(g+=j.nodeValue.length),(U=j.firstChild)!==null;)I=j,j=U;for(;;){if(j===t)break t;if(I===r&&++R===c&&(_=g),I===d&&++k===l&&(b=g),(U=j.nextSibling)!==null)break;j=I,I=j.parentNode}j=U}r=_===-1||b===-1?null:{start:_,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vf={focusedElem:t,selectionRange:r},qo=!1,Ot=n;Ot!==null;)if(n=Ot,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ot=t;else for(;Ot!==null;){switch(n=Ot,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&d!==null){t=void 0,r=n,c=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var le=Ua(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(le,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){Xe(r,r.return,be)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Qf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ot=t;break}Ot=n.return}return le=cg,cg=!1,le}function fg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Si(t,r),l&4&&Ns(5,r);break;case 1:if(Si(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(_){Xe(r,r.return,_)}else{var c=Ua(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(r,r.return,_)}}l&64&&ag(r),l&512&&Ha(r,r.return);break;case 3:if(Si(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{ig(l,t)}catch(_){Xe(r,r.return,_)}}break;case 26:Si(t,r),l&512&&Ha(r,r.return);break;case 27:case 5:Si(t,r),n===null&&l&4&&sg(r),l&512&&Ha(r,r.return);break;case 12:Si(t,r);break;case 13:Si(t,r),l&4&&mg(t,r);break;case 22:if(c=r.memoizedState!==null||Ei,!c){n=n!==null&&n.memoizedState!==null||ot;var d=Ei,g=ot;Ei=c,(ot=n)&&!g?Ki(t,r,(r.subtreeFlags&8772)!==0):Si(t,r),Ei=d,ot=g}l&512&&(r.memoizedProps.mode==="manual"?Ha(r,r.return):sn(r,r.return));break;default:Si(t,r)}}function dg(t){var n=t.alternate;n!==null&&(t.alternate=null,dg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ui(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,ln=!1;function bi(t,n,r){for(r=r.child;r!==null;)hg(t,n,r),r=r.sibling}function hg(t,n,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(zi,r)}catch{}switch(r.tag){case 26:ot||sn(r,n),bi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ot||sn(r,n);var l=yt,c=ln;for(yt=r.stateNode,bi(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);ui(r),yt=l,ln=c;break;case 5:ot||sn(r,n);case 6:c=yt;var d=ln;if(yt=null,bi(t,n,r),yt=c,ln=d,yt!==null)if(ln)try{t=yt,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(g){Xe(r,n,g)}else try{yt.removeChild(r.stateNode)}catch(g){Xe(r,n,g)}break;case 18:yt!==null&&(ln?(n=yt,r=r.stateNode,n.nodeType===8?Yf(n.parentNode,r):n.nodeType===1&&Yf(n,r),Ys(n)):Yf(yt,r.stateNode));break;case 4:l=yt,c=ln,yt=r.stateNode.containerInfo,ln=!0,bi(t,n,r),yt=l,ln=c;break;case 0:case 11:case 14:case 15:ot||Xi(2,r,n),ot||Xi(4,r,n),bi(t,n,r);break;case 1:ot||(sn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&rg(r,n,l)),bi(t,n,r);break;case 21:bi(t,n,r);break;case 22:ot||sn(r,n),ot=(l=ot)||r.memoizedState!==null,bi(t,n,r),ot=l;break;default:bi(t,n,r)}}function mg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ys(t)}catch(r){Xe(n,n.return,r)}}function c0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ug),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ug),n;default:throw Error(s(435,t.tag))}}function pf(t,n){var r=c0(t);n.forEach(function(l){var c=T0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function wn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],d=t,g=n,_=g;e:for(;_!==null;){switch(_.tag){case 27:case 5:yt=_.stateNode,ln=!1;break e;case 3:yt=_.stateNode.containerInfo,ln=!0;break e;case 4:yt=_.stateNode.containerInfo,ln=!0;break e}_=_.return}if(yt===null)throw Error(s(160));hg(d,g,c),yt=null,ln=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)pg(n,t),n=n.sibling}var zn=null;function pg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(n,t),Rn(t),l&4&&(Xi(3,t,t.return),Ns(3,t),Xi(5,t,t.return));break;case 1:wn(n,t),Rn(t),l&512&&(ot||r===null||sn(r,r.return)),l&64&&Ei&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=zn;if(wn(n,t),Rn(t),l&512&&(ot||r===null||sn(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":d=c.getElementsByTagName("title")[0],(!d||d[gn]||d[re]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(l),c.head.insertBefore(d,c.querySelector("head > title"))),Pt(d,l,r),d[re]=t,We(d),l=d;break e;case"link":var g=s_("link","href",c).get(l+(r.href||""));if(g){for(var _=0;_<g.length;_++)if(d=g[_],d.getAttribute("href")===(r.href==null?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(_,1);break t}}d=c.createElement(l),Pt(d,l,r),c.head.appendChild(d);break;case"meta":if(g=s_("meta","content",c).get(l+(r.content||""))){for(_=0;_<g.length;_++)if(d=g[_],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(_,1);break t}}d=c.createElement(l),Pt(d,l,r),c.head.appendChild(d);break;default:throw Error(s(468,l))}d[re]=t,We(d),l=d}t.stateNode=l}else l_(c,t.type,t.stateNode);else t.stateNode=r_(c,l,t.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?l_(c,t.type,t.stateNode):r_(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&lg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,d=t.memoizedProps;try{for(var b=c.firstChild;b;){var R=b.nextSibling,k=b.nodeName;b[gn]||k==="HEAD"||k==="BODY"||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=R}for(var j=t.type,I=c.attributes;I.length;)c.removeAttributeNode(I[0]);Pt(c,j,d),c[re]=t,c[fe]=d}catch(le){Xe(t,t.return,le)}}case 5:if(wn(n,t),Rn(t),l&512&&(ot||r===null||sn(r,r.return)),t.flags&32){c=t.stateNode;try{ur(c,"")}catch(le){Xe(t,t.return,le)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,lg(t,c,r!==null?r.memoizedProps:c)),l&1024&&(mf=!0);break;case 6:if(wn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(le){Xe(t,t.return,le)}}break;case 3:if(Po=null,c=zn,zn=zo(n.containerInfo),wn(n,t),zn=c,Rn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ys(n.containerInfo)}catch(le){Xe(t,t.return,le)}mf&&(mf=!1,gg(t));break;case 4:l=zn,zn=zo(t.stateNode.containerInfo),wn(n,t),Rn(t),zn=l;break;case 12:wn(n,t),Rn(t);break;case 13:wn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Cf=jt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pf(t,l)));break;case 22:if(l&512&&(ot||r===null||sn(r,r.return)),b=t.memoizedState!==null,R=r!==null&&r.memoizedState!==null,k=Ei,j=ot,Ei=k||b,ot=j||R,wn(n,t),ot=j,Ei=k,Rn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=b?n._visibility&-2:n._visibility|1,b&&(n=Ei||ot,r===null||R||n||Rr(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){R=r=n;try{if(c=R.stateNode,b)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{g=R.stateNode,_=R.memoizedProps.style;var U=_!=null&&_.hasOwnProperty("display")?_.display:null;g.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(le){Xe(R,R.return,le)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=b?"":R.memoizedProps}catch(le){Xe(R,R.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,pf(t,r))));break;case 19:wn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pf(t,l)));break;case 21:break;default:wn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){e:{for(var r=t.return;r!==null;){if(og(r)){var l=r;break e}r=r.return}throw Error(s(160))}switch(l.tag){case 27:var c=l.stateNode,d=df(t);So(t,d,c);break;case 5:var g=l.stateNode;l.flags&32&&(ur(g,""),l.flags&=-33);var _=df(t);So(t,_,g);break;case 3:case 4:var b=l.stateNode.containerInfo,R=df(t);hf(t,R,b);break;default:throw Error(s(161))}}}catch(k){Xe(t,t.return,k)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function gg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;gg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Si(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fg(t,n.alternate,n),n=n.sibling}function Rr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Xi(4,n,n.return),Rr(n);break;case 1:sn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&rg(n,n.return,r),Rr(n);break;case 26:case 27:case 5:sn(n,n.return),Rr(n);break;case 22:sn(n,n.return),n.memoizedState===null&&Rr(n);break;default:Rr(n)}t=t.sibling}}function Ki(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,d=n,g=d.flags;switch(d.tag){case 0:case 11:case 15:Ki(c,d,r),Ns(4,d);break;case 1:if(Ki(c,d,r),l=d,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(R){Xe(l,l.return,R)}if(l=d,c=l.updateQueue,c!==null){var _=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)ng(b[c],_)}catch(R){Xe(l,l.return,R)}}r&&g&64&&ag(d),Ha(d,d.return);break;case 26:case 27:case 5:Ki(c,d,r),r&&l===null&&g&4&&sg(d),Ha(d,d.return);break;case 12:Ki(c,d,r);break;case 13:Ki(c,d,r),r&&g&4&&mg(c,d);break;case 22:d.memoizedState===null&&Ki(c,d,r),Ha(d,d.return);break;default:Ki(c,d,r)}n=n.sibling}}function gf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ys(r))}function _f(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ys(t))}function $i(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)_g(t,n,r,l),n=n.sibling}function _g(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:$i(t,n,r,l),c&2048&&Ns(9,n);break;case 3:$i(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ys(t)));break;case 12:if(c&2048){$i(t,n,r,l),t=n.stateNode;try{var d=n.memoizedProps,g=d.id,_=d.onPostCommit;typeof _=="function"&&_(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Xe(n,n.return,b)}}else $i(t,n,r,l);break;case 23:break;case 22:d=n.stateNode,n.memoizedState!==null?d._visibility&4?$i(t,n,r,l):Ds(t,n):d._visibility&4?$i(t,n,r,l):(d._visibility|=4,Ar(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&gf(n.alternate,n);break;case 24:$i(t,n,r,l),c&2048&&_f(n.alternate,n);break;default:$i(t,n,r,l)}}function Ar(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,g=n,_=r,b=l,R=g.flags;switch(g.tag){case 0:case 11:case 15:Ar(d,g,_,b,c),Ns(8,g);break;case 23:break;case 22:var k=g.stateNode;g.memoizedState!==null?k._visibility&4?Ar(d,g,_,b,c):Ds(d,g):(k._visibility|=4,Ar(d,g,_,b,c)),c&&R&2048&&gf(g.alternate,g);break;case 24:Ar(d,g,_,b,c),c&&R&2048&&_f(g.alternate,g);break;default:Ar(d,g,_,b,c)}n=n.sibling}}function Ds(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Ds(r,l),c&2048&&gf(l.alternate,l);break;case 24:Ds(r,l),c&2048&&_f(l.alternate,l);break;default:Ds(r,l)}n=n.sibling}}var Os=8192;function Nr(t){if(t.subtreeFlags&Os)for(t=t.child;t!==null;)yg(t),t=t.sibling}function yg(t){switch(t.tag){case 26:Nr(t),t.flags&Os&&t.memoizedState!==null&&Z0(zn,t.memoizedState,t.memoizedProps);break;case 5:Nr(t);break;case 3:case 4:var n=zn;zn=zo(t.stateNode.containerInfo),Nr(t),zn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Os,Os=16777216,Nr(t),Os=n):Nr(t));break;default:Nr(t)}}function vg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ms(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ot=l,bg(l,t)}vg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Eg(t),t=t.sibling}function Eg(t){switch(t.tag){case 0:case 11:case 15:Ms(t),t.flags&2048&&Xi(9,t,t.return);break;case 3:Ms(t);break;case 12:Ms(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,To(t)):Ms(t);break;default:Ms(t)}}function To(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ot=l,bg(l,t)}vg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Xi(8,n,n.return),To(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,To(n));break;default:To(n)}t=t.sibling}}function bg(t,n){for(;Ot!==null;){var r=Ot;switch(r.tag){case 0:case 11:case 15:Xi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ys(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ot=l;else e:for(r=t;Ot!==null;){l=Ot;var c=l.sibling,d=l.return;if(dg(l),l===r){Ot=null;break e}if(c!==null){c.return=d,Ot=c;break e}Ot=d}}}function f0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,n,r,l){return new f0(t,n,r,l)}function yf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,n){var r=t.alternate;return r===null?(r=An(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Sg(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Co(t,n,r,l,c,d){var g=0;if(l=t,typeof t=="function")yf(t)&&(g=1);else if(typeof t=="string")g=$0(t,r,$e.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case m:return Pa(r.children,c,d,n);case p:g=8,c|=24;break;case y:return t=An(12,r,n,c|2),t.elementType=y,t.lanes=d,t;case H:return t=An(13,r,n,c),t.elementType=H,t.lanes=d,t;case z:return t=An(19,r,n,c),t.elementType=z,t.lanes=d,t;case Z:return Tg(r,c,d,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case v:case S:g=10;break e;case E:g=9;break e;case N:g=11;break e;case P:g=14;break e;case Q:g=16,l=null;break e}g=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=An(g,r,n,c),n.elementType=t,n.type=l,n.lanes=d,n}function Pa(t,n,r,l){return t=An(7,t,l,n),t.lanes=r,t}function Tg(t,n,r,l){t=An(22,t,l,n),t.elementType=Z,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=c._current;if(d===null)throw Error(s(456));if(!(c._pendingVisibility&2)){var g=Pi(d,2);g!==null&&(c._pendingVisibility|=2,Xt(g,d,2))}},attach:function(){var d=c._current;if(d===null)throw Error(s(456));if(c._pendingVisibility&2){var g=Pi(d,2);g!==null&&(c._pendingVisibility&=-3,Xt(g,d,2))}}};return t.stateNode=c,t}function vf(t,n,r){return t=An(6,t,null,n),t.lanes=r,t}function Ef(t,n,r){return n=An(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Ti(t){t.flags|=4}function Cg(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!o_(n)){if(n=Cn.current,n!==null&&((ze&4194176)===ze?Wn!==null:(ze&62914560)!==ze&&!(ze&536870912)||n!==Wn))throw ps=Cc,jm;t.flags|=8192}}function wo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?C():536870912,t.lanes|=n,Or|=n)}function xs(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function d0(t,n,r){var l=n.pendingProps;switch(Sc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(n),null;case 1:return rt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),vi(St),Yt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fs(n)?Ti(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,kn!==null&&(Nf(kn),kn=null))),rt(n),null;case 26:return r=n.memoizedState,t===null?(Ti(n),r!==null?(rt(n),Cg(n,r)):(rt(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ti(n),rt(n),Cg(n,r)):(rt(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ti(n),rt(n),n.flags&=-16777217),null;case 27:li(n),r=Et.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return rt(n),null}t=$e.current,fs(n)?Pm(n):(t=e_(c,l,r),n.stateNode=t,Ti(n))}return rt(n),null;case 5:if(li(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return rt(n),null}if(t=$e.current,fs(n))Pm(n);else{switch(c=ko(Et.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[re]=n,t[fe]=l;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;e:switch(Pt(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ti(n)}}return rt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ti(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Et.current,fs(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Qt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[re]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Xg(t.nodeValue,r)),t||Da(n)}else t=ko(t).createTextNode(l),t[re]=n,n.stateNode=t}return rt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=fs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[re]=n}else ds(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;rt(n),c=!1}else kn!==null&&(Nf(kn),kn=null),c=!0;if(!c)return n.flags&256?(pi(n),n):(pi(n),null)}if(pi(n),n.flags&128)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),wo(n,n.updateQueue),rt(n),null;case 4:return Yt(),t===null&&Pf(n.stateNode.containerInfo),rt(n),null;case 10:return vi(n.type),rt(n),null;case 19:if(Ee(bt),c=n.memoizedState,c===null)return rt(n),null;if(l=(n.flags&128)!==0,d=c.rendering,d===null)if(l)xs(c,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(d=lo(t),d!==null){for(n.flags|=128,xs(c,!1),t=d.updateQueue,n.updateQueue=t,wo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Sg(r,t),r=r.sibling;return ve(bt,bt.current&1|2),n.child}t=t.sibling}c.tail!==null&&jt()>Ro&&(n.flags|=128,l=!0,xs(c,!1),n.lanes=4194304)}else{if(!l)if(t=lo(d),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,wo(n,t),xs(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!He)return rt(n),null}else 2*jt()-c.renderingStartTime>Ro&&r!==536870912&&(n.flags|=128,l=!0,xs(c,!1),n.lanes=4194304);c.isBackwards?(d.sibling=n.child,n.child=d):(t=c.last,t!==null?t.sibling=d:n.child=d,c.last=d)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=jt(),n.sibling=null,t=bt.current,ve(bt,l?t&1|2:t&1),n):(rt(n),null);case 22:case 23:return pi(n),Rc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?r&536870912&&!(n.flags&128)&&(rt(n),n.subtreeFlags&6&&(n.flags|=8192)):rt(n),r=n.updateQueue,r!==null&&wo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Ee(Ma),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),vi(St),rt(n),null;case 25:return null}throw Error(s(156,n.tag))}function h0(t,n){switch(Sc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return vi(St),Yt(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return li(n),null;case 13:if(pi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ds()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Ee(bt),null;case 4:return Yt(),null;case 10:return vi(n.type),null;case 22:case 23:return pi(n),Rc(),t!==null&&Ee(Ma),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return vi(St),null;case 25:return null;default:return null}}function wg(t,n){switch(Sc(n),n.tag){case 3:vi(St),Yt();break;case 26:case 27:case 5:li(n);break;case 4:Yt();break;case 13:pi(n);break;case 19:Ee(bt);break;case 10:vi(n.type);break;case 22:case 23:pi(n),Rc(),t!==null&&Ee(Ma);break;case 24:vi(St)}}var m0={getCacheForType:function(t){var n=Vt(St),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},p0=typeof WeakMap=="function"?WeakMap:Map,st=0,Ze=null,De=null,ze=0,Je=0,on=null,Ci=!1,Dr=!1,bf=!1,wi=0,ut=0,Zi=0,Ba=0,Sf=0,Nn=0,Or=0,Is=null,Jn=null,Tf=!1,Cf=0,Ro=1/0,Ao=null,Ji=null,No=!1,ja=null,Ls=0,wf=0,Rf=null,Us=0,Af=null;function un(){if(st&2&&ze!==0)return ze&-ze;if(G.T!==null){var t=br;return t!==0?t:Uf()}return te()}function Rg(){Nn===0&&(Nn=!(ze&536870912)||He?Bl():536870912);var t=Cn.current;return t!==null&&(t.flags|=32),Nn}function Xt(t,n,r){(t===Ze&&Je===2||t.cancelPendingCommit!==null)&&(Mr(t,0),Ri(t,ze,Nn,!1)),L(t,r),(!(st&2)||t!==Ze)&&(t===Ze&&(!(st&2)&&(Ba|=r),ut===4&&Ri(t,ze,Nn,!1)),ei(t))}function Ag(t,n,r){if(st&6)throw Error(s(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Kn(t,n),c=l?y0(t,n):Mf(t,n,!0),d=l;do{if(c===0){Dr&&!l&&Ri(t,n,0,!1);break}else if(c===6)Ri(t,n,0,!Ci);else{if(r=t.current.alternate,d&&!g0(r)){c=Mf(t,n,!1),d=!1;continue}if(c===2){if(d=n,t.errorRecoveryDisabledLanes&d)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var _=t;c=Is;var b=_.current.memoizedState.isDehydrated;if(b&&(Mr(_,g).flags|=256),g=Mf(_,g,!1),g!==2){if(bf&&!b){_.errorRecoveryDisabledLanes|=d,Ba|=d,c=4;break e}d=Jn,Jn=c,d!==null&&Nf(d)}c=g}if(d=!1,c!==2)continue}}if(c===1){Mr(t,0),Ri(t,n,0,!0);break}e:{switch(l=t,c){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Ri(l,n,Nn,!Ci);break e}break;case 2:Jn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(d=Cf+300-jt(),10<d)){if(Ri(l,n,Nn,!Ci),oi(l,0)!==0)break e;l.timeoutHandle=Wg(Ng.bind(null,l,r,Jn,Ao,Tf,n,Nn,Ba,Or,Ci,2,-0,0),d);break e}Ng(l,r,Jn,Ao,Tf,n,Nn,Ba,Or,Ci,0,-0,0)}}break}while(!0);ei(t)}function Nf(t){Jn===null?Jn=t:Jn.push.apply(Jn,t)}function Ng(t,n,r,l,c,d,g,_,b,R,k,j,I){var U=n.subtreeFlags;if((U&8192||(U&16785408)===16785408)&&(js={stylesheets:null,count:0,unsuspend:W0},yg(n),n=J0(),n!==null)){t.cancelPendingCommit=n(Ug.bind(null,t,r,l,c,g,_,b,1,j,I)),Ri(t,d,g,!R);return}Ug(t,r,l,c,g,_,b,k,j,I)}function g0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],d=c.getSnapshot;c=c.value;try{if(!rn(d(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ri(t,n,r,l){n&=~Sf,n&=~Ba,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var d=31-Nt(c),g=1<<d;l[d]=-1,c&=~g}r!==0&&J(t,r,n)}function Do(){return st&6?!0:(ks(0),!1)}function Df(){if(De!==null){if(Je===0)var t=De.return;else t=De,yi=ka=null,Lc(t),vr=null,gs=0,t=De;for(;t!==null;)wg(t.alternate,t),t=t.return;De=null}}function Mr(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,U0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Df(),Ze=t,De=r=Wi(t.current,null),ze=n,Je=0,on=null,Ci=!1,Dr=Kn(t,n),bf=!1,Or=Nn=Sf=Ba=Zi=ut=0,Jn=Is=null,Tf=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Nt(l),d=1<<c;n|=t[c],l&=~d}return wi=n,Zl(),r}function Dg(t,n){we=null,G.H=Zn,n===ms?(n=Fm(),Je=3):n===jm?(n=Fm(),Je=4):Je=n===qp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,De===null&&(ut=1,vo(t,bn(n,t.current)))}function Og(){var t=G.H;return G.H=Zn,t===null?Zn:t}function Mg(){var t=G.A;return G.A=m0,t}function Of(){ut=4,Ci||(ze&4194176)!==ze&&Cn.current!==null||(Dr=!0),!(Zi&134217727)&&!(Ba&134217727)||Ze===null||Ri(Ze,ze,Nn,!1)}function Mf(t,n,r){var l=st;st|=2;var c=Og(),d=Mg();(Ze!==t||ze!==n)&&(Ao=null,Mr(t,n)),n=!1;var g=ut;e:do try{if(Je!==0&&De!==null){var _=De,b=on;switch(Je){case 8:Df(),g=6;break e;case 3:case 2:case 6:Cn.current===null&&(n=!0);var R=Je;if(Je=0,on=null,xr(t,_,b,R),r&&Dr){g=0;break e}break;default:R=Je,Je=0,on=null,xr(t,_,b,R)}}_0(),g=ut;break}catch(k){Dg(t,k)}while(!0);return n&&t.shellSuspendCounter++,yi=ka=null,st=l,G.H=c,G.A=d,De===null&&(Ze=null,ze=0,Zl()),g}function _0(){for(;De!==null;)xg(De)}function y0(t,n){var r=st;st|=2;var l=Og(),c=Mg();Ze!==t||ze!==n?(Ao=null,Ro=jt()+500,Mr(t,n)):Dr=Kn(t,n);e:do try{if(Je!==0&&De!==null){n=De;var d=on;t:switch(Je){case 1:Je=0,on=null,xr(t,n,d,1);break;case 2:if(qm(d)){Je=0,on=null,Ig(n);break}n=function(){Je===2&&Ze===t&&(Je=7),ei(t)},d.then(n,n);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:qm(d)?(Je=0,on=null,Ig(n)):(Je=0,on=null,xr(t,n,d,7));break;case 5:var g=null;switch(De.tag){case 26:g=De.memoizedState;case 5:case 27:var _=De;if(!g||o_(g)){Je=0,on=null;var b=_.sibling;if(b!==null)De=b;else{var R=_.return;R!==null?(De=R,Oo(R)):De=null}break t}}Je=0,on=null,xr(t,n,d,5);break;case 6:Je=0,on=null,xr(t,n,d,6);break;case 8:Df(),ut=6;break e;default:throw Error(s(462))}}v0();break}catch(k){Dg(t,k)}while(!0);return yi=ka=null,G.H=l,G.A=c,st=r,De!==null?0:(Ze=null,ze=0,Zl(),ut)}function v0(){for(;De!==null&&!mn();)xg(De)}function xg(t){var n=eg(t.alternate,t,wi);t.memoizedProps=t.pendingProps,n===null?Oo(t):De=n}function Ig(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Xp(r,n,n.pendingProps,n.type,void 0,ze);break;case 11:n=Xp(r,n,n.pendingProps,n.type.render,n.ref,ze);break;case 5:Lc(n);default:wg(r,n),n=De=Sg(n,wi),n=eg(r,n,wi)}t.memoizedProps=t.pendingProps,n===null?Oo(t):De=n}function xr(t,n,r,l){yi=ka=null,Lc(n),vr=null,gs=0;var c=n.return;try{if(l0(t,c,n,r,ze)){ut=1,vo(t,bn(r,t.current)),De=null;return}}catch(d){if(c!==null)throw De=c,d;ut=1,vo(t,bn(r,t.current)),De=null;return}n.flags&32768?(He||l===1?t=!0:Dr||ze&536870912?t=!1:(Ci=t=!0,(l===2||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Lg(n,t)):Oo(n)}function Oo(t){var n=t;do{if(n.flags&32768){Lg(n,Ci);return}t=n.return;var r=d0(n.alternate,n,wi);if(r!==null){De=r;return}if(n=n.sibling,n!==null){De=n;return}De=n=t}while(n!==null);ut===0&&(ut=5)}function Lg(t,n){do{var r=h0(t.alternate,t);if(r!==null){r.flags&=32767,De=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){De=t;return}De=t=r}while(t!==null);ut=6,De=null}function Ug(t,n,r,l,c,d,g,_,b,R){var k=G.T,j=K.p;try{K.p=2,G.T=null,E0(t,n,r,l,j,c,d,g,_,b,R)}finally{G.T=k,K.p=j}}function E0(t,n,r,l,c,d,g,_){do Ir();while(ja!==null);if(st&6)throw Error(s(327));var b=t.finishedWork;if(l=t.finishedLanes,b===null)return null;if(t.finishedWork=null,t.finishedLanes=0,b===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var R=b.lanes|b.childLanes;if(R|=vc,V(t,l,R,d,g,_),t===Ze&&(De=Ze=null,ze=0),!(b.subtreeFlags&10256)&&!(b.flags&10256)||No||(No=!0,wf=R,Rf=r,C0(va,function(){return Ir(),null})),r=(b.flags&15990)!==0,b.subtreeFlags&15990||r?(r=G.T,G.T=null,d=K.p,K.p=2,g=st,st|=4,u0(t,b),pg(b,t),FS(Vf,t.containerInfo),qo=!!qf,Vf=qf=null,t.current=b,fg(t,b.alternate,b),Yn(),st=g,K.p=d,G.T=r):t.current=b,No?(No=!1,ja=t,Ls=l):kg(t,R),R=t.pendingLanes,R===0&&(Ji=null),Wu(b.stateNode),ei(t),n!==null)for(c=t.onRecoverableError,b=0;b<n.length;b++)R=n[b],c(R.value,{componentStack:R.stack});return Ls&3&&Ir(),R=t.pendingLanes,l&4194218&&R&42?t===Af?Us++:(Us=0,Af=t):Us=0,ks(0),null}function kg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ys(n)))}function Ir(){if(ja!==null){var t=ja,n=wf;wf=0;var r=ye(Ls),l=G.T,c=K.p;try{if(K.p=32>r?32:r,G.T=null,ja===null)var d=!1;else{r=Rf,Rf=null;var g=ja,_=Ls;if(ja=null,Ls=0,st&6)throw Error(s(331));var b=st;if(st|=4,Eg(g.current),_g(g,g.current,_,r),st=b,ks(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(zi,g)}catch{}d=!0}return d}finally{K.p=c,G.T=l,kg(t,n)}}return!1}function zg(t,n,r){n=bn(r,n),n=Xc(t.stateNode,n,2),t=Qi(t,n,2),t!==null&&(L(t,2),ei(t))}function Xe(t,n,r){if(t.tag===3)zg(t,t,r);else for(;n!==null;){if(n.tag===3){zg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ji===null||!Ji.has(l))){t=bn(r,t),r=Bp(2),l=Qi(n,r,2),l!==null&&(jp(r,l,n,t),L(l,2),ei(l));break}}n=n.return}}function xf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new p0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(bf=!0,c.add(r),t=b0.bind(null,t,n,r),n.then(t,t))}function b0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Ze===t&&(ze&r)===r&&(ut===4||ut===3&&(ze&62914560)===ze&&300>jt()-Cf?!(st&2)&&Mr(t,0):Sf|=r,Or===ze&&(Or=0)),ei(t)}function Hg(t,n){n===0&&(n=C()),t=Pi(t,n),t!==null&&(L(t,n),ei(t))}function S0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Hg(t,r)}function T0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Hg(t,r)}function C0(t,n){return ki(t,n)}var Mo=null,Lr=null,If=!1,xo=!1,Lf=!1,qa=0;function ei(t){t!==Lr&&t.next===null&&(Lr===null?Mo=Lr=t:Lr=Lr.next=t),xo=!0,If||(If=!0,R0(w0))}function ks(t,n){if(!Lf&&xo){Lf=!0;do for(var r=!1,l=Mo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var d=0;else{var g=l.suspendedLanes,_=l.pingedLanes;d=(1<<31-Nt(42|t)+1)-1,d&=c&~(g&~_),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(r=!0,jg(l,d))}else d=ze,d=oi(l,l===Ze?d:0),!(d&3)||Kn(l,d)||(r=!0,jg(l,d));l=l.next}while(r);Lf=!1}}function w0(){xo=If=!1;var t=0;qa!==0&&(L0()&&(t=qa),qa=0);for(var n=jt(),r=null,l=Mo;l!==null;){var c=l.next,d=Pg(l,n);d===0?(l.next=null,r===null?Mo=c:r.next=c,c===null&&(Lr=r)):(r=l,(t!==0||d&3)&&(xo=!0)),l=c}ks(t)}function Pg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var g=31-Nt(d),_=1<<g,b=c[g];b===-1?(!(_&r)||_&l)&&(c[g]=Ju(_,n)):b<=n&&(t.expiredLanes|=_),d&=~_}if(n=Ze,r=ze,r=oi(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&Je===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&xn(l),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||Kn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&xn(l),ye(r)){case 2:case 8:r=pn;break;case 32:r=va;break;case 268435456:r=zl;break;default:r=va}return l=Bg.bind(null,t),r=ki(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&xn(l),t.callbackPriority=2,t.callbackNode=null,2}function Bg(t,n){var r=t.callbackNode;if(Ir()&&t.callbackNode!==r)return null;var l=ze;return l=oi(t,t===Ze?l:0),l===0?null:(Ag(t,l,n),Pg(t,jt()),t.callbackNode!=null&&t.callbackNode===r?Bg.bind(null,t):null)}function jg(t,n){if(Ir())return null;Ag(t,n,!0)}function R0(t){k0(function(){st&6?ki(In,t):t()})}function Uf(){return qa===0&&(qa=Bl()),qa}function qg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Gl(""+t)}function Vg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function A0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var d=qg((c[fe]||null).action),g=l.submitter;g&&(n=(n=g[fe]||null)?qg(n.formAction):g.getAttribute("formAction"),n!==null&&(d=n,g=null));var _=new Kl("action","action",null,l,c);t.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qa!==0){var b=g?Vg(c,g):new FormData(c);Vc(r,{pending:!0,data:b,method:c.method,action:d},null,b)}}else typeof d=="function"&&(_.preventDefault(),b=g?Vg(c,g):new FormData(c),Vc(r,{pending:!0,data:b,method:c.method,action:d},d,b))},currentTarget:c}]})}}for(var kf=0;kf<Um.length;kf++){var zf=Um[kf],N0=zf.toLowerCase(),D0=zf[0].toUpperCase()+zf.slice(1);Un(N0,"on"+D0)}Un(Om,"onAnimationEnd"),Un(Mm,"onAnimationIteration"),Un(xm,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(YS,"onTransitionRun"),Un(QS,"onTransitionStart"),Un(XS,"onTransitionCancel"),Un(Im,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zs));function Fg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var g=l.length-1;0<=g;g--){var _=l[g],b=_.instance,R=_.currentTarget;if(_=_.listener,b!==d&&c.isPropagationStopped())break e;d=_,c.currentTarget=R;try{d(c)}catch(k){yo(k)}c.currentTarget=null,d=b}else for(g=0;g<l.length;g++){if(_=l[g],b=_.instance,R=_.currentTarget,_=_.listener,b!==d&&c.isPropagationStopped())break e;d=_,c.currentTarget=R;try{d(c)}catch(k){yo(k)}c.currentTarget=null,d=b}}}}function xe(t,n){var r=n[mt];r===void 0&&(r=n[mt]=new Set);var l=t+"__bubble";r.has(l)||(Gg(n,t,2,!1),r.add(l))}function Hf(t,n,r){var l=0;n&&(l|=4),Gg(r,t,l,n)}var Io="_reactListening"+Math.random().toString(36).slice(2);function Pf(t){if(!t[Io]){t[Io]=!0,ba.forEach(function(r){r!=="selectionchange"&&(O0.has(r)||Hf(r,!1,t),Hf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Io]||(n[Io]=!0,Hf("selectionchange",!1,n))}}function Gg(t,n,r,l){switch(m_(n)){case 2:var c=nT;break;case 8:c=iT;break;default:c=Zf}r=c.bind(null,n,r,t),c=void 0,!sc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Bf(t,n,r,l,c){var d=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var _=l.stateNode.containerInfo;if(_===c||_.nodeType===8&&_.parentNode===c)break;if(g===4)for(g=l.return;g!==null;){var b=g.tag;if((b===3||b===4)&&(b=g.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;g=g.return}for(;_!==null;){if(g=Ut(_),g===null)return;if(b=g.tag,b===5||b===6||b===26||b===27){l=d=g;continue e}_=_.parentNode}}l=l.return}sm(function(){var R=d,k=ac(r),j=[];e:{var I=Lm.get(t);if(I!==void 0){var U=Kl,le=t;switch(t){case"keypress":if(Ql(r)===0)break e;case"keydown":case"keyup":U=TS;break;case"focusin":le="focus",U=cc;break;case"focusout":le="blur",U=cc;break;case"beforeblur":case"afterblur":U=cc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=um;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=fS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=RS;break;case Om:case Mm:case xm:U=mS;break;case Im:U=NS;break;case"scroll":case"scrollend":U=uS;break;case"wheel":U=OS;break;case"copy":case"cut":case"paste":U=gS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=fm;break;case"toggle":case"beforetoggle":U=xS}var be=(n&4)!==0,ct=!be&&(t==="scroll"||t==="scrollend"),D=be?I!==null?I+"Capture":null:I;be=[];for(var w=R,x;w!==null;){var B=w;if(x=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||x===null||D===null||(B=ns(w,D),B!=null&&be.push(Hs(w,B,x))),ct)break;w=w.return}0<be.length&&(I=new U(I,le,null,r,k),j.push({event:I,listeners:be}))}}if(!(n&7)){e:{if(I=t==="mouseover"||t==="pointerover",U=t==="mouseout"||t==="pointerout",I&&r!==ic&&(le=r.relatedTarget||r.fromElement)&&(Ut(le)||le[je]))break e;if((U||I)&&(I=k.window===k?k:(I=k.ownerDocument)?I.defaultView||I.parentWindow:window,U?(le=r.relatedTarget||r.toElement,U=R,le=le?Ut(le):null,le!==null&&(ct=ue(le),be=le.tag,le!==ct||be!==5&&be!==27&&be!==6)&&(le=null)):(U=null,le=R),U!==le)){if(be=um,B="onMouseLeave",D="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(be=fm,B="onPointerLeave",D="onPointerEnter",w="pointer"),ct=U==null?I:ci(U),x=le==null?I:ci(le),I=new be(B,w+"leave",U,r,k),I.target=ct,I.relatedTarget=x,B=null,Ut(k)===R&&(be=new be(D,w+"enter",le,r,k),be.target=x,be.relatedTarget=ct,B=be),ct=B,U&&le)t:{for(be=U,D=le,w=0,x=be;x;x=Ur(x))w++;for(x=0,B=D;B;B=Ur(B))x++;for(;0<w-x;)be=Ur(be),w--;for(;0<x-w;)D=Ur(D),x--;for(;w--;){if(be===D||D!==null&&be===D.alternate)break t;be=Ur(be),D=Ur(D)}be=null}else be=null;U!==null&&Yg(j,I,U,be,!1),le!==null&&ct!==null&&Yg(j,ct,le,be,!0)}}e:{if(I=R?ci(R):window,U=I.nodeName&&I.nodeName.toLowerCase(),U==="select"||U==="input"&&I.type==="file")var ne=vm;else if(_m(I))if(Em)ne=qS;else{ne=BS;var Re=PS}else U=I.nodeName,!U||U.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?R&&nc(R.elementType)&&(ne=vm):ne=jS;if(ne&&(ne=ne(t,R))){ym(j,ne,r,k);break e}Re&&Re(t,I,R),t==="focusout"&&R&&I.type==="number"&&R.memoizedProps.value!=null&&tc(I,"number",I.value)}switch(Re=R?ci(R):window,t){case"focusin":(_m(Re)||Re.contentEditable==="true")&&(hr=Re,gc=R,cs=null);break;case"focusout":cs=gc=hr=null;break;case"mousedown":_c=!0;break;case"contextmenu":case"mouseup":case"dragend":_c=!1,Nm(j,r,k);break;case"selectionchange":if(GS)break;case"keydown":case"keyup":Nm(j,r,k)}var ce;if(dc)e:{switch(t){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else dr?pm(t,r)&&(he="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(he="onCompositionStart");he&&(dm&&r.locale!=="ko"&&(dr||he!=="onCompositionStart"?he==="onCompositionEnd"&&dr&&(ce=lm()):(Hi=k,lc="value"in Hi?Hi.value:Hi.textContent,dr=!0)),Re=Lo(R,he),0<Re.length&&(he=new cm(he,t,null,r,k),j.push({event:he,listeners:Re}),ce?he.data=ce:(ce=gm(r),ce!==null&&(he.data=ce)))),(ce=LS?US(t,r):kS(t,r))&&(he=Lo(R,"onBeforeInput"),0<he.length&&(Re=new cm("onBeforeInput","beforeinput",null,r,k),j.push({event:Re,listeners:he}),Re.data=ce)),A0(j,t,R,r,k)}Fg(j,n)})}function Hs(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Lo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,d=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=ns(t,r),c!=null&&l.unshift(Hs(t,c,d)),c=ns(t,n),c!=null&&l.push(Hs(t,c,d))),t=t.return}return l}function Ur(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Yg(t,n,r,l,c){for(var d=n._reactName,g=[];r!==null&&r!==l;){var _=r,b=_.alternate,R=_.stateNode;if(_=_.tag,b!==null&&b===l)break;_!==5&&_!==26&&_!==27||R===null||(b=R,c?(R=ns(r,d),R!=null&&g.unshift(Hs(r,R,b))):c||(R=ns(r,d),R!=null&&g.push(Hs(r,R,b)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var M0=/\r\n?/g,x0=/\u0000|\uFFFD/g;function Qg(t){return(typeof t=="string"?t:""+t).replace(M0,`
`).replace(x0,"")}function Xg(t,n){return n=Qg(n),Qg(t)===n}function Uo(){}function Ge(t,n,r,l,c,d){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||ur(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&ur(t,""+l);break;case"className":ql(t,"class",l);break;case"tabIndex":ql(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ql(t,r,l);break;case"style":am(t,l,d);break;case"data":if(n!=="object"){ql(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Gl(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&Ge(t,n,"name",c.name,c,null),Ge(t,n,"formEncType",c.formEncType,c,null),Ge(t,n,"formMethod",c.formMethod,c,null),Ge(t,n,"formTarget",c.formTarget,c,null)):(Ge(t,n,"encType",c.encType,c,null),Ge(t,n,"method",c.method,c,null),Ge(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Gl(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Uo);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Gl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),lr(t,"popover",l);break;case"xlinkActuate":di(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":di(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":di(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":di(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":di(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":di(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":di(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":di(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":di(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":lr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=lS.get(r)||r,lr(t,r,l))}}function jf(t,n,r,l,c,d){switch(r){case"style":am(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?ur(t,l):(typeof l=="number"||typeof l=="bigint")&&ur(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Uo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sa.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),d=t[fe]||null,d=d!=null?d[r]:null,typeof d=="function"&&t.removeEventListener(n,d,c),typeof l=="function")){typeof d!="function"&&d!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):lr(t,r,l)}}}function Pt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,c=!1,d;for(d in r)if(r.hasOwnProperty(d)){var g=r[d];if(g!=null)switch(d){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ge(t,n,d,g,r,null)}}c&&Ge(t,n,"srcSet",r.srcSet,r,null),l&&Ge(t,n,"src",r.src,r,null);return;case"input":xe("invalid",t);var _=d=g=c=null,b=null,R=null;for(l in r)if(r.hasOwnProperty(l)){var k=r[l];if(k!=null)switch(l){case"name":c=k;break;case"type":g=k;break;case"checked":b=k;break;case"defaultChecked":R=k;break;case"value":d=k;break;case"defaultValue":_=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Ge(t,n,l,k,r,null)}}em(t,d,_,b,R,g,c,!1),Vl(t);return;case"select":xe("invalid",t),l=g=d=null;for(c in r)if(r.hasOwnProperty(c)&&(_=r[c],_!=null))switch(c){case"value":d=_;break;case"defaultValue":g=_;break;case"multiple":l=_;default:Ge(t,n,c,_,r,null)}n=d,r=g,t.multiple=!!l,n!=null?or(t,!!l,n,!1):r!=null&&or(t,!!l,r,!0);return;case"textarea":xe("invalid",t),d=c=l=null;for(g in r)if(r.hasOwnProperty(g)&&(_=r[g],_!=null))switch(g){case"value":l=_;break;case"defaultValue":c=_;break;case"children":d=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:Ge(t,n,g,_,r,null)}nm(t,l,c,d),Vl(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ge(t,n,b,l,r,null)}return;case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<zs.length;l++)xe(zs[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ge(t,n,R,l,r,null)}return;default:if(nc(n)){for(k in r)r.hasOwnProperty(k)&&(l=r[k],l!==void 0&&jf(t,n,k,l,r,void 0));return}}for(_ in r)r.hasOwnProperty(_)&&(l=r[_],l!=null&&Ge(t,n,_,l,r,null))}function I0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,g=null,_=null,b=null,R=null,k=null;for(U in r){var j=r[U];if(r.hasOwnProperty(U)&&j!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":b=j;default:l.hasOwnProperty(U)||Ge(t,n,U,null,l,j)}}for(var I in l){var U=l[I];if(j=r[I],l.hasOwnProperty(I)&&(U!=null||j!=null))switch(I){case"type":d=U;break;case"name":c=U;break;case"checked":R=U;break;case"defaultChecked":k=U;break;case"value":g=U;break;case"defaultValue":_=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,n));break;default:U!==j&&Ge(t,n,I,U,l,j)}}ec(t,g,_,b,R,k,d,c);return;case"select":U=g=_=I=null;for(d in r)if(b=r[d],r.hasOwnProperty(d)&&b!=null)switch(d){case"value":break;case"multiple":U=b;default:l.hasOwnProperty(d)||Ge(t,n,d,null,l,b)}for(c in l)if(d=l[c],b=r[c],l.hasOwnProperty(c)&&(d!=null||b!=null))switch(c){case"value":I=d;break;case"defaultValue":_=d;break;case"multiple":g=d;default:d!==b&&Ge(t,n,c,d,l,b)}n=_,r=g,l=U,I!=null?or(t,!!r,I,!1):!!l!=!!r&&(n!=null?or(t,!!r,n,!0):or(t,!!r,r?[]:"",!1));return;case"textarea":U=I=null;for(_ in r)if(c=r[_],r.hasOwnProperty(_)&&c!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ge(t,n,_,null,l,c)}for(g in l)if(c=l[g],d=r[g],l.hasOwnProperty(g)&&(c!=null||d!=null))switch(g){case"value":I=c;break;case"defaultValue":U=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==d&&Ge(t,n,g,c,l,d)}tm(t,I,U);return;case"option":for(var le in r)if(I=r[le],r.hasOwnProperty(le)&&I!=null&&!l.hasOwnProperty(le))switch(le){case"selected":t.selected=!1;break;default:Ge(t,n,le,null,l,I)}for(b in l)if(I=l[b],U=r[b],l.hasOwnProperty(b)&&I!==U&&(I!=null||U!=null))switch(b){case"selected":t.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Ge(t,n,b,I,l,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in r)I=r[be],r.hasOwnProperty(be)&&I!=null&&!l.hasOwnProperty(be)&&Ge(t,n,be,null,l,I);for(R in l)if(I=l[R],U=r[R],l.hasOwnProperty(R)&&I!==U&&(I!=null||U!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,n));break;default:Ge(t,n,R,I,l,U)}return;default:if(nc(n)){for(var ct in r)I=r[ct],r.hasOwnProperty(ct)&&I!==void 0&&!l.hasOwnProperty(ct)&&jf(t,n,ct,void 0,l,I);for(k in l)I=l[k],U=r[k],!l.hasOwnProperty(k)||I===U||I===void 0&&U===void 0||jf(t,n,k,I,l,U);return}}for(var D in r)I=r[D],r.hasOwnProperty(D)&&I!=null&&!l.hasOwnProperty(D)&&Ge(t,n,D,null,l,I);for(j in l)I=l[j],U=r[j],!l.hasOwnProperty(j)||I===U||I==null&&U==null||Ge(t,n,j,I,l,U)}var qf=null,Vf=null;function ko(t){return t.nodeType===9?t:t.ownerDocument}function Kg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $g(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ff(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Gf=null;function L0(){var t=window.event;return t&&t.type==="popstate"?t===Gf?!1:(Gf=t,!0):(Gf=null,!1)}var Wg=typeof setTimeout=="function"?setTimeout:void 0,U0=typeof clearTimeout=="function"?clearTimeout:void 0,Zg=typeof Promise=="function"?Promise:void 0,k0=typeof queueMicrotask=="function"?queueMicrotask:typeof Zg<"u"?function(t){return Zg.resolve(null).then(t).catch(z0)}:Wg;function z0(t){setTimeout(function(){throw t})}function Yf(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Ys(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Ys(n)}function Qf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Qf(r),ui(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function H0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function P0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Hn(t.nextSibling),t===null))return null;return t}function Hn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function Jg(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function e_(t,n,r){switch(n=ko(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Dn=new Map,t_=new Set;function zo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ai=K.d;K.d={f:B0,r:j0,D:q0,C:V0,L:F0,m:G0,X:Q0,S:Y0,M:X0};function B0(){var t=Ai.f(),n=Do();return t||n}function j0(t){var n=kt(t);n!==null&&n.tag===5&&n.type==="form"?Np(n):Ai.r(t)}var kr=typeof document>"u"?null:document;function n_(t,n,r){var l=kr;if(l&&typeof n=="string"&&n){var c=vn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),t_.has(c)||(t_.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pt(n,"link",t),We(n),l.head.appendChild(n)))}}function q0(t){Ai.D(t),n_("dns-prefetch",t,null)}function V0(t,n){Ai.C(t,n),n_("preconnect",t,n)}function F0(t,n,r){Ai.L(t,n,r);var l=kr;if(l&&t&&n){var c='link[rel="preload"][as="'+vn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+vn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+vn(r.imageSizes)+'"]')):c+='[href="'+vn(t)+'"]';var d=c;switch(n){case"style":d=zr(t);break;case"script":d=Hr(t)}Dn.has(d)||(t=se({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Dn.set(d,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ps(d))||n==="script"&&l.querySelector(Bs(d))||(n=l.createElement("link"),Pt(n,"link",t),We(n),l.head.appendChild(n)))}}function G0(t,n){Ai.m(t,n);var r=kr;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+vn(l)+'"][href="'+vn(t)+'"]',d=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Hr(t)}if(!Dn.has(d)&&(t=se({rel:"modulepreload",href:t},n),Dn.set(d,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Bs(d)))return}l=r.createElement("link"),Pt(l,"link",t),We(l),r.head.appendChild(l)}}}function Y0(t,n,r){Ai.S(t,n,r);var l=kr;if(l&&t){var c=_n(l).hoistableStyles,d=zr(t);n=n||"default";var g=c.get(d);if(!g){var _={loading:0,preload:null};if(g=l.querySelector(Ps(d)))_.loading=5;else{t=se({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Dn.get(d))&&Xf(t,r);var b=g=l.createElement("link");We(b),Pt(b,"link",t),b._p=new Promise(function(R,k){b.onload=R,b.onerror=k}),b.addEventListener("load",function(){_.loading|=1}),b.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Ho(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:_},c.set(d,g)}}}function Q0(t,n){Ai.X(t,n);var r=kr;if(r&&t){var l=_n(r).hoistableScripts,c=Hr(t),d=l.get(c);d||(d=r.querySelector(Bs(c)),d||(t=se({src:t,async:!0},n),(n=Dn.get(c))&&Kf(t,n),d=r.createElement("script"),We(d),Pt(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function X0(t,n){Ai.M(t,n);var r=kr;if(r&&t){var l=_n(r).hoistableScripts,c=Hr(t),d=l.get(c);d||(d=r.querySelector(Bs(c)),d||(t=se({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&Kf(t,n),d=r.createElement("script"),We(d),Pt(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function i_(t,n,r,l){var c=(c=Et.current)?zo(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=zr(r.href),r=_n(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=zr(r.href);var d=_n(c).hoistableStyles,g=d.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,g),(d=c.querySelector(Ps(t)))&&!d._p&&(g.instance=d,g.state.loading=5),Dn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Dn.set(t,r),d||K0(c,t,r,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Hr(r),r=_n(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function zr(t){return'href="'+vn(t)+'"'}function Ps(t){return'link[rel="stylesheet"]['+t+"]"}function a_(t){return se({},t,{"data-precedence":t.precedence,precedence:null})}function K0(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pt(n,"link",r),We(n),t.head.appendChild(n))}function Hr(t){return'[src="'+vn(t)+'"]'}function Bs(t){return"script[async]"+t}function r_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+vn(r.href)+'"]');if(l)return n.instance=l,We(l),l;var c=se({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),We(l),Pt(l,"style",c),Ho(l,r.precedence,t),n.instance=l;case"stylesheet":c=zr(r.href);var d=t.querySelector(Ps(c));if(d)return n.state.loading|=4,n.instance=d,We(d),d;l=a_(r),(c=Dn.get(c))&&Xf(l,c),d=(t.ownerDocument||t).createElement("link"),We(d);var g=d;return g._p=new Promise(function(_,b){g.onload=_,g.onerror=b}),Pt(d,"link",l),n.state.loading|=4,Ho(d,r.precedence,t),n.instance=d;case"script":return d=Hr(r.src),(c=t.querySelector(Bs(d)))?(n.instance=c,We(c),c):(l=r,(c=Dn.get(d))&&(l=se({},r),Kf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),We(c),Pt(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,Ho(l,r.precedence,t));return n.instance}function Ho(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,d=c,g=0;g<l.length;g++){var _=l[g];if(_.dataset.precedence===n)d=_;else if(d!==c)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Kf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Po=null;function s_(t,n,r){if(Po===null){var l=new Map,c=Po=new Map;c.set(r,l)}else c=Po,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var d=r[c];if(!(d[gn]||d[re]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(n)||"";g=t+g;var _=l.get(g);_?_.push(d):l.set(g,[d])}}return l}function l_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function $0(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function o_(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var js=null;function W0(){}function Z0(t,n,r){if(js===null)throw Error(s(475));var l=js;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var c=zr(r.href),d=t.querySelector(Ps(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Bo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=d,We(d);return}d=t.ownerDocument||t,r=a_(r),(c=Dn.get(c))&&Xf(r,c),d=d.createElement("link"),We(d);var g=d;g._p=new Promise(function(_,b){g.onload=_,g.onerror=b}),Pt(d,"link",r),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=Bo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function J0(){if(js===null)throw Error(s(475));var t=js;return t.stylesheets&&t.count===0&&$f(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&$f(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Bo(){if(this.count--,this.count===0){if(this.stylesheets)$f(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var jo=null;function $f(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,jo=new Map,n.forEach(eT,t),jo=null,Bo.call(t))}function eT(t,n){if(!(n.state.loading&4)){var r=jo.get(t);if(r)var l=r.get(null);else{r=new Map,jo.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var g=c[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),d=r.get(g)||l,d===l&&r.set(null,c),r.set(g,c),this.count++,l=Bo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),d?d.parentNode.insertBefore(c,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var qs={$$typeof:S,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function tT(t,n,r,l,c,d,g,_){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=O(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O(0),this.hiddenUpdates=O(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function u_(t,n,r,l,c,d,g,_,b,R,k,j){return t=new tT(t,n,r,g,_,b,R,j),n=1,d===!0&&(n|=24),d=An(3,null,null,n),t.current=d,d.stateNode=t,n=Ac(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:n},of(d),t}function c_(t){return t?(t=gr,t):gr}function f_(t,n,r,l,c,d){c=c_(c),l.context===null?l.context=c:l.pendingContext=c,l=Yi(n),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=Qi(t,l,n),r!==null&&(Xt(r,t,n),ws(r,t,n))}function d_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Wf(t,n){d_(t,n),(t=t.alternate)&&d_(t,n)}function h_(t){if(t.tag===13){var n=Pi(t,67108864);n!==null&&Xt(n,t,67108864),Wf(t,67108864)}}var qo=!0;function nT(t,n,r,l){var c=G.T;G.T=null;var d=K.p;try{K.p=2,Zf(t,n,r,l)}finally{K.p=d,G.T=c}}function iT(t,n,r,l){var c=G.T;G.T=null;var d=K.p;try{K.p=8,Zf(t,n,r,l)}finally{K.p=d,G.T=c}}function Zf(t,n,r,l){if(qo){var c=Jf(l);if(c===null)Bf(t,n,l,Vo,r),p_(t,l);else if(rT(c,t,n,r,l))l.stopPropagation();else if(p_(t,l),n&4&&-1<aT.indexOf(t)){for(;c!==null;){var d=kt(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=Xn(d.pendingLanes);if(g!==0){var _=d;for(_.pendingLanes|=2,_.entangledLanes|=2;g;){var b=1<<31-Nt(g);_.entanglements[1]|=b,g&=~b}ei(d),!(st&6)&&(Ro=jt()+500,ks(0))}}break;case 13:_=Pi(d,2),_!==null&&Xt(_,d,2),Do(),Wf(d,2)}if(d=Jf(l),d===null&&Bf(t,n,l,Vo,r),d===c)break;c=d}c!==null&&l.stopPropagation()}else Bf(t,n,l,null,r)}}function Jf(t){return t=ac(t),ed(t)}var Vo=null;function ed(t){if(Vo=null,t=Ut(t),t!==null){var n=ue(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=Ne(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Vo=t,null}function m_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ya()){case In:return 2;case pn:return 8;case va:case es:return 32;case zl:return 268435456;default:return 32}default:return 32}}var td=!1,ea=null,ta=null,na=null,Vs=new Map,Fs=new Map,ia=[],aT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p_(t,n){switch(t){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":Vs.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(n.pointerId)}}function Gs(t,n,r,l,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},n!==null&&(n=kt(n),n!==null&&h_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function rT(t,n,r,l,c){switch(n){case"focusin":return ea=Gs(ea,t,n,r,l,c),!0;case"dragenter":return ta=Gs(ta,t,n,r,l,c),!0;case"mouseover":return na=Gs(na,t,n,r,l,c),!0;case"pointerover":var d=c.pointerId;return Vs.set(d,Gs(Vs.get(d)||null,t,n,r,l,c)),!0;case"gotpointercapture":return d=c.pointerId,Fs.set(d,Gs(Fs.get(d)||null,t,n,r,l,c)),!0}return!1}function g_(t){var n=Ut(t.target);if(n!==null){var r=ue(n);if(r!==null){if(n=r.tag,n===13){if(n=Ne(r),n!==null){t.blockedOn=n,ae(t.priority,function(){if(r.tag===13){var l=un(),c=Pi(r,l);c!==null&&Xt(c,r,l),Wf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Jf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);ic=l,r.target.dispatchEvent(l),ic=null}else return n=kt(r),n!==null&&h_(n),t.blockedOn=r,!1;n.shift()}return!0}function __(t,n,r){Fo(t)&&r.delete(n)}function sT(){td=!1,ea!==null&&Fo(ea)&&(ea=null),ta!==null&&Fo(ta)&&(ta=null),na!==null&&Fo(na)&&(na=null),Vs.forEach(__),Fs.forEach(__)}function Go(t,n){t.blockedOn===n&&(t.blockedOn=null,td||(td=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,sT)))}var Yo=null;function y_(t){Yo!==t&&(Yo=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Yo===t&&(Yo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(ed(l||r)===null)continue;break}var d=kt(r);d!==null&&(t.splice(n,3),n-=3,Vc(d,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Ys(t){function n(b){return Go(b,t)}ea!==null&&Go(ea,t),ta!==null&&Go(ta,t),na!==null&&Go(na,t),Vs.forEach(n),Fs.forEach(n);for(var r=0;r<ia.length;r++){var l=ia[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ia.length&&(r=ia[0],r.blockedOn===null);)g_(r),r.blockedOn===null&&ia.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],d=r[l+1],g=c[fe]||null;if(typeof d=="function")g||y_(r);else if(g){var _=null;if(d&&d.hasAttribute("formAction")){if(c=d,g=d[fe]||null)_=g.formAction;else if(ed(c)!==null)continue}else _=g.action;typeof _=="function"?r[l+1]=_:(r.splice(l,3),l-=3),y_(r)}}}function nd(t){this._internalRoot=t}Qo.prototype.render=nd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=un();f_(r,l,t,n,null,null)},Qo.prototype.unmount=nd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&Ir(),f_(t.current,2,null,t,null,null),Do(),n[je]=null}};function Qo(t){this._internalRoot=t}Qo.prototype.unstable_scheduleHydration=function(t){if(t){var n=te();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ia.length&&n!==0&&n<ia[r].priority;r++);ia.splice(r,0,t),r===0&&g_(t)}};var v_=e.version;if(v_!=="19.0.0")throw Error(s(527,v_,"19.0.0"));K.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=q(n),t=t!==null?ie(t):null,t=t===null?null:t.stateNode,t};var lT={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:G,findFiberByHostInstance:Ut,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xo.isDisabled&&Xo.supportsFiber)try{zi=Xo.inject(lT),qt=Xo}catch{}}return Xs.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=kp,d=zp,g=Hp,_=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=u_(t,1,!1,null,null,r,l,c,d,g,_,null),t[je]=n.current,Pf(t.nodeType===8?t.parentNode:t),new nd(n)},Xs.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",d=kp,g=zp,_=Hp,b=null,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(R=r.formState)),n=u_(t,1,!0,n,r??null,l,c,d,g,_,b,R),n.context=c_(null),r=n.current,l=un(),c=Yi(l),c.callback=null,Qi(r,c,l),n.current.lanes=l,L(n,l),ei(n),t[je]=n.current,Pf(t),new Qo(n)},Xs.version="19.0.0",Xs}var D_;function _T(){if(D_)return rd.exports;D_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),rd.exports=gT(),rd.exports}var yT=_T();const vT=lv(yT);var Ks={},O_;function ET(){if(O_)return Ks;O_=1,Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.parse=f,Ks.serialize=p;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function f(E,S){const N=new u,H=E.length;if(H<2)return N;const z=(S==null?void 0:S.decode)||y;let P=0;do{const Q=E.indexOf("=",P);if(Q===-1)break;const Z=E.indexOf(";",P),de=Z===-1?H:Z;if(Q>de){P=E.lastIndexOf(";",Q-1)+1;continue}const W=h(E,P,Q),M=m(E,Q,W),_e=E.slice(W,M);if(N[_e]===void 0){let Se=h(E,Q+1,de),G=m(E,de,Se);const se=z(E.slice(Se,G));N[_e]=se}P=de+1}while(P<H);return N}function h(E,S,N){do{const H=E.charCodeAt(S);if(H!==32&&H!==9)return S}while(++S<N);return N}function m(E,S,N){for(;S>N;){const H=E.charCodeAt(--S);if(H!==32&&H!==9)return S+1}return N}function p(E,S,N){const H=(N==null?void 0:N.encode)||encodeURIComponent;if(!i.test(E))throw new TypeError(`argument name is invalid: ${E}`);const z=H(S);if(!e.test(z))throw new TypeError(`argument val is invalid: ${S}`);let P=E+"="+z;if(!N)return P;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);P+="; Max-Age="+N.maxAge}if(N.domain){if(!a.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);P+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);P+="; Path="+N.path}if(N.expires){if(!v(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);P+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(P+="; HttpOnly"),N.secure&&(P+="; Secure"),N.partitioned&&(P+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return P}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return o.call(E)==="[object Date]"}return Ks}ET();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var M_="popstate";function bT(i={}){function e(s,o){let{pathname:u,search:f,hash:h}=s.location;return hl("",{pathname:u,search:f,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function a(s,o){return typeof o=="string"?o:ha(o)}return TT(e,a,null,i)}function Ie(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Bt(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ST(){return Math.random().toString(36).substring(2,10)}function x_(i,e){return{usr:i.state,key:i.key,idx:e}}function hl(i,e,a=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?_a(e):e,state:a,key:e&&e.key||s||ST()}}function ha({pathname:i="/",search:e="",hash:a=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),a&&a!=="#"&&(i+=a.charAt(0)==="#"?a:"#"+a),i}function _a(i){let e={};if(i){let a=i.indexOf("#");a>=0&&(e.hash=i.substring(a),i=i.substring(0,a));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function TT(i,e,a,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,h="POP",m=null,p=y();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function y(){return(f.state||{idx:null}).idx}function v(){h="POP";let z=y(),P=z==null?null:z-p;p=z,m&&m({action:h,location:H.location,delta:P})}function E(z,P){h="PUSH";let Q=hl(H.location,z,P);p=y()+1;let Z=x_(Q,p),de=H.createHref(Q);try{f.pushState(Z,"",de)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;o.location.assign(de)}u&&m&&m({action:h,location:H.location,delta:1})}function S(z,P){h="REPLACE";let Q=hl(H.location,z,P);p=y();let Z=x_(Q,p),de=H.createHref(Q);f.replaceState(Z,"",de),u&&m&&m({action:h,location:H.location,delta:0})}function N(z){let P=o.location.origin!=="null"?o.location.origin:o.location.href,Q=typeof z=="string"?z:ha(z);return Q=Q.replace(/ $/,"%20"),Ie(P,`No window.location.(origin|href) available to create URL for href: ${Q}`),new URL(Q,P)}let H={get action(){return h},get location(){return i(o,f)},listen(z){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(M_,v),m=z,()=>{o.removeEventListener(M_,v),m=null}},createHref(z){return e(o,z)},createURL:N,encodeLocation(z){let P=N(z);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:E,replace:S,go(z){return f.go(z)}};return H}var CT=new Set(["lazy","caseSensitive","path","id","index","children"]);function wT(i){return i.index===!0}function su(i,e,a=[],s={}){return i.map((o,u)=>{let f=[...a,String(u)],h=typeof o.id=="string"?o.id:f.join("-");if(Ie(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ie(!s[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),wT(o)){let m={...o,...e(o),id:h};return s[h]=m,m}else{let m={...o,...e(o),id:h,children:void 0};return s[h]=m,o.children&&(m.children=su(o.children,e,f,s)),m}})}function la(i,e,a="/"){return eu(i,e,a,!1)}function eu(i,e,a,s){let o=typeof e=="string"?_a(e):e,u=Fn(o.pathname||"/",a);if(u==null)return null;let f=uv(i);AT(f);let h=null;for(let m=0;h==null&&m<f.length;++m){let p=HT(u);h=kT(f[m],p,s)}return h}function RT(i,e){let{route:a,pathname:s,params:o}=i;return{id:a.id,pathname:s,params:o,data:e[a.id],handle:a.handle}}function uv(i,e=[],a=[],s=""){let o=(u,f,h)=>{let m={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(Ie(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let p=ti([s,m.relativePath]),y=a.concat(m);u.children&&u.children.length>0&&(Ie(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),uv(u.children,e,y,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:LT(p,u.index),routesMeta:y})};return i.forEach((u,f)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))o(u,f);else for(let m of cv(u.path))o(u,f,m)}),e}function cv(i){let e=i.split("/");if(e.length===0)return[];let[a,...s]=e,o=a.endsWith("?"),u=a.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=cv(s.join("/")),h=[];return h.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&h.push(...f),h.map(m=>i.startsWith("/")&&m===""?"/":m)}function AT(i){i.sort((e,a)=>e.score!==a.score?a.score-e.score:UT(e.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var NT=/^:[\w-]+$/,DT=3,OT=2,MT=1,xT=10,IT=-2,I_=i=>i==="*";function LT(i,e){let a=i.split("/"),s=a.length;return a.some(I_)&&(s+=IT),e&&(s+=OT),a.filter(o=>!I_(o)).reduce((o,u)=>o+(NT.test(u)?DT:u===""?MT:xT),s)}function UT(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function kT(i,e,a=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let h=0;h<s.length;++h){let m=s[h],p=h===s.length-1,y=u==="/"?e:e.slice(u.length)||"/",v=lu({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!v&&p&&a&&!s[s.length-1].route.index&&(v=lu({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),f.push({params:o,pathname:ti([u,v.pathname]),pathnameBase:jT(ti([u,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(u=ti([u,v.pathnameBase]))}return f}function lu(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[a,s]=zT(i.path,i.caseSensitive,i.end),o=e.match(a);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:v},E)=>{if(y==="*"){let N=h[E]||"";f=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const S=h[E];return v&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:i}}function zT(i,e=!1,a=!0){Bt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,m)=>(s.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function HT(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Fn(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let a=e.endsWith("/")?e.length-1:e.length,s=i.charAt(a);return s&&s!=="/"?null:i.slice(a)||"/"}function PT(i,e="/"){let{pathname:a,search:s="",hash:o=""}=typeof i=="string"?_a(i):i;return{pathname:a?a.startsWith("/")?a:BT(a,e):e,search:qT(s),hash:VT(o)}}function BT(i,e){let a=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function ud(i,e,a,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fv(i){return i.filter((e,a)=>a===0||e.route.path&&e.route.path.length>0)}function Jd(i){let e=fv(i);return e.map((a,s)=>s===e.length-1?a.pathname:a.pathnameBase)}function eh(i,e,a,s=!1){let o;typeof i=="string"?o=_a(i):(o={...i},Ie(!o.pathname||!o.pathname.includes("?"),ud("?","pathname","search",o)),Ie(!o.pathname||!o.pathname.includes("#"),ud("#","pathname","hash",o)),Ie(!o.search||!o.search.includes("#"),ud("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,h;if(f==null)h=a;else{let v=e.length-1;if(!s&&f.startsWith("..")){let E=f.split("/");for(;E[0]==="..";)E.shift(),v-=1;o.pathname=E.join("/")}h=v>=0?e[v]:"/"}let m=PT(o,h),p=f&&f!=="/"&&f.endsWith("/"),y=(u||f===".")&&a.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var ti=i=>i.join("/").replace(/\/\/+/g,"/"),jT=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),qT=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,VT=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,ou=class{constructor(i,e,a,s=!1){this.status=i,this.statusText=e||"",this.internal=s,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function ml(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var dv=["POST","PUT","PATCH","DELETE"],FT=new Set(dv),GT=["GET",...dv],YT=new Set(GT),QT=new Set([301,302,303,307,308]),XT=new Set([307,308]),cd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},KT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$s={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},th=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$T=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),hv="remix-router-transitions",mv=Symbol("ResetLoaderData");function WT(i){const e=i.window?i.window:typeof window<"u"?window:void 0,a=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ie(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=i.mapRouteProperties||$T,o={},u=su(i.routes,s,void 0,o),f,h=i.basename||"/",m=i.dataStrategy||nC,p=i.patchRoutesOnNavigation,y={...i.future},v=null,E=new Set,S=null,N=null,H=null,z=i.hydrationData!=null,P=la(u,i.history.location,h),Q=!1,Z=null;if(P==null&&!p){let C=On(404,{pathname:i.history.location.pathname}),{matches:O,route:L}=F_(u);P=O,Z={[L.id]:C}}P&&!i.hydrationData&&oi(P,u,i.history.location.pathname).active&&(P=null);let de;if(P)if(P.some(C=>C.route.lazy))de=!1;else if(!P.some(C=>C.route.loader))de=!0;else{let C=i.hydrationData?i.hydrationData.loaderData:null,O=i.hydrationData?i.hydrationData.errors:null;if(O){let L=P.findIndex(V=>O[V.route.id]!==void 0);de=P.slice(0,L+1).every(V=>!xd(V.route,C,O))}else de=P.every(L=>!xd(L.route,C,O))}else{de=!1,P=[];let C=oi(null,u,i.history.location.pathname);C.active&&C.matches&&(Q=!0,P=C.matches)}let W,M={historyAction:i.history.action,location:i.history.location,matches:P,initialized:de,navigation:cd,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||Z,fetchers:new Map,blockers:new Map},_e="POP",Se=!1,G,se=!1,Le=new Map,dt=null,wt=!1,ht=!1,Ve=new Set,Y=new Map,me=0,ue=-1,Ne=new Map,T=new Set,q=new Map,ie=new Map,ee=new Set,K=new Map,Te,pe=null;function vt(){if(v=i.history.listen(({action:C,location:O,delta:L})=>{if(Te){Te(),Te=void 0;return}Bt(K.size===0||L!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let V=Pl({currentLocation:M.location,nextLocation:O,historyAction:C});if(V&&L!=null){let J=new Promise(oe=>{Te=oe});i.history.go(L*-1),Nt(V,{state:"blocked",location:O,proceed(){Nt(V,{state:"proceeding",proceed:void 0,reset:void 0,location:O}),J.then(()=>i.history.go(L))},reset(){let oe=new Map(M.blockers);oe.set(V,$s),ve({blockers:oe})}});return}return At(C,O)}),a){hC(e,Le);let C=()=>mC(e,Le);e.addEventListener("pagehide",C),dt=()=>e.removeEventListener("pagehide",C)}return M.initialized||At("POP",M.location,{initialHydration:!0}),W}function Ue(){v&&v(),dt&&dt(),E.clear(),G&&G.abort(),M.fetchers.forEach((C,O)=>es(O)),M.blockers.forEach((C,O)=>Ln(O))}function Ee(C){return E.add(C),()=>E.delete(C)}function ve(C,O={}){M={...M,...C};let L=[],V=[];M.fetchers.forEach((J,oe)=>{J.state==="idle"&&(ee.has(oe)?L.push(oe):V.push(oe))}),ee.forEach(J=>{!M.fetchers.has(J)&&!Y.has(J)&&L.push(J)}),[...E].forEach(J=>J(M,{deletedFetchers:L,viewTransitionOpts:O.viewTransitionOpts,flushSync:O.flushSync===!0})),L.forEach(J=>es(J)),V.forEach(J=>M.fetchers.delete(J))}function $e(C,O,{flushSync:L}={}){var $,re;let V=M.actionData!=null&&M.navigation.formMethod!=null&&Pn(M.navigation.formMethod)&&M.navigation.state==="loading"&&(($=C.state)==null?void 0:$._isRedirect)!==!0,J;O.actionData?Object.keys(O.actionData).length>0?J=O.actionData:J=null:V?J=M.actionData:J=null;let oe=O.loaderData?q_(M.loaderData,O.loaderData,O.matches||[],O.errors):M.loaderData,ye=M.blockers;ye.size>0&&(ye=new Map(ye),ye.forEach((fe,je)=>ye.set(je,$s)));let te=Se===!0||M.navigation.formMethod!=null&&Pn(M.navigation.formMethod)&&((re=C.state)==null?void 0:re._isRedirect)!==!0;f&&(u=f,f=void 0),wt||_e==="POP"||(_e==="PUSH"?i.history.push(C,C.state):_e==="REPLACE"&&i.history.replace(C,C.state));let ae;if(_e==="POP"){let fe=Le.get(M.location.pathname);fe&&fe.has(C.pathname)?ae={currentLocation:M.location,nextLocation:C}:Le.has(C.pathname)&&(ae={currentLocation:C,nextLocation:M.location})}else if(se){let fe=Le.get(M.location.pathname);fe?fe.add(C.pathname):(fe=new Set([C.pathname]),Le.set(M.location.pathname,fe)),ae={currentLocation:M.location,nextLocation:C}}ve({...O,actionData:J,loaderData:oe,historyAction:_e,location:C,initialized:!0,navigation:cd,revalidation:"idle",restoreScrollPosition:Xn(C,O.matches||M.matches),preventScrollReset:te,blockers:ye},{viewTransitionOpts:ae,flushSync:L===!0}),_e="POP",Se=!1,se=!1,wt=!1,ht=!1,pe==null||pe.resolve(),pe=null}async function Rt(C,O){if(typeof C=="number"){i.history.go(C);return}let L=Md(M.location,M.matches,h,C,O==null?void 0:O.fromRouteId,O==null?void 0:O.relative),{path:V,submission:J,error:oe}=L_(!1,L,O),ye=M.location,te=hl(M.location,V,O&&O.state);te={...te,...i.history.encodeLocation(te)};let ae=O&&O.replace!=null?O.replace:void 0,$="PUSH";ae===!0?$="REPLACE":ae===!1||J!=null&&Pn(J.formMethod)&&J.formAction===M.location.pathname+M.location.search&&($="REPLACE");let re=O&&"preventScrollReset"in O?O.preventScrollReset===!0:void 0,fe=(O&&O.flushSync)===!0,je=Pl({currentLocation:ye,nextLocation:te,historyAction:$});if(je){Nt(je,{state:"blocked",location:te,proceed(){Nt(je,{state:"proceeding",proceed:void 0,reset:void 0,location:te}),Rt(C,O)},reset(){let mt=new Map(M.blockers);mt.set(je,$s),ve({blockers:mt})}});return}await At($,te,{submission:J,pendingError:oe,preventScrollReset:re,replace:O&&O.replace,enableViewTransition:O&&O.viewTransition,flushSync:fe})}function Et(){pe||(pe=pC()),ya(),ve({revalidation:"loading"});let C=pe.promise;return M.navigation.state==="submitting"?C:M.navigation.state==="idle"?(At(M.historyAction,M.location,{startUninterruptedRevalidation:!0}),C):(At(_e||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:se===!0}),C)}async function At(C,O,L){G&&G.abort(),G=null,_e=C,wt=(L&&L.startUninterruptedRevalidation)===!0,sr(M.location,M.matches),Se=(L&&L.preventScrollReset)===!0,se=(L&&L.enableViewTransition)===!0;let V=f||u,J=L&&L.overrideNavigation,oe=L!=null&&L.initialHydration&&M.matches&&M.matches.length>0&&!Q?M.matches:la(V,O,h),ye=(L&&L.flushSync)===!0;if(oe&&M.initialized&&!ht&&oC(M.location,O)&&!(L&&L.submission&&Pn(L.submission.formMethod))){$e(O,{matches:oe},{flushSync:ye});return}let te=oi(oe,V,O.pathname);if(te.active&&te.matches&&(oe=te.matches),!oe){let{error:tt,notFoundMatches:Qe,route:lt}=ts(O.pathname);$e(O,{matches:Qe,loaderData:{},errors:{[lt.id]:tt}},{flushSync:ye});return}G=new AbortController;let ae=Pr(i.history,O,G.signal,L&&L.submission),$;if(L&&L.pendingError)$=[Ga(oe).route.id,{type:"error",error:L.pendingError}];else if(L&&L.submission&&Pn(L.submission.formMethod)){let tt=await $t(ae,O,L.submission,oe,te.active,{replace:L.replace,flushSync:ye});if(tt.shortCircuited)return;if(tt.pendingActionResult){let[Qe,lt]=tt.pendingActionResult;if(cn(lt)&&ml(lt.error)&&lt.error.status===404){G=null,$e(O,{matches:tt.matches,loaderData:{},errors:{[Qe]:lt.error}});return}}oe=tt.matches||oe,$=tt.pendingActionResult,J=fd(O,L.submission),ye=!1,te.active=!1,ae=Pr(i.history,ae.url,ae.signal)}let{shortCircuited:re,matches:fe,loaderData:je,errors:mt}=await Yt(ae,O,oe,te.active,J,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,L&&L.initialHydration===!0,ye,$);re||(G=null,$e(O,{matches:fe||oe,...V_($),loaderData:je,errors:mt}))}async function $t(C,O,L,V,J,oe={}){ya();let ye=fC(O,L);if(ve({navigation:ye},{flushSync:oe.flushSync===!0}),J){let $=await Kn(V,O.pathname,C.signal);if($.type==="aborted")return{shortCircuited:!0};if($.type==="error"){let re=Ga($.partialMatches).route.id;return{matches:$.partialMatches,pendingActionResult:[re,{type:"error",error:$.error}]}}else if($.matches)V=$.matches;else{let{notFoundMatches:re,error:fe,route:je}=ts(O.pathname);return{matches:re,pendingActionResult:[je.id,{type:"error",error:fe}]}}}let te,ae=il(V,O);if(!ae.route.action&&!ae.route.lazy)te={type:"error",error:On(405,{method:C.method,pathname:O.pathname,routeId:ae.route.id})};else if(te=(await Yn("action",M,C,[ae],V,null))[ae.route.id],C.signal.aborted)return{shortCircuited:!0};if(Ya(te)){let $;return oe&&oe.replace!=null?$=oe.replace:$=P_(te.response.headers.get("Location"),new URL(C.url),h)===M.location.pathname+M.location.search,await mn(C,te,!0,{submission:L,replace:$}),{shortCircuited:!0}}if(cn(te)){let $=Ga(V,ae.route.id);return(oe&&oe.replace)!==!0&&(_e="PUSH"),{matches:V,pendingActionResult:[$.route.id,te]}}return{matches:V,pendingActionResult:[ae.route.id,te]}}async function Yt(C,O,L,V,J,oe,ye,te,ae,$,re){let fe=J||fd(O,oe),je=oe||ye||Y_(fe),mt=!wt&&!ae;if(V){if(mt){let it=hn(re);ve({navigation:fe,...it!==void 0?{actionData:it}:{}},{flushSync:$})}let ke=await Kn(L,O.pathname,C.signal);if(ke.type==="aborted")return{shortCircuited:!0};if(ke.type==="error"){let it=Ga(ke.partialMatches).route.id;return{matches:ke.partialMatches,loaderData:{},errors:{[it]:ke.error}}}else if(ke.matches)L=ke.matches;else{let{error:it,notFoundMatches:Wt,route:Ta}=ts(O.pathname);return{matches:Wt,loaderData:{},errors:{[Ta.id]:it}}}}let tt=f||u,[Qe,lt]=k_(i.history,M,L,je,O,ae===!0,ht,Ve,ee,q,T,tt,h,re);if(ue=++me,Qe.length===0&&lt.length===0){let ke=zi();return $e(O,{matches:L,loaderData:{},errors:re&&cn(re[1])?{[re[0]]:re[1].error}:null,...V_(re),...ke?{fetchers:new Map(M.fetchers)}:{}},{flushSync:$}),{shortCircuited:!0}}if(mt){let ke={};if(!V){ke.navigation=fe;let it=hn(re);it!==void 0&&(ke.actionData=it)}lt.length>0&&(ke.fetchers=li(lt)),ve(ke,{flushSync:$})}lt.forEach(ke=>{Qn(ke.key),ke.controller&&Y.set(ke.key,ke.controller)});let gn=()=>lt.forEach(ke=>Qn(ke.key));G&&G.signal.addEventListener("abort",gn);let{loaderResults:ui,fetcherResults:Ut}=await jt(M,L,Qe,lt,C);if(C.signal.aborted)return{shortCircuited:!0};G&&G.signal.removeEventListener("abort",gn),lt.forEach(ke=>Y.delete(ke.key));let kt=Ko(ui);if(kt)return await mn(C,kt.result,!0,{replace:te}),{shortCircuited:!0};if(kt=Ko(Ut),kt)return T.add(kt.key),await mn(C,kt.result,!0,{replace:te}),{shortCircuited:!0};let{loaderData:ci,errors:_n}=j_(M,L,ui,re,lt,Ut);ae&&M.errors&&(_n={...M.errors,..._n});let We=zi(),ba=qt(ue),Sa=We||ba||lt.length>0;return{matches:L,loaderData:ci,errors:_n,...Sa?{fetchers:new Map(M.fetchers)}:{}}}function hn(C){if(C&&!cn(C[1]))return{[C[0]]:C[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function li(C){return C.forEach(O=>{let L=M.fetchers.get(O.key),V=Ws(void 0,L?L.data:void 0);M.fetchers.set(O.key,V)}),new Map(M.fetchers)}async function Ui(C,O,L,V){Qn(C);let J=(V&&V.flushSync)===!0,oe=f||u,ye=Md(M.location,M.matches,h,L,O,V==null?void 0:V.relative),te=la(oe,ye,h),ae=oi(te,oe,ye);if(ae.active&&ae.matches&&(te=ae.matches),!te){pn(C,O,On(404,{pathname:ye}),{flushSync:J});return}let{path:$,submission:re,error:fe}=L_(!0,ye,V);if(fe){pn(C,O,fe,{flushSync:J});return}let je=il(te,$),mt=(V&&V.preventScrollReset)===!0;if(re&&Pn(re.formMethod)){await ki(C,O,$,je,te,ae.active,J,mt,re);return}q.set(C,{routeId:O,path:$}),await xn(C,O,$,je,te,ae.active,J,mt,re)}async function ki(C,O,L,V,J,oe,ye,te,ae){ya(),q.delete(C);function $(at){if(!at.route.action&&!at.route.lazy){let fi=On(405,{method:ae.formMethod,pathname:L,routeId:O});return pn(C,O,fi,{flushSync:ye}),!0}return!1}if(!oe&&$(V))return;let re=M.fetchers.get(C);In(C,dC(ae,re),{flushSync:ye});let fe=new AbortController,je=Pr(i.history,L,fe.signal,ae);if(oe){let at=await Kn(J,L,je.signal);if(at.type==="aborted")return;if(at.type==="error"){pn(C,O,at.error,{flushSync:ye});return}else if(at.matches){if(J=at.matches,V=il(J,L),$(V))return}else{pn(C,O,On(404,{pathname:L}),{flushSync:ye});return}}Y.set(C,fe);let mt=me,Qe=(await Yn("action",M,je,[V],J,C))[V.route.id];if(je.signal.aborted){Y.get(C)===fe&&Y.delete(C);return}if(ee.has(C)){if(Ya(Qe)||cn(Qe)){In(C,sa(void 0));return}}else{if(Ya(Qe))if(Y.delete(C),ue>mt){In(C,sa(void 0));return}else return T.add(C),In(C,Ws(ae)),mn(je,Qe,!1,{fetcherSubmission:ae,preventScrollReset:te});if(cn(Qe)){pn(C,O,Qe.error);return}}let lt=M.navigation.location||M.location,gn=Pr(i.history,lt,fe.signal),ui=f||u,Ut=M.navigation.state!=="idle"?la(ui,M.navigation.location,h):M.matches;Ie(Ut,"Didn't find any matches after fetcher action");let kt=++me;Ne.set(C,kt);let ci=Ws(ae,Qe.data);M.fetchers.set(C,ci);let[_n,We]=k_(i.history,M,Ut,ae,lt,!1,ht,Ve,ee,q,T,ui,h,[V.route.id,Qe]);We.filter(at=>at.key!==C).forEach(at=>{let fi=at.key,jl=M.fetchers.get(fi),lr=Ws(void 0,jl?jl.data:void 0);M.fetchers.set(fi,lr),Qn(fi),at.controller&&Y.set(fi,at.controller)}),ve({fetchers:new Map(M.fetchers)});let ba=()=>We.forEach(at=>Qn(at.key));fe.signal.addEventListener("abort",ba);let{loaderResults:Sa,fetcherResults:ke}=await jt(M,Ut,_n,We,gn);if(fe.signal.aborted)return;fe.signal.removeEventListener("abort",ba),Ne.delete(C),Y.delete(C),We.forEach(at=>Y.delete(at.key));let it=Ko(Sa);if(it)return mn(gn,it.result,!1,{preventScrollReset:te});if(it=Ko(ke),it)return T.add(it.key),mn(gn,it.result,!1,{preventScrollReset:te});let{loaderData:Wt,errors:Ta}=j_(M,Ut,Sa,void 0,We,ke);if(M.fetchers.has(C)){let at=sa(Qe.data);M.fetchers.set(C,at)}qt(kt),M.navigation.state==="loading"&&kt>ue?(Ie(_e,"Expected pending action"),G&&G.abort(),$e(M.navigation.location,{matches:Ut,loaderData:Wt,errors:Ta,fetchers:new Map(M.fetchers)})):(ve({errors:Ta,loaderData:q_(M.loaderData,Wt,Ut,Ta),fetchers:new Map(M.fetchers)}),ht=!1)}async function xn(C,O,L,V,J,oe,ye,te,ae){let $=M.fetchers.get(C);In(C,Ws(ae,$?$.data:void 0),{flushSync:ye});let re=new AbortController,fe=Pr(i.history,L,re.signal);if(oe){let Qe=await Kn(J,L,fe.signal);if(Qe.type==="aborted")return;if(Qe.type==="error"){pn(C,O,Qe.error,{flushSync:ye});return}else if(Qe.matches)J=Qe.matches,V=il(J,L);else{pn(C,O,On(404,{pathname:L}),{flushSync:ye});return}}Y.set(C,re);let je=me,tt=(await Yn("loader",M,fe,[V],J,C))[V.route.id];if(Y.get(C)===re&&Y.delete(C),!fe.signal.aborted){if(ee.has(C)){In(C,sa(void 0));return}if(Ya(tt))if(ue>je){In(C,sa(void 0));return}else{T.add(C),await mn(fe,tt,!1,{preventScrollReset:te});return}if(cn(tt)){pn(C,O,tt.error);return}In(C,sa(tt.data))}}async function mn(C,O,L,{submission:V,fetcherSubmission:J,preventScrollReset:oe,replace:ye}={}){O.response.headers.has("X-Remix-Revalidate")&&(ht=!0);let te=O.response.headers.get("Location");Ie(te,"Expected a Location header on the redirect Response"),te=P_(te,new URL(C.url),h);let ae=hl(M.location,te,{_isRedirect:!0});if(a){let tt=!1;if(O.response.headers.has("X-Remix-Reload-Document"))tt=!0;else if(th.test(te)){const Qe=i.history.createURL(te);tt=Qe.origin!==e.location.origin||Fn(Qe.pathname,h)==null}if(tt){ye?e.location.replace(te):e.location.assign(te);return}}G=null;let $=ye===!0||O.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:re,formAction:fe,formEncType:je}=M.navigation;!V&&!J&&re&&fe&&je&&(V=Y_(M.navigation));let mt=V||J;if(XT.has(O.response.status)&&mt&&Pn(mt.formMethod))await At($,ae,{submission:{...mt,formAction:te},preventScrollReset:oe||Se,enableViewTransition:L?se:void 0});else{let tt=fd(ae,V);await At($,ae,{overrideNavigation:tt,fetcherSubmission:J,preventScrollReset:oe||Se,enableViewTransition:L?se:void 0})}}async function Yn(C,O,L,V,J,oe){let ye,te={};try{ye=await iC(m,C,O,L,V,J,oe,o,s)}catch(ae){return V.forEach($=>{te[$.route.id]={type:"error",error:ae}}),te}for(let[ae,$]of Object.entries(ye))if(uC($)){let re=$.result;te[ae]={type:"redirect",response:sC(re,L,ae,J,h)}}else te[ae]=await rC($);return te}async function jt(C,O,L,V,J){let oe=Yn("loader",C,J,L,O,null),ye=Promise.all(V.map(async $=>{if($.matches&&$.match&&$.controller){let fe=(await Yn("loader",C,Pr(i.history,$.path,$.controller.signal),[$.match],$.matches,$.key))[$.match.route.id];return{[$.key]:fe}}else return Promise.resolve({[$.key]:{type:"error",error:On(404,{pathname:$.path})}})})),te=await oe,ae=(await ye).reduce(($,re)=>Object.assign($,re),{});return{loaderResults:te,fetcherResults:ae}}function ya(){ht=!0,q.forEach((C,O)=>{Y.has(O)&&Ve.add(O),Qn(O)})}function In(C,O,L={}){M.fetchers.set(C,O),ve({fetchers:new Map(M.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function pn(C,O,L,V={}){let J=Ga(M.matches,O);es(C),ve({errors:{[J.route.id]:L},fetchers:new Map(M.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function va(C){return ie.set(C,(ie.get(C)||0)+1),ee.has(C)&&ee.delete(C),M.fetchers.get(C)||KT}function es(C){let O=M.fetchers.get(C);Y.has(C)&&!(O&&O.state==="loading"&&Ne.has(C))&&Qn(C),q.delete(C),Ne.delete(C),T.delete(C),ee.delete(C),Ve.delete(C),M.fetchers.delete(C)}function zl(C){let O=(ie.get(C)||0)-1;O<=0?(ie.delete(C),ee.add(C)):ie.set(C,O),ve({fetchers:new Map(M.fetchers)})}function Qn(C){let O=Y.get(C);O&&(O.abort(),Y.delete(C))}function Hl(C){for(let O of C){let L=va(O),V=sa(L.data);M.fetchers.set(O,V)}}function zi(){let C=[],O=!1;for(let L of T){let V=M.fetchers.get(L);Ie(V,`Expected fetcher: ${L}`),V.state==="loading"&&(T.delete(L),C.push(L),O=!0)}return Hl(C),O}function qt(C){let O=[];for(let[L,V]of Ne)if(V<C){let J=M.fetchers.get(L);Ie(J,`Expected fetcher: ${L}`),J.state==="loading"&&(Qn(L),Ne.delete(L),O.push(L))}return Hl(O),O.length>0}function Wu(C,O){let L=M.blockers.get(C)||$s;return K.get(C)!==O&&K.set(C,O),L}function Ln(C){M.blockers.delete(C),K.delete(C)}function Nt(C,O){let L=M.blockers.get(C)||$s;Ie(L.state==="unblocked"&&O.state==="blocked"||L.state==="blocked"&&O.state==="blocked"||L.state==="blocked"&&O.state==="proceeding"||L.state==="blocked"&&O.state==="unblocked"||L.state==="proceeding"&&O.state==="unblocked",`Invalid blocker state transition: ${L.state} -> ${O.state}`);let V=new Map(M.blockers);V.set(C,O),ve({blockers:V})}function Pl({currentLocation:C,nextLocation:O,historyAction:L}){if(K.size===0)return;K.size>1&&Bt(!1,"A router only supports one blocker at a time");let V=Array.from(K.entries()),[J,oe]=V[V.length-1],ye=M.blockers.get(J);if(!(ye&&ye.state==="proceeding")&&oe({currentLocation:C,nextLocation:O,historyAction:L}))return J}function ts(C){let O=On(404,{pathname:C}),L=f||u,{matches:V,route:J}=F_(L);return{notFoundMatches:V,route:J,error:O}}function Zu(C,O,L){if(S=C,H=O,N=L||null,!z&&M.navigation===cd){z=!0;let V=Xn(M.location,M.matches);V!=null&&ve({restoreScrollPosition:V})}return()=>{S=null,H=null,N=null}}function Ea(C,O){return N&&N(C,O.map(V=>RT(V,M.loaderData)))||C.key}function sr(C,O){if(S&&H){let L=Ea(C,O);S[L]=H()}}function Xn(C,O){if(S){let L=Ea(C,O),V=S[L];if(typeof V=="number")return V}return null}function oi(C,O,L){if(p)if(C){if(Object.keys(C[0].params).length>0)return{active:!0,matches:eu(O,L,h,!0)}}else return{active:!0,matches:eu(O,L,h,!0)||[]};return{active:!1,matches:null}}async function Kn(C,O,L){if(!p)return{type:"success",matches:C};let V=C;for(;;){let J=f==null,oe=f||u,ye=o;try{await p({path:O,matches:V,patch:($,re)=>{L.aborted||H_($,re,oe,ye,s)}})}catch($){return{type:"error",error:$,partialMatches:V}}finally{J&&!L.aborted&&(u=[...u])}if(L.aborted)return{type:"aborted"};let te=la(oe,O,h);if(te)return{type:"success",matches:te};let ae=eu(oe,O,h,!0);if(!ae||V.length===ae.length&&V.every(($,re)=>$.route.id===ae[re].route.id))return{type:"success",matches:null};V=ae}}function Ju(C){o={},f=su(C,s,void 0,o)}function Bl(C,O){let L=f==null;H_(C,O,f||u,o,s),L&&(u=[...u],ve({}))}return W={get basename(){return h},get future(){return y},get state(){return M},get routes(){return u},get window(){return e},initialize:vt,subscribe:Ee,enableScrollRestoration:Zu,navigate:Rt,fetch:Ui,revalidate:Et,createHref:C=>i.history.createHref(C),encodeLocation:C=>i.history.encodeLocation(C),getFetcher:va,deleteFetcher:zl,dispose:Ue,getBlocker:Wu,deleteBlocker:Ln,patchRoutes:Bl,_internalFetchControllers:Y,_internalSetRoutes:Ju},W}function ZT(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function Md(i,e,a,s,o,u){let f,h;if(o){f=[];for(let p of e)if(f.push(p),p.route.id===o){h=p;break}}else f=e,h=e[e.length-1];let m=eh(s||".",Jd(f),Fn(i.pathname,a)||i.pathname,u==="path");if(s==null&&(m.search=i.search,m.hash=i.hash),(s==null||s===""||s===".")&&h){let p=nh(m.search);if(h.route.index&&!p)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&p){let y=new URLSearchParams(m.search),v=y.getAll("index");y.delete("index"),v.filter(S=>S).forEach(S=>y.append("index",S));let E=y.toString();m.search=E?`?${E}`:""}}return a!=="/"&&(m.pathname=m.pathname==="/"?a:ti([a,m.pathname])),ha(m)}function L_(i,e,a){if(!a||!ZT(a))return{path:e};if(a.formMethod&&!cC(a.formMethod))return{path:e,error:On(405,{method:a.formMethod})};let s=()=>({path:e,error:On(400,{type:"invalid-body"})}),u=(a.formMethod||"get").toUpperCase(),f=gv(e);if(a.body!==void 0){if(a.formEncType==="text/plain"){if(!Pn(u))return s();let v=typeof a.body=="string"?a.body:a.body instanceof FormData||a.body instanceof URLSearchParams?Array.from(a.body.entries()).reduce((E,[S,N])=>`${E}${S}=${N}
`,""):String(a.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:a.formEncType,formData:void 0,json:void 0,text:v}}}else if(a.formEncType==="application/json"){if(!Pn(u))return s();try{let v=typeof a.body=="string"?JSON.parse(a.body):a.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:a.formEncType,formData:void 0,json:v,text:void 0}}}catch{return s()}}}Ie(typeof FormData=="function","FormData is not available in this environment");let h,m;if(a.formData)h=Id(a.formData),m=a.formData;else if(a.body instanceof FormData)h=Id(a.body),m=a.body;else if(a.body instanceof URLSearchParams)h=a.body,m=B_(h);else if(a.body==null)h=new URLSearchParams,m=new FormData;else try{h=new URLSearchParams(a.body),m=B_(h)}catch{return s()}let p={formMethod:u,formAction:f,formEncType:a&&a.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(Pn(p.formMethod))return{path:e,submission:p};let y=_a(e);return i&&y.search&&nh(y.search)&&h.append("index",""),y.search=`?${h}`,{path:ha(y),submission:p}}function U_(i,e,a=!1){let s=i.findIndex(o=>o.route.id===e);return s>=0?i.slice(0,a?s+1:s):i}function k_(i,e,a,s,o,u,f,h,m,p,y,v,E,S){let N=S?cn(S[1])?S[1].error:S[1].data:void 0,H=i.createURL(e.location),z=i.createURL(o),P=a;u&&e.errors?P=U_(a,Object.keys(e.errors)[0],!0):S&&cn(S[1])&&(P=U_(a,S[0]));let Q=S?S[1].statusCode:void 0,Z=Q&&Q>=400,de=P.filter((M,_e)=>{let{route:Se}=M;if(Se.lazy)return!0;if(Se.loader==null)return!1;if(u)return xd(Se,e.loaderData,e.errors);if(JT(e.loaderData,e.matches[_e],M))return!0;let G=e.matches[_e],se=M;return z_(M,{currentUrl:H,currentParams:G.params,nextUrl:z,nextParams:se.params,...s,actionResult:N,actionStatus:Q,defaultShouldRevalidate:Z?!1:f||H.pathname+H.search===z.pathname+z.search||H.search!==z.search||eC(G,se)})}),W=[];return p.forEach((M,_e)=>{if(u||!a.some(dt=>dt.route.id===M.routeId)||m.has(_e))return;let Se=la(v,M.path,E);if(!Se){W.push({key:_e,routeId:M.routeId,path:M.path,matches:null,match:null,controller:null});return}let G=e.fetchers.get(_e),se=il(Se,M.path),Le=!1;y.has(_e)?Le=!1:h.has(_e)?(h.delete(_e),Le=!0):G&&G.state!=="idle"&&G.data===void 0?Le=f:Le=z_(se,{currentUrl:H,currentParams:e.matches[e.matches.length-1].params,nextUrl:z,nextParams:a[a.length-1].params,...s,actionResult:N,actionStatus:Q,defaultShouldRevalidate:Z?!1:f}),Le&&W.push({key:_e,routeId:M.routeId,path:M.path,matches:Se,match:se,controller:new AbortController})}),[de,W]}function xd(i,e,a){if(i.lazy)return!0;if(!i.loader)return!1;let s=e!=null&&e[i.id]!==void 0,o=a!=null&&a[i.id]!==void 0;return!s&&o?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!s&&!o}function JT(i,e,a){let s=!e||a.route.id!==e.route.id,o=!i.hasOwnProperty(a.route.id);return s||o}function eC(i,e){let a=i.route.path;return i.pathname!==e.pathname||a!=null&&a.endsWith("*")&&i.params["*"]!==e.params["*"]}function z_(i,e){if(i.route.shouldRevalidate){let a=i.route.shouldRevalidate(e);if(typeof a=="boolean")return a}return e.defaultShouldRevalidate}function H_(i,e,a,s,o){let u;if(i){let m=s[i];Ie(m,`No route found to patch children into: routeId = ${i}`),m.children||(m.children=[]),u=m.children}else u=a;let f=e.filter(m=>!u.some(p=>pv(m,p))),h=su(f,o,[i||"_","patch",String((u==null?void 0:u.length)||"0")],s);u.push(...h)}function pv(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((a,s)=>{var o;return(o=e.children)==null?void 0:o.some(u=>pv(a,u))}):!1}async function tC(i,e,a){if(!i.lazy)return;let s=await i.lazy();if(!i.lazy)return;let o=a[i.id];Ie(o,"No route found in manifest");let u={};for(let f in s){let m=o[f]!==void 0&&f!=="hasErrorBoundary";Bt(!m,`Route "${o.id}" has a static property "${f}" defined but its lazy function is also returning a value for this property. The lazy route property "${f}" will be ignored.`),!m&&!CT.has(f)&&(u[f]=s[f])}Object.assign(o,u),Object.assign(o,{...e(o),lazy:void 0})}async function nC({matches:i}){let e=i.filter(s=>s.shouldLoad);return(await Promise.all(e.map(s=>s.resolve()))).reduce((s,o,u)=>Object.assign(s,{[e[u].route.id]:o}),{})}async function iC(i,e,a,s,o,u,f,h,m,p){let y=u.map(S=>S.route.lazy?tC(S.route,m,h):void 0),v=u.map((S,N)=>{let H=y[N],z=o.some(Q=>Q.route.id===S.route.id);return{...S,shouldLoad:z,resolve:async Q=>(Q&&s.method==="GET"&&(S.route.lazy||S.route.loader)&&(z=!0),z?aC(e,s,S,H,Q,p):Promise.resolve({type:"data",result:void 0}))}}),E=await i({matches:v,request:s,params:u[0].params,fetcherKey:f,context:p});try{await Promise.all(y)}catch{}return E}async function aC(i,e,a,s,o,u){let f,h,m=p=>{let y,v=new Promise((N,H)=>y=H);h=()=>y(),e.signal.addEventListener("abort",h);let E=N=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${i}" [routeId: ${a.route.id}]`)):p({request:e,params:a.params,context:u},...N!==void 0?[N]:[]),S=(async()=>{try{return{type:"data",result:await(o?o(H=>E(H)):E())}}catch(N){return{type:"error",result:N}}})();return Promise.race([S,v])};try{let p=a.route[i];if(s)if(p){let y,[v]=await Promise.all([m(p).catch(E=>{y=E}),s]);if(y!==void 0)throw y;f=v}else if(await s,p=a.route[i],p)f=await m(p);else if(i==="action"){let y=new URL(e.url),v=y.pathname+y.search;throw On(405,{method:e.method,pathname:v,routeId:a.route.id})}else return{type:"data",result:void 0};else if(p)f=await m(p);else{let y=new URL(e.url),v=y.pathname+y.search;throw On(404,{pathname:v})}}catch(p){return{type:"error",result:p}}finally{h&&e.signal.removeEventListener("abort",h)}return f}async function rC(i){var s,o,u,f,h,m;let{result:e,type:a}=i;if(_v(e)){let p;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(y){return{type:"error",error:y}}return a==="error"?{type:"error",error:new ou(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return a==="error"?G_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new ou(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:ml(e)?e.status:void 0,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:ml(e)?e.status:void 0}:G_(e)?{type:"data",data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(m=e.init)!=null&&m.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function sC(i,e,a,s,o){let u=i.headers.get("Location");if(Ie(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!th.test(u)){let f=s.slice(0,s.findIndex(h=>h.route.id===a)+1);u=Md(new URL(e.url),f,o,u),i.headers.set("Location",u)}return i}function P_(i,e,a){if(th.test(i)){let s=i,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),u=Fn(o.pathname,a)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return i}function Pr(i,e,a,s){let o=i.createURL(gv(e)).toString(),u={signal:a};if(s&&Pn(s.formMethod)){let{formMethod:f,formEncType:h}=s;u.method=f.toUpperCase(),h==="application/json"?(u.headers=new Headers({"Content-Type":h}),u.body=JSON.stringify(s.json)):h==="text/plain"?u.body=s.text:h==="application/x-www-form-urlencoded"&&s.formData?u.body=Id(s.formData):u.body=s.formData}return new Request(o,u)}function Id(i){let e=new URLSearchParams;for(let[a,s]of i.entries())e.append(a,typeof s=="string"?s:s.name);return e}function B_(i){let e=new FormData;for(let[a,s]of i.entries())e.append(a,s);return e}function lC(i,e,a,s=!1,o=!1){let u={},f=null,h,m=!1,p={},y=a&&cn(a[1])?a[1].error:void 0;return i.forEach(v=>{if(!(v.route.id in e))return;let E=v.route.id,S=e[E];if(Ie(!Ya(S),"Cannot handle redirect results in processLoaderData"),cn(S)){let N=S.error;if(y!==void 0&&(N=y,y=void 0),f=f||{},o)f[E]=N;else{let H=Ga(i,E);f[H.route.id]==null&&(f[H.route.id]=N)}s||(u[E]=mv),m||(m=!0,h=ml(S.error)?S.error.status:500),S.headers&&(p[E]=S.headers)}else u[E]=S.data,S.statusCode&&S.statusCode!==200&&!m&&(h=S.statusCode),S.headers&&(p[E]=S.headers)}),y!==void 0&&a&&(f={[a[0]]:y},u[a[0]]=void 0),{loaderData:u,errors:f,statusCode:h||200,loaderHeaders:p}}function j_(i,e,a,s,o,u){let{loaderData:f,errors:h}=lC(e,a,s);return o.forEach(m=>{let{key:p,match:y,controller:v}=m,E=u[p];if(Ie(E,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(cn(E)){let S=Ga(i.matches,y==null?void 0:y.route.id);h&&h[S.route.id]||(h={...h,[S.route.id]:E.error}),i.fetchers.delete(p)}else if(Ya(E))Ie(!1,"Unhandled fetcher revalidation redirect");else{let S=sa(E.data);i.fetchers.set(p,S)}}),{loaderData:f,errors:h}}function q_(i,e,a,s){let o=Object.entries(e).filter(([,u])=>u!==mv).reduce((u,[f,h])=>(u[f]=h,u),{});for(let u of a){let f=u.route.id;if(!e.hasOwnProperty(f)&&i.hasOwnProperty(f)&&u.route.loader&&(o[f]=i[f]),s&&s.hasOwnProperty(f))break}return o}function V_(i){return i?cn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function Ga(i,e){return(e?i.slice(0,i.findIndex(s=>s.route.id===e)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function F_(i){let e=i.length===1?i[0]:i.find(a=>a.index||!a.path||a.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function On(i,{pathname:e,routeId:a,method:s,type:o,message:u}={}){let f="Unknown Server Error",h="Unknown @remix-run/router error";return i===400?(f="Bad Request",s&&e&&a?h=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${a}", so there is no way to handle the request.`:o==="invalid-body"&&(h="Unable to encode submission body")):i===403?(f="Forbidden",h=`Route "${a}" does not match URL "${e}"`):i===404?(f="Not Found",h=`No route matches URL "${e}"`):i===405&&(f="Method Not Allowed",s&&e&&a?h=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${a}", so there is no way to handle the request.`:s&&(h=`Invalid request method "${s.toUpperCase()}"`)),new ou(i||500,f,new Error(h),!0)}function Ko(i){let e=Object.entries(i);for(let a=e.length-1;a>=0;a--){let[s,o]=e[a];if(Ya(o))return{key:s,result:o}}}function gv(i){let e=typeof i=="string"?_a(i):i;return ha({...e,hash:""})}function oC(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function uC(i){return _v(i.result)&&QT.has(i.result.status)}function cn(i){return i.type==="error"}function Ya(i){return(i&&i.type)==="redirect"}function G_(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function _v(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function cC(i){return YT.has(i.toUpperCase())}function Pn(i){return FT.has(i.toUpperCase())}function nh(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function il(i,e){let a=typeof e=="string"?_a(e).search:e.search;if(i[i.length-1].route.index&&nh(a||""))return i[i.length-1];let s=fv(i);return s[s.length-1]}function Y_(i){let{formMethod:e,formAction:a,formEncType:s,text:o,formData:u,json:f}=i;if(!(!e||!a||!s)){if(o!=null)return{formMethod:e,formAction:a,formEncType:s,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:a,formEncType:s,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:a,formEncType:s,formData:void 0,json:f,text:void 0}}}function fd(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function fC(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ws(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function dC(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function sa(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function hC(i,e){try{let a=i.sessionStorage.getItem(hv);if(a){let s=JSON.parse(a);for(let[o,u]of Object.entries(s||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function mC(i,e){if(e.size>0){let a={};for(let[s,o]of e)a[s]=[...o];try{i.sessionStorage.setItem(hv,JSON.stringify(a))}catch(s){Bt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function pC(){let i,e,a=new Promise((s,o)=>{i=async u=>{s(u);try{await a}catch{}},e=async u=>{o(u);try{await a}catch{}}});return{promise:a,resolve:i,reject:e}}var nr=A.createContext(null);nr.displayName="DataRouter";var Rl=A.createContext(null);Rl.displayName="DataRouterState";var ih=A.createContext({isTransitioning:!1});ih.displayName="ViewTransition";var yv=A.createContext(new Map);yv.displayName="Fetchers";var gC=A.createContext(null);gC.displayName="Await";var ri=A.createContext(null);ri.displayName="Navigation";var xu=A.createContext(null);xu.displayName="Location";var si=A.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var ah=A.createContext(null);ah.displayName="RouteError";function _C(i,{relative:e}={}){Ie(Al(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=A.useContext(ri),{hash:o,pathname:u,search:f}=Nl(i,{relative:e}),h=u;return a!=="/"&&(h=u==="/"?a:ti([a,u])),s.createHref({pathname:h,search:f,hash:o})}function Al(){return A.useContext(xu)!=null}function ir(){return Ie(Al(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(xu).location}var vv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ev(i){A.useContext(ri).static||A.useLayoutEffect(i)}function bv(){let{isDataRoute:i}=A.useContext(si);return i?xC():yC()}function yC(){Ie(Al(),"useNavigate() may be used only in the context of a <Router> component.");let i=A.useContext(nr),{basename:e,navigator:a}=A.useContext(ri),{matches:s}=A.useContext(si),{pathname:o}=ir(),u=JSON.stringify(Jd(s)),f=A.useRef(!1);return Ev(()=>{f.current=!0}),A.useCallback((m,p={})=>{if(Bt(f.current,vv),!f.current)return;if(typeof m=="number"){a.go(m);return}let y=eh(m,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ti([e,y.pathname])),(p.replace?a.replace:a.push)(y,p.state,p)},[e,a,u,o,i])}var vC=A.createContext(null);function EC(i){let e=A.useContext(si).outlet;return e&&A.createElement(vC.Provider,{value:i},e)}function Nl(i,{relative:e}={}){let{matches:a}=A.useContext(si),{pathname:s}=ir(),o=JSON.stringify(Jd(a));return A.useMemo(()=>eh(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function bC(i,e,a,s){Ie(Al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=A.useContext(ri),{matches:f}=A.useContext(si),h=f[f.length-1],m=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let Q=v&&v.path||"";Sv(p,!v||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let E=ir(),S;S=E;let N=S.pathname||"/",H=N;if(y!=="/"){let Q=y.replace(/^\//,"").split("/");H="/"+N.replace(/^\//,"").split("/").slice(Q.length).join("/")}let z=!u&&a&&a.matches&&a.matches.length>0?a.matches:la(i,{pathname:H});return Bt(v||z!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Bt(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),RC(z&&z.map(Q=>Object.assign({},Q,{params:Object.assign({},m,Q.params),pathname:ti([y,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?y:ti([y,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),f,a,s)}function SC(){let i=MC(),e=ml(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),a=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=A.createElement(A.Fragment,null,A.createElement("p",null,"💿 Hey developer 👋"),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:u},"ErrorBoundary")," or"," ",A.createElement("code",{style:u},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),a?A.createElement("pre",{style:o},a):null,f)}var TC=A.createElement(SC,null),CC=class extends A.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?A.createElement(si.Provider,{value:this.props.routeContext},A.createElement(ah.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wC({routeContext:i,match:e,children:a}){let s=A.useContext(nr);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(si.Provider,{value:i},a)}function RC(i,e=[],a=null,s=null){if(i==null){if(!a)return null;if(a.errors)i=a.matches;else if(e.length===0&&!a.initialized&&a.matches.length>0)i=a.matches;else return null}let o=i,u=a==null?void 0:a.errors;if(u!=null){let m=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);Ie(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,h=-1;if(a)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:y,errors:v}=a,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||E){f=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((m,p,y)=>{let v,E=!1,S=null,N=null;a&&(v=u&&p.route.id?u[p.route.id]:void 0,S=p.route.errorElement||TC,f&&(h<0&&y===0?(Sv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,N=null):h===y&&(E=!0,N=p.route.hydrateFallbackElement||null)));let H=e.concat(o.slice(0,y+1)),z=()=>{let P;return v?P=S:E?P=N:p.route.Component?P=A.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=m,A.createElement(wC,{match:p,routeContext:{outlet:m,matches:H,isDataRoute:a!=null},children:P})};return a&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?A.createElement(CC,{location:a.location,revalidation:a.revalidation,component:S,error:v,children:z(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):z()},null)}function rh(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AC(i){let e=A.useContext(nr);return Ie(e,rh(i)),e}function NC(i){let e=A.useContext(Rl);return Ie(e,rh(i)),e}function DC(i){let e=A.useContext(si);return Ie(e,rh(i)),e}function sh(i){let e=DC(i),a=e.matches[e.matches.length-1];return Ie(a.route.id,`${i} can only be used on routes that contain a unique "id"`),a.route.id}function OC(){return sh("useRouteId")}function MC(){var s;let i=A.useContext(ah),e=NC("useRouteError"),a=sh("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[a]}function xC(){let{router:i}=AC("useNavigate"),e=sh("useNavigate"),a=A.useRef(!1);return Ev(()=>{a.current=!0}),A.useCallback(async(o,u={})=>{Bt(a.current,vv),a.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Q_={};function Sv(i,e,a){!e&&!Q_[i]&&(Q_[i]=!0,Bt(!1,a))}var X_={};function K_(i,e){!i&&!X_[e]&&(X_[e]=!0,console.warn(e))}function IC(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&Bt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:A.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&Bt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:A.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&Bt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:A.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var LC=class{constructor(){this.status="pending",this.promise=new Promise((e,a)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",a(s))}})}};function UC({router:i,flushSync:e}){let[a,s]=A.useState(i.state),[o,u]=A.useState(),[f,h]=A.useState({isTransitioning:!1}),[m,p]=A.useState(),[y,v]=A.useState(),[E,S]=A.useState(),N=A.useRef(new Map),H=A.useCallback((Z,{deletedFetchers:de,flushSync:W,viewTransitionOpts:M})=>{Z.fetchers.forEach((Se,G)=>{Se.data!==void 0&&N.current.set(G,Se.data)}),de.forEach(Se=>N.current.delete(Se)),K_(W===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let _e=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(K_(M==null||_e,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!M||!_e){e&&W?e(()=>s(Z)):A.startTransition(()=>s(Z));return}if(e&&W){e(()=>{y&&(m&&m.resolve(),y.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let Se=i.window.document.startViewTransition(()=>{e(()=>s(Z))});Se.finished.finally(()=>{e(()=>{p(void 0),v(void 0),u(void 0),h({isTransitioning:!1})})}),e(()=>v(Se));return}y?(m&&m.resolve(),y.skipTransition(),S({state:Z,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(u(Z),h({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[i.window,e,y,m]);A.useLayoutEffect(()=>i.subscribe(H),[i,H]),A.useEffect(()=>{f.isTransitioning&&!f.flushSync&&p(new LC)},[f]),A.useEffect(()=>{if(m&&o&&i.window){let Z=o,de=m.promise,W=i.window.document.startViewTransition(async()=>{A.startTransition(()=>s(Z)),await de});W.finished.finally(()=>{p(void 0),v(void 0),u(void 0),h({isTransitioning:!1})}),v(W)}},[o,m,i.window]),A.useEffect(()=>{m&&o&&a.location.key===o.location.key&&m.resolve()},[m,y,a.location,o]),A.useEffect(()=>{!f.isTransitioning&&E&&(u(E.state),h({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),S(void 0))},[f.isTransitioning,E]);let z=A.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:Z=>i.navigate(Z),push:(Z,de,W)=>i.navigate(Z,{state:de,preventScrollReset:W==null?void 0:W.preventScrollReset}),replace:(Z,de,W)=>i.navigate(Z,{replace:!0,state:de,preventScrollReset:W==null?void 0:W.preventScrollReset})}),[i]),P=i.basename||"/",Q=A.useMemo(()=>({router:i,navigator:z,static:!1,basename:P}),[i,z,P]);return A.createElement(A.Fragment,null,A.createElement(nr.Provider,{value:Q},A.createElement(Rl.Provider,{value:a},A.createElement(yv.Provider,{value:N.current},A.createElement(ih.Provider,{value:f},A.createElement(PC,{basename:P,location:a.location,navigationType:a.historyAction,navigator:z},A.createElement(kC,{routes:i.routes,future:i.future,state:a})))))),null)}var kC=A.memo(zC);function zC({routes:i,future:e,state:a}){return bC(i,void 0,a,e)}function HC(i){return EC(i.context)}function PC({basename:i="/",children:e=null,location:a,navigationType:s="POP",navigator:o,static:u=!1}){Ie(!Al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),h=A.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof a=="string"&&(a=_a(a));let{pathname:m="/",search:p="",hash:y="",state:v=null,key:E="default"}=a,S=A.useMemo(()=>{let N=Fn(m,f);return N==null?null:{location:{pathname:N,search:p,hash:y,state:v,key:E},navigationType:s}},[f,m,p,y,v,E,s]);return Bt(S!=null,`<Router basename="${f}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:A.createElement(ri.Provider,{value:h},A.createElement(xu.Provider,{children:e,value:S}))}var tu="get",nu="application/x-www-form-urlencoded";function Iu(i){return i!=null&&typeof i.tagName=="string"}function BC(i){return Iu(i)&&i.tagName.toLowerCase()==="button"}function jC(i){return Iu(i)&&i.tagName.toLowerCase()==="form"}function qC(i){return Iu(i)&&i.tagName.toLowerCase()==="input"}function VC(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function FC(i,e){return i.button===0&&(!e||e==="_self")&&!VC(i)}var $o=null;function GC(){if($o===null)try{new FormData(document.createElement("form"),0),$o=!1}catch{$o=!0}return $o}var YC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dd(i){return i!=null&&!YC.has(i)?(Bt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nu}"`),null):i}function QC(i,e){let a,s,o,u,f;if(jC(i)){let h=i.getAttribute("action");s=h?Fn(h,e):null,a=i.getAttribute("method")||tu,o=dd(i.getAttribute("enctype"))||nu,u=new FormData(i)}else if(BC(i)||qC(i)&&(i.type==="submit"||i.type==="image")){let h=i.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||h.getAttribute("action");if(s=m?Fn(m,e):null,a=i.getAttribute("formmethod")||h.getAttribute("method")||tu,o=dd(i.getAttribute("formenctype"))||dd(h.getAttribute("enctype"))||nu,u=new FormData(h,i),!GC()){let{name:p,type:y,value:v}=i;if(y==="image"){let E=p?`${p}.`:"";u.append(`${E}x`,"0"),u.append(`${E}y`,"0")}else p&&u.append(p,v)}}else{if(Iu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=tu,s=null,o=nu,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:a.toLowerCase(),encType:o,formData:u,body:f}}function lh(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function XC(i,e){if(i.id in e)return e[i.id];try{let a=await import(i.module);return e[i.id]=a,a}catch(a){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KC(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function $C(i,e,a){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await XC(u,a);return f.links?f.links():[]}return[]}));return ew(s.flat(1).filter(KC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $_(i,e,a,s,o,u){let f=(m,p)=>a[p]?m.route.id!==a[p].route.id:!0,h=(m,p)=>{var y;return a[p].pathname!==m.pathname||((y=a[p].route.path)==null?void 0:y.endsWith("*"))&&a[p].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,p)=>f(m,p)||h(m,p)):u==="data"?e.filter((m,p)=>{var v;let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(f(m,p)||h(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=a[0])==null?void 0:v.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function WC(i,e){return ZC(i.map(a=>{let s=e.routes[a.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function ZC(i){return[...new Set(i)]}function JC(i){let e={},a=Object.keys(i).sort();for(let s of a)e[s]=i[s];return e}function ew(i,e){let a=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(JC(o));return a.has(u)||(a.add(u),s.push({key:u,link:o})),s},[])}function tw(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function nw(){let i=A.useContext(nr);return lh(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function iw(){let i=A.useContext(Rl);return lh(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var oh=A.createContext(void 0);oh.displayName="FrameworkContext";function Tv(){let i=A.useContext(oh);return lh(i,"You must render this element inside a <HydratedRouter> element"),i}function aw(i,e){let a=A.useContext(oh),[s,o]=A.useState(!1),[u,f]=A.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,E=A.useRef(null);A.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let H=P=>{P.forEach(Q=>{f(Q.isIntersecting)})},z=new IntersectionObserver(H,{threshold:.5});return E.current&&z.observe(E.current),()=>{z.disconnect()}}},[i]),A.useEffect(()=>{if(s){let H=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(H)}}},[s]);let S=()=>{o(!0)},N=()=>{o(!1),f(!1)};return a?i!=="intent"?[u,E,{}]:[u,E,{onFocus:Zs(h,S),onBlur:Zs(m,N),onMouseEnter:Zs(p,S),onMouseLeave:Zs(y,N),onTouchStart:Zs(v,S)}]:[!1,E,{}]}function Zs(i,e){return a=>{i&&i(a),a.defaultPrevented||e(a)}}function rw({page:i,...e}){let{router:a}=nw(),s=A.useMemo(()=>la(a.routes,i,a.basename),[a.routes,i,a.basename]);return s?A.createElement(lw,{page:i,matches:s,...e}):null}function sw(i){let{manifest:e,routeModules:a}=Tv(),[s,o]=A.useState([]);return A.useEffect(()=>{let u=!1;return $C(i,e,a).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,a]),s}function lw({page:i,matches:e,...a}){let s=ir(),{manifest:o,routeModules:u}=Tv(),{loaderData:f,matches:h}=iw(),m=A.useMemo(()=>$_(i,e,h,o,s,"data"),[i,e,h,o,s]),p=A.useMemo(()=>$_(i,e,h,o,s,"assets"),[i,e,h,o,s]),y=A.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let S=new Set,N=!1;if(e.forEach(z=>{var Q;let P=o.routes[z.route.id];!P||!P.hasLoader||(!m.some(Z=>Z.route.id===z.route.id)&&z.route.id in f&&((Q=u[z.route.id])!=null&&Q.shouldRevalidate)||P.hasClientLoader?N=!0:S.add(z.route.id))}),S.size===0)return[];let H=tw(i);return N&&S.size>0&&H.searchParams.set("_routes",e.filter(z=>S.has(z.route.id)).map(z=>z.route.id).join(",")),[H.pathname+H.search]},[f,s,o,m,e,i,u]),v=A.useMemo(()=>WC(p,o),[p,o]),E=sw(p);return A.createElement(A.Fragment,null,y.map(S=>A.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...a})),v.map(S=>A.createElement("link",{key:S,rel:"modulepreload",href:S,...a})),E.map(({key:S,link:N})=>A.createElement("link",{key:S,...N})))}function ow(...i){return e=>{i.forEach(a=>{typeof a=="function"?a(e):a!=null&&(a.current=e)})}}var Cv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cv&&(window.__reactRouterVersion="7.1.5")}catch{}function uw(i,e){return WT({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:bT({window:e==null?void 0:e.window}),hydrationData:cw(),routes:i,mapRouteProperties:IC,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function cw(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:fw(i.errors)}),i}function fw(i){if(!i)return null;let e=Object.entries(i),a={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")a[s]=new ou(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let f=new u(o.message);f.stack="",a[s]=f}catch{}}if(a[s]==null){let u=new Error(o.message);u.stack="",a[s]=u}}else a[s]=o;return a}var wv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uu=A.forwardRef(function({onClick:e,discover:a="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:h,target:m,to:p,preventScrollReset:y,viewTransition:v,...E},S){let{basename:N}=A.useContext(ri),H=typeof p=="string"&&wv.test(p),z,P=!1;if(typeof p=="string"&&H&&(z=p,Cv))try{let G=new URL(window.location.href),se=p.startsWith("//")?new URL(G.protocol+p):new URL(p),Le=Fn(se.pathname,N);se.origin===G.origin&&Le!=null?p=Le+se.search+se.hash:P=!0}catch{Bt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=_C(p,{relative:o}),[Z,de,W]=aw(s,E),M=pw(p,{replace:f,state:h,target:m,preventScrollReset:y,relative:o,viewTransition:v});function _e(G){e&&e(G),G.defaultPrevented||M(G)}let Se=A.createElement("a",{...E,...W,href:z||Q,onClick:P||u?e:_e,ref:ow(S,de),target:m,"data-discover":!H&&a==="render"?"true":void 0});return Z&&!H?A.createElement(A.Fragment,null,Se,A.createElement(rw,{page:Q})):Se});uu.displayName="Link";var dw=A.forwardRef(function({"aria-current":e="page",caseSensitive:a=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:h,children:m,...p},y){let v=Nl(f,{relative:p.relative}),E=ir(),S=A.useContext(Rl),{navigator:N,basename:H}=A.useContext(ri),z=S!=null&&Ew(v)&&h===!0,P=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,Q=E.pathname,Z=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;a||(Q=Q.toLowerCase(),Z=Z?Z.toLowerCase():null,P=P.toLowerCase()),Z&&H&&(Z=Fn(Z,H)||Z);const de=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let W=Q===P||!o&&Q.startsWith(P)&&Q.charAt(de)==="/",M=Z!=null&&(Z===P||!o&&Z.startsWith(P)&&Z.charAt(P.length)==="/"),_e={isActive:W,isPending:M,isTransitioning:z},Se=W?e:void 0,G;typeof s=="function"?G=s(_e):G=[s,W?"active":null,M?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let se=typeof u=="function"?u(_e):u;return A.createElement(uu,{...p,"aria-current":Se,className:G,ref:y,style:se,to:f,viewTransition:h},typeof m=="function"?m(_e):m)});dw.displayName="NavLink";var hw=A.forwardRef(({discover:i="render",fetcherKey:e,navigate:a,reloadDocument:s,replace:o,state:u,method:f=tu,action:h,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:v,...E},S)=>{let N=yw(),H=vw(h,{relative:p}),z=f.toLowerCase()==="get"?"get":"post",P=typeof h=="string"&&wv.test(h),Q=Z=>{if(m&&m(Z),Z.defaultPrevented)return;Z.preventDefault();let de=Z.nativeEvent.submitter,W=(de==null?void 0:de.getAttribute("formmethod"))||f;N(de||Z.currentTarget,{fetcherKey:e,method:W,navigate:a,replace:o,state:u,relative:p,preventScrollReset:y,viewTransition:v})};return A.createElement("form",{ref:S,method:z,action:H,onSubmit:s?m:Q,...E,"data-discover":!P&&i==="render"?"true":void 0})});hw.displayName="Form";function mw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rv(i){let e=A.useContext(nr);return Ie(e,mw(i)),e}function pw(i,{target:e,replace:a,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let h=bv(),m=ir(),p=Nl(i,{relative:u});return A.useCallback(y=>{if(FC(y,e)){y.preventDefault();let v=a!==void 0?a:ha(m)===ha(p);h(i,{replace:v,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[m,h,p,a,s,e,i,o,u,f])}var gw=0,_w=()=>`__${String(++gw)}__`;function yw(){let{router:i}=Rv("useSubmit"),{basename:e}=A.useContext(ri),a=OC();return A.useCallback(async(s,o={})=>{let{action:u,method:f,encType:h,formData:m,body:p}=QC(s,e);if(o.navigate===!1){let y=o.fetcherKey||_w();await i.fetch(y,a,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||f,formEncType:o.encType||h,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||f,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:a,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,a])}function vw(i,{relative:e}={}){let{basename:a}=A.useContext(ri),s=A.useContext(si);Ie(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Nl(i||".",{relative:e})},f=ir();if(i==null){u.search=f.search;let h=new URLSearchParams(u.search),m=h.getAll("index");if(m.some(y=>y==="")){h.delete("index"),m.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();u.search=y?`?${y}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:ti([a,u.pathname])),ha(u)}function Ew(i,e={}){let a=A.useContext(ih);Ie(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Rv("useViewTransitionState"),o=Nl(i,{relative:e.relative});if(!a.isTransitioning)return!1;let u=Fn(a.currentLocation.pathname,s)||a.currentLocation.pathname,f=Fn(a.nextLocation.pathname,s)||a.nextLocation.pathname;return lu(o.pathname,f)!=null||lu(o.pathname,u)!=null}new TextEncoder;var bw=ov();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sw(i){return A.createElement(UC,{flushSync:bw.flushSync,...i})}const Av=A.createContext(),Nv=A.createContext(),Dv=A.createContext(),Ov=A.createContext(),Mv=A.createContext(),Tw=({children:i})=>{const[e,a]=A.useState(0);return F.jsx(Av.Provider,{value:{score:e,setScore:a},children:i})},Cw=({children:i})=>{const[e,a]=A.useState(!0);return F.jsx(Nv.Provider,{value:{isRunning:e,setIsRunning:a},children:i})},ww=({children:i})=>{const[e,a]=A.useState(50);return F.jsx(Dv.Provider,{value:{volume:e,setVolume:a},children:i})},Rw=({children:i})=>{const[e,a]=A.useState(1),s=()=>{a(o=>o%3+1)};return F.jsx(Ov.Provider,{value:{level:e,nextLevel:s},children:i})},Aw=({children:i})=>{const[e,a]=A.useState(!1);return F.jsx(Mv.Provider,{value:{isPlaying:e,setIsPlaying:a},children:i})},uh=()=>{const i=A.useContext(Av);if(!i)throw console.trace("❌ useScoreContext() was used outside of ScoreProvider!"),new Error("❌ useScoreContext() was used outside of ScoreProvider!");return i},xv=()=>{const i=A.useContext(Nv);return i||console.error("❌ useGameContext() was used outside of GameProvider!"),i},ch=()=>{const i=A.useContext(Dv);return i||console.error("❌ useVolumeContext() was used outside of VolumeProvider!"),i},Lu=()=>{const i=A.useContext(Ov);if(!i)throw console.trace("❌ useLevelContext() was used outside of LevelProvider!"),new Error("❌ useLevelContext() was used outside of LevelProvider!");return i},Iv=()=>{const i=A.useContext(Mv);if(!i)throw console.error("❌ useMusicContext() was used outside of MusicProvider!"),new Error("❌ useMusicContext() was used outside of MusicProvider!");return i};let hd=null;const Nw=(i,e)=>{let a=!1;return(...s)=>{a||(i(...s),a=!0,setTimeout(()=>a=!1,e))}},Lv=dT.memo(()=>{const{volume:i}=ch(),{level:e}=Lu(),{isPlaying:a}=Iv(),s=A.useRef(null),o=A.useRef(null),u=A.useRef({}),f=A.useMemo(()=>({1:"/static/TTD_01.mp3",2:"/static/TTD_02.mp3",3:"/static/TTD_03.mp3"}),[]);A.useEffect(()=>{if(hd)s.current=hd;else{const m=new Audio;m.preload="auto",s.current=m,hd=m}},[]),A.useEffect(()=>{Object.values(f).forEach(m=>{if(!u.current[m]){const p=new Audio(m);p.preload="auto",u.current[m]=p}})},[f]),A.useEffect(()=>{s.current&&(s.current.volume=i/100)},[i]);const h=A.useMemo(()=>Nw(()=>{const m=s.current;if(!m)return;const p=f[e]||f[1];o.current!==p&&(o.current=p,m.paused||m.pause(),m.src=p,m.load()),a?m.paused&&setTimeout(()=>{m.play().catch(y=>console.warn("⚠️ Autoplay blocked, waiting for user interaction:",y))},100):m.paused||m.pause()},300),[e,a,f]);return A.useEffect(()=>{h()},[h,e,a]),F.jsx("audio",{ref:s,preload:"auto",loop:!0})}),Dw=()=>{try{const{score:i}=uh(),{volume:e,setVolume:a}=ch();return F.jsxs("nav",{className:"navbar navbar-expand-lg d-flex justify-content-between",children:[F.jsx("div",{className:"navbar-left d-flex align-items-center justify-content-start",children:F.jsxs("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0 d-flex align-items-center",children:[F.jsx("li",{className:"nav-item",children:F.jsx(uu,{className:"nav-link","aria-current":"page",to:"/",onClick:()=>window.location.href="/",children:"Home"})}),F.jsx("div",{className:"navBarDivider"}),F.jsx("li",{className:"nav-item",children:F.jsx(uu,{className:"nav-link",to:"/highscorespage",children:"High Scores"})})]})}),F.jsx("div",{className:"navbar-center text-center flex-grow-1 justify-content-center",children:F.jsx("p",{className:"sigmar-regular displayfont-text",children:"DINO DASH"})}),F.jsxs("div",{className:"navbar-right d-flex align-items-center justify-content-end",children:[F.jsx("div",{className:"score-container",children:F.jsxs("p",{className:"game-score",children:["Score: ",i]})}),F.jsxs("div",{className:"volume-control d-flex",children:[F.jsx("label",{htmlFor:"volume align-items-center",children:"Volume:"}),F.jsx("div",{className:"custom-slider",children:F.jsx("input",{id:"volume",type:"range",min:"0",max:"100",value:e,onChange:s=>a(s.target.value)})})]}),F.jsx("div",{className:"vine"})]}),F.jsx(Lv,{volume:e})]})}catch(i){return console.error("❌ Navbar failed to load context:",i),F.jsx("h1",{children:"Navbar Error"})}},Ow=()=>F.jsxs(F.Fragment,{children:[F.jsx(Dw,{})," ",F.jsx("div",{className:"outlet",children:F.jsx(HC,{})})]});var W_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X=function(i,e){if(!i)throw $r(e)},$r=function(i){return new Error("Firebase Database ("+Uv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=function(i){const e=[];let a=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[a++]=o:o<2048?(e[a++]=o>>6|192,e[a++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[a++]=o>>18|240,e[a++]=o>>12&63|128,e[a++]=o>>6&63|128,e[a++]=o&63|128):(e[a++]=o>>12|224,e[a++]=o>>6&63|128,e[a++]=o&63|128)}return e},Mw=function(i){const e=[];let a=0,s=0;for(;a<i.length;){const o=i[a++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[a++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[a++],f=i[a++],h=i[a++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=i[a++],f=i[a++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},fh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,h=f?i[o+1]:0,m=o+2<i.length,p=m?i[o+2]:0,y=u>>2,v=(u&3)<<4|h>>4;let E=(h&15)<<2|p>>6,S=p&63;m||(S=64,f||(E=64)),s.push(a[y],a[v],a[E],a[S])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(kv(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Mw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const a=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=a[i.charAt(o++)],h=o<i.length?a[i.charAt(o)]:0;++o;const p=o<i.length?a[i.charAt(o)]:64;++o;const v=o<i.length?a[i.charAt(o)]:64;if(++o,u==null||h==null||p==null||v==null)throw new xw;const E=u<<2|h>>4;if(s.push(E),p!==64){const S=h<<4&240|p>>2;if(s.push(S),v!==64){const N=p<<6&192|v;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class xw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zv=function(i){const e=kv(i);return fh.encodeByteArray(e,!0)},cu=function(i){return zv(i).replace(/\./g,"")},fu=function(i){try{return fh.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(i){return Hv(void 0,i)}function Hv(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const a=e;return new Date(a.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const a in e)!e.hasOwnProperty(a)||!Lw(a)||(i[a]=Hv(i[a],e[a]));return i}function Lw(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=()=>Uw().__FIREBASE_DEFAULTS__,zw=()=>{if(typeof process>"u"||typeof W_>"u")return;const i=W_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Hw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&fu(i[1]);return e&&JSON.parse(e)},dh=()=>{try{return kw()||zw()||Hw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Pw=i=>{var e,a;return(a=(e=dh())===null||e===void 0?void 0:e.emulatorHosts)===null||a===void 0?void 0:a[i]},Bw=i=>{const e=Pw(i);if(!e)return;const a=e.lastIndexOf(":");if(a<=0||a+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(a+1),10);return e[0]==="["?[e.substring(1,a-1),s]:[e.substring(0,a),s]},Pv=()=>{var i;return(i=dh())===null||i===void 0?void 0:i.config},jw=i=>{var e;return(e=dh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,a)=>{this.resolve=e,this.reject=a})}wrapCallback(e){return(a,s)=>{a?this.reject(a):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(a):e(a,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[cu(JSON.stringify(a)),cu(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ni())}function Vw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Bv(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function jv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Fw(){return Uv.NODE_ADMIN===!0}function qv(){try{return typeof indexedDB=="object"}catch{return!1}}function Vv(){return new Promise((i,e)=>{try{let a=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),a||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{a=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(a){e(a)}})}function Gw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="FirebaseError";class xi extends Error{constructor(e,a,s){super(a),this.code=e,this.customData=s,this.name=Yw,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ar.prototype.create)}}class ar{constructor(e,a,s){this.service=e,this.serviceName=a,this.errors=s}create(e,...a){const s=a[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Qw(u,s):"Error",h=`${this.serviceName}: ${f} (${o}).`;return new xi(o,h,s)}}function Qw(i,e){return i.replace(Xw,(a,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Xw=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(i){return JSON.parse(i)}function Tt(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=function(i){let e={},a={},s={},o="";try{const u=i.split(".");e=pl(fu(u[0])||""),a=pl(fu(u[1])||""),o=u[2],s=a.d||{},delete a.d}catch{}return{header:e,claims:a,data:s,signature:o}},Kw=function(i){const e=Fv(i),a=e.claims;return!!a&&typeof a=="object"&&a.hasOwnProperty("iat")},$w=function(i){const e=Fv(i).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Yr(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function Z_(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function du(i,e,a){const s={};for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=e.call(a,i[o],o,i));return s}function hu(i,e){if(i===e)return!0;const a=Object.keys(i),s=Object.keys(e);for(const o of a){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(J_(u)&&J_(f)){if(!hu(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!a.includes(o))return!1;return!0}function J_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(i){const e=[];for(const[a,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(a)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(a)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,a){a||(a=0);const s=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)s[v]=e.charCodeAt(a)<<24|e.charCodeAt(a+1)<<16|e.charCodeAt(a+2)<<8|e.charCodeAt(a+3),a+=4;else for(let v=0;v<16;v++)s[v]=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3],a+=4;for(let v=16;v<80;v++){const E=s[v-3]^s[v-8]^s[v-14]^s[v-16];s[v]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],f=this.chain_[2],h=this.chain_[3],m=this.chain_[4],p,y;for(let v=0;v<80;v++){v<40?v<20?(p=h^u&(f^h),y=1518500249):(p=u^f^h,y=1859775393):v<60?(p=u&f|h&(u|f),y=2400959708):(p=u^f^h,y=3395469782);const E=(o<<5|o>>>27)+p+m+y+s[v]&4294967295;m=h,h=f,f=(u<<30|u>>>2)&4294967295,u=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,a){if(e==null)return;a===void 0&&(a=e.length);const s=a-this.blockSize;let o=0;const u=this.buf_;let f=this.inbuf_;for(;o<a;){if(f===0)for(;o<=s;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<a;)if(u[f]=e.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}else for(;o<a;)if(u[f]=e[o],++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=a}digest(){const e=[];let a=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=a&255,a/=256;this.compress_(this.buf_);let s=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[o]>>u&255,++s;return e}}function Zw(i,e){const a=new Jw(i,e);return a.subscribe.bind(a)}class Jw{constructor(e,a){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=a,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(a=>{a.next(e)})}error(e){this.forEachObserver(a=>{a.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,a,s){let o;if(e===void 0&&a===void 0&&s===void 0)throw new Error("Missing Observer.");eR(e,["next","error","complete"])?o=e:o={next:e,error:a,complete:s},o.next===void 0&&(o.next=md),o.error===void 0&&(o.error=md),o.complete===void 0&&(o.complete=md);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let a=0;a<this.observers.length;a++)this.sendOne(a,e)}sendOne(e,a){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{a(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eR(i,e){if(typeof i!="object"||i===null)return!1;for(const a of e)if(a in i&&typeof i[a]=="function")return!0;return!1}function md(){}function ph(i,e){return`${i} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=function(i){const e=[];let a=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);if(o>=55296&&o<=56319){const u=o-55296;s++,X(s<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(s)-56320;o=65536+(u<<10)+f}o<128?e[a++]=o:o<2048?(e[a++]=o>>6|192,e[a++]=o&63|128):o<65536?(e[a++]=o>>12|224,e[a++]=o>>6&63|128,e[a++]=o&63|128):(e[a++]=o>>18|240,e[a++]=o>>12&63|128,e[a++]=o>>6&63|128,e[a++]=o&63|128)}return e},ku=function(i){let e=0;for(let a=0;a<i.length;a++){const s=i.charCodeAt(a);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,a++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=1e3,iR=2,aR=4*60*60*1e3,rR=.5;function ey(i,e=nR,a=iR){const s=e*Math.pow(a,i),o=Math.round(rR*s*(Math.random()-.5)*2);return Math.min(aR,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(i){return i&&i._delegate?i._delegate:i}class Gn{constructor(e,a,s){this.name=e,this.instanceFactory=a,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,a){this.name=e,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const a=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(a)){const s=new Uu;if(this.instancesDeferred.set(a,s),this.isInitialized(a)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:a});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(e){var a;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(a=e==null?void 0:e.optional)!==null&&a!==void 0?a:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oR(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...e.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:a={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:a});for(const[u,f]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);s===h&&f.resolve(o)}return o}onInit(e,a){var s;const o=this.normalizeInstanceIdentifier(a),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,a){const s=this.onInitCallbacks.get(a);if(s)for(const o of s)try{o(e,a)}catch{}}getOrInitializeService({instanceIdentifier:e,options:a={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:lR(e),options:a}),this.instances.set(e,s),this.instancesOptions.set(e,a),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lR(i){return i===Va?void 0:i}function oR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const a=this.getProvider(e.name);if(a.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);a.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const a=new sR(e,this);return this.providers.set(e,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ye||(Ye={}));const cR={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},fR=Ye.INFO,dR={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},hR=(i,e,...a)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=dR[e];if(o)console[o](`[${s}]  ${i.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zu{constructor(e){this.name=e,this._logLevel=fR,this._logHandler=hR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const mR=(i,e)=>e.some(a=>i instanceof a);let ty,ny;function pR(){return ty||(ty=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gR(){return ny||(ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gv=new WeakMap,Ld=new WeakMap,Yv=new WeakMap,pd=new WeakMap,gh=new WeakMap;function _R(i){const e=new Promise((a,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{a(ua(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(a=>{a instanceof IDBCursor&&Gv.set(a,i)}).catch(()=>{}),gh.set(e,i),e}function yR(i){if(Ld.has(i))return;const e=new Promise((a,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{a(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Ld.set(i,e)}let Ud={get(i,e,a){if(i instanceof IDBTransaction){if(e==="done")return Ld.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Yv.get(i);if(e==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return ua(i[e])},set(i,e,a){return i[e]=a,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function vR(i){Ud=i(Ud)}function ER(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...a){const s=i.call(gd(this),e,...a);return Yv.set(s,e.sort?e.sort():[e]),ua(s)}:gR().includes(i)?function(...e){return i.apply(gd(this),e),ua(Gv.get(this))}:function(...e){return ua(i.apply(gd(this),e))}}function bR(i){return typeof i=="function"?ER(i):(i instanceof IDBTransaction&&yR(i),mR(i,pR())?new Proxy(i,Ud):i)}function ua(i){if(i instanceof IDBRequest)return _R(i);if(pd.has(i))return pd.get(i);const e=bR(i);return e!==i&&(pd.set(i,e),gh.set(e,i)),e}const gd=i=>gh.get(i);function Qv(i,e,{blocked:a,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),h=ua(f);return s&&f.addEventListener("upgradeneeded",m=>{s(ua(f.result),m.oldVersion,m.newVersion,ua(f.transaction),m)}),a&&f.addEventListener("blocked",m=>a(m.oldVersion,m.newVersion,m)),h.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const SR=["get","getKey","getAll","getAllKeys","count"],TR=["put","add","delete","clear"],_d=new Map;function iy(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(_d.get(e))return _d.get(e);const a=e.replace(/FromIndex$/,""),s=e!==a,o=TR.includes(a);if(!(a in(s?IDBIndex:IDBObjectStore).prototype)||!(o||SR.includes(a)))return;const u=async function(f,...h){const m=this.transaction(f,o?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(h.shift())),(await Promise.all([p[a](...h),o&&m.done]))[0]};return _d.set(e,u),u}vR(i=>({...i,get:(e,a,s)=>iy(e,a)||i.get(e,a,s),has:(e,a)=>!!iy(e,a)||i.has(e,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(wR(a)){const s=a.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(a=>a).join(" ")}}function wR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kd="@firebase/app",ay="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new zu("@firebase/app"),RR="@firebase/app-compat",AR="@firebase/analytics-compat",NR="@firebase/analytics",DR="@firebase/app-check-compat",OR="@firebase/app-check",MR="@firebase/auth",xR="@firebase/auth-compat",IR="@firebase/database",LR="@firebase/data-connect",UR="@firebase/database-compat",kR="@firebase/functions",zR="@firebase/functions-compat",HR="@firebase/installations",PR="@firebase/installations-compat",BR="@firebase/messaging",jR="@firebase/messaging-compat",qR="@firebase/performance",VR="@firebase/performance-compat",FR="@firebase/remote-config",GR="@firebase/remote-config-compat",YR="@firebase/storage",QR="@firebase/storage-compat",XR="@firebase/firestore",KR="@firebase/vertexai",$R="@firebase/firestore-compat",WR="firebase",ZR="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="[DEFAULT]",JR={[kd]:"fire-core",[RR]:"fire-core-compat",[NR]:"fire-analytics",[AR]:"fire-analytics-compat",[OR]:"fire-app-check",[DR]:"fire-app-check-compat",[MR]:"fire-auth",[xR]:"fire-auth-compat",[IR]:"fire-rtdb",[LR]:"fire-data-connect",[UR]:"fire-rtdb-compat",[kR]:"fire-fn",[zR]:"fire-fn-compat",[HR]:"fire-iid",[PR]:"fire-iid-compat",[BR]:"fire-fcm",[jR]:"fire-fcm-compat",[qR]:"fire-perf",[VR]:"fire-perf-compat",[FR]:"fire-rc",[GR]:"fire-rc-compat",[YR]:"fire-gcs",[QR]:"fire-gcs-compat",[XR]:"fire-fst",[$R]:"fire-fst-compat",[KR]:"fire-vertex","fire-js":"fire-js",[WR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new Map,eA=new Map,Hd=new Map;function ry(i,e){try{i.container.addComponent(e)}catch(a){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,a)}}function ii(i){const e=i.name;if(Hd.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;Hd.set(e,i);for(const a of mu.values())ry(a,i);for(const a of eA.values())ry(a,i);return!0}function Dl(i,e){const a=i.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),i.container.getProvider(e)}function al(i){return i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ca=new ar("app","Firebase",tA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,a,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},a),this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=ZR;function Xv(i,e={}){let a=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:zd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ca.create("bad-app-name",{appName:String(o)});if(a||(a=Pv()),!a)throw ca.create("no-options");const u=mu.get(o);if(u){if(hu(a,u.options)&&hu(s,u.config))return u;throw ca.create("duplicate-app",{appName:o})}const f=new uR(o);for(const m of Hd.values())f.addComponent(m);const h=new nA(a,s,f);return mu.set(o,h),h}function Kv(i=zd){const e=mu.get(i);if(!e&&i===zd&&Pv())return Xv();if(!e)throw ca.create("no-app",{appName:i});return e}function Mn(i,e,a){var s;let o=(s=JR[i])!==null&&s!==void 0?s:i;a&&(o+=`-${a}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const h=[`Unable to register library "${o}" with version "${e}":`];u&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&h.push("and"),f&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(h.join(" "));return}ii(new Gn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="firebase-heartbeat-database",aA=1,gl="firebase-heartbeat-store";let yd=null;function $v(){return yd||(yd=Qv(iA,aA,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(gl)}catch(a){console.warn(a)}}}}).catch(i=>{throw ca.create("idb-open",{originalErrorMessage:i.message})})),yd}async function rA(i){try{const a=(await $v()).transaction(gl),s=await a.objectStore(gl).get(Wv(i));return await a.done,s}catch(e){if(e instanceof xi)Oi.warn(e.message);else{const a=ca.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(a.message)}}}async function sy(i,e){try{const s=(await $v()).transaction(gl,"readwrite");await s.objectStore(gl).put(e,Wv(i)),await s.done}catch(a){if(a instanceof xi)Oi.warn(a.message);else{const s=ca.create("idb-set",{originalErrorMessage:a==null?void 0:a.message});Oi.warn(s.message)}}}function Wv(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=1024,lA=30*24*60*60*1e3;class oA{constructor(e){this.container=e,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new cA(a),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,a;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=ly();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)===null||a===void 0?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const h=new Date(f.date).valueOf();return Date.now()-h<=lA}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Oi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=ly(),{heartbeatsToSend:s,unsentEntries:o}=uA(this._heartbeatsCache.heartbeats),u=cu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=a,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(a){return Oi.warn(a),""}}}function ly(){return new Date().toISOString().substring(0,10)}function uA(i,e=sA){const a=[];let s=i.slice();for(const o of i){const u=a.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),oy(a)>e){u.dates.pop();break}}else if(a.push({agent:o.agent,dates:[o.date]}),oy(a)>e){a.pop();break}s=s.slice(1)}return{heartbeatsToSend:a,unsentEntries:s}}class cA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qv()?Vv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await rA(this.app);return a!=null&&a.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var a;if(await this._canUseIndexedDBPromise){const o=await this.read();return sy(this.app,{lastSentHeartbeatDate:(a=e.lastSentHeartbeatDate)!==null&&a!==void 0?a:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var a;if(await this._canUseIndexedDBPromise){const o=await this.read();return sy(this.app,{lastSentHeartbeatDate:(a=e.lastSentHeartbeatDate)!==null&&a!==void 0?a:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function oy(i){return cu(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(i){ii(new Gn("platform-logger",e=>new CR(e),"PRIVATE")),ii(new Gn("heartbeat",e=>new oA(e),"PRIVATE")),Mn(kd,ay,i),Mn(kd,ay,"esm2017"),Mn("fire-js","")}fA("");var dA="firebase",hA="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn(dA,hA,"app");const Zv="@firebase/installations",_h="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=1e4,eE=`w:${_h}`,tE="FIS_v2",mA="https://firebaseinstallations.googleapis.com/v1",pA=60*60*1e3,gA="installations",_A="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wa=new ar(gA,_A,yA);function nE(i){return i instanceof xi&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE({projectId:i}){return`${mA}/projects/${i}/installations`}function aE(i){return{token:i.token,requestStatus:2,expiresIn:EA(i.expiresIn),creationTime:Date.now()}}async function rE(i,e){const s=(await e.json()).error;return Wa.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function sE({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function vA(i,{refreshToken:e}){const a=sE(i);return a.append("Authorization",bA(e)),a}async function lE(i){const e=await i();return e.status>=500&&e.status<600?i():e}function EA(i){return Number(i.replace("s","000"))}function bA(i){return`${tE} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA({appConfig:i,heartbeatServiceProvider:e},{fid:a}){const s=iE(i),o=sE(i),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const f={fid:a,authVersion:tE,appId:i.appId,sdkVersion:eE},h={method:"POST",headers:o,body:JSON.stringify(f)},m=await lE(()=>fetch(s,h));if(m.ok){const p=await m.json();return{fid:p.fid||a,registrationStatus:2,refreshToken:p.refreshToken,authToken:aE(p.authToken)}}else throw await rE("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=/^[cdef][\w-]{21}$/,Pd="";function wA(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const a=RA(i);return CA.test(a)?a:Pd}catch{return Pd}}function RA(i){return TA(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=new Map;function cE(i,e){const a=Pu(i);fE(a,e),AA(a,e)}function fE(i,e){const a=uE.get(i);if(a)for(const s of a)s(e)}function AA(i,e){const a=NA();a&&a.postMessage({key:i,fid:e}),DA()}let Qa=null;function NA(){return!Qa&&"BroadcastChannel"in self&&(Qa=new BroadcastChannel("[Firebase] FID Change"),Qa.onmessage=i=>{fE(i.data.key,i.data.fid)}),Qa}function DA(){uE.size===0&&Qa&&(Qa.close(),Qa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="firebase-installations-database",MA=1,Za="firebase-installations-store";let vd=null;function yh(){return vd||(vd=Qv(OA,MA,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Za)}}})),vd}async function pu(i,e){const a=Pu(i),o=(await yh()).transaction(Za,"readwrite"),u=o.objectStore(Za),f=await u.get(a);return await u.put(e,a),await o.done,(!f||f.fid!==e.fid)&&cE(i,e.fid),e}async function dE(i){const e=Pu(i),s=(await yh()).transaction(Za,"readwrite");await s.objectStore(Za).delete(e),await s.done}async function Bu(i,e){const a=Pu(i),o=(await yh()).transaction(Za,"readwrite"),u=o.objectStore(Za),f=await u.get(a),h=e(f);return h===void 0?await u.delete(a):await u.put(h,a),await o.done,h&&(!f||f.fid!==h.fid)&&cE(i,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(i){let e;const a=await Bu(i.appConfig,s=>{const o=xA(s),u=IA(i,o);return e=u.registrationPromise,u.installationEntry});return a.fid===Pd?{installationEntry:await e}:{installationEntry:a,registrationPromise:e}}function xA(i){const e=i||{fid:wA(),registrationStatus:0};return hE(e)}function IA(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Wa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const a={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=LA(i,a);return{installationEntry:a,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:UA(i)}:{installationEntry:e}}async function LA(i,e){try{const a=await SA(i,e);return pu(i.appConfig,a)}catch(a){throw nE(a)&&a.customData.serverCode===409?await dE(i.appConfig):await pu(i.appConfig,{fid:e.fid,registrationStatus:0}),a}}async function UA(i){let e=await uy(i.appConfig);for(;e.registrationStatus===1;)await oE(100),e=await uy(i.appConfig);if(e.registrationStatus===0){const{installationEntry:a,registrationPromise:s}=await vh(i);return s||a}return e}function uy(i){return Bu(i,e=>{if(!e)throw Wa.create("installation-not-found");return hE(e)})}function hE(i){return kA(i)?{fid:i.fid,registrationStatus:0}:i}function kA(i){return i.registrationStatus===1&&i.registrationTime+Jv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zA({appConfig:i,heartbeatServiceProvider:e},a){const s=HA(i,a),o=vA(i,a),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const f={installation:{sdkVersion:eE,appId:i.appId}},h={method:"POST",headers:o,body:JSON.stringify(f)},m=await lE(()=>fetch(s,h));if(m.ok){const p=await m.json();return aE(p)}else throw await rE("Generate Auth Token",m)}function HA(i,{fid:e}){return`${iE(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(i,e=!1){let a;const s=await Bu(i.appConfig,u=>{if(!mE(u))throw Wa.create("not-registered");const f=u.authToken;if(!e&&jA(f))return u;if(f.requestStatus===1)return a=PA(i,e),u;{if(!navigator.onLine)throw Wa.create("app-offline");const h=VA(u);return a=BA(i,h),h}});return a?await a:s.authToken}async function PA(i,e){let a=await cy(i.appConfig);for(;a.authToken.requestStatus===1;)await oE(100),a=await cy(i.appConfig);const s=a.authToken;return s.requestStatus===0?Eh(i,e):s}function cy(i){return Bu(i,e=>{if(!mE(e))throw Wa.create("not-registered");const a=e.authToken;return FA(a)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function BA(i,e){try{const a=await zA(i,e),s=Object.assign(Object.assign({},e),{authToken:a});return await pu(i.appConfig,s),a}catch(a){if(nE(a)&&(a.customData.serverCode===401||a.customData.serverCode===404))await dE(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await pu(i.appConfig,s)}throw a}}function mE(i){return i!==void 0&&i.registrationStatus===2}function jA(i){return i.requestStatus===2&&!qA(i)}function qA(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+pA}function VA(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function FA(i){return i.requestStatus===1&&i.requestTime+Jv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GA(i){const e=i,{installationEntry:a,registrationPromise:s}=await vh(e);return s?s.catch(console.error):Eh(e).catch(console.error),a.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YA(i,e=!1){const a=i;return await QA(a),(await Eh(a,e)).token}async function QA(i){const{registrationPromise:e}=await vh(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(i){if(!i||!i.options)throw Ed("App Configuration");if(!i.name)throw Ed("App Name");const e=["projectId","apiKey","appId"];for(const a of e)if(!i.options[a])throw Ed(a);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Ed(i){return Wa.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="installations",KA="installations-internal",$A=i=>{const e=i.getProvider("app").getImmediate(),a=XA(e),s=Dl(e,"heartbeat");return{app:e,appConfig:a,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},WA=i=>{const e=i.getProvider("app").getImmediate(),a=Dl(e,pE).getImmediate();return{getId:()=>GA(a),getToken:o=>YA(a,o)}};function ZA(){ii(new Gn(pE,$A,"PUBLIC")),ii(new Gn(KA,WA,"PRIVATE"))}ZA();Mn(Zv,_h);Mn(Zv,_h,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu="analytics",JA="firebase_id",e1="origin",t1=60*1e3,n1="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bh="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn=new zu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},fn=new ar("analytics","Analytics",i1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(i){if(!i.startsWith(bh)){const e=fn.create("invalid-gtag-resource",{gtagURL:i});return tn.warn(e.message),""}return i}function gE(i){return Promise.all(i.map(e=>e.catch(a=>a)))}function r1(i,e){let a;return window.trustedTypes&&(a=window.trustedTypes.createPolicy(i,e)),a}function s1(i,e){const a=r1("firebase-js-sdk-policy",{createScriptURL:a1}),s=document.createElement("script"),o=`${bh}?l=${i}&id=${e}`;s.src=a?a==null?void 0:a.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function l1(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function o1(i,e,a,s,o,u){const f=s[o];try{if(f)await e[f];else{const m=(await gE(a)).find(p=>p.measurementId===o);m&&await e[m.appId]}}catch(h){tn.error(h)}i("config",o,u)}async function u1(i,e,a,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const h=await gE(a);for(const m of f){const p=h.find(v=>v.measurementId===m),y=p&&e[p.appId];if(y)u.push(y);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){tn.error(u)}}function c1(i,e,a,s){async function o(u,...f){try{if(u==="event"){const[h,m]=f;await u1(i,e,a,h,m)}else if(u==="config"){const[h,m]=f;await o1(i,e,a,s,h,m)}else if(u==="consent"){const[h,m]=f;i("consent",h,m)}else if(u==="get"){const[h,m,p]=f;i("get",h,m,p)}else if(u==="set"){const[h]=f;i("set",h)}else i(u,...f)}catch(h){tn.error(h)}}return o}function f1(i,e,a,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=c1(u,i,e,a),{gtagCore:u,wrappedGtag:window[o]}}function d1(i){const e=window.document.getElementsByTagName("script");for(const a of Object.values(e))if(a.src&&a.src.includes(bh)&&a.src.includes(i))return a;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=30,m1=1e3;class p1{constructor(e={},a=m1){this.throttleMetadata=e,this.intervalMillis=a}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,a){this.throttleMetadata[e]=a}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const _E=new p1;function g1(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function _1(i){var e;const{appId:a,apiKey:s}=i,o={method:"GET",headers:g1(s)},u=n1.replace("{app-id}",a),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let h="";try{const m=await f.json();!((e=m.error)===null||e===void 0)&&e.message&&(h=m.error.message)}catch{}throw fn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:h})}return f.json()}async function y1(i,e=_E,a){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw fn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw fn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new b1;return setTimeout(async()=>{h.abort()},t1),yE({appId:s,apiKey:o,measurementId:u},f,h,e)}async function yE(i,{throttleEndTimeMillis:e,backoffCount:a},s,o=_E){var u;const{appId:f,measurementId:h}=i;try{await v1(s,e)}catch(m){if(h)return tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:f,measurementId:h};throw m}try{const m=await _1(i);return o.deleteThrottleMetadata(f),m}catch(m){const p=m;if(!E1(p)){if(o.deleteThrottleMetadata(f),h)return tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:h};throw m}const y=Number((u=p==null?void 0:p.customData)===null||u===void 0?void 0:u.httpStatus)===503?ey(a,o.intervalMillis,h1):ey(a,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+y,backoffCount:a+1};return o.setThrottleMetadata(f,v),tn.debug(`Calling attemptFetch again in ${y} millis`),yE(i,v,s,o)}}function v1(i,e){return new Promise((a,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(a,o);i.addEventListener(()=>{clearTimeout(u),s(fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function E1(i){if(!(i instanceof xi)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class b1{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function S1(i,e,a,s,o){if(o&&o.global){i("event",a,s);return}else{const u=await e,f=Object.assign(Object.assign({},s),{send_to:u});i("event",a,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(){if(qv())try{await Vv()}catch(i){return tn.warn(fn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return tn.warn(fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function C1(i,e,a,s,o,u,f){var h;const m=y1(i);m.then(S=>{a[S.measurementId]=S.appId,i.options.measurementId&&S.measurementId!==i.options.measurementId&&tn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>tn.error(S)),e.push(m);const p=T1().then(S=>{if(S)return s.getId()}),[y,v]=await Promise.all([m,p]);d1(u)||s1(u,y.measurementId),o("js",new Date);const E=(h=f==null?void 0:f.config)!==null&&h!==void 0?h:{};return E[e1]="firebase",E.update=!0,v!=null&&(E[JA]=v),o("config",y.measurementId,E),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.app=e}_delete(){return delete rl[this.app.options.appId],Promise.resolve()}}let rl={},fy=[];const dy={};let bd="dataLayer",R1="gtag",hy,vE,my=!1;function A1(){const i=[];if(Bv()&&i.push("This is a browser extension environment."),Gw()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),a=fn.create("invalid-analytics-context",{errorInfo:e});tn.warn(a.message)}}function N1(i,e,a){A1();const s=i.options.appId;if(!s)throw fn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw fn.create("no-api-key");if(rl[s]!=null)throw fn.create("already-exists",{id:s});if(!my){l1(bd);const{wrappedGtag:u,gtagCore:f}=f1(rl,fy,dy,bd,R1);vE=u,hy=f,my=!0}return rl[s]=C1(i,fy,dy,e,hy,bd,a),new w1(i)}function D1(i=Kv()){i=dn(i);const e=Dl(i,gu);return e.isInitialized()?e.getImmediate():O1(i)}function O1(i,e={}){const a=Dl(i,gu);if(a.isInitialized()){const o=a.getImmediate();if(hu(e,a.getOptions()))return o;throw fn.create("already-initialized")}return a.initialize({options:e})}function M1(i,e,a,s){i=dn(i),S1(vE,rl[i.app.options.appId],e,a,s).catch(o=>tn.error(o))}const py="@firebase/analytics",gy="0.10.11";function x1(){ii(new Gn(gu,(e,{options:a})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return N1(s,o,a)},"PUBLIC")),ii(new Gn("analytics-internal",i,"PRIVATE")),Mn(py,gy),Mn(py,gy,"esm2017");function i(e){try{const a=e.getProvider(gu).getImmediate();return{logEvent:(s,o,u)=>M1(a,s,o,u)}}catch(a){throw fn.create("interop-component-reg-failed",{reason:a})}}}x1();var _y={};const yy="@firebase/database",vy="1.0.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EE="";function I1(i){EE=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,a){a==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Tt(a))}get(e){const a=this.domStorage_.getItem(this.prefixedName_(e));return a==null?null:pl(a)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,a){a==null?delete this.cache_[e]:this.cache_[e]=a}get(e){return Ii(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new L1(e)}}catch{}return new U1},Xa=bE("localStorage"),k1=bE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new zu("@firebase/database"),z1=function(){let i=1;return function(){return i++}}(),SE=function(i){const e=tR(i),a=new Ww;a.update(e);const s=a.digest();return fh.encodeByteArray(s)},Ol=function(...i){let e="";for(let a=0;a<i.length;a++){const s=i[a];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Ol.apply(null,s):typeof s=="object"?e+=Tt(s):e+=s,e+=" "}return e};let sl=null,Ey=!0;const H1=function(i,e){X(!0,"Can't turn on custom loggers persistently."),qr.logLevel=Ye.VERBOSE,sl=qr.log.bind(qr)},Gt=function(...i){if(Ey===!0&&(Ey=!1,sl===null&&k1.get("logging_enabled")===!0&&H1()),sl){const e=Ol.apply(null,i);sl(e)}},Ml=function(i){return function(...e){Gt(i,...e)}},Bd=function(...i){const e="FIREBASE INTERNAL ERROR: "+Ol(...i);qr.error(e)},Mi=function(...i){const e=`FIREBASE FATAL ERROR: ${Ol(...i)}`;throw qr.error(e),new Error(e)},nn=function(...i){const e="FIREBASE WARNING: "+Ol(...i);qr.warn(e)},P1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&nn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},TE=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},B1=function(i){if(document.readyState==="complete")i();else{let e=!1;const a=function(){if(!document.body){setTimeout(a,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&a()}),window.attachEvent("onload",a))}},Qr="[MIN_NAME]",Ja="[MAX_NAME]",Wr=function(i,e){if(i===e)return 0;if(i===Qr||e===Ja)return-1;if(e===Qr||i===Ja)return 1;{const a=by(i),s=by(e);return a!==null?s!==null?a-s===0?i.length-e.length:a-s:-1:s!==null?1:i<e?-1:1}},j1=function(i,e){return i===e?0:i<e?-1:1},Js=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+Tt(e))},Sh=function(i){if(typeof i!="object"||i===null)return Tt(i);const e=[];for(const s in i)e.push(s);e.sort();let a="{";for(let s=0;s<e.length;s++)s!==0&&(a+=","),a+=Tt(e[s]),a+=":",a+=Sh(i[e[s]]);return a+="}",a},CE=function(i,e){const a=i.length;if(a<=e)return[i];const s=[];for(let o=0;o<a;o+=e)o+e>a?s.push(i.substring(o,a)):s.push(i.substring(o,o+e));return s};function an(i,e){for(const a in i)i.hasOwnProperty(a)&&e(a,i[a])}const wE=function(i){X(!TE(i),"Invalid JSON number");const e=11,a=52,s=(1<<e-1)-1;let o,u,f,h,m;i===0?(u=0,f=0,o=1/i===-1/0?1:0):(o=i<0,i=Math.abs(i),i>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),s),u=h+s,f=Math.round(i*Math.pow(2,a-h)-Math.pow(2,a))):(u=0,f=Math.round(i/Math.pow(2,1-s-a))));const p=[];for(m=a;m;m-=1)p.push(f%2?1:0),f=Math.floor(f/2);for(m=e;m;m-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(o?1:0),p.reverse();const y=p.join("");let v="";for(m=0;m<64;m+=8){let E=parseInt(y.substr(m,8),2).toString(16);E.length===1&&(E="0"+E),v=v+E}return v.toLowerCase()},q1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},V1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function F1(i,e){let a="Unknown Error";i==="too_big"?a="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?a="Client doesn't have permission to access the desired data.":i==="unavailable"&&(a="The service is unavailable");const s=new Error(i+" at "+e._path.toString()+": "+a);return s.code=i.toUpperCase(),s}const G1=new RegExp("^-?(0*)\\d{1,10}$"),Y1=-2147483648,Q1=2147483647,by=function(i){if(G1.test(i)){const e=Number(i);if(e>=Y1&&e<=Q1)return e}return null},Zr=function(i){try{i()}catch(e){setTimeout(()=>{const a=e.stack||"";throw nn("Exception was thrown by user callback.",a),e},Math.floor(0))}},X1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ll=function(i,e){const a=setTimeout(i,e);return typeof a=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(a):typeof a=="object"&&a.unref&&a.unref(),a};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,a){this.appName_=e,this.appCheckProvider=a,this.appCheck=a==null?void 0:a.getImmediate({optional:!0}),this.appCheck||a==null||a.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((a,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(a,s):a(null)},0)})}addTokenChangeListener(e){var a;(a=this.appCheckProvider)===null||a===void 0||a.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){nn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,a,s){this.appName_=e,this.firebaseOptions_=a,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(a=>a&&a.code==="auth/token-not-initialized"?(Gt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)):new Promise((a,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(a,s):a(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(a=>a.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(a=>a.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nn(e)}}class iu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}iu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th="5",RE="v",AE="s",NE="r",DE="f",OE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ME="ls",xE="p",jd="ac",IE="websocket",LE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,a,s,o,u=!1,f="",h=!1,m=!1){this.secure=a,this.namespace=s,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xa.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Xa.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",a=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${a}`}}function W1(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function kE(i,e,a){X(typeof e=="string","typeof type must == string"),X(typeof a=="object","typeof params must == object");let s;if(e===IE)s=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===LE)s=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);W1(i)&&(a.ns=i.namespace);const o=[];return an(a,(u,f)=>{o.push(u+"="+f)}),s+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.counters_={}}incrementCounter(e,a=1){Ii(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=a}get(){return Iw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd={},Td={};function Ch(i){const e=i.toString();return Sd[e]||(Sd[e]=new Z1),Sd[e]}function J1(i,e){const a=i.toString();return Td[a]||(Td[a]=e()),Td[a]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,a){this.closeAfterResponse=e,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,a){for(this.pendingResponses[e]=a;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<s.length;++o)s[o]&&Zr(()=>{this.onMessage_(s[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="start",tN="close",nN="pLPCommand",iN="pRTLPCB",zE="id",HE="pw",PE="ser",aN="cb",rN="seg",sN="ts",lN="d",oN="dframe",BE=1870,jE=30,uN=BE-jE,cN=25e3,fN=3e4;class jr{constructor(e,a,s,o,u,f,h){this.connId=e,this.repoInfo=a,this.applicationId=s,this.appCheckToken=o,this.authToken=u,this.transportSessionId=f,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ml(e),this.stats_=Ch(a),this.urlFn=m=>(this.appCheckToken&&(m[jd]=this.appCheckToken),kE(a,LE,m))}open(e,a){this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new eN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(fN)),B1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new wh((...u)=>{const[f,h,m,p,y]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Sy)this.id=h,this.password=m;else if(f===tN)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[Sy]="t",s[PE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[aN]=this.scriptTagHolder.uniqueCallbackIdentifier),s[RE]=Th,this.transportSessionId&&(s[AE]=this.transportSessionId),this.lastSessionId&&(s[ME]=this.lastSessionId),this.applicationId&&(s[xE]=this.applicationId),this.appCheckToken&&(s[jd]=this.appCheckToken),typeof location<"u"&&location.hostname&&OE.test(location.hostname)&&(s[NE]=DE);const o=this.urlFn(s);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){jr.forceAllow_=!0}static forceDisallow(){jr.forceDisallow_=!0}static isAvailable(){return jr.forceAllow_?!0:!jr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!q1()&&!V1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const a=Tt(e);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const s=zv(a),o=CE(s,uN);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,a){this.myDisconnFrame=document.createElement("iframe");const s={};s[oN]="t",s[zE]=e,s[HE]=a,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const a=Tt(e).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)}}class wh{constructor(e,a,s,o){this.onDisconnect=s,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=z1(),window[nN+this.uniqueCallbackIdentifier]=e,window[iN+this.uniqueCallbackIdentifier]=a,this.myIFrame=wh.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(h){Gt("frame writing exception"),h.stack&&Gt(h.stack),Gt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Gt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,a){for(this.myID=e,this.myPW=a,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[zE]=this.myID,e[HE]=this.myPW,e[PE]=this.currentSerial;let a=this.urlFn(e),s="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+jE+s.length<=BE;){const f=this.pendingSegs.shift();s=s+"&"+rN+o+"="+f.seg+"&"+sN+o+"="+f.ts+"&"+lN+o+"="+f.d,o++}return a=a+s,this.addLongPollTag_(a,this.currentSerial),!0}else return!1}enqueueSegment(e,a,s){this.pendingSegs.push({seg:e,ts:a,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,a){this.outstandingRequests.add(a);const s=()=>{this.outstandingRequests.delete(a),this.newRequest_()},o=setTimeout(s,Math.floor(cN)),u=()=>{clearTimeout(o),s()};this.addTag(e,u)}addTag(e,a){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const o=s.readyState;(!o||o==="loaded"||o==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),a())},s.onerror=()=>{Gt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=16384,hN=45e3;let _u=null;typeof MozWebSocket<"u"?_u=MozWebSocket:typeof WebSocket<"u"&&(_u=WebSocket);class Bn{constructor(e,a,s,o,u,f,h){this.connId=e,this.applicationId=s,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ml(this.connId),this.stats_=Ch(a),this.connURL=Bn.connectionURL_(a,f,h,o,s),this.nodeAdmin=a.nodeAdmin}static connectionURL_(e,a,s,o,u){const f={};return f[RE]=Th,typeof location<"u"&&location.hostname&&OE.test(location.hostname)&&(f[NE]=DE),a&&(f[AE]=a),s&&(f[ME]=s),o&&(f[jd]=o),u&&(f[xE]=u),kE(e,IE,f)}open(e,a){this.onDisconnect=a,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xa.set("previous_websocket_failure",!0);try{let s;Fw(),this.mySock=new _u(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Bn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(a);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&_u!==null&&!Bn.forceDisallow_}static previouslyFailed(){return Xa.isInMemoryStorage||Xa.get("previous_websocket_failure")===!0}markConnectionHealthy(){Xa.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const a=this.frames.join("");this.frames=null;const s=pl(a);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(X(this.frames===null,"We already have a frame buffer"),e.length<=6){const a=Number(e);if(!isNaN(a))return this.handleNewFrameCount_(a),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const a=e.data;if(this.bytesReceived+=a.length,this.stats_.incrementCounter("bytes_received",a.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(a);else{const s=this.extractFrameCount_(a);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const a=Tt(e);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const s=CE(a,dN);s.length>1&&this.sendString_(String(s.length));for(let o=0;o<s.length;o++)this.sendString_(s[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(hN))}sendString_(e){try{this.mySock.send(e)}catch(a){this.log_("Exception thrown from WebSocket.send():",a.message||a.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Bn.responsesRequiredToBeHealthy=2;Bn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{static get ALL_TRANSPORTS(){return[jr,Bn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const a=Bn&&Bn.isAvailable();let s=a&&!Bn.previouslyFailed();if(e.webSocketOnly&&(a||nn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Bn];else{const o=this.transports_=[];for(const u of _l.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);_l.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}_l.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=6e4,pN=5e3,gN=10*1024,_N=100*1024,Cd="t",Ty="d",yN="s",Cy="r",vN="e",wy="o",Ry="a",Ay="n",Ny="p",EN="h";class bN{constructor(e,a,s,o,u,f,h,m,p,y){this.id=e,this.repoInfo_=a,this.applicationId_=s,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=f,this.onReady_=h,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ml("c:"+this.id+":"),this.transportManager_=new _l(a),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(a,s)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=ll(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>_N?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>gN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return a=>{e===this.conn_?this.onConnectionLost_(a):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return a=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(a):e===this.secondaryConn_?this.onSecondaryMessageReceived_(a):this.log_("message on old connection"))}}sendRequest(e){const a={t:"d",d:e};this.sendData_(a)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Cd in e){const a=e[Cd];a===Ry?this.upgradeIfSecondaryHealthy_():a===Cy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):a===wy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const a=Js("t",e),s=Js("d",e);if(a==="c")this.onSecondaryControl_(s);else if(a==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+a)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ny,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ry,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ay,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const a=Js("t",e),s=Js("d",e);a==="c"?this.onControl_(s):a==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const a=Js(Cd,e);if(Ty in e){const s=e[Ty];if(a===EN){const o=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(a===Ay){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else a===yN?this.onConnectionShutdown_(s):a===Cy?this.onReset_(s):a===vN?Bd("Server Error: "+s):a===wy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bd("Unknown control packet command: "+a)}}onHandshake_(e){const a=e.ts,s=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),Th!==s&&nn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(a,s),ll(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(mN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,a){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ll(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(pN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ny,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{put(e,a,s,o){}merge(e,a,s,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,a,s){}onDisconnectMerge(e,a,s){}onDisconnectCancel(e,a){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this.allowedEvents_=e,this.listeners_={},X(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...a){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let o=0;o<s.length;o++)s[o].callback.apply(s[o].context,a)}}on(e,a,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:a,context:s});const o=this.getInitialEvent(e);o&&a.apply(s,o)}off(e,a,s){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===a&&(!s||s===o[u].context)){o.splice(u,1);return}}validateEventType_(e){X(this.allowedEvents_.find(a=>a===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends VE{static getInstance(){return new yu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!hh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return X(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=32,Oy=768;class Ke{constructor(e,a){if(a===void 0){this.pieces_=e.split("/");let s=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[s]=this.pieces_[o],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=a}toString(){let e="";for(let a=this.pieceNum_;a<this.pieces_.length;a++)this.pieces_[a]!==""&&(e+="/"+this.pieces_[a]);return e||"/"}}function Be(){return new Ke("")}function Me(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function ma(i){return i.pieces_.length-i.pieceNum_}function et(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new Ke(i.pieces_,e)}function FE(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function SN(i){let e="";for(let a=i.pieceNum_;a<i.pieces_.length;a++)i.pieces_[a]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[a])));return e||"/"}function GE(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function YE(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let a=i.pieceNum_;a<i.pieces_.length-1;a++)e.push(i.pieces_[a]);return new Ke(e,0)}function Ct(i,e){const a=[];for(let s=i.pieceNum_;s<i.pieces_.length;s++)a.push(i.pieces_[s]);if(e instanceof Ke)for(let s=e.pieceNum_;s<e.pieces_.length;s++)a.push(e.pieces_[s]);else{const s=e.split("/");for(let o=0;o<s.length;o++)s[o].length>0&&a.push(s[o])}return new Ke(a,0)}function Oe(i){return i.pieceNum_>=i.pieces_.length}function Kt(i,e){const a=Me(i),s=Me(e);if(a===null)return e;if(a===s)return Kt(et(i),et(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function QE(i,e){if(ma(i)!==ma(e))return!1;for(let a=i.pieceNum_,s=e.pieceNum_;a<=i.pieces_.length;a++,s++)if(i.pieces_[a]!==e.pieces_[s])return!1;return!0}function jn(i,e){let a=i.pieceNum_,s=e.pieceNum_;if(ma(i)>ma(e))return!1;for(;a<i.pieces_.length;){if(i.pieces_[a]!==e.pieces_[s])return!1;++a,++s}return!0}class TN{constructor(e,a){this.errorPrefix_=a,this.parts_=GE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=ku(this.parts_[s]);XE(this)}}function CN(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=ku(e),XE(i)}function wN(i){const e=i.parts_.pop();i.byteLength_-=ku(e),i.parts_.length>0&&(i.byteLength_-=1)}function XE(i){if(i.byteLength_>Oy)throw new Error(i.errorPrefix_+"has a key path longer than "+Oy+" bytes ("+i.byteLength_+").");if(i.parts_.length>Dy)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Dy+") or object contains a cycle "+Fa(i))}function Fa(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends VE{static getInstance(){return new Rh}constructor(){super(["visible"]);let e,a;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(a="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(a="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(a="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(a="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,a&&document.addEventListener(a,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return X(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=1e3,RN=60*5*1e3,My=30*1e3,AN=1.3,NN=3e4,DN="server_kill",xy=3;class Di extends qE{constructor(e,a,s,o,u,f,h,m){if(super(),this.repoInfo_=e,this.applicationId_=a,this.onDataUpdate_=s,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=Di.nextPersistentConnectionId_++,this.log_=Ml("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=el,this.maxReconnectDelay_=RN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Rh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&yu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,a,s){const o=++this.requestNumber_,u={r:o,a:e,b:a};this.log_(Tt(u)),X(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[o]=s)}get(e){this.initConnection_();const a=new Uu,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const h=f.d;f.s==="ok"?a.resolve(h):a.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),a.promise}listen(e,a,s,o){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),X(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),X(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:a,query:e,tag:s};this.listens.get(f).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const a=this.outstandingGets_[e];this.sendRequest("g",a.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),a.onComplete&&a.onComplete(s)})}sendListen_(e){const a=e.query,s=a._path.toString(),o=a._queryIdentifier;this.log_("Listen on "+s+" for "+o);const u={p:s},f="q";e.tag&&(u.q=a._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,h=>{const m=h.d,p=h.s;Di.warnOnListenWarnings_(m,a),(this.listens.get(s)&&this.listens.get(s).get(o))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(s,o),e.onComplete&&e.onComplete(p,m))})}static warnOnListenWarnings_(e,a){if(e&&typeof e=="object"&&Ii(e,"w")){const s=Yr(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const o='".indexOn": "'+a._queryParams.getIndex().toString()+'"',u=a._path.toString();nn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||$w(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=My)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,a=Kw(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(a,s,o=>{const u=o.s,f=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const a=e.s,s=e.d||"error";a==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(a,s)})}unlisten(e,a){const s=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+o),X(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,o)&&this.connected_&&this.sendUnlisten_(s,o,e._queryObject,a)}sendUnlisten_(e,a,s,o){this.log_("Unlisten on "+e+" for "+a);const u={p:e},f="n";o&&(u.q=s,u.t=o),this.sendRequest(f,u)}onDisconnectPut(e,a,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,a,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:a,onComplete:s})}onDisconnectMerge(e,a,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,a,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:a,onComplete:s})}onDisconnectCancel(e,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:a})}sendOnDisconnect_(e,a,s,o){const u={p:a,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(e,a,s,o){this.putInternal("p",e,a,s,o)}merge(e,a,s,o){this.putInternal("m",e,a,s,o)}putInternal(e,a,s,o,u){this.initConnection_();const f={p:a,d:s};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+a)}sendPut_(e){const a=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(a,s,u=>{this.log_(a+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const a={c:e};this.log_("reportStats",a),this.sendRequest("s",a,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Tt(e));const a=e.r,s=this.requestCBHash_[a];s&&(delete this.requestCBHash_[a],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,a){this.log_("handleServerMessage",e,a),e==="d"?this.onDataUpdate_(a.p,a.d,!1,a.t):e==="m"?this.onDataUpdate_(a.p,a.d,!0,a.t):e==="c"?this.onListenRevoked_(a.p,a.q):e==="ac"?this.onAuthRevoked_(a.s,a.d):e==="apc"?this.onAppCheckRevoked_(a.s,a.d):e==="sd"?this.onSecurityDebugPacket_(a):Bd("Unrecognized action received from server: "+Tt(e)+`
Are you using the latest client?`)}onReady_(e,a){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=a,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){X(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=el,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=el,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>NN&&(this.reconnectDelay_=el),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let a=Math.max(0,this.reconnectDelay_-e);a=Math.random()*a,this.log_("Trying to reconnect in "+a+"ms"),this.scheduleConnect_(a),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*AN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),a=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Di.nextConnectionId_++,u=this.lastSessionId;let f=!1,h=null;const m=function(){h?h.close():(f=!0,s())},p=function(v){X(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(v)};this.realtime_={close:m,sendRequest:p};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,E]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);f?Gt("getToken() completed but was canceled"):(Gt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=E&&E.token,h=new bN(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,a,s,S=>{nn(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(DN)},u))}catch(v){this.log_("Failed to get token: "+v),f||(this.repoInfo_.nodeAdmin&&nn(v),m())}}}interrupt(e){Gt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Gt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Z_(this.interruptReasons_)&&(this.reconnectDelay_=el,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const a=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:a})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const a=this.outstandingPuts_[e];a&&"h"in a.request&&a.queued&&(a.onComplete&&a.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,a){let s;a?s=a.map(u=>Sh(u)).join("$"):s="default";const o=this.removeListen_(e,s);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,a){const s=new Ke(e).toString();let o;if(this.listens.has(s)){const u=this.listens.get(s);o=u.get(a),u.delete(a),u.size===0&&this.listens.delete(s)}else o=void 0;return o}onAuthRevoked_(e,a){Gt("Auth token revoked: "+e+"/"+a),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=xy&&(this.reconnectDelay_=My,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,a){Gt("App check token revoked: "+e+"/"+a),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=xy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const a of e.values())this.sendListen_(a);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let a="js";e["sdk."+a+"."+EE.replace(/\./g,"-")]=1,hh()?e["framework.cordova"]=1:jv()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=yu.getInstance().currentlyOnline();return Z_(this.interruptReasons_)&&e}}Di.nextPersistentConnectionId_=0;Di.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,a){this.name=e,this.node=a}static Wrap(e,a){return new Ae(e,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,a){const s=new Ae(Qr,e),o=new Ae(Qr,a);return this.compare(s,o)!==0}minPost(){return Ae.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo;class KE extends ju{static get __EMPTY_NODE(){return Wo}static set __EMPTY_NODE(e){Wo=e}compare(e,a){return Wr(e.name,a.name)}isDefinedOn(e){throw $r("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,a){return!1}minPost(){return Ae.MIN}maxPost(){return new Ae(Ja,Wo)}makePost(e,a){return X(typeof e=="string","KeyIndex indexValue must always be a string."),new Ae(e,Wo)}toString(){return".key"}}const Vr=new KE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,a,s,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=a?s(e.key,a):1,o&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),a;if(this.resultGenerator_?a=this.resultGenerator_(e.key,e.value):a={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return a}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class It{constructor(e,a,s,o,u){this.key=e,this.value=a,this.color=s??It.RED,this.left=o??en.EMPTY_NODE,this.right=u??en.EMPTY_NODE}copy(e,a,s,o,u){return new It(e??this.key,a??this.value,s??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,a,s){let o=this;const u=s(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,a,s),null):u===0?o=o.copy(null,a,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,a,s)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return en.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,a){let s,o;if(s=this,a(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,a),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),a(e,s.key)===0){if(s.right.isEmpty())return en.EMPTY_NODE;o=s.right.min_(),s=s.copy(o.key,o.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,a))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,a)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}It.RED=!0;It.BLACK=!1;class ON{copy(e,a,s,o,u){return this}insert(e,a,s){return new It(e,a,null)}remove(e,a){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class en{constructor(e,a=en.EMPTY_NODE){this.comparator_=e,this.root_=a}insert(e,a){return new en(this.comparator_,this.root_.insert(e,a,this.comparator_).copy(null,null,It.BLACK,null,null))}remove(e){return new en(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,It.BLACK,null,null))}get(e){let a,s=this.root_;for(;!s.isEmpty();){if(a=this.comparator_(e,s.key),a===0)return s.value;a<0?s=s.left:a>0&&(s=s.right)}return null}getPredecessorKey(e){let a,s=this.root_,o=null;for(;!s.isEmpty();)if(a=this.comparator_(e,s.key),a===0){if(s.left.isEmpty())return o?o.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else a<0?s=s.left:a>0&&(o=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Zo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,a){return new Zo(this.root_,e,this.comparator_,!1,a)}getReverseIteratorFrom(e,a){return new Zo(this.root_,e,this.comparator_,!0,a)}getReverseIterator(e){return new Zo(this.root_,null,this.comparator_,!0,e)}}en.EMPTY_NODE=new ON;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(i,e){return Wr(i.name,e.name)}function Ah(i,e){return Wr(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qd;function xN(i){qd=i}const $E=function(i){return typeof i=="number"?"number:"+wE(i):"string:"+i},WE=function(i){if(i.isLeafNode()){const e=i.val();X(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ii(e,".sv"),"Priority must be a string or number.")}else X(i===qd||i.isEmpty(),"priority of unexpected type.");X(i===qd||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iy;class xt{static set __childrenNodeConstructor(e){Iy=e}static get __childrenNodeConstructor(){return Iy}constructor(e,a=xt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=a,this.lazyHash_=null,X(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),WE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new xt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:xt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Oe(e)?this:Me(e)===".priority"?this.priorityNode_:xt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,a){return null}updateImmediateChild(e,a){return e===".priority"?this.updatePriority(a):a.isEmpty()&&e!==".priority"?this:xt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,a).updatePriority(this.priorityNode_)}updateChild(e,a){const s=Me(e);return s===null?a:a.isEmpty()&&s!==".priority"?this:(X(s!==".priority"||ma(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,xt.__childrenNodeConstructor.EMPTY_NODE.updateChild(et(e),a)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,a){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+$E(this.priorityNode_.val())+":");const a=typeof this.value_;e+=a+":",a==="number"?e+=wE(this.value_):e+=this.value_,this.lazyHash_=SE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===xt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof xt.__childrenNodeConstructor?-1:(X(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const a=typeof e.value_,s=typeof this.value_,o=xt.VALUE_TYPE_ORDER.indexOf(a),u=xt.VALUE_TYPE_ORDER.indexOf(s);return X(o>=0,"Unknown leaf type: "+a),X(u>=0,"Unknown leaf type: "+s),o===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const a=e;return this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_)}else return!1}}xt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZE,JE;function IN(i){ZE=i}function LN(i){JE=i}class UN extends ju{compare(e,a){const s=e.node.getPriority(),o=a.node.getPriority(),u=s.compareTo(o);return u===0?Wr(e.name,a.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,a){return!e.getPriority().equals(a.getPriority())}minPost(){return Ae.MIN}maxPost(){return new Ae(Ja,new xt("[PRIORITY-POST]",JE))}makePost(e,a){const s=ZE(e);return new Ae(a,new xt("[PRIORITY-POST]",s))}toString(){return".priority"}}const ft=new UN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=Math.log(2);class zN{constructor(e){const a=u=>parseInt(Math.log(u)/kN,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=a(e+1),this.current_=this.count-1;const o=s(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const vu=function(i,e,a,s){i.sort(e);const o=function(m,p){const y=p-m;let v,E;if(y===0)return null;if(y===1)return v=i[m],E=a?a(v):v,new It(E,v.node,It.BLACK,null,null);{const S=parseInt(y/2,10)+m,N=o(m,S),H=o(S+1,p);return v=i[S],E=a?a(v):v,new It(E,v.node,It.BLACK,N,H)}},u=function(m){let p=null,y=null,v=i.length;const E=function(N,H){const z=v-N,P=v;v-=N;const Q=o(z+1,P),Z=i[z],de=a?a(Z):Z;S(new It(de,Z.node,H,null,Q))},S=function(N){p?(p.left=N,p=N):(y=N,p=N)};for(let N=0;N<m.count;++N){const H=m.nextBitIsOne(),z=Math.pow(2,m.count-(N+1));H?E(z,It.BLACK):(E(z,It.BLACK),E(z,It.RED))}return y},f=new zN(i.length),h=u(f);return new en(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd;const Br={};class Ni{static get Default(){return X(Br&&ft,"ChildrenNode.ts has not been loaded"),wd=wd||new Ni({".priority":Br},{".priority":ft}),wd}constructor(e,a){this.indexes_=e,this.indexSet_=a}get(e){const a=Yr(this.indexes_,e);if(!a)throw new Error("No index defined for "+e);return a instanceof en?a:null}hasIndex(e){return Ii(this.indexSet_,e.toString())}addIndex(e,a){X(e!==Vr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let o=!1;const u=a.getIterator(Ae.Wrap);let f=u.getNext();for(;f;)o=o||e.isDefinedOn(f.node),s.push(f),f=u.getNext();let h;o?h=vu(s,e.getCompare()):h=Br;const m=e.toString(),p=Object.assign({},this.indexSet_);p[m]=e;const y=Object.assign({},this.indexes_);return y[m]=h,new Ni(y,p)}addToIndexes(e,a){const s=du(this.indexes_,(o,u)=>{const f=Yr(this.indexSet_,u);if(X(f,"Missing index implementation for "+u),o===Br)if(f.isDefinedOn(e.node)){const h=[],m=a.getIterator(Ae.Wrap);let p=m.getNext();for(;p;)p.name!==e.name&&h.push(p),p=m.getNext();return h.push(e),vu(h,f.getCompare())}else return Br;else{const h=a.get(e.name);let m=o;return h&&(m=m.remove(new Ae(e.name,h))),m.insert(e,e.node)}});return new Ni(s,this.indexSet_)}removeFromIndexes(e,a){const s=du(this.indexes_,o=>{if(o===Br)return o;{const u=a.get(e.name);return u?o.remove(new Ae(e.name,u)):o}});return new Ni(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tl;class ge{static get EMPTY_NODE(){return tl||(tl=new ge(new en(Ah),null,Ni.Default))}constructor(e,a,s){this.children_=e,this.priorityNode_=a,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&WE(this.priorityNode_),this.children_.isEmpty()&&X(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||tl}updatePriority(e){return this.children_.isEmpty()?this:new ge(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const a=this.children_.get(e);return a===null?tl:a}}getChild(e){const a=Me(e);return a===null?this:this.getImmediateChild(a).getChild(et(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,a){if(X(a,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(a);{const s=new Ae(e,a);let o,u;a.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(o=this.children_.insert(e,a),u=this.indexMap_.addToIndexes(s,this.children_));const f=o.isEmpty()?tl:this.priorityNode_;return new ge(o,f,u)}}updateChild(e,a){const s=Me(e);if(s===null)return a;{X(Me(e)!==".priority"||ma(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(s).updateChild(et(e),a);return this.updateImmediateChild(s,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const a={};let s=0,o=0,u=!0;if(this.forEachChild(ft,(f,h)=>{a[f]=h.val(e),s++,u&&ge.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):u=!1}),!e&&u&&o<2*s){const f=[];for(const h in a)f[h]=a[h];return f}else return e&&!this.getPriority().isEmpty()&&(a[".priority"]=this.getPriority().val()),a}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+$E(this.getPriority().val())+":"),this.forEachChild(ft,(a,s)=>{const o=s.hash();o!==""&&(e+=":"+a+":"+o)}),this.lazyHash_=e===""?"":SE(e)}return this.lazyHash_}getPredecessorChildName(e,a,s){const o=this.resolveIndex_(s);if(o){const u=o.getPredecessorKey(new Ae(e,a));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const a=this.resolveIndex_(e);if(a){const s=a.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const a=this.getFirstChildName(e);return a?new Ae(a,this.children_.get(a)):null}getLastChildName(e){const a=this.resolveIndex_(e);if(a){const s=a.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const a=this.getLastChildName(e);return a?new Ae(a,this.children_.get(a)):null}forEachChild(e,a){const s=this.resolveIndex_(e);return s?s.inorderTraversal(o=>a(o.name,o.node)):this.children_.inorderTraversal(a)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,a){const s=this.resolveIndex_(a);if(s)return s.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,Ae.Wrap);let u=o.peek();for(;u!=null&&a.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,a){const s=this.resolveIndex_(a);if(s)return s.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,Ae.Wrap);let u=o.peek();for(;u!=null&&a.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===xl?-1:0}withIndex(e){if(e===Vr||this.indexMap_.hasIndex(e))return this;{const a=this.indexMap_.addIndex(e,this.children_);return new ge(this.children_,this.priorityNode_,a)}}isIndexed(e){return e===Vr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const a=e;if(this.getPriority().equals(a.getPriority()))if(this.children_.count()===a.children_.count()){const s=this.getIterator(ft),o=a.getIterator(ft);let u=s.getNext(),f=o.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=s.getNext(),f=o.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===Vr?null:this.indexMap_.get(e.toString())}}ge.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class HN extends ge{constructor(){super(new en(Ah),ge.EMPTY_NODE,Ni.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ge.EMPTY_NODE}isEmpty(){return!1}}const xl=new HN;Object.defineProperties(Ae,{MIN:{value:new Ae(Qr,ge.EMPTY_NODE)},MAX:{value:new Ae(Ja,xl)}});KE.__EMPTY_NODE=ge.EMPTY_NODE;xt.__childrenNodeConstructor=ge;xN(xl);LN(xl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=!0;function Lt(i,e=null){if(i===null)return ge.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),X(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const a=i;return new xt(a,Lt(e))}if(!(i instanceof Array)&&PN){const a=[];let s=!1;if(an(i,(f,h)=>{if(f.substring(0,1)!=="."){const m=Lt(h);m.isEmpty()||(s=s||!m.getPriority().isEmpty(),a.push(new Ae(f,m)))}}),a.length===0)return ge.EMPTY_NODE;const u=vu(a,MN,f=>f.name,Ah);if(s){const f=vu(a,ft.getCompare());return new ge(u,Lt(e),new Ni({".priority":f},{".priority":ft}))}else return new ge(u,Lt(e),Ni.Default)}else{let a=ge.EMPTY_NODE;return an(i,(s,o)=>{if(Ii(i,s)&&s.substring(0,1)!=="."){const u=Lt(o);(u.isLeafNode()||!u.isEmpty())&&(a=a.updateImmediateChild(s,u))}}),a.updatePriority(Lt(e))}}IN(Lt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN extends ju{constructor(e){super(),this.indexPath_=e,X(!Oe(e)&&Me(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,a){const s=this.extractChild(e.node),o=this.extractChild(a.node),u=s.compareTo(o);return u===0?Wr(e.name,a.name):u}makePost(e,a){const s=Lt(e),o=ge.EMPTY_NODE.updateChild(this.indexPath_,s);return new Ae(a,o)}maxPost(){const e=ge.EMPTY_NODE.updateChild(this.indexPath_,xl);return new Ae(Ja,e)}toString(){return GE(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN extends ju{compare(e,a){const s=e.node.compareTo(a.node);return s===0?Wr(e.name,a.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,a){return!e.equals(a)}minPost(){return Ae.MIN}maxPost(){return Ae.MAX}makePost(e,a){const s=Lt(e);return new Ae(a,s)}toString(){return".value"}}const qN=new jN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(i){return{type:"value",snapshotNode:i}}function Xr(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function yl(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function vl(i,e,a){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:a}}function VN(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e){this.index_=e}updateChild(e,a,s,o,u,f){X(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(a);return h.getChild(o).equals(s.getChild(o))&&h.isEmpty()===s.isEmpty()||(f!=null&&(s.isEmpty()?e.hasChild(a)?f.trackChildChange(yl(a,h)):X(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?f.trackChildChange(Xr(a,s)):f.trackChildChange(vl(a,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(a,s).withIndex(this.index_)}updateFullNode(e,a,s){return s!=null&&(e.isLeafNode()||e.forEachChild(ft,(o,u)=>{a.hasChild(o)||s.trackChildChange(yl(o,u))}),a.isLeafNode()||a.forEachChild(ft,(o,u)=>{if(e.hasChild(o)){const f=e.getImmediateChild(o);f.equals(u)||s.trackChildChange(vl(o,u,f))}else s.trackChildChange(Xr(o,u))})),a.withIndex(this.index_)}updatePriority(e,a){return e.isEmpty()?ge.EMPTY_NODE:e.updatePriority(a)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.indexedFilter_=new Nh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=El.getStartPost_(e),this.endPost_=El.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const a=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return a&&s}updateChild(e,a,s,o,u,f){return this.matches(new Ae(a,s))||(s=ge.EMPTY_NODE),this.indexedFilter_.updateChild(e,a,s,o,u,f)}updateFullNode(e,a,s){a.isLeafNode()&&(a=ge.EMPTY_NODE);let o=a.withIndex(this.index_);o=o.updatePriority(ge.EMPTY_NODE);const u=this;return a.forEachChild(ft,(f,h)=>{u.matches(new Ae(f,h))||(o=o.updateImmediateChild(f,ge.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,s)}updatePriority(e,a){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const a=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),a)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const a=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),a)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.withinDirectionalStart=a=>this.reverse_?this.withinEndPost(a):this.withinStartPost(a),this.withinDirectionalEnd=a=>this.reverse_?this.withinStartPost(a):this.withinEndPost(a),this.withinStartPost=a=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),a);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=a=>{const s=this.index_.compare(a,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new El(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,a,s,o,u,f){return this.rangedFilter_.matches(new Ae(a,s))||(s=ge.EMPTY_NODE),e.getImmediateChild(a).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,a,s,o,u,f):this.fullLimitUpdateChild_(e,a,s,u,f)}updateFullNode(e,a,s){let o;if(a.isLeafNode()||a.isEmpty())o=ge.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<a.numChildren()&&a.isIndexed(this.index_)){o=ge.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),f++;else break;else continue}}else{o=a.withIndex(this.index_),o=o.updatePriority(ge.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let f=0;for(;u.hasNext();){const h=u.getNext();f<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?f++:o=o.updateImmediateChild(h.name,ge.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,s)}updatePriority(e,a){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,a,s,o,u){let f;if(this.reverse_){const v=this.index_.getCompare();f=(E,S)=>v(S,E)}else f=this.index_.getCompare();const h=e;X(h.numChildren()===this.limit_,"");const m=new Ae(a,s),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),y=this.rangedFilter_.matches(m);if(h.hasChild(a)){const v=h.getImmediateChild(a);let E=o.getChildAfterChild(this.index_,p,this.reverse_);for(;E!=null&&(E.name===a||h.hasChild(E.name));)E=o.getChildAfterChild(this.index_,E,this.reverse_);const S=E==null?1:f(E,m);if(y&&!s.isEmpty()&&S>=0)return u!=null&&u.trackChildChange(vl(a,s,v)),h.updateImmediateChild(a,s);{u!=null&&u.trackChildChange(yl(a,v));const H=h.updateImmediateChild(a,ge.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(u!=null&&u.trackChildChange(Xr(E.name,E.node)),H.updateImmediateChild(E.name,E.node)):H}}else return s.isEmpty()?e:y&&f(p,m)>=0?(u!=null&&(u.trackChildChange(yl(p.name,p.node)),u.trackChildChange(Xr(a,s))),h.updateImmediateChild(a,s).updateImmediateChild(p.name,ge.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ft}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return X(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return X(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qr}hasEnd(){return this.endSet_}getIndexEndValue(){return X(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return X(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ja}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return X(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ft}copy(){const e=new Dh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function GN(i){return i.loadsAllData()?new Nh(i.getIndex()):i.hasLimit()?new FN(i):new El(i)}function Ly(i){const e={};if(i.isDefault())return e;let a;if(i.index_===ft?a="$priority":i.index_===qN?a="$value":i.index_===Vr?a="$key":(X(i.index_ instanceof BN,"Unrecognized index type!"),a=i.index_.toString()),e.orderBy=Tt(a),i.startSet_){const s=i.startAfterSet_?"startAfter":"startAt";e[s]=Tt(i.indexStartValue_),i.startNameSet_&&(e[s]+=","+Tt(i.indexStartName_))}if(i.endSet_){const s=i.endBeforeSet_?"endBefore":"endAt";e[s]=Tt(i.indexEndValue_),i.endNameSet_&&(e[s]+=","+Tt(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function Uy(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let a=i.viewFrom_;a===""&&(i.isViewFromLeft()?a="l":a="r"),e.vf=a}return i.index_!==ft&&(e.i=i.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends qE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,a){return a!==void 0?"tag$"+a:(X(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,a,s,o){super(),this.repoInfo_=e,this.onDataUpdate_=a,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.log_=Ml("p:rest:"),this.listens_={}}listen(e,a,s,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=Eu.getListenId_(e,s),h={};this.listens_[f]=h;const m=Ly(e._queryParams);this.restRequest_(u+".json",m,(p,y)=>{let v=y;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(u,v,!1,s),Yr(this.listens_,f)===h){let E;p?p===401?E="permission_denied":E="rest_error:"+p:E="ok",o(E,null)}})}unlisten(e,a){const s=Eu.getListenId_(e,a);delete this.listens_[s]}get(e){const a=Ly(e._queryParams),s=e._path.toString(),o=new Uu;return this.restRequest_(s+".json",a,(u,f)=>{let h=f;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(s,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,a={},s){return a.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(a.auth=o.accessToken),u&&u.token&&(a.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+mh(a);this.log_("Sending REST request for "+f);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=pl(h.responseText)}catch{nn("Failed to parse JSON response for "+f+": "+h.responseText)}s(null,m)}else h.status!==401&&h.status!==404&&nn("Got unsuccessful REST response for "+f+" Status: "+h.status),s(h.status);s=null}},h.open("GET",f,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this.rootNode_=ge.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,a){this.rootNode_=this.rootNode_.updateChild(e,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(){return{value:null,children:new Map}}function tb(i,e,a){if(Oe(e))i.value=a,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,a);else{const s=Me(e);i.children.has(s)||i.children.set(s,bu());const o=i.children.get(s);e=et(e),tb(o,e,a)}}function Vd(i,e,a){i.value!==null?a(e,i.value):QN(i,(s,o)=>{const u=new Ke(e.toString()+"/"+s);Vd(o,u,a)})}function QN(i,e){i.children.forEach((a,s)=>{e(s,a)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),a=Object.assign({},e);return this.last_&&an(this.last_,(s,o)=>{a[s]=a[s]-o}),this.last_=e,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=10*1e3,KN=30*1e3,$N=5*60*1e3;class WN{constructor(e,a){this.server_=a,this.statsToReport_={},this.statsListener_=new XN(e);const s=ky+(KN-ky)*Math.random();ll(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),a={};let s=!1;an(e,(o,u)=>{u>0&&Ii(this.statsToReport_,o)&&(a[o]=u,s=!0)}),s&&this.server_.reportStats(a),ll(this.reportStats_.bind(this),Math.floor(Math.random()*2*$N))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qn;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(qn||(qn={}));function nb(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Oh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Mh(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,a,s){this.path=e,this.affectedTree=a,this.revert=s,this.type=qn.ACK_USER_WRITE,this.source=nb()}operationForChild(e){if(Oe(this.path)){if(this.affectedTree.value!=null)return X(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const a=this.affectedTree.subtree(new Ke(e));return new Su(Be(),a,this.revert)}}else return X(Me(this.path)===e,"operationForChild called for unrelated child."),new Su(et(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,a){this.source=e,this.path=a,this.type=qn.LISTEN_COMPLETE}operationForChild(e){return Oe(this.path)?new bl(this.source,Be()):new bl(this.source,et(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,a,s){this.source=e,this.path=a,this.snap=s,this.type=qn.OVERWRITE}operationForChild(e){return Oe(this.path)?new er(this.source,Be(),this.snap.getImmediateChild(e)):new er(this.source,et(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,a,s){this.source=e,this.path=a,this.children=s,this.type=qn.MERGE}operationForChild(e){if(Oe(this.path)){const a=this.children.subtree(new Ke(e));return a.isEmpty()?null:a.value?new er(this.source,Be(),a.value):new Sl(this.source,Be(),a)}else return X(Me(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Sl(this.source,et(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,a,s){this.node_=e,this.fullyInitialized_=a,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Oe(e))return this.isFullyInitialized()&&!this.filtered_;const a=Me(e);return this.isCompleteForChild(a)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function JN(i,e,a,s){const o=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(VN(f.childName,f.snapshotNode))}),nl(i,o,"child_removed",e,s,a),nl(i,o,"child_added",e,s,a),nl(i,o,"child_moved",u,s,a),nl(i,o,"child_changed",e,s,a),nl(i,o,"value",e,s,a),o}function nl(i,e,a,s,o,u){const f=s.filter(h=>h.type===a);f.sort((h,m)=>tD(i,h,m)),f.forEach(h=>{const m=eD(i,h,u);o.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(m,i.query_))})})}function eD(i,e,a){return e.type==="value"||e.type==="child_removed"||(e.prevName=a.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function tD(i,e,a){if(e.childName==null||a.childName==null)throw $r("Should only compare child_ events.");const s=new Ae(e.childName,e.snapshotNode),o=new Ae(a.childName,a.snapshotNode);return i.index_.compare(s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(i,e){return{eventCache:i,serverCache:e}}function ol(i,e,a,s){return qu(new pa(e,a,s),i.serverCache)}function ib(i,e,a,s){return qu(i.eventCache,new pa(e,a,s))}function Tu(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function tr(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd;const nD=()=>(Rd||(Rd=new en(j1)),Rd);class nt{static fromObject(e){let a=new nt(null);return an(e,(s,o)=>{a=a.set(new Ke(s),o)}),a}constructor(e,a=nD()){this.value=e,this.children=a}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,a){if(this.value!=null&&a(this.value))return{path:Be(),value:this.value};if(Oe(e))return null;{const s=Me(e),o=this.children.get(s);if(o!==null){const u=o.findRootMostMatchingPathAndValue(et(e),a);return u!=null?{path:Ct(new Ke(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Oe(e))return this;{const a=Me(e),s=this.children.get(a);return s!==null?s.subtree(et(e)):new nt(null)}}set(e,a){if(Oe(e))return new nt(a,this.children);{const s=Me(e),u=(this.children.get(s)||new nt(null)).set(et(e),a),f=this.children.insert(s,u);return new nt(this.value,f)}}remove(e){if(Oe(e))return this.children.isEmpty()?new nt(null):new nt(null,this.children);{const a=Me(e),s=this.children.get(a);if(s){const o=s.remove(et(e));let u;return o.isEmpty()?u=this.children.remove(a):u=this.children.insert(a,o),this.value===null&&u.isEmpty()?new nt(null):new nt(this.value,u)}else return this}}get(e){if(Oe(e))return this.value;{const a=Me(e),s=this.children.get(a);return s?s.get(et(e)):null}}setTree(e,a){if(Oe(e))return a;{const s=Me(e),u=(this.children.get(s)||new nt(null)).setTree(et(e),a);let f;return u.isEmpty()?f=this.children.remove(s):f=this.children.insert(s,u),new nt(this.value,f)}}fold(e){return this.fold_(Be(),e)}fold_(e,a){const s={};return this.children.inorderTraversal((o,u)=>{s[o]=u.fold_(Ct(e,o),a)}),a(e,this.value,s)}findOnPath(e,a){return this.findOnPath_(e,Be(),a)}findOnPath_(e,a,s){const o=this.value?s(a,this.value):!1;if(o)return o;if(Oe(e))return null;{const u=Me(e),f=this.children.get(u);return f?f.findOnPath_(et(e),Ct(a,u),s):null}}foreachOnPath(e,a){return this.foreachOnPath_(e,Be(),a)}foreachOnPath_(e,a,s){if(Oe(e))return this;{this.value&&s(a,this.value);const o=Me(e),u=this.children.get(o);return u?u.foreachOnPath_(et(e),Ct(a,o),s):new nt(null)}}foreach(e){this.foreach_(Be(),e)}foreach_(e,a){this.children.inorderTraversal((s,o)=>{o.foreach_(Ct(e,s),a)}),this.value&&a(e,this.value)}foreachChild(e){this.children.inorderTraversal((a,s)=>{s.value&&e(a,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.writeTree_=e}static empty(){return new Vn(new nt(null))}}function ul(i,e,a){if(Oe(e))return new Vn(new nt(a));{const s=i.writeTree_.findRootMostValueAndPath(e);if(s!=null){const o=s.path;let u=s.value;const f=Kt(o,e);return u=u.updateChild(f,a),new Vn(i.writeTree_.set(o,u))}else{const o=new nt(a),u=i.writeTree_.setTree(e,o);return new Vn(u)}}}function zy(i,e,a){let s=i;return an(a,(o,u)=>{s=ul(s,Ct(e,o),u)}),s}function Hy(i,e){if(Oe(e))return Vn.empty();{const a=i.writeTree_.setTree(e,new nt(null));return new Vn(a)}}function Fd(i,e){return rr(i,e)!=null}function rr(i,e){const a=i.writeTree_.findRootMostValueAndPath(e);return a!=null?i.writeTree_.get(a.path).getChild(Kt(a.path,e)):null}function Py(i){const e=[],a=i.writeTree_.value;return a!=null?a.isLeafNode()||a.forEachChild(ft,(s,o)=>{e.push(new Ae(s,o))}):i.writeTree_.children.inorderTraversal((s,o)=>{o.value!=null&&e.push(new Ae(s,o.value))}),e}function fa(i,e){if(Oe(e))return i;{const a=rr(i,e);return a!=null?new Vn(new nt(a)):new Vn(i.writeTree_.subtree(e))}}function Gd(i){return i.writeTree_.isEmpty()}function Kr(i,e){return ab(Be(),i.writeTree_,e)}function ab(i,e,a){if(e.value!=null)return a.updateChild(i,e.value);{let s=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(X(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):a=ab(Ct(i,o),u,a)}),!a.getChild(i).isEmpty()&&s!==null&&(a=a.updateChild(Ct(i,".priority"),s)),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(i,e){return ob(e,i)}function iD(i,e,a,s,o){X(s>i.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),i.allWrites.push({path:e,snap:a,writeId:s,visible:o}),o&&(i.visibleWrites=ul(i.visibleWrites,e,a)),i.lastWriteId=s}function aD(i,e){for(let a=0;a<i.allWrites.length;a++){const s=i.allWrites[a];if(s.writeId===e)return s}return null}function rD(i,e){const a=i.allWrites.findIndex(h=>h.writeId===e);X(a>=0,"removeWrite called with nonexistent writeId.");const s=i.allWrites[a];i.allWrites.splice(a,1);let o=s.visible,u=!1,f=i.allWrites.length-1;for(;o&&f>=0;){const h=i.allWrites[f];h.visible&&(f>=a&&sD(h,s.path)?o=!1:jn(s.path,h.path)&&(u=!0)),f--}if(o){if(u)return lD(i),!0;if(s.snap)i.visibleWrites=Hy(i.visibleWrites,s.path);else{const h=s.children;an(h,m=>{i.visibleWrites=Hy(i.visibleWrites,Ct(s.path,m))})}return!0}else return!1}function sD(i,e){if(i.snap)return jn(i.path,e);for(const a in i.children)if(i.children.hasOwnProperty(a)&&jn(Ct(i.path,a),e))return!0;return!1}function lD(i){i.visibleWrites=rb(i.allWrites,oD,Be()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function oD(i){return i.visible}function rb(i,e,a){let s=Vn.empty();for(let o=0;o<i.length;++o){const u=i[o];if(e(u)){const f=u.path;let h;if(u.snap)jn(a,f)?(h=Kt(a,f),s=ul(s,h,u.snap)):jn(f,a)&&(h=Kt(f,a),s=ul(s,Be(),u.snap.getChild(h)));else if(u.children){if(jn(a,f))h=Kt(a,f),s=zy(s,h,u.children);else if(jn(f,a))if(h=Kt(f,a),Oe(h))s=zy(s,Be(),u.children);else{const m=Yr(u.children,Me(h));if(m){const p=m.getChild(et(h));s=ul(s,Be(),p)}}}else throw $r("WriteRecord should have .snap or .children")}}return s}function sb(i,e,a,s,o){if(!s&&!o){const u=rr(i.visibleWrites,e);if(u!=null)return u;{const f=fa(i.visibleWrites,e);if(Gd(f))return a;if(a==null&&!Fd(f,Be()))return null;{const h=a||ge.EMPTY_NODE;return Kr(f,h)}}}else{const u=fa(i.visibleWrites,e);if(!o&&Gd(u))return a;if(!o&&a==null&&!Fd(u,Be()))return null;{const f=function(p){return(p.visible||o)&&(!s||!~s.indexOf(p.writeId))&&(jn(p.path,e)||jn(e,p.path))},h=rb(i.allWrites,f,e),m=a||ge.EMPTY_NODE;return Kr(h,m)}}}function uD(i,e,a){let s=ge.EMPTY_NODE;const o=rr(i.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(ft,(u,f)=>{s=s.updateImmediateChild(u,f)}),s;if(a){const u=fa(i.visibleWrites,e);return a.forEachChild(ft,(f,h)=>{const m=Kr(fa(u,new Ke(f)),h);s=s.updateImmediateChild(f,m)}),Py(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}else{const u=fa(i.visibleWrites,e);return Py(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}}function cD(i,e,a,s,o){X(s||o,"Either existingEventSnap or existingServerSnap must exist");const u=Ct(e,a);if(Fd(i.visibleWrites,u))return null;{const f=fa(i.visibleWrites,u);return Gd(f)?o.getChild(a):Kr(f,o.getChild(a))}}function fD(i,e,a,s){const o=Ct(e,a),u=rr(i.visibleWrites,o);if(u!=null)return u;if(s.isCompleteForChild(a)){const f=fa(i.visibleWrites,o);return Kr(f,s.getNode().getImmediateChild(a))}else return null}function dD(i,e){return rr(i.visibleWrites,e)}function hD(i,e,a,s,o,u,f){let h;const m=fa(i.visibleWrites,e),p=rr(m,Be());if(p!=null)h=p;else if(a!=null)h=Kr(m,a);else return[];if(h=h.withIndex(f),!h.isEmpty()&&!h.isLeafNode()){const y=[],v=f.getCompare(),E=u?h.getReverseIteratorFrom(s,f):h.getIteratorFrom(s,f);let S=E.getNext();for(;S&&y.length<o;)v(S,s)!==0&&y.push(S),S=E.getNext();return y}else return[]}function mD(){return{visibleWrites:Vn.empty(),allWrites:[],lastWriteId:-1}}function Cu(i,e,a,s){return sb(i.writeTree,i.treePath,e,a,s)}function xh(i,e){return uD(i.writeTree,i.treePath,e)}function By(i,e,a,s){return cD(i.writeTree,i.treePath,e,a,s)}function wu(i,e){return dD(i.writeTree,Ct(i.treePath,e))}function pD(i,e,a,s,o,u){return hD(i.writeTree,i.treePath,e,a,s,o,u)}function Ih(i,e,a){return fD(i.writeTree,i.treePath,e,a)}function lb(i,e){return ob(Ct(i.treePath,e),i.writeTree)}function ob(i,e){return{treePath:i,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.changeMap=new Map}trackChildChange(e){const a=e.type,s=e.childName;X(a==="child_added"||a==="child_changed"||a==="child_removed","Only child changes supported for tracking"),X(s!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(s);if(o){const u=o.type;if(a==="child_added"&&u==="child_removed")this.changeMap.set(s,vl(s,e.snapshotNode,o.snapshotNode));else if(a==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(a==="child_removed"&&u==="child_changed")this.changeMap.set(s,yl(s,o.oldSnap));else if(a==="child_changed"&&u==="child_added")this.changeMap.set(s,Xr(s,e.snapshotNode));else if(a==="child_changed"&&u==="child_changed")this.changeMap.set(s,vl(s,e.snapshotNode,o.oldSnap));else throw $r("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{getCompleteChild(e){return null}getChildAfterChild(e,a,s){return null}}const ub=new _D;class Lh{constructor(e,a,s=null){this.writes_=e,this.viewCache_=a,this.optCompleteServerCache_=s}getCompleteChild(e){const a=this.viewCache_.eventCache;if(a.isCompleteForChild(e))return a.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new pa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ih(this.writes_,e,s)}}getChildAfterChild(e,a,s){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:tr(this.viewCache_),u=pD(this.writes_,o,a,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(i){return{filter:i}}function vD(i,e){X(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),X(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function ED(i,e,a,s,o){const u=new gD;let f,h;if(a.type===qn.OVERWRITE){const p=a;p.source.fromUser?f=Yd(i,e,p.path,p.snap,s,o,u):(X(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!Oe(p.path),f=Ru(i,e,p.path,p.snap,s,o,h,u))}else if(a.type===qn.MERGE){const p=a;p.source.fromUser?f=SD(i,e,p.path,p.children,s,o,u):(X(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),f=Qd(i,e,p.path,p.children,s,o,h,u))}else if(a.type===qn.ACK_USER_WRITE){const p=a;p.revert?f=wD(i,e,p.path,s,o,u):f=TD(i,e,p.path,p.affectedTree,s,o,u)}else if(a.type===qn.LISTEN_COMPLETE)f=CD(i,e,a.path,s,u);else throw $r("Unknown operation type: "+a.type);const m=u.getChanges();return bD(e,f,m),{viewCache:f,changes:m}}function bD(i,e,a){const s=e.eventCache;if(s.isFullyInitialized()){const o=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=Tu(i);(a.length>0||!i.eventCache.isFullyInitialized()||o&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&a.push(eb(Tu(e)))}}function cb(i,e,a,s,o,u){const f=e.eventCache;if(wu(s,a)!=null)return e;{let h,m;if(Oe(a))if(X(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=tr(e),y=p instanceof ge?p:ge.EMPTY_NODE,v=xh(s,y);h=i.filter.updateFullNode(e.eventCache.getNode(),v,u)}else{const p=Cu(s,tr(e));h=i.filter.updateFullNode(e.eventCache.getNode(),p,u)}else{const p=Me(a);if(p===".priority"){X(ma(a)===1,"Can't have a priority with additional path components");const y=f.getNode();m=e.serverCache.getNode();const v=By(s,a,y,m);v!=null?h=i.filter.updatePriority(y,v):h=f.getNode()}else{const y=et(a);let v;if(f.isCompleteForChild(p)){m=e.serverCache.getNode();const E=By(s,a,f.getNode(),m);E!=null?v=f.getNode().getImmediateChild(p).updateChild(y,E):v=f.getNode().getImmediateChild(p)}else v=Ih(s,p,e.serverCache);v!=null?h=i.filter.updateChild(f.getNode(),p,v,y,o,u):h=f.getNode()}}return ol(e,h,f.isFullyInitialized()||Oe(a),i.filter.filtersNodes())}}function Ru(i,e,a,s,o,u,f,h){const m=e.serverCache;let p;const y=f?i.filter:i.filter.getIndexedFilter();if(Oe(a))p=y.updateFullNode(m.getNode(),s,null);else if(y.filtersNodes()&&!m.isFiltered()){const S=m.getNode().updateChild(a,s);p=y.updateFullNode(m.getNode(),S,null)}else{const S=Me(a);if(!m.isCompleteForPath(a)&&ma(a)>1)return e;const N=et(a),z=m.getNode().getImmediateChild(S).updateChild(N,s);S===".priority"?p=y.updatePriority(m.getNode(),z):p=y.updateChild(m.getNode(),S,z,N,ub,null)}const v=ib(e,p,m.isFullyInitialized()||Oe(a),y.filtersNodes()),E=new Lh(o,v,u);return cb(i,v,a,o,E,h)}function Yd(i,e,a,s,o,u,f){const h=e.eventCache;let m,p;const y=new Lh(o,e,u);if(Oe(a))p=i.filter.updateFullNode(e.eventCache.getNode(),s,f),m=ol(e,p,!0,i.filter.filtersNodes());else{const v=Me(a);if(v===".priority")p=i.filter.updatePriority(e.eventCache.getNode(),s),m=ol(e,p,h.isFullyInitialized(),h.isFiltered());else{const E=et(a),S=h.getNode().getImmediateChild(v);let N;if(Oe(E))N=s;else{const H=y.getCompleteChild(v);H!=null?FE(E)===".priority"&&H.getChild(YE(E)).isEmpty()?N=H:N=H.updateChild(E,s):N=ge.EMPTY_NODE}if(S.equals(N))m=e;else{const H=i.filter.updateChild(h.getNode(),v,N,E,y,f);m=ol(e,H,h.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function jy(i,e){return i.eventCache.isCompleteForChild(e)}function SD(i,e,a,s,o,u,f){let h=e;return s.foreach((m,p)=>{const y=Ct(a,m);jy(e,Me(y))&&(h=Yd(i,h,y,p,o,u,f))}),s.foreach((m,p)=>{const y=Ct(a,m);jy(e,Me(y))||(h=Yd(i,h,y,p,o,u,f))}),h}function qy(i,e,a){return a.foreach((s,o)=>{e=e.updateChild(s,o)}),e}function Qd(i,e,a,s,o,u,f,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,p;Oe(a)?p=s:p=new nt(null).setTree(a,s);const y=e.serverCache.getNode();return p.children.inorderTraversal((v,E)=>{if(y.hasChild(v)){const S=e.serverCache.getNode().getImmediateChild(v),N=qy(i,S,E);m=Ru(i,m,new Ke(v),N,o,u,f,h)}}),p.children.inorderTraversal((v,E)=>{const S=!e.serverCache.isCompleteForChild(v)&&E.value===null;if(!y.hasChild(v)&&!S){const N=e.serverCache.getNode().getImmediateChild(v),H=qy(i,N,E);m=Ru(i,m,new Ke(v),H,o,u,f,h)}}),m}function TD(i,e,a,s,o,u,f){if(wu(o,a)!=null)return e;const h=e.serverCache.isFiltered(),m=e.serverCache;if(s.value!=null){if(Oe(a)&&m.isFullyInitialized()||m.isCompleteForPath(a))return Ru(i,e,a,m.getNode().getChild(a),o,u,h,f);if(Oe(a)){let p=new nt(null);return m.getNode().forEachChild(Vr,(y,v)=>{p=p.set(new Ke(y),v)}),Qd(i,e,a,p,o,u,h,f)}else return e}else{let p=new nt(null);return s.foreach((y,v)=>{const E=Ct(a,y);m.isCompleteForPath(E)&&(p=p.set(y,m.getNode().getChild(E)))}),Qd(i,e,a,p,o,u,h,f)}}function CD(i,e,a,s,o){const u=e.serverCache,f=ib(e,u.getNode(),u.isFullyInitialized()||Oe(a),u.isFiltered());return cb(i,f,a,s,ub,o)}function wD(i,e,a,s,o,u){let f;if(wu(s,a)!=null)return e;{const h=new Lh(s,e,o),m=e.eventCache.getNode();let p;if(Oe(a)||Me(a)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=Cu(s,tr(e));else{const v=e.serverCache.getNode();X(v instanceof ge,"serverChildren would be complete if leaf node"),y=xh(s,v)}y=y,p=i.filter.updateFullNode(m,y,u)}else{const y=Me(a);let v=Ih(s,y,e.serverCache);v==null&&e.serverCache.isCompleteForChild(y)&&(v=m.getImmediateChild(y)),v!=null?p=i.filter.updateChild(m,y,v,et(a),h,u):e.eventCache.getNode().hasChild(y)?p=i.filter.updateChild(m,y,ge.EMPTY_NODE,et(a),h,u):p=m,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=Cu(s,tr(e)),f.isLeafNode()&&(p=i.filter.updateFullNode(p,f,u)))}return f=e.serverCache.isFullyInitialized()||wu(s,Be())!=null,ol(e,p,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,a){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,o=new Nh(s.getIndex()),u=GN(s);this.processor_=yD(u);const f=a.serverCache,h=a.eventCache,m=o.updateFullNode(ge.EMPTY_NODE,f.getNode(),null),p=u.updateFullNode(ge.EMPTY_NODE,h.getNode(),null),y=new pa(m,f.isFullyInitialized(),o.filtersNodes()),v=new pa(p,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=qu(v,y),this.eventGenerator_=new ZN(this.query_)}get query(){return this.query_}}function AD(i){return i.viewCache_.serverCache.getNode()}function ND(i){return Tu(i.viewCache_)}function DD(i,e){const a=tr(i.viewCache_);return a&&(i.query._queryParams.loadsAllData()||!Oe(e)&&!a.getImmediateChild(Me(e)).isEmpty())?a.getChild(e):null}function Vy(i){return i.eventRegistrations_.length===0}function OD(i,e){i.eventRegistrations_.push(e)}function Fy(i,e,a){const s=[];if(a){X(e==null,"A cancel should cancel all event registrations.");const o=i.query._path;i.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(a,o);f&&s.push(f)})}if(e){let o=[];for(let u=0;u<i.eventRegistrations_.length;++u){const f=i.eventRegistrations_[u];if(!f.matches(e))o.push(f);else if(e.hasAnyCallback()){o=o.concat(i.eventRegistrations_.slice(u+1));break}}i.eventRegistrations_=o}else i.eventRegistrations_=[];return s}function Gy(i,e,a,s){e.type===qn.MERGE&&e.source.queryId!==null&&(X(tr(i.viewCache_),"We should always have a full cache before handling merges"),X(Tu(i.viewCache_),"Missing event cache, even though we have a server cache"));const o=i.viewCache_,u=ED(i.processor_,o,e,a,s);return vD(i.processor_,u.viewCache),X(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=u.viewCache,fb(i,u.changes,u.viewCache.eventCache.getNode(),null)}function MD(i,e){const a=i.viewCache_.eventCache,s=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(ft,(u,f)=>{s.push(Xr(u,f))}),a.isFullyInitialized()&&s.push(eb(a.getNode())),fb(i,s,a.getNode(),e)}function fb(i,e,a,s){const o=s?[s]:i.eventRegistrations_;return JN(i.eventGenerator_,e,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Au;class db{constructor(){this.views=new Map}}function xD(i){X(!Au,"__referenceConstructor has already been defined"),Au=i}function ID(){return X(Au,"Reference.ts has not been loaded"),Au}function LD(i){return i.views.size===0}function Uh(i,e,a,s){const o=e.source.queryId;if(o!==null){const u=i.views.get(o);return X(u!=null,"SyncTree gave us an op for an invalid query."),Gy(u,e,a,s)}else{let u=[];for(const f of i.views.values())u=u.concat(Gy(f,e,a,s));return u}}function hb(i,e,a,s,o){const u=e._queryIdentifier,f=i.views.get(u);if(!f){let h=Cu(a,o?s:null),m=!1;h?m=!0:s instanceof ge?(h=xh(a,s),m=!1):(h=ge.EMPTY_NODE,m=!1);const p=qu(new pa(h,m,!1),new pa(s,o,!1));return new RD(e,p)}return f}function UD(i,e,a,s,o,u){const f=hb(i,e,s,o,u);return i.views.has(e._queryIdentifier)||i.views.set(e._queryIdentifier,f),OD(f,a),MD(f,a)}function kD(i,e,a,s){const o=e._queryIdentifier,u=[];let f=[];const h=ga(i);if(o==="default")for(const[m,p]of i.views.entries())f=f.concat(Fy(p,a,s)),Vy(p)&&(i.views.delete(m),p.query._queryParams.loadsAllData()||u.push(p.query));else{const m=i.views.get(o);m&&(f=f.concat(Fy(m,a,s)),Vy(m)&&(i.views.delete(o),m.query._queryParams.loadsAllData()||u.push(m.query)))}return h&&!ga(i)&&u.push(new(ID())(e._repo,e._path)),{removed:u,events:f}}function mb(i){const e=[];for(const a of i.views.values())a.query._queryParams.loadsAllData()||e.push(a);return e}function da(i,e){let a=null;for(const s of i.views.values())a=a||DD(s,e);return a}function pb(i,e){if(e._queryParams.loadsAllData())return Fu(i);{const s=e._queryIdentifier;return i.views.get(s)}}function gb(i,e){return pb(i,e)!=null}function ga(i){return Fu(i)!=null}function Fu(i){for(const e of i.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu;function zD(i){X(!Nu,"__referenceConstructor has already been defined"),Nu=i}function HD(){return X(Nu,"Reference.ts has not been loaded"),Nu}let PD=1;class Yy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new nt(null),this.pendingWriteTree_=mD(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _b(i,e,a,s,o){return iD(i.pendingWriteTree_,e,a,s,o),o?Ll(i,new er(nb(),e,a)):[]}function Ka(i,e,a=!1){const s=aD(i.pendingWriteTree_,e);if(rD(i.pendingWriteTree_,e)){let u=new nt(null);return s.snap!=null?u=u.set(Be(),!0):an(s.children,f=>{u=u.set(new Ke(f),!0)}),Ll(i,new Su(s.path,u,a))}else return[]}function Il(i,e,a){return Ll(i,new er(Oh(),e,a))}function BD(i,e,a){const s=nt.fromObject(a);return Ll(i,new Sl(Oh(),e,s))}function jD(i,e){return Ll(i,new bl(Oh(),e))}function qD(i,e,a){const s=zh(i,a);if(s){const o=Hh(s),u=o.path,f=o.queryId,h=Kt(u,e),m=new bl(Mh(f),h);return Ph(i,u,m)}else return[]}function yb(i,e,a,s,o=!1){const u=e._path,f=i.syncPointTree_.get(u);let h=[];if(f&&(e._queryIdentifier==="default"||gb(f,e))){const m=kD(f,e,a,s);LD(f)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const p=m.removed;if(h=m.events,!o){const y=p.findIndex(E=>E._queryParams.loadsAllData())!==-1,v=i.syncPointTree_.findOnPath(u,(E,S)=>ga(S));if(y&&!v){const E=i.syncPointTree_.subtree(u);if(!E.isEmpty()){const S=YD(E);for(let N=0;N<S.length;++N){const H=S[N],z=H.query,P=Sb(i,H);i.listenProvider_.startListening(cl(z),Tl(i,z),P.hashFn,P.onComplete)}}}!v&&p.length>0&&!s&&(y?i.listenProvider_.stopListening(cl(e),null):p.forEach(E=>{const S=i.queryToTagMap.get(Gu(E));i.listenProvider_.stopListening(cl(E),S)}))}QD(i,p)}return h}function vb(i,e,a,s){const o=zh(i,s);if(o!=null){const u=Hh(o),f=u.path,h=u.queryId,m=Kt(f,e),p=new er(Mh(h),m,a);return Ph(i,f,p)}else return[]}function VD(i,e,a,s){const o=zh(i,s);if(o){const u=Hh(o),f=u.path,h=u.queryId,m=Kt(f,e),p=nt.fromObject(a),y=new Sl(Mh(h),m,p);return Ph(i,f,y)}else return[]}function FD(i,e,a,s=!1){const o=e._path;let u=null,f=!1;i.syncPointTree_.foreachOnPath(o,(E,S)=>{const N=Kt(E,o);u=u||da(S,N),f=f||ga(S)});let h=i.syncPointTree_.get(o);h?(f=f||ga(h),u=u||da(h,Be())):(h=new db,i.syncPointTree_=i.syncPointTree_.set(o,h));let m;u!=null?m=!0:(m=!1,u=ge.EMPTY_NODE,i.syncPointTree_.subtree(o).foreachChild((S,N)=>{const H=da(N,Be());H&&(u=u.updateImmediateChild(S,H))}));const p=gb(h,e);if(!p&&!e._queryParams.loadsAllData()){const E=Gu(e);X(!i.queryToTagMap.has(E),"View does not exist, but we have a tag");const S=XD();i.queryToTagMap.set(E,S),i.tagToQueryMap.set(S,E)}const y=Vu(i.pendingWriteTree_,o);let v=UD(h,e,a,y,u,m);if(!p&&!f&&!s){const E=pb(h,e);v=v.concat(KD(i,e,E))}return v}function kh(i,e,a){const o=i.pendingWriteTree_,u=i.syncPointTree_.findOnPath(e,(f,h)=>{const m=Kt(f,e),p=da(h,m);if(p)return p});return sb(o,e,u,a,!0)}function GD(i,e){const a=e._path;let s=null;i.syncPointTree_.foreachOnPath(a,(p,y)=>{const v=Kt(p,a);s=s||da(y,v)});let o=i.syncPointTree_.get(a);o?s=s||da(o,Be()):(o=new db,i.syncPointTree_=i.syncPointTree_.set(a,o));const u=s!=null,f=u?new pa(s,!0,!1):null,h=Vu(i.pendingWriteTree_,e._path),m=hb(o,e,h,u?f.getNode():ge.EMPTY_NODE,u);return ND(m)}function Ll(i,e){return Eb(e,i.syncPointTree_,null,Vu(i.pendingWriteTree_,Be()))}function Eb(i,e,a,s){if(Oe(i.path))return bb(i,e,a,s);{const o=e.get(Be());a==null&&o!=null&&(a=da(o,Be()));let u=[];const f=Me(i.path),h=i.operationForChild(f),m=e.children.get(f);if(m&&h){const p=a?a.getImmediateChild(f):null,y=lb(s,f);u=u.concat(Eb(h,m,p,y))}return o&&(u=u.concat(Uh(o,i,s,a))),u}}function bb(i,e,a,s){const o=e.get(Be());a==null&&o!=null&&(a=da(o,Be()));let u=[];return e.children.inorderTraversal((f,h)=>{const m=a?a.getImmediateChild(f):null,p=lb(s,f),y=i.operationForChild(f);y&&(u=u.concat(bb(y,h,m,p)))}),o&&(u=u.concat(Uh(o,i,s,a))),u}function Sb(i,e){const a=e.query,s=Tl(i,a);return{hashFn:()=>(AD(e)||ge.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return s?qD(i,a._path,s):jD(i,a._path);{const u=F1(o,a);return yb(i,a,null,u)}}}}function Tl(i,e){const a=Gu(e);return i.queryToTagMap.get(a)}function Gu(i){return i._path.toString()+"$"+i._queryIdentifier}function zh(i,e){return i.tagToQueryMap.get(e)}function Hh(i){const e=i.indexOf("$");return X(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new Ke(i.substr(0,e))}}function Ph(i,e,a){const s=i.syncPointTree_.get(e);X(s,"Missing sync point for query tag that we're tracking");const o=Vu(i.pendingWriteTree_,e);return Uh(s,a,o,null)}function YD(i){return i.fold((e,a,s)=>{if(a&&ga(a))return[Fu(a)];{let o=[];return a&&(o=mb(a)),an(s,(u,f)=>{o=o.concat(f)}),o}})}function cl(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(HD())(i._repo,i._path):i}function QD(i,e){for(let a=0;a<e.length;++a){const s=e[a];if(!s._queryParams.loadsAllData()){const o=Gu(s),u=i.queryToTagMap.get(o);i.queryToTagMap.delete(o),i.tagToQueryMap.delete(u)}}}function XD(){return PD++}function KD(i,e,a){const s=e._path,o=Tl(i,e),u=Sb(i,a),f=i.listenProvider_.startListening(cl(e),o,u.hashFn,u.onComplete),h=i.syncPointTree_.subtree(s);if(o)X(!ga(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((p,y,v)=>{if(!Oe(p)&&y&&ga(y))return[Fu(y).query];{let E=[];return y&&(E=E.concat(mb(y).map(S=>S.query))),an(v,(S,N)=>{E=E.concat(N)}),E}});for(let p=0;p<m.length;++p){const y=m[p];i.listenProvider_.stopListening(cl(y),Tl(i,y))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.node_=e}getImmediateChild(e){const a=this.node_.getImmediateChild(e);return new Bh(a)}node(){return this.node_}}class jh{constructor(e,a){this.syncTree_=e,this.path_=a}getImmediateChild(e){const a=Ct(this.path_,e);return new jh(this.syncTree_,a)}node(){return kh(this.syncTree_,this.path_)}}const $D=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Qy=function(i,e,a){if(!i||typeof i!="object")return i;if(X(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return WD(i[".sv"],e,a);if(typeof i[".sv"]=="object")return ZD(i[".sv"],e);X(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},WD=function(i,e,a){switch(i){case"timestamp":return a.timestamp;default:X(!1,"Unexpected server value: "+i)}},ZD=function(i,e,a){i.hasOwnProperty("increment")||X(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const s=i.increment;typeof s!="number"&&X(!1,"Unexpected increment value: "+s);const o=e.node();if(X(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return s;const f=o.getValue();return typeof f!="number"?s:f+s},JD=function(i,e,a,s){return qh(e,new jh(a,i),s)},Tb=function(i,e,a){return qh(i,new Bh(e),a)};function qh(i,e,a){const s=i.getPriority().val(),o=Qy(s,e.getImmediateChild(".priority"),a);let u;if(i.isLeafNode()){const f=i,h=Qy(f.getValue(),e,a);return h!==f.getValue()||o!==f.getPriority().val()?new xt(h,Lt(o)):i}else{const f=i;return u=f,o!==f.getPriority().val()&&(u=u.updatePriority(new xt(o))),f.forEachChild(ft,(h,m)=>{const p=qh(m,e.getImmediateChild(h),a);p!==m&&(u=u.updateImmediateChild(h,p))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e="",a=null,s={children:{},childCount:0}){this.name=e,this.parent=a,this.node=s}}function Fh(i,e){let a=e instanceof Ke?e:new Ke(e),s=i,o=Me(a);for(;o!==null;){const u=Yr(s.node.children,o)||{children:{},childCount:0};s=new Vh(o,s,u),a=et(a),o=Me(a)}return s}function Jr(i){return i.node.value}function Cb(i,e){i.node.value=e,Xd(i)}function wb(i){return i.node.childCount>0}function eO(i){return Jr(i)===void 0&&!wb(i)}function Yu(i,e){an(i.node.children,(a,s)=>{e(new Vh(a,i,s))})}function Rb(i,e,a,s){a&&e(i),Yu(i,o=>{Rb(o,e,!0)})}function tO(i,e,a){let s=i.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Ul(i){return new Ke(i.parent===null?i.name:Ul(i.parent)+"/"+i.name)}function Xd(i){i.parent!==null&&nO(i.parent,i.name,i)}function nO(i,e,a){const s=eO(a),o=Ii(i.node.children,e);s&&o?(delete i.node.children[e],i.node.childCount--,Xd(i)):!s&&!o&&(i.node.children[e]=a.node,i.node.childCount++,Xd(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=/[\[\].#$\/\u0000-\u001F\u007F]/,aO=/[\[\].#$\u0000-\u001F\u007F]/,Ad=10*1024*1024,Ab=function(i){return typeof i=="string"&&i.length!==0&&!iO.test(i)},Nb=function(i){return typeof i=="string"&&i.length!==0&&!aO.test(i)},rO=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Nb(i)},Db=function(i,e,a,s){s&&e===void 0||Gh(ph(i,"value"),e,a)},Gh=function(i,e,a){const s=a instanceof Ke?new TN(a,i):a;if(e===void 0)throw new Error(i+"contains undefined "+Fa(s));if(typeof e=="function")throw new Error(i+"contains a function "+Fa(s)+" with contents = "+e.toString());if(TE(e))throw new Error(i+"contains "+e.toString()+" "+Fa(s));if(typeof e=="string"&&e.length>Ad/3&&ku(e)>Ad)throw new Error(i+"contains a string greater than "+Ad+" utf8 bytes "+Fa(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(an(e,(f,h)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!Ab(f)))throw new Error(i+" contains an invalid key ("+f+") "+Fa(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);CN(s,f),Gh(i,h,s),wN(s)}),o&&u)throw new Error(i+' contains ".value" child '+Fa(s)+" in addition to actual children.")}},Ob=function(i,e,a,s){if(!Nb(a))throw new Error(ph(i,e)+'was an invalid path = "'+a+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},sO=function(i,e,a,s){a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Ob(i,e,a)},Mb=function(i,e){if(Me(e)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},lO=function(i,e){const a=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Ab(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||a.length!==0&&!rO(a))throw new Error(ph(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function xb(i,e){let a=null;for(let s=0;s<e.length;s++){const o=e[s],u=o.getPath();a!==null&&!QE(u,a.path)&&(i.eventLists_.push(a),a=null),a===null&&(a={events:[],path:u}),a.events.push(o)}a&&i.eventLists_.push(a)}function ai(i,e,a){xb(i,a),uO(i,s=>jn(s,e)||jn(e,s))}function uO(i,e){i.recursionDepth_++;let a=!0;for(let s=0;s<i.eventLists_.length;s++){const o=i.eventLists_[s];if(o){const u=o.path;e(u)?(cO(i.eventLists_[s]),i.eventLists_[s]=null):a=!1}}a&&(i.eventLists_=[]),i.recursionDepth_--}function cO(i){for(let e=0;e<i.events.length;e++){const a=i.events[e];if(a!==null){i.events[e]=null;const s=a.getEventRunner();sl&&Gt("event: "+a.toString()),Zr(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="repo_interrupt",dO=25;class hO{constructor(e,a,s,o){this.repoInfo_=e,this.forceRestClient_=a,this.authTokenProvider_=s,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bu(),this.transactionQueueTree_=new Vh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function mO(i,e,a){if(i.stats_=Ch(i.repoInfo_),i.forceRestClient_||X1())i.server_=new Eu(i.repoInfo_,(s,o,u,f)=>{Xy(i,s,o,u,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>Ky(i,!0),0);else{if(typeof a<"u"&&a!==null){if(typeof a!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Tt(a)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}i.persistentConnection_=new Di(i.repoInfo_,e,(s,o,u,f)=>{Xy(i,s,o,u,f)},s=>{Ky(i,s)},s=>{pO(i,s)},i.authTokenProvider_,i.appCheckProvider_,a),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(s=>{i.server_.refreshAuthToken(s)}),i.appCheckProvider_.addTokenChangeListener(s=>{i.server_.refreshAppCheckToken(s.token)}),i.statsReporter_=J1(i.repoInfo_,()=>new WN(i.stats_,i.server_)),i.infoData_=new YN,i.infoSyncTree_=new Yy({startListening:(s,o,u,f)=>{let h=[];const m=i.infoData_.getNode(s._path);return m.isEmpty()||(h=Il(i.infoSyncTree_,s._path,m),setTimeout(()=>{f("ok")},0)),h},stopListening:()=>{}}),Qh(i,"connected",!1),i.serverSyncTree_=new Yy({startListening:(s,o,u,f)=>(i.server_.listen(s,u,o,(h,m)=>{const p=f(h,m);ai(i.eventQueue_,s._path,p)}),[]),stopListening:(s,o)=>{i.server_.unlisten(s,o)}})}function Ib(i){const a=i.infoData_.getNode(new Ke(".info/serverTimeOffset")).val()||0;return new Date().getTime()+a}function Yh(i){return $D({timestamp:Ib(i)})}function Xy(i,e,a,s,o){i.dataUpdateCount++;const u=new Ke(e);a=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,a):a;let f=[];if(o)if(s){const m=du(a,p=>Lt(p));f=VD(i.serverSyncTree_,u,m,o)}else{const m=Lt(a);f=vb(i.serverSyncTree_,u,m,o)}else if(s){const m=du(a,p=>Lt(p));f=BD(i.serverSyncTree_,u,m)}else{const m=Lt(a);f=Il(i.serverSyncTree_,u,m)}let h=u;f.length>0&&(h=Xu(i,u)),ai(i.eventQueue_,h,f)}function Ky(i,e){Qh(i,"connected",e),e===!1&&yO(i)}function pO(i,e){an(e,(a,s)=>{Qh(i,a,s)})}function Qh(i,e,a){const s=new Ke("/.info/"+e),o=Lt(a);i.infoData_.updateSnapshot(s,o);const u=Il(i.infoSyncTree_,s,o);ai(i.eventQueue_,s,u)}function Lb(i){return i.nextWriteId_++}function gO(i,e,a){const s=GD(i.serverSyncTree_,e);return s!=null?Promise.resolve(s):i.server_.get(e).then(o=>{const u=Lt(o).withIndex(e._queryParams.getIndex());FD(i.serverSyncTree_,e,a,!0);let f;if(e._queryParams.loadsAllData())f=Il(i.serverSyncTree_,e._path,u);else{const h=Tl(i.serverSyncTree_,e);f=vb(i.serverSyncTree_,e._path,u,h)}return ai(i.eventQueue_,e._path,f),yb(i.serverSyncTree_,e,a,null,!0),u},o=>(Qu(i,"get for query "+Tt(e)+" failed: "+o),Promise.reject(new Error(o))))}function _O(i,e,a,s,o){Qu(i,"set",{path:e.toString(),value:a,priority:s});const u=Yh(i),f=Lt(a,s),h=kh(i.serverSyncTree_,e),m=Tb(f,h,u),p=Lb(i),y=_b(i.serverSyncTree_,e,m,p,!0);xb(i.eventQueue_,y),i.server_.put(e.toString(),f.val(!0),(E,S)=>{const N=E==="ok";N||nn("set at "+e+" failed: "+E);const H=Ka(i.serverSyncTree_,p,!N);ai(i.eventQueue_,e,H),EO(i,o,E,S)});const v=Pb(i,e);Xu(i,v),ai(i.eventQueue_,v,[])}function yO(i){Qu(i,"onDisconnectEvents");const e=Yh(i),a=bu();Vd(i.onDisconnect_,Be(),(o,u)=>{const f=JD(o,u,i.serverSyncTree_,e);tb(a,o,f)});let s=[];Vd(a,Be(),(o,u)=>{s=s.concat(Il(i.serverSyncTree_,o,u));const f=Pb(i,o);Xu(i,f)}),i.onDisconnect_=bu(),ai(i.eventQueue_,Be(),s)}function vO(i){i.persistentConnection_&&i.persistentConnection_.interrupt(fO)}function Qu(i,...e){let a="";i.persistentConnection_&&(a=i.persistentConnection_.id+":"),Gt(a,...e)}function EO(i,e,a,s){e&&Zr(()=>{if(a==="ok")e(null);else{const o=(a||"error").toUpperCase();let u=o;s&&(u+=": "+s);const f=new Error(u);f.code=o,e(f)}})}function Ub(i,e,a){return kh(i.serverSyncTree_,e,a)||ge.EMPTY_NODE}function Xh(i,e=i.transactionQueueTree_){if(e||Ku(i,e),Jr(e)){const a=zb(i,e);X(a.length>0,"Sending zero length transaction queue"),a.every(o=>o.status===0)&&bO(i,Ul(e),a)}else wb(e)&&Yu(e,a=>{Xh(i,a)})}function bO(i,e,a){const s=a.map(p=>p.currentWriteId),o=Ub(i,e,s);let u=o;const f=o.hash();for(let p=0;p<a.length;p++){const y=a[p];X(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const v=Kt(e,y.path);u=u.updateChild(v,y.currentOutputSnapshotRaw)}const h=u.val(!0),m=e;i.server_.put(m.toString(),h,p=>{Qu(i,"transaction put response",{path:m.toString(),status:p});let y=[];if(p==="ok"){const v=[];for(let E=0;E<a.length;E++)a[E].status=2,y=y.concat(Ka(i.serverSyncTree_,a[E].currentWriteId)),a[E].onComplete&&v.push(()=>a[E].onComplete(null,!0,a[E].currentOutputSnapshotResolved)),a[E].unwatcher();Ku(i,Fh(i.transactionQueueTree_,e)),Xh(i,i.transactionQueueTree_),ai(i.eventQueue_,e,y);for(let E=0;E<v.length;E++)Zr(v[E])}else{if(p==="datastale")for(let v=0;v<a.length;v++)a[v].status===3?a[v].status=4:a[v].status=0;else{nn("transaction at "+m.toString()+" failed: "+p);for(let v=0;v<a.length;v++)a[v].status=4,a[v].abortReason=p}Xu(i,e)}},f)}function Xu(i,e){const a=kb(i,e),s=Ul(a),o=zb(i,a);return SO(i,o,s),s}function SO(i,e,a){if(e.length===0)return;const s=[];let o=[];const f=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const m=e[h],p=Kt(a,m.path);let y=!1,v;if(X(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)y=!0,v=m.abortReason,o=o.concat(Ka(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=dO)y=!0,v="maxretry",o=o.concat(Ka(i.serverSyncTree_,m.currentWriteId,!0));else{const E=Ub(i,m.path,f);m.currentInputSnapshot=E;const S=e[h].update(E.val());if(S!==void 0){Gh("transaction failed: Data returned ",S,m.path);let N=Lt(S);typeof S=="object"&&S!=null&&Ii(S,".priority")||(N=N.updatePriority(E.getPriority()));const z=m.currentWriteId,P=Yh(i),Q=Tb(N,E,P);m.currentOutputSnapshotRaw=N,m.currentOutputSnapshotResolved=Q,m.currentWriteId=Lb(i),f.splice(f.indexOf(z),1),o=o.concat(_b(i.serverSyncTree_,m.path,Q,m.currentWriteId,m.applyLocally)),o=o.concat(Ka(i.serverSyncTree_,z,!0))}else y=!0,v="nodata",o=o.concat(Ka(i.serverSyncTree_,m.currentWriteId,!0))}ai(i.eventQueue_,a,o),o=[],y&&(e[h].status=2,function(E){setTimeout(E,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(v==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(v),!1,null))))}Ku(i,i.transactionQueueTree_);for(let h=0;h<s.length;h++)Zr(s[h]);Xh(i,i.transactionQueueTree_)}function kb(i,e){let a,s=i.transactionQueueTree_;for(a=Me(e);a!==null&&Jr(s)===void 0;)s=Fh(s,a),e=et(e),a=Me(e);return s}function zb(i,e){const a=[];return Hb(i,e,a),a.sort((s,o)=>s.order-o.order),a}function Hb(i,e,a){const s=Jr(e);if(s)for(let o=0;o<s.length;o++)a.push(s[o]);Yu(e,o=>{Hb(i,o,a)})}function Ku(i,e){const a=Jr(e);if(a){let s=0;for(let o=0;o<a.length;o++)a[o].status!==2&&(a[s]=a[o],s++);a.length=s,Cb(e,a.length>0?a:void 0)}Yu(e,s=>{Ku(i,s)})}function Pb(i,e){const a=Ul(kb(i,e)),s=Fh(i.transactionQueueTree_,e);return tO(s,o=>{Nd(i,o)}),Nd(i,s),Rb(s,o=>{Nd(i,o)}),a}function Nd(i,e){const a=Jr(e);if(a){const s=[];let o=[],u=-1;for(let f=0;f<a.length;f++)a[f].status===3||(a[f].status===1?(X(u===f-1,"All SENT items should be at beginning of queue."),u=f,a[f].status=3,a[f].abortReason="set"):(X(a[f].status===0,"Unexpected transaction status in abort"),a[f].unwatcher(),o=o.concat(Ka(i.serverSyncTree_,a[f].currentWriteId,!0)),a[f].onComplete&&s.push(a[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?Cb(e,void 0):a.length=u+1,ai(i.eventQueue_,Ul(e),o);for(let f=0;f<s.length;f++)Zr(s[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(i){let e="";const a=i.split("/");for(let s=0;s<a.length;s++)if(a[s].length>0){let o=a[s];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function CO(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const a of i.split("&")){if(a.length===0)continue;const s=a.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):nn(`Invalid query segment '${a}' in query '${i}'`)}return e}const $y=function(i,e){const a=wO(i),s=a.namespace;a.domain==="firebase.com"&&Mi(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&a.domain!=="localhost"&&Mi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||P1();const o=a.scheme==="ws"||a.scheme==="wss";return{repoInfo:new UE(a.host,a.secure,s,o,e,"",s!==a.subdomain),path:new Ke(a.pathString)}},wO=function(i){let e="",a="",s="",o="",u="",f=!0,h="https",m=443;if(typeof i=="string"){let p=i.indexOf("//");p>=0&&(h=i.substring(0,p-1),i=i.substring(p+2));let y=i.indexOf("/");y===-1&&(y=i.length);let v=i.indexOf("?");v===-1&&(v=i.length),e=i.substring(0,Math.min(y,v)),y<v&&(o=TO(i.substring(y,v)));const E=CO(i.substring(Math.min(i.length,v)));p=e.indexOf(":"),p>=0?(f=h==="https"||h==="wss",m=parseInt(e.substring(p+1),10)):p=e.length;const S=e.slice(0,p);if(S.toLowerCase()==="localhost")a="localhost";else if(S.split(".").length<=2)a=S;else{const N=e.indexOf(".");s=e.substring(0,N).toLowerCase(),a=e.substring(N+1),u=s}"ns"in E&&(u=E.ns)}return{host:e,port:m,domain:a,subdomain:s,secure:f,scheme:h,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",RO=function(){let i=0;const e=[];return function(a){const s=a===i;i=a;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=Wy.charAt(a%64),a=Math.floor(a/64);X(a===0,"Cannot push at time == 0");let f=u.join("");if(s){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)f+=Wy.charAt(e[o]);return X(f.length===20,"nextPushId: Length should be 20."),f}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,a,s,o){this.eventType=e,this.eventRegistration=a,this.snapshot=s,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Tt(this.snapshot.exportVal())}}class NO{constructor(e,a,s){this.eventRegistration=e,this.error=a,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,a){this.snapshotCallback=e,this.cancelCallback=a}onValue(e,a){this.snapshotCallback.call(null,e,a)}onCancel(e){return X(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,a,s,o){this._repo=e,this._path=a,this._queryParams=s,this._orderByCalled=o}get key(){return Oe(this._path)?null:FE(this._path)}get ref(){return new Li(this._repo,this._path)}get _queryIdentifier(){const e=Uy(this._queryParams),a=Sh(e);return a==="{}"?"default":a}get _queryObject(){return Uy(this._queryParams)}isEqual(e){if(e=dn(e),!(e instanceof Kh))return!1;const a=this._repo===e._repo,s=QE(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return a&&s&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+SN(this._path)}}class Li extends Kh{constructor(e,a){super(e,a,new Dh,!1)}get parent(){const e=YE(this._path);return e===null?null:new Li(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Cl{constructor(e,a,s){this._node=e,this.ref=a,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const a=new Ke(e),s=wl(this.ref,e);return new Cl(this._node.getChild(a),s,ft)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,o)=>e(new Cl(o,wl(this.ref,s),ft)))}hasChild(e){const a=new Ke(e);return!this._node.getChild(a).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Bb(i,e){return i=dn(i),i._checkNotDeleted("ref"),e!==void 0?wl(i._root,e):i._root}function wl(i,e){return i=dn(i),Me(i._path)===null?sO("child","path",e):Ob("child","path",e),new Li(i._repo,Ct(i._path,e))}function OO(i,e){i=dn(i),Mb("push",i._path),Db("push",e,i._path,!0);const a=Ib(i._repo),s=RO(a),o=wl(i,s),u=wl(i,s);let f;return e!=null?f=MO(u,e).then(()=>u):f=Promise.resolve(u),o.then=f.then.bind(f),o.catch=f.then.bind(f,void 0),o}function MO(i,e){i=dn(i),Mb("set",i._path),Db("set",e,i._path,!1);const a=new Uu;return _O(i._repo,i._path,e,null,a.wrapCallback(()=>{})),a.promise}function xO(i){i=dn(i);const e=new DO(()=>{}),a=new $h(e);return gO(i._repo,i,a).then(s=>new Cl(s,new Li(i._repo,i._path),i._queryParams.getIndex()))}class $h{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,a){const s=a._queryParams.getIndex();return new AO("value",this,new Cl(e.snapshotNode,new Li(a._repo,a._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,a){return this.callbackContext.hasCancelCallback?new NO(this,e,a):null}matches(e){return e instanceof $h?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}xD(Li);zD(Li);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="FIREBASE_DATABASE_EMULATOR_HOST",Kd={};let LO=!1;function UO(i,e,a,s){i.repoInfo_=new UE(`${e}:${a}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),s&&(i.authTokenProvider_=s)}function kO(i,e,a,s,o){let u=s||i.options.databaseURL;u===void 0&&(i.options.projectId||Mi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Gt("Using default host for project ",i.options.projectId),u=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=$y(u,o),h=f.repoInfo,m;typeof process<"u"&&_y&&(m=_y[IO]),m?(u=`http://${m}?ns=${h.namespace}`,f=$y(u,o),h=f.repoInfo):f.repoInfo.secure;const p=new $1(i.name,i.options,e);lO("Invalid Firebase Database URL",f),Oe(f.path)||Mi("Database URL must point to the root of a Firebase Database (not including a child path).");const y=HO(h,i,p,new K1(i.name,a));return new PO(y,i)}function zO(i,e){const a=Kd[e];(!a||a[i.key]!==i)&&Mi(`Database ${e}(${i.repoInfo_}) has already been deleted.`),vO(i),delete a[i.key]}function HO(i,e,a,s){let o=Kd[e.name];o||(o={},Kd[e.name]=o);let u=o[i.toURLString()];return u&&Mi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new hO(i,LO,a,s),o[i.toURLString()]=u,u}class PO{constructor(e,a){this._repoInternal=e,this.app=a,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(mO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Li(this._repo,Be())),this._rootInternal}_delete(){return this._rootInternal!==null&&(zO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Mi("Cannot call "+e+" on a deleted database.")}}function BO(i=Kv(),e){const a=Dl(i,"database").getImmediate({identifier:e});if(!a._instanceStarted){const s=Bw("database");s&&jO(a,...s)}return a}function jO(i,e,a,s={}){i=dn(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&Mi("Cannot call useEmulator() after instance has already been initialized.");const o=i._repoInternal;let u;if(o.repoInfo_.nodeAdmin)s.mockUserToken&&Mi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new iu(iu.OWNER);else if(s.mockUserToken){const f=typeof s.mockUserToken=="string"?s.mockUserToken:qw(s.mockUserToken,i.app.options.projectId);u=new iu(f)}UO(o,e,a,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(i){I1(Hu),ii(new Gn("database",(e,{instanceIdentifier:a})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return kO(s,o,u,a)},"PUBLIC").setMultipleInstances(!0)),Mn(yy,vy,i),Mn(yy,vy,"esm2017")}Di.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};Di.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};qO();const VO={apiKey:"AIzaSyA87k59Y0yvzptwjS0CB5jqQR80igso3sw",authDomain:"dino-dash-66723.firebaseapp.com",databaseURL:"https://dino-dash-66723-default-rtdb.europe-west1.firebasedatabase.app",projectId:"dino-dash-66723",storageBucket:"dino-dash-66723.firebasestorage.app",messagingSenderId:"456959919434",appId:"1:456959919434:web:fde2e8ba634046c8642db3",measurementId:"G-5LXYMB5NEH"},jb=Xv(VO);D1(jb);const qb=BO(jb),Vb="highscores",FO=async(i,e)=>{try{const a=Bb(qb,`${Vb}/${i}`);await OO(a,{score:e,timestamp:new Date().toISOString()}),console.log("High score submitted successfully")}catch(a){console.error("Error submitting high score: ",a)}},GO=async(i,e)=>{try{const a=Bb(qb,Vb),s=await xO(a);if(!s.exists())return{scores:[],lastScore:null,hasNext:!1};let o=[];s.forEach(p=>{const y=p.key;p.forEach(v=>{const E=v.val();o.push({id:v.key,username:y,score:E.score,timestamp:E.timestamp||null})})}),o.sort((p,y)=>y.score-p.score);let u=i!==null?o.filter(p=>p.score<i):o;const f=u.slice(0,e),h=f.length?f[f.length-1].score:null,m=u.length>e;return{scores:f,lastScore:h,hasNext:m}}catch(a){return console.error("Error retrieving paginated scores:",a),{scores:[],lastScore:null,hasNext:!1}}},YO=()=>{const[i,e]=A.useState(0);return A.useEffect(()=>{const a=setInterval(()=>{e(s=>s===-10?10:-10)},800);return()=>clearInterval(a)},[]),i},QO=()=>{const{isRunning:i}=xv(),{level:e}=Lu(),[a,s]=A.useState(0);return A.useEffect(()=>{if(!i)return;let o,u=null;const f=window.innerWidth,h=1,m=p=>{u||(u=p);const E=-((p-u)/20*h%f);s(E),o=requestAnimationFrame(m)};return o=requestAnimationFrame(m),()=>cancelAnimationFrame(o)},[i]),F.jsxs("div",{className:"background-container",children:[F.jsx("div",{className:`background-layer Background-lvl${e}-sky-1`}),F.jsx("div",{className:`background-layer Background-lvl${e}-outline-2`}),F.jsx("div",{className:`background-layer Background-lvl${e}-desert-3`,style:{backgroundPositionX:`${a}px`}}),F.jsx("div",{className:`background-layer Background-lvl${e}-decor-4`,style:{backgroundPositionX:`${a}px`}}),F.jsx("div",{className:`background-layer Background-lvl${e}-foreground-5`,style:{backgroundPositionX:`${a*4.5}px`}})]})},XO=()=>{const{score:i,setScore:e}=uh(),{isRunning:a,setIsRunning:s}=xv(),{level:o}=Lu(),{isPlaying:u,setIsPlaying:f}=Iv(),h=140,m=140,p=o===1?85:o===2?235:285,y=185,v=40,E=40,S=A.useRef(null),N=A.useRef(null);A.useEffect(()=>{S.current||(S.current=new Audio("/static/jump_1.mp3"),S.current.preload="auto"),N.current||(N.current=new Audio("/static/lose.wav"),N.current.preload="auto")},[]);const{volume:H}=ch(),z=()=>{S.current&&(S.current.volume=H/100,S.current.currentTime=0,S.current.play())},P=()=>{N.current&&(N.current.volume=Math.min(H/100+.5,1),N.current.currentTime=0,N.current.play())},Q=500,Z=o===1?8:o===2?9:11,de=o===1?5:o===2?7:10,[W,M]=A.useState(de),_e=o===1?"cactus":o===2?"camel":o===3?"sabertooth_tiger":"error",Se=o===1?1:o===2?2:3,[G,se]=A.useState(window.innerWidth),[Le,dt]=A.useState(v),[wt,ht]=A.useState(!1),[Ve,Y]=A.useState(!1),[me,ue]=A.useState(0),[Ne,T]=A.useState(""),q=YO(),ie=A.useRef(null),ee=A.useRef(window.innerWidth),K=A.useRef(null),Te=()=>{clearInterval(ie.current),Y(!1),s(!1),f(!0),se(window.innerWidth),dt(v),e(0),ht(!1),T(""),M(de),K.current&&cancelAnimationFrame(K.current),ee.current=window.innerWidth,se(window.innerWidth),setTimeout(()=>{s(!0)},50)},pe=bv(),vt=()=>{pe("/"),window.location.reload()};A.useEffect(()=>{if(!a||Ve)return;let Ee=performance.now();const ve=16.67,$e=Rt=>{if(!a||Ve)return;const Et=Rt-Ee;Ee=Rt;const At=W*(Et/ve);let $t=ee.current-At;$t<=-p*2&&($t=window.innerWidth),ee.current=$t,se($t),K.current=requestAnimationFrame($e)};return K.current=requestAnimationFrame($e),()=>{K.current&&cancelAnimationFrame(K.current)}},[a,Ve,W,p]),A.useEffect(()=>{if(!(!a||Ve))return clearInterval(ie.current),ie.current=setInterval(()=>{e(Ee=>Ee+Se)},100),()=>clearInterval(ie.current)},[a,Ve,Se]),A.useEffect(()=>{const Ee=ve=>{if(ve.code==="Space"&&!wt&&a){ht(!0),z();const $e=Le,Rt=Q,Et=Rt-$e,Yt=Et/Z*20;let hn=null;const li=Ui=>{hn||(hn=Ui);const ki=Ui-hn;if(ki<Yt){const xn=$e+Et*(ki/Yt);dt(xn),requestAnimationFrame(li)}else{dt(Rt);let xn=null;const mn=Yn=>{xn||(xn=Yn);const jt=Yn-xn;if(jt<Yt){const ya=Rt-Et*(jt/Yt);dt(ya),requestAnimationFrame(mn)}else dt(v),ht(!1)};requestAnimationFrame(mn)}};requestAnimationFrame(li)}};return a&&document.addEventListener("keydown",Ee),()=>document.removeEventListener("keydown",Ee)},[wt,a,Le]),A.useEffect(()=>{if(!a||Ve)return;let Ee;const ve=()=>{if(!a||Ve)return;const $e=100,Rt=Le,Et=ee.current,At=E,$t=Et<$e+h&&Et+p>$e,Yt=At<Rt+m&&At+y>Rt;if($t&&Yt){Y(!0),s(!1),P(),ue(hn=>Math.max(hn,i));return}Ee=requestAnimationFrame(ve)};return Ee=requestAnimationFrame(ve),()=>{cancelAnimationFrame(Ee)}},[a,Ve,Le,i]);const Ue=()=>{Ne.trim()!==""&&FO(Ne,i).then(()=>{window.alert("High score submitted! Click OK to continue.")}).catch(Ee=>{console.error("Error submitting high score:",Ee),window.alert("There was an error submitting your score. Please try again.")})};return A.useEffect(()=>{const Ee=()=>{f(!0),window.removeEventListener("click",Ee),window.removeEventListener("keydown",Ee)};return window.addEventListener("click",Ee),window.addEventListener("keydown",Ee),()=>{window.removeEventListener("click",Ee),window.removeEventListener("keydown",Ee)}},[f]),F.jsxs("div",{className:"game-container",children:[F.jsx(QO,{}),Ve&&F.jsx("div",{className:"game-over-overlay",children:F.jsxs("div",{className:"game-over-menu",children:[F.jsxs("p",{children:["Seems you have hugged a ",_e,". Ouch!"]}),F.jsxs("p",{children:["High Score: ",me]}),F.jsx("input",{type:"text",placeholder:"Enter your name",value:Ne,onChange:Ee=>T(Ee.target.value)}),F.jsx("button",{onClick:Ue,children:"Submit Score"}),F.jsx("button",{onClick:Te,children:"Restart"}),F.jsx("button",{onClick:vt,children:"Go back to menu"})]})}),F.jsxs("div",{className:"game-entities",children:[F.jsx("div",{className:"dino",style:{bottom:`${Le}px`,left:"100px",transform:`rotate(${q}deg)`,transition:"transform 1s ease-in-out"}}),F.jsx("div",{className:_e,style:{left:`${G}px`}})]})]})},KO=()=>{const[i,e]=A.useState(!1),[a,s]=A.useState(!0),{setScore:o}=uh(),{level:u,nextLevel:f}=Lu(),h=()=>{e(!0),s(!0),o(0)},m=()=>{s(!1)},p=()=>{s(!0)};return F.jsxs("div",{className:"homepage-container",children:[F.jsx(Lv,{}),i?F.jsxs(F.Fragment,{children:[F.jsx(XO,{isRunning:a,onPause:m}),!a&&F.jsx("div",{className:"pause-overlay",children:F.jsxs("div",{className:"pause-menu",children:[F.jsx("h2",{children:"Game Paused"}),F.jsx("button",{onClick:p,className:"resume-btn",children:"Resume Game"})]})})]}):F.jsx("div",{className:"container text-center mt-5",children:F.jsxs("div",{className:"main-menu-container d-flex flex-column align-items-center justify-content-center",children:[F.jsxs("div",{className:"menu-container d-flex justify-content-center",onClick:h,children:[F.jsx("img",{src:"/static/Elements/Wooden_Button_1.svg",alt:"Wooden Button"}),F.jsx("div",{className:"text-Centered-In-Image",children:"Start"})]}),F.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-center",children:[F.jsx("br",{}),F.jsx("br",{}),F.jsx("p",{className:"me-3 mb-0",children:"Select level:"}),F.jsxs("button",{className:"btn btn-secondary",onClick:f,children:["Level ",u]}),F.jsx("br",{}),F.jsx("br",{}),F.jsx("p",{children:"Different levels have different areas."}),F.jsx("p",{children:"Speed is increased, but so is the score!."}),F.jsx("div",{className:"mt-5",children:F.jsx("p",{children:"Use SPACE to jump."})})]})]})})]})},$O=()=>{const[i,e]=A.useState([]),[a,s]=A.useState(null),[o,u]=A.useState(!0),[f,h]=A.useState(!1),m=10,[p,y]=A.useState(1);A.useEffect(()=>{v()},[p]);const v=async()=>{try{h(!0);const{scores:E,lastScore:S,hasNext:N}=await GO(a,m);E.length>0?(e(E),s(S),u(N)):(console.warn("No scores available."),e([]))}catch(E){console.error("Error fetching scores:",E)}finally{h(!1)}};return F.jsxs("div",{className:"high-score-container d-flex justify-content-center",children:[F.jsx("div",{className:"sigmar-regular Highscore-title d-flex justify-content-center",children:F.jsx("h2",{children:"High Scores"})}),f&&F.jsx("p",{children:"Loading..."}),F.jsx("ul",{className:"ListedScores d-flex flex-column justify-content-center",children:i.length>0?i.map((E,S)=>F.jsxs("li",{children:[S+1+(p-1)*m,". Score: ",E.score,", Username: ",E.username]},E.id)):F.jsx("p",{children:"No scores available"})}),F.jsxs("div",{className:"pagination",children:[p>1&&F.jsx("button",{onClick:()=>{y(p-1),s(null)},children:"Previous"}),o&&F.jsx("button",{onClick:()=>y(p+1),children:"Next"})]})]})};function Fb(i,e){var a={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(a[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(a[s[o]]=i[s[o]]);return a}function Gb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WO=Gb,Yb=new ar("auth","Firebase",Gb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new zu("@firebase/auth");function ZO(i,...e){Du.logLevel<=Ye.WARN&&Du.warn(`Auth (${Hu}): ${i}`,...e)}function au(i,...e){Du.logLevel<=Ye.ERROR&&Du.error(`Auth (${Hu}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(i,...e){throw Wh(i,...e)}function Qb(i,...e){return Wh(i,...e)}function Xb(i,e,a){const s=Object.assign(Object.assign({},WO()),{[e]:a});return new ar("auth","Firebase",s).create(e,{appName:i.name})}function ru(i){return Xb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wh(i,...e){if(typeof i!="string"){const a=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(a,...s)}return Yb.create(i,...e)}function qe(i,e,...a){if(!i)throw Wh(e,...a)}function fl(i){const e="INTERNAL ASSERTION FAILED: "+i;throw au(e),new Error(e)}function Ou(i,e){i||fl(e)}function JO(){return Jy()==="http:"||Jy()==="https:"}function Jy(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JO()||Bv()||"connection"in navigator)?navigator.onLine:!0}function tM(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,a){this.shortDelay=e,this.longDelay=a,Ou(a>e,"Short delay should be less than long delay!"),this.isMobile=hh()||jv()}get(){return eM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(i,e){Ou(i.emulator,"Emulator should always be set here");const{url:a}=i.emulator;return e?`${a}${e.startsWith("/")?e.slice(1):e}`:a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{static initialize(e,a,s){this.fetchImpl=e,a&&(this.headersImpl=a),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=new kl(3e4,6e4);function $b(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function $u(i,e,a,s,o={}){return Wb(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const h=mh(Object.assign({key:i.config.apiKey},f)).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const p=Object.assign({method:e,headers:m},u);return Vw()||(p.referrerPolicy="no-referrer"),Kb.fetch()(Zb(i,i.config.apiHost,a,h),p)})}async function Wb(i,e,a){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},iM),e);try{const o=new rM(i),u=await Promise.race([a(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Jo(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const h=u.ok?f.errorMessage:f.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jo(i,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw Jo(i,"email-already-in-use",f);if(m==="USER_DISABLED")throw Jo(i,"user-disabled",f);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Xb(i,y,p);Zy(i,y)}}catch(o){if(o instanceof xi)throw o;Zy(i,"network-request-failed",{message:String(o)})}}function Zb(i,e,a,s){const o=`${e}${a}?${s}`;return i.config.emulator?nM(i.config,o):`${i.config.apiScheme}://${o}`}class rM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((a,s)=>{this.timer=setTimeout(()=>s(Qb(this.auth,"network-request-failed")),aM.get())})}}function Jo(i,e,a){const s={appName:i.name};a.email&&(s.email=a.email),a.phoneNumber&&(s.phoneNumber=a.phoneNumber);const o=Qb(i,e,s);return o.customData._tokenResponse=a,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(i,e){return $u(i,"POST","/v1/accounts:delete",e)}async function Jb(i,e){return $u(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lM(i,e=!1){const a=dn(i),s=await a.getIdToken(e),o=eS(s);qe(o&&o.exp&&o.auth_time&&o.iat,a.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:dl(Dd(o.auth_time)),issuedAtTime:dl(Dd(o.iat)),expirationTime:dl(Dd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Dd(i){return Number(i)*1e3}function eS(i){const[e,a,s]=i.split(".");if(e===void 0||a===void 0||s===void 0)return au("JWT malformed, contained fewer than 3 sections"),null;try{const o=fu(a);return o?JSON.parse(o):(au("Failed to decode base64 JWT payload"),null)}catch(o){return au("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function ev(i){const e=eS(i);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $d(i,e,a=!1){if(a)return e;try{return await e}catch(s){throw s instanceof xi&&oM(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function oM({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var a;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((a=this.user.stsTokenManager.expirationTime)!==null&&a!==void 0?a:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const a=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},a)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,a){this.createdAt=e,this.lastLoginAt=a,this._initializeTime()}_initializeTime(){this.lastSignInTime=dl(this.lastLoginAt),this.creationTime=dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mu(i){var e;const a=i.auth,s=await i.getIdToken(),o=await $d(i,Jb(a,{idToken:s}));qe(o==null?void 0:o.users.length,a,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?tS(u.providerUserInfo):[],h=fM(i.providerData,f),m=i.isAnonymous,p=!(i.email&&u.passwordHash)&&!(h!=null&&h.length),y=m?p:!1,v={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new Wd(u.createdAt,u.lastLoginAt),isAnonymous:y};Object.assign(i,v)}async function cM(i){const e=dn(i);await Mu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fM(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function tS(i){return i.map(e=>{var{providerId:a}=e,s=Fb(e,["providerId"]);return{providerId:a,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(i,e){const a=await Wb(i,{},async()=>{const s=mh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=Zb(i,o,"/v1/token",`key=${u}`),h=await i._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Kb.fetch()(f,{method:"POST",headers:h,body:s})});return{accessToken:a.access_token,expiresIn:a.expires_in,refreshToken:a.refresh_token}}async function hM(i,e){return $u(i,"POST","/v2/accounts:revokeToken",$b(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const a="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ev(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,a)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const a=ev(e);this.updateTokensAndExpiration(e,null,a)}async getToken(e,a=!1){return!a&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,a){const{accessToken:s,refreshToken:o,expiresIn:u}=await dM(e,a);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,a,s){this.refreshToken=a||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,a){const{refreshToken:s,accessToken:o,expirationTime:u}=a,f=new Fr;return s&&(qe(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(qe(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(qe(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fr,this.toJSON())}_performRefresh(){return fl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(i,e){qe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class oa{constructor(e){var{uid:a,auth:s,stsTokenManager:o}=e,u=Fb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=a,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Wd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const a=await $d(this,this.stsTokenManager.getToken(this.auth,e));return qe(a,this.auth,"internal-error"),this.accessToken!==a&&(this.accessToken=a,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),a}getIdTokenResult(e){return lM(this,e)}reload(){return cM(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(a=>Object.assign({},a)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const a=new oa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return a.metadata._copy(this.metadata),a}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,a=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),a&&await Mu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(al(this.auth.app))return Promise.reject(ru(this.auth));const e=await this.getIdToken();return await $d(this,sM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,a){var s,o,u,f,h,m,p,y;const v=(s=a.displayName)!==null&&s!==void 0?s:void 0,E=(o=a.email)!==null&&o!==void 0?o:void 0,S=(u=a.phoneNumber)!==null&&u!==void 0?u:void 0,N=(f=a.photoURL)!==null&&f!==void 0?f:void 0,H=(h=a.tenantId)!==null&&h!==void 0?h:void 0,z=(m=a._redirectEventId)!==null&&m!==void 0?m:void 0,P=(p=a.createdAt)!==null&&p!==void 0?p:void 0,Q=(y=a.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:Z,emailVerified:de,isAnonymous:W,providerData:M,stsTokenManager:_e}=a;qe(Z&&_e,e,"internal-error");const Se=Fr.fromJSON(this.name,_e);qe(typeof Z=="string",e,"internal-error"),ra(v,e.name),ra(E,e.name),qe(typeof de=="boolean",e,"internal-error"),qe(typeof W=="boolean",e,"internal-error"),ra(S,e.name),ra(N,e.name),ra(H,e.name),ra(z,e.name),ra(P,e.name),ra(Q,e.name);const G=new oa({uid:Z,auth:e,email:E,emailVerified:de,displayName:v,isAnonymous:W,photoURL:N,phoneNumber:S,tenantId:H,stsTokenManager:Se,createdAt:P,lastLoginAt:Q});return M&&Array.isArray(M)&&(G.providerData=M.map(se=>Object.assign({},se))),z&&(G._redirectEventId=z),G}static async _fromIdTokenResponse(e,a,s=!1){const o=new Fr;o.updateFromServerResponse(a);const u=new oa({uid:a.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Mu(u),u}static async _fromGetAccountInfoResponse(e,a,s){const o=a.users[0];qe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?tS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),h=new Fr;h.updateFromIdToken(s);const m=new oa({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=new Map;function $a(i){Ou(i instanceof Function,"Expected a class definition");let e=tv.get(i);return e?(Ou(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,tv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,a){this.storage[e]=a}async _get(e){const a=this.storage[e];return a===void 0?null:a}async _remove(e){delete this.storage[e]}_addListener(e,a){}_removeListener(e,a){}}nS.type="NONE";const nv=nS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(i,e,a){return`firebase:${i}:${e}:${a}`}class Gr{constructor(e,a,s){this.persistence=e,this.auth=a,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Od(this.userKey,o.apiKey,u),this.fullPersistenceKey=Od("persistence",o.apiKey,u),this.boundEventHandler=a._onStorageEvent.bind(a),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?oa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const a=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,a)return this.setCurrentUser(a)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,a,s="authUser"){if(!a.length)return new Gr($a(nv),e,s);const o=(await Promise.all(a.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||$a(nv);const f=Od(s,e.config.apiKey,e.name);let h=null;for(const p of a)try{const y=await p._get(f);if(y){const v=oa._fromJSON(e,y);p!==u&&(h=v),u=p;break}}catch{}const m=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Gr(u,e,s):(u=m[0],h&&await u._set(f,h.toJSON()),await Promise.all(a.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new Gr(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_M(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vM(e))return"Blackberry";if(EM(e))return"Webos";if(pM(e))return"Safari";if((e.includes("chrome/")||gM(e))&&!e.includes("edge/"))return"Chrome";if(yM(e))return"Android";{const a=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(a);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function mM(i=ni()){return/firefox\//i.test(i)}function pM(i=ni()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gM(i=ni()){return/crios\//i.test(i)}function _M(i=ni()){return/iemobile/i.test(i)}function yM(i=ni()){return/android/i.test(i)}function vM(i=ni()){return/blackberry/i.test(i)}function EM(i=ni()){return/webos/i.test(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(i,e=[]){let a;switch(i){case"Browser":a=iv(ni());break;case"Worker":a=`${iv(ni())}-${i}`;break;default:a=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${a}/JsCore/${Hu}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,a){const s=u=>new Promise((f,h)=>{try{const m=e(u);f(m)}catch(m){h(m)}});s.onAbort=a,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const a=[];try{for(const s of this.queue)await s(e),s.onAbort&&a.push(s.onAbort)}catch(s){a.reverse();for(const o of a)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(i,e={}){return $u(i,"GET","/v2/passwordPolicy",$b(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=6;class CM{constructor(e){var a,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(a=f.minPasswordLength)!==null&&a!==void 0?a:TM,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var a,s,o,u,f,h;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(a=m.meetsMinPasswordLength)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNumericCharacter)!==null&&f!==void 0?f:!0),m.isValid&&(m.isValid=(h=m.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),m}validatePasswordLengthOptions(e,a){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(a.meetsMinPasswordLength=e.length>=s),o&&(a.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,a){this.updatePasswordCharacterOptionsStatuses(a,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(a,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,a,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=a)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,a,s,o){this.app=e,this.heartbeatServiceProvider=a,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new av(this),this.idTokenSubscription=new av(this),this.beforeStateQueue=new bM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,a){return a&&(this._popupRedirectResolver=$a(a)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Gr.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(a),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const a=await Jb(this,{idToken:e}),s=await oa._fromGetAccountInfoResponse(this,a,e);await this.directlySetCurrentUser(s)}catch(a){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",a),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(al(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(h,h))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId,h=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!f||f===h)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let a=null;try{a=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return a}async reloadAndSetCurrentUserOrClear(e){try{await Mu(e)}catch(a){if((a==null?void 0:a.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(al(this.app))return Promise.reject(ru(this));const a=e?dn(e):null;return a&&qe(a.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(a&&a._clone(this))}async _updateCurrentUser(e,a=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),a||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return al(this.app)?Promise.reject(ru(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return al(this.app)?Promise.reject(ru(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($a(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const a=this._getPasswordPolicyInternal();return a.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):a.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SM(this),a=new CM(e);this.tenantId===null?this._projectPasswordPolicy=a:this._tenantPasswordPolicies[this.tenantId]=a}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ar("auth","Firebase",e())}onAuthStateChanged(e,a,s){return this.registerStateListener(this.authStateSubscription,e,a,s)}beforeAuthStateChanged(e,a){return this.beforeStateQueue.pushCallback(e,a)}onIdTokenChanged(e,a,s){return this.registerStateListener(this.idTokenSubscription,e,a,s)}authStateReady(){return new Promise((e,a)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},a)}})}async revokeAccessToken(e){if(this.currentUser){const a=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:a};this.tenantId!=null&&(s.tenantId=this.tenantId),await hM(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,a){const s=await this.getOrInitRedirectPersistenceManager(a);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const a=e&&$a(e)||this._popupRedirectResolver;qe(a,this,"argument-error"),this.redirectPersistenceManager=await Gr.create(this,[$a(a._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var a,s;return this._isInitialized&&await this.queue(async()=>{}),((a=this._currentUser)===null||a===void 0?void 0:a._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,a;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(a=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&a!==void 0?a:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,a,s,o){if(this._deleted)return()=>{};const u=typeof a=="function"?a:a.next.bind(a);let f=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(h,this,"internal-error"),h.then(()=>{f||u(this.currentUser)}),typeof a=="function"){const m=e.addObserver(a,s,o);return()=>{f=!0,m()}}else{const m=e.addObserver(a);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const a={"X-Client-Version":this.clientVersion};this.app.options.appId&&(a["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(a["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(a["X-Firebase-AppCheck"]=o),a}async _getAppCheckToken(){var e;const a=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return a!=null&&a.error&&ZO(`Error while retrieving App Check token: ${a.error}`),a==null?void 0:a.token}}function RM(i){return dn(i)}class av{constructor(e){this.auth=e,this.observer=null,this.addObserver=Zw(a=>this.observer=a)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function AM(i,e){const a=(e==null?void 0:e.persistence)||[],s=(Array.isArray(a)?a:[a]).map($a);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}new kl(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new kl(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new kl(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new kl(5e3,15e3);var rv="@firebase/auth",sv="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const a=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,a),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const a=this.internalListeners.get(e);a&&(this.internalListeners.delete(e),a(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OM(i){ii(new Gn("auth",(e,{options:a})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:h}=s.options;qe(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:f,authDomain:h,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iS(i)},p=new wM(s,o,u,m);return AM(p,a),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,a,s)=>{e.getProvider("auth-internal").initialize()})),ii(new Gn("auth-internal",e=>{const a=RM(e.getProvider("auth").getImmediate());return(s=>new NM(s))(a)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mn(rv,sv,DM(i)),Mn(rv,sv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=5*60;jw("authIdTokenMaxAge");OM("Browser");const xM=uw([{path:"/",element:F.jsx(Ow,{}),children:[{index:!0,element:F.jsx(KO,{})},{path:"highscorespage",element:F.jsx($O,{})}]}]),IM=()=>{try{return F.jsx(Sw,{router:xM})}catch(i){return console.error("❌ RouterProvider failed to mount:",i),F.jsx("div",{children:"Router failed to load"})}},LM=()=>(A.useEffect(()=>{["/static/lizardwizard_150x150.png","/static/cactus_1.svg","/static/camel.svg","/static/sabertooth_tiger.svg","/static/lvl1/background_1.png","/static/lvl1/background_2.png","/static/lvl1/background_3.png","/static/lvl1/background_4.png","/static/lvl1/background_5.png","/static/lvl2/background_1.png","/static/lvl2/background_2.png","/static/lvl2/background_3.png","/static/lvl2/background_4.png","/static/lvl2/background_5.png","/static/lvl3/background_1.png","/static/lvl3/background_2.png","/static/lvl3/background_3.png","/static/lvl3/background_4.png","/static/lvl3/background_5.png"].forEach(e=>{const a=new Image;a.src=e})},[]),null);vT.createRoot(document.getElementById("root")).render(F.jsxs(A.StrictMode,{children:[F.jsx(LM,{}),"           ",F.jsx(Tw,{children:F.jsx(Cw,{children:F.jsx(ww,{children:F.jsx(Rw,{children:F.jsx(Aw,{children:F.jsx(IM,{})})})})})})]}));
