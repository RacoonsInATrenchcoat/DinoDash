function aT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var nd={exports:{}},Xs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function rT(){if(b_)return Xs;b_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Xs.Fragment=e,Xs.jsx=a,Xs.jsxs=a,Xs}var S_;function sT(){return S_||(S_=1,nd.exports=rT()),nd.exports}var X=sT(),id={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function lT(){if(T_)return Te;T_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function E(T){return T===null||typeof T!="object"?null:(T=v&&T[v]||T["@@iterator"],typeof T=="function"?T:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,H={};function z(T,j,ie){this.props=T,this.context=j,this.refs=H,this.updater=ie||S}z.prototype.isReactComponent={},z.prototype.setState=function(T,j){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,j,"setState")},z.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function P(){}P.prototype=z.prototype;function F(T,j,ie){this.props=T,this.context=j,this.refs=H,this.updater=ie||S}var Z=F.prototype=new P;Z.constructor=F,A(Z,z.prototype),Z.isPureReactComponent=!0;var he=Array.isArray,W={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function ye(T,j,ie,ee,$,Se){return ie=Se.ref,{$$typeof:i,type:T,key:j,ref:ie!==void 0?ie:null,props:Se}}function be(T,j){return ye(T.type,j,void 0,void 0,void 0,T.props)}function Y(T){return typeof T=="object"&&T!==null&&T.$$typeof===i}function se(T){var j={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(ie){return j[ie]})}var Pe=/\/+/g;function Ot(T,j){return typeof T=="object"&&T!==null&&T.key!=null?se(""+T.key):j.toString(36)}function gt(){}function _t(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(gt,gt):(T.status="pending",T.then(function(j){T.status==="pending"&&(T.status="fulfilled",T.value=j)},function(j){T.status==="pending"&&(T.status="rejected",T.reason=j)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function et(T,j,ie,ee,$){var Se=typeof T;(Se==="undefined"||Se==="boolean")&&(T=null);var ge=!1;if(T===null)ge=!0;else switch(Se){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(T.$$typeof){case i:case e:ge=!0;break;case y:return ge=T._init,et(ge(T._payload),j,ie,ee,$)}}if(ge)return $=$(T),ge=ee===""?"."+Ot(T,0):ee,he($)?(ie="",ge!=null&&(ie=ge.replace(Pe,"$&/")+"/"),et($,j,ie,"",function(rt){return rt})):$!=null&&(Y($)&&($=be($,ie+($.key==null||T&&T.key===$.key?"":(""+$.key).replace(Pe,"$&/")+"/")+ge)),j.push($)),1;ge=0;var yt=ee===""?".":ee+":";if(he(T))for(var Ue=0;Ue<T.length;Ue++)ee=T[Ue],Se=yt+Ot(ee,Ue),ge+=et(ee,j,ie,Se,$);else if(Ue=E(T),typeof Ue=="function")for(T=Ue.call(T),Ue=0;!(ee=T.next()).done;)ee=ee.value,Se=yt+Ot(ee,Ue++),ge+=et(ee,j,ie,Se,$);else if(Se==="object"){if(typeof T.then=="function")return et(_t(T),j,ie,ee,$);throw j=String(T),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return ge}function G(T,j,ie){if(T==null)return T;var ee=[],$=0;return et(T,ee,"","",function(Se){return j.call(ie,Se,$++)}),ee}function pe(T){if(T._status===-1){var j=T._result;j=j(),j.then(function(ie){(T._status===0||T._status===-1)&&(T._status=1,T._result=ie)},function(ie){(T._status===0||T._status===-1)&&(T._status=2,T._result=ie)}),T._status===-1&&(T._status=0,T._result=j)}if(T._status===1)return T._result.default;throw T._result}var ue=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function ce(){}return Te.Children={map:G,forEach:function(T,j,ie){G(T,function(){j.apply(this,arguments)},ie)},count:function(T){var j=0;return G(T,function(){j++}),j},toArray:function(T){return G(T,function(j){return j})||[]},only:function(T){if(!Y(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Te.Component=z,Te.Fragment=a,Te.Profiler=o,Te.PureComponent=F,Te.StrictMode=s,Te.Suspense=m,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Te.act=function(){throw Error("act(...) is not supported in production builds of React.")},Te.cache=function(T){return function(){return T.apply(null,arguments)}},Te.cloneElement=function(T,j,ie){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var ee=A({},T.props),$=T.key,Se=void 0;if(j!=null)for(ge in j.ref!==void 0&&(Se=void 0),j.key!==void 0&&($=""+j.key),j)!O.call(j,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&j.ref===void 0||(ee[ge]=j[ge]);var ge=arguments.length-2;if(ge===1)ee.children=ie;else if(1<ge){for(var yt=Array(ge),Ue=0;Ue<ge;Ue++)yt[Ue]=arguments[Ue+2];ee.children=yt}return ye(T.type,$,void 0,void 0,Se,ee)},Te.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},Te.createElement=function(T,j,ie){var ee,$={},Se=null;if(j!=null)for(ee in j.key!==void 0&&(Se=""+j.key),j)O.call(j,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&($[ee]=j[ee]);var ge=arguments.length-2;if(ge===1)$.children=ie;else if(1<ge){for(var yt=Array(ge),Ue=0;Ue<ge;Ue++)yt[Ue]=arguments[Ue+2];$.children=yt}if(T&&T.defaultProps)for(ee in ge=T.defaultProps,ge)$[ee]===void 0&&($[ee]=ge[ee]);return ye(T,Se,void 0,void 0,null,$)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(T){return{$$typeof:h,render:T}},Te.isValidElement=Y,Te.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:pe}},Te.memo=function(T,j){return{$$typeof:p,type:T,compare:j===void 0?null:j}},Te.startTransition=function(T){var j=W.T,ie={};W.T=ie;try{var ee=T(),$=W.S;$!==null&&$(ie,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(ce,ue)}catch(Se){ue(Se)}finally{W.T=j}},Te.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Te.use=function(T){return W.H.use(T)},Te.useActionState=function(T,j,ie){return W.H.useActionState(T,j,ie)},Te.useCallback=function(T,j){return W.H.useCallback(T,j)},Te.useContext=function(T){return W.H.useContext(T)},Te.useDebugValue=function(){},Te.useDeferredValue=function(T,j){return W.H.useDeferredValue(T,j)},Te.useEffect=function(T,j){return W.H.useEffect(T,j)},Te.useId=function(){return W.H.useId()},Te.useImperativeHandle=function(T,j,ie){return W.H.useImperativeHandle(T,j,ie)},Te.useInsertionEffect=function(T,j){return W.H.useInsertionEffect(T,j)},Te.useLayoutEffect=function(T,j){return W.H.useLayoutEffect(T,j)},Te.useMemo=function(T,j){return W.H.useMemo(T,j)},Te.useOptimistic=function(T,j){return W.H.useOptimistic(T,j)},Te.useReducer=function(T,j,ie){return W.H.useReducer(T,j,ie)},Te.useRef=function(T){return W.H.useRef(T)},Te.useState=function(T){return W.H.useState(T)},Te.useSyncExternalStore=function(T,j,ie){return W.H.useSyncExternalStore(T,j,ie)},Te.useTransition=function(){return W.H.useTransition()},Te.version="19.0.0",Te}var C_;function Wd(){return C_||(C_=1,id.exports=lT()),id.exports}var M=Wd(),ad={exports:{}},Ks={},rd={exports:{}},sd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function oT(){return w_||(w_=1,function(i){function e(G,pe){var ue=G.length;G.push(pe);e:for(;0<ue;){var ce=ue-1>>>1,T=G[ce];if(0<o(T,pe))G[ce]=pe,G[ue]=T,ue=ce;else break e}}function a(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var pe=G[0],ue=G.pop();if(ue!==pe){G[0]=ue;e:for(var ce=0,T=G.length,j=T>>>1;ce<j;){var ie=2*(ce+1)-1,ee=G[ie],$=ie+1,Se=G[$];if(0>o(ee,ue))$<T&&0>o(Se,ee)?(G[ce]=Se,G[$]=ue,ce=$):(G[ce]=ee,G[ie]=ue,ce=ie);else if($<T&&0>o(Se,ue))G[ce]=Se,G[$]=ue,ce=$;else break e}}return pe}function o(G,pe){var ue=G.sortIndex-pe.sortIndex;return ue!==0?ue:G.id-pe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();i.unstable_now=function(){return f.now()-h}}var m=[],p=[],y=1,v=null,E=3,S=!1,A=!1,H=!1,z=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function Z(G){for(var pe=a(p);pe!==null;){if(pe.callback===null)s(p);else if(pe.startTime<=G)s(p),pe.sortIndex=pe.expirationTime,e(m,pe);else break;pe=a(p)}}function he(G){if(H=!1,Z(G),!A)if(a(m)!==null)A=!0,_t();else{var pe=a(p);pe!==null&&et(he,pe.startTime-G)}}var W=!1,O=-1,ye=5,be=-1;function Y(){return!(i.unstable_now()-be<ye)}function se(){if(W){var G=i.unstable_now();be=G;var pe=!0;try{e:{A=!1,H&&(H=!1,P(O),O=-1),S=!0;var ue=E;try{t:{for(Z(G),v=a(m);v!==null&&!(v.expirationTime>G&&Y());){var ce=v.callback;if(typeof ce=="function"){v.callback=null,E=v.priorityLevel;var T=ce(v.expirationTime<=G);if(G=i.unstable_now(),typeof T=="function"){v.callback=T,Z(G),pe=!0;break t}v===a(m)&&s(m),Z(G)}else s(m);v=a(m)}if(v!==null)pe=!0;else{var j=a(p);j!==null&&et(he,j.startTime-G),pe=!1}}break e}finally{v=null,E=ue,S=!1}pe=void 0}}finally{pe?Pe():W=!1}}}var Pe;if(typeof F=="function")Pe=function(){F(se)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,gt=Ot.port2;Ot.port1.onmessage=se,Pe=function(){gt.postMessage(null)}}else Pe=function(){z(se,0)};function _t(){W||(W=!0,Pe())}function et(G,pe){O=z(function(){G(i.unstable_now())},pe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_continueExecution=function(){A||S||(A=!0,_t())},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_getFirstCallbackNode=function(){return a(m)},i.unstable_next=function(G){switch(E){case 1:case 2:case 3:var pe=3;break;default:pe=E}var ue=E;E=pe;try{return G()}finally{E=ue}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(G,pe){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ue=E;E=G;try{return pe()}finally{E=ue}},i.unstable_scheduleCallback=function(G,pe,ue){var ce=i.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ce+ue:ce):ue=ce,G){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=ue+T,G={id:y++,callback:pe,priorityLevel:G,startTime:ue,expirationTime:T,sortIndex:-1},ue>ce?(G.sortIndex=ue,e(p,G),a(m)===null&&G===a(p)&&(H?(P(O),O=-1):H=!0,et(he,ue-ce))):(G.sortIndex=T,e(m,G),A||S||(A=!0,_t())),G},i.unstable_shouldYield=Y,i.unstable_wrapCallback=function(G){var pe=E;return function(){var ue=E;E=pe;try{return G.apply(this,arguments)}finally{E=ue}}}}(sd)),sd}var R_;function uT(){return R_||(R_=1,rd.exports=oT()),rd.exports}var ld={exports:{}},Bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function cT(){if(A_)return Bt;A_=1;var i=Wd();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Bt.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(m,p,null,y)},Bt.flushSync=function(m){var p=f.T,y=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=p,s.p=y,s.d.f()}},Bt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},Bt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Bt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:S}):y==="script"&&s.d.X(m,{crossOrigin:v,integrity:E,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Bt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},Bt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Bt.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=h(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},Bt.requestFormReset=function(m){s.d.r(m)},Bt.unstable_batchedUpdates=function(m,p){return m(p)},Bt.useFormState=function(m,p,y){return f.H.useFormState(m,p,y)},Bt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Bt.version="19.0.0",Bt}var N_;function ov(){if(N_)return ld.exports;N_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ld.exports=cT(),ld.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function fT(){if(D_)return Ks;D_=1;var i=uT(),e=Wd(),a=ov();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),S=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),he=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=W&&t[W]||t["@@iterator"],typeof t=="function"?t:null)}var ye=Symbol.for("react.client.reference");function be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ye?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case m:return"Fragment";case h:return"Portal";case y:return"Profiler";case p:return"StrictMode";case H:return"Suspense";case z:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case S:return(t.displayName||"Context")+".Provider";case E:return(t._context.displayName||"Context")+".Consumer";case A:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return n=t.displayName||null,n!==null?n:be(t.type)||"Memo";case F:n=t._payload,t=t._init;try{return be(t(n))}catch{}}return null}var Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=Object.assign,Pe,Ot;function gt(t){if(Pe===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Pe=n&&n[1]||"",Ot=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pe+t+Ot}var _t=!1;function et(t,n){if(!t||_t)return"";_t=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(U){var I=U}Reflect.construct(t,[],V)}else{try{V.call()}catch(U){I=U}t.call(V.prototype)}}else{try{throw Error()}catch(U){I=U}(V=t())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(U){if(U&&I&&typeof U.stack=="string")return[U.stack,I.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),g=d[0],_=d[1];if(g&&_){var b=g.split(`
`),R=_.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===R.length)for(l=b.length-1,c=R.length-1;1<=l&&0<=c&&b[l]!==R[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==R[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==R[c]){var k=`
`+b[l].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=l&&0<=c);break}}}finally{_t=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?gt(r):""}function G(t){switch(t.tag){case 26:case 27:case 5:return gt(t.type);case 16:return gt("Lazy");case 13:return gt("Suspense");case 19:return gt("SuspenseList");case 0:case 15:return t=et(t.type,!1),t;case 11:return t=et(t.type.render,!1),t;case 1:return t=et(t.type,!0),t;default:return""}}function pe(t){try{var n="";do n+=G(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ue(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function ce(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function T(t){if(ue(t)!==t)throw Error(s(188))}function j(t){var n=t.alternate;if(!n){if(n=ue(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===r)return T(c),t;if(d===l)return T(c),n;d=d.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=d;else{for(var g=!1,_=c.child;_;){if(_===r){g=!0,r=c,l=d;break}if(_===l){g=!0,l=c,r=d;break}_=_.sibling}if(!g){for(_=d.child;_;){if(_===r){g=!0,r=d,l=c;break}if(_===l){g=!0,l=d,r=c;break}_=_.sibling}if(!g)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function ie(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ie(t),n!==null)return n;t=t.sibling}return null}var ee=Array.isArray,$=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se={pending:!1,data:null,method:null,action:null},ge=[],yt=-1;function Ue(t){return{current:t}}function rt(t){0>yt||(t.current=ge[yt],ge[yt]=null,yt--)}function Ce(t,n){yt++,ge[yt]=t.current,t.current=n}var Mt=Ue(null),Ni=Ue(null),Pn=Ue(null),on=Ue(null);function er(t,n){switch(Ce(Pn,n),Ce(Ni,t),Ce(Mt,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?$g(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=$g(t),n=Wg(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}rt(Mt),Ce(Mt,n)}function Di(){rt(Mt),rt(Ni),rt(Pn)}function tr(t){t.memoizedState!==null&&Ce(on,t);var n=Mt.current,r=Wg(n,t.type);n!==r&&(Ce(Ni,t),Ce(Mt,r))}function nr(t){Ni.current===t&&(rt(Mt),rt(Ni)),on.current===t&&(rt(on),qs._currentValue=Se)}var Wr=Object.prototype.hasOwnProperty,Zr=i.unstable_scheduleCallback,Jr=i.unstable_cancelCallback,ei=i.unstable_shouldYield,fa=i.unstable_requestPaint,Zt=i.unstable_now,es=i.unstable_getCurrentPriorityLevel,Rn=i.unstable_ImmediatePriority,un=i.unstable_UserBlockingPriority,da=i.unstable_NormalPriority,ts=i.unstable_LowPriority,Hl=i.unstable_IdlePriority,Bn=i.log,Pl=i.unstable_setDisableYieldValue,Oi=null,Ht=null;function $u(t){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Oi,t,void 0,(t.current.flags&128)===128)}catch{}}function An(t){if(typeof Bn=="function"&&Pl(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Oi,t)}catch{}}var Tt=Math.clz32?Math.clz32:Wu,Bl=Math.log,ns=Math.LN2;function Wu(t){return t>>>=0,t===0?32:31-(Bl(t)/ns|0)|0}var ha=128,ir=4194304;function jn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ti(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,d=t.pingedLanes,g=t.warmLanes;t=t.finishedLanes!==0;var _=r&134217727;return _!==0?(r=_&~c,r!==0?l=jn(r):(d&=_,d!==0?l=jn(d):t||(g=_&~g,g!==0&&(l=jn(g))))):(_=r&~c,_!==0?l=jn(_):d!==0?l=jn(d):t||(g=r&~g,g!==0&&(l=jn(g)))),l===0?0:n!==0&&n!==l&&!(n&c)&&(c=l&-l,g=n&-n,c>=g||c===32&&(g&4194176)!==0)?n:l}function Vn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Zu(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jl(){var t=ha;return ha<<=1,!(ha&4194176)&&(ha=128),t}function C(){var t=ir;return ir<<=1,!(ir&62914560)&&(ir=4194304),t}function D(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function L(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function q(t,n,r,l,c,d){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var _=t.entanglements,b=t.expirationTimes,R=t.hiddenUpdates;for(r=g&~r;0<r;){var k=31-Tt(r),V=1<<k;_[k]=0,b[k]=-1;var I=R[k];if(I!==null)for(R[k]=null,k=0;k<I.length;k++){var U=I[k];U!==null&&(U.lane&=-536870913)}r&=~V}l!==0&&J(t,l,0),d!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=d&~(g&~n))}function J(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Tt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function oe(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Tt(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function ve(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function te(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:p_(t.type))}function ae(t,n){var r=$.p;try{return $.p=t,n()}finally{$.p=r}}var K=Math.random().toString(36).slice(2),re="__reactFiber$"+K,de="__reactProps$"+K,Be="__reactContainer$"+K,ft="__reactEvents$"+K,Ze="__reactListeners$"+K,Fe="__reactHandles$"+K,st="__reactResources$"+K,cn="__reactMarker$"+K;function ni(t){delete t[re],delete t[de],delete t[ft],delete t[Ze],delete t[Fe]}function xt(t){var n=t[re];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Be]||r[re]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=e_(t);t!==null;){if(r=t[re])return r;t=e_(t)}return n}t=r,r=t.parentNode}return null}function It(t){if(t=t[re]||t[Be]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function ii(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function fn(t){var n=t[st];return n||(n=t[st]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Xe(t){t[cn]=!0}var ma=new Set,pa={};function Ie(t,n){tt(t,n),tt(t+"Capture",n)}function tt(t,n){for(pa[t]=n,t=0;t<n.length;t++)ma.add(n[t])}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ga=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nt={},ai={};function Vl(t){return Wr.call(ai,t)?!0:Wr.call(nt,t)?!1:ga.test(t)?ai[t]=!0:(nt[t]=!0,!1)}function ar(t,n,r){if(Vl(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function ql(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function ri(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jh(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Jb(t){var n=Jh(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,d=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){l=""+g,d.call(this,g)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Gl(t){t._valueTracker||(t._valueTracker=Jb(t))}function em(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Jh(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Fl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var eS=/[\n"\\]/g;function hn(t){return t.replace(eS,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ju(t,n,r,l,c,d,g,_){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+dn(n)):t.value!==""+dn(n)&&(t.value=""+dn(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?ec(t,g,dn(n)):r!=null?ec(t,g,dn(r)):l!=null&&t.removeAttribute("value"),c==null&&d!=null&&(t.defaultChecked=!!d),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+dn(_):t.removeAttribute("name")}function tm(t,n,r,l,c,d,g,_){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;r=r!=null?""+dn(r):"",n=n!=null?""+dn(n):r,_||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=_?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function ec(t,n,r){n==="number"&&Fl(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function rr(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+dn(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function nm(t,n,r){if(n!=null&&(n=""+dn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+dn(r):""}function im(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ee(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=dn(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function sr(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var tS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function am(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||tS.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function rm(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&am(t,c,l)}else for(var d in n)n.hasOwnProperty(d)&&am(t,d,n[d])}function tc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yl(t){return iS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var nc=null;function ic(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lr=null,or=null;function sm(t){var n=It(t);if(n&&(t=n.stateNode)){var r=t[de]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ju(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[de]||null;if(!c)throw Error(s(90));Ju(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&em(l)}break e;case"textarea":nm(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&rr(t,!!r.multiple,n,!1)}}}var ac=!1;function lm(t,n,r){if(ac)return t(n,r);ac=!0;try{var l=t(n);return l}finally{if(ac=!1,(lr!==null||or!==null)&&(Oo(),lr&&(n=lr,t=or,or=lr=null,sm(n),t)))for(n=0;n<t.length;n++)sm(t[n])}}function is(t,n){var r=t.stateNode;if(r===null)return null;var l=r[de]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var rc=!1;if(Ft)try{var as={};Object.defineProperty(as,"passive",{get:function(){rc=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{rc=!1}var Mi=null,sc=null,Ql=null;function om(){if(Ql)return Ql;var t,n=sc,r=n.length,l,c="value"in Mi?Mi.value:Mi.textContent,d=c.length;for(t=0;t<r&&n[t]===c[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===c[d-l];l++);return Ql=c.slice(t,1<l?1-l:void 0)}function Xl(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Kl(){return!0}function um(){return!1}function Yt(t){function n(r,l,c,d,g){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(r=t[_],this[_]=r?r(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Kl:um,this.isPropagationStopped=um,this}return se(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),n}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$l=Yt(_a),rs=se({},_a,{view:0,detail:0}),aS=Yt(rs),lc,oc,ss,Wl=se({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ss&&(ss&&t.type==="mousemove"?(lc=t.screenX-ss.screenX,oc=t.screenY-ss.screenY):oc=lc=0,ss=t),lc)},movementY:function(t){return"movementY"in t?t.movementY:oc}}),cm=Yt(Wl),rS=se({},Wl,{dataTransfer:0}),sS=Yt(rS),lS=se({},rs,{relatedTarget:0}),uc=Yt(lS),oS=se({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),uS=Yt(oS),cS=se({},_a,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fS=Yt(cS),dS=se({},_a,{data:0}),fm=Yt(dS),hS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gS(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=pS[t])?!!n[t]:!1}function cc(){return gS}var _S=se({},rs,{key:function(t){if(t.key){var n=hS[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Xl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cc,charCode:function(t){return t.type==="keypress"?Xl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yS=Yt(_S),vS=se({},Wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dm=Yt(vS),ES=se({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cc}),bS=Yt(ES),SS=se({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),TS=Yt(SS),CS=se({},Wl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wS=Yt(CS),RS=se({},_a,{newState:0,oldState:0}),AS=Yt(RS),NS=[9,13,27,32],fc=Ft&&"CompositionEvent"in window,ls=null;Ft&&"documentMode"in document&&(ls=document.documentMode);var DS=Ft&&"TextEvent"in window&&!ls,hm=Ft&&(!fc||ls&&8<ls&&11>=ls),mm=" ",pm=!1;function gm(t,n){switch(t){case"keyup":return NS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _m(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ur=!1;function OS(t,n){switch(t){case"compositionend":return _m(n);case"keypress":return n.which!==32?null:(pm=!0,mm);case"textInput":return t=n.data,t===mm&&pm?null:t;default:return null}}function MS(t,n){if(ur)return t==="compositionend"||!fc&&gm(t,n)?(t=om(),Ql=sc=Mi=null,ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return hm&&n.locale!=="ko"?null:n.data;default:return null}}var xS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ym(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!xS[t.type]:n==="textarea"}function vm(t,n,r,l){lr?or?or.push(l):or=[l]:lr=l,n=Uo(n,"onChange"),0<n.length&&(r=new $l("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var os=null,us=null;function IS(t){Fg(t,0)}function Zl(t){var n=ii(t);if(em(n))return t}function Em(t,n){if(t==="change")return n}var bm=!1;if(Ft){var dc;if(Ft){var hc="oninput"in document;if(!hc){var Sm=document.createElement("div");Sm.setAttribute("oninput","return;"),hc=typeof Sm.oninput=="function"}dc=hc}else dc=!1;bm=dc&&(!document.documentMode||9<document.documentMode)}function Tm(){os&&(os.detachEvent("onpropertychange",Cm),us=os=null)}function Cm(t){if(t.propertyName==="value"&&Zl(us)){var n=[];vm(n,us,t,ic(t)),lm(IS,n)}}function LS(t,n,r){t==="focusin"?(Tm(),os=n,us=r,os.attachEvent("onpropertychange",Cm)):t==="focusout"&&Tm()}function US(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zl(us)}function kS(t,n){if(t==="click")return Zl(n)}function zS(t,n){if(t==="input"||t==="change")return Zl(n)}function HS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Jt=typeof Object.is=="function"?Object.is:HS;function cs(t,n){if(Jt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Wr.call(n,c)||!Jt(t[c],n[c]))return!1}return!0}function wm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rm(t,n){var r=wm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wm(r)}}function Am(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Am(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Nm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Fl(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Fl(t.document)}return n}function mc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function PS(t,n){var r=Nm(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&Am(n.ownerDocument.documentElement,n)){if(l!==null&&mc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,d=Math.min(l.start,c);l=l.end===void 0?d:Math.min(l.end,c),!r.extend&&d>l&&(c=l,l=d,d=c),c=Rm(n,d);var g=Rm(n,l);c&&g&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==g.node||r.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),d>l?(r.addRange(t),r.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var BS=Ft&&"documentMode"in document&&11>=document.documentMode,cr=null,pc=null,fs=null,gc=!1;function Dm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gc||cr==null||cr!==Fl(l)||(l=cr,"selectionStart"in l&&mc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fs&&cs(fs,l)||(fs=l,l=Uo(pc,"onSelect"),0<l.length&&(n=new $l("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=cr)))}function ya(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var fr={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},_c={},Om={};Ft&&(Om=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function va(t){if(_c[t])return _c[t];if(!fr[t])return t;var n=fr[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Om)return _c[t]=n[r];return t}var Mm=va("animationend"),xm=va("animationiteration"),Im=va("animationstart"),jS=va("transitionrun"),VS=va("transitionstart"),qS=va("transitioncancel"),Lm=va("transitionend"),Um=new Map,km="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Nn(t,n){Um.set(t,n),Ie(n,[t])}var mn=[],dr=0,yc=0;function Jl(){for(var t=dr,n=yc=dr=0;n<t;){var r=mn[n];mn[n++]=null;var l=mn[n];mn[n++]=null;var c=mn[n];mn[n++]=null;var d=mn[n];if(mn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}d!==0&&zm(r,c,d)}}function eo(t,n,r,l){mn[dr++]=t,mn[dr++]=n,mn[dr++]=r,mn[dr++]=l,yc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function vc(t,n,r,l){return eo(t,n,r,l),to(t)}function xi(t,n){return eo(t,null,null,n),to(t)}function zm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,d=t.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(c=!0)),t=d,d=d.return;c&&n!==null&&t.tag===3&&(d=t.stateNode,c=31-Tt(r),d=d.hiddenUpdates,t=d[c],t===null?d[c]=[n]:t.push(n),n.lane=r|536870912)}function to(t){if(50<ks)throw ks=0,Rf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var hr={},Hm=new WeakMap;function pn(t,n){if(typeof t=="object"&&t!==null){var r=Hm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:pe(n)},Hm.set(t,n),n)}return{value:t,source:n,stack:pe(n)}}var mr=[],pr=0,no=null,io=0,gn=[],_n=0,Ea=null,si=1,li="";function ba(t,n){mr[pr++]=io,mr[pr++]=no,no=t,io=n}function Pm(t,n,r){gn[_n++]=si,gn[_n++]=li,gn[_n++]=Ea,Ea=t;var l=si;t=li;var c=32-Tt(l)-1;l&=~(1<<c),r+=1;var d=32-Tt(n)+c;if(30<d){var g=c-c%5;d=(l&(1<<g)-1).toString(32),l>>=g,c-=g,si=1<<32-Tt(n)+c|r<<c|l,li=d+t}else si=1<<d|r<<c|l,li=t}function Ec(t){t.return!==null&&(ba(t,1),Pm(t,1,0))}function bc(t){for(;t===no;)no=mr[--pr],mr[pr]=null,io=mr[--pr],mr[pr]=null;for(;t===Ea;)Ea=gn[--_n],gn[_n]=null,li=gn[--_n],gn[_n]=null,si=gn[--_n],gn[_n]=null}var Vt=null,Lt=null,ke=!1,Dn=null,qn=!1,Sc=Error(s(519));function Sa(t){var n=Error(s(418,""));throw ms(pn(n,t)),Sc}function Bm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[re]=t,n[de]=l,r){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(r=0;r<Hs.length;r++)Me(Hs[r],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Me("invalid",n),tm(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Gl(n);break;case"select":Me("invalid",n);break;case"textarea":Me("invalid",n),im(n,l.value,l.defaultValue,l.children),Gl(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Kg(n.textContent,r)?(l.popover!=null&&(Me("beforetoggle",n),Me("toggle",n)),l.onScroll!=null&&Me("scroll",n),l.onScrollEnd!=null&&Me("scrollend",n),l.onClick!=null&&(n.onclick=ko),n=!0):n=!1,n||Sa(t)}function jm(t){for(Vt=t.return;Vt;)switch(Vt.tag){case 3:case 27:qn=!0;return;case 5:case 13:qn=!1;return;default:Vt=Vt.return}}function ds(t){if(t!==Vt)return!1;if(!ke)return jm(t),ke=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||qf(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Lt&&Sa(t),jm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Lt=Mn(t.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Lt=null}}else Lt=Vt?Mn(t.stateNode.nextSibling):null;return!0}function hs(){Lt=Vt=null,ke=!1}function ms(t){Dn===null?Dn=[t]:Dn.push(t)}var ps=Error(s(460)),Vm=Error(s(474)),Tc={then:function(){}};function qm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ao(){}function Gm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ao,ao),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===ps?Error(s(483)):t;default:if(typeof n.status=="string")n.then(ao,ao);else{if(t=Ke,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===ps?Error(s(483)):t}throw gs=n,ps}}var gs=null;function Fm(){if(gs===null)throw Error(s(459));var t=gs;return gs=null,t}var gr=null,_s=0;function ro(t){var n=_s;return _s+=1,gr===null&&(gr=[]),Gm(gr,t,n)}function ys(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function so(t,n){throw n.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ym(t){var n=t._init;return n(t._payload)}function Qm(t){function n(N,w){if(t){var x=N.deletions;x===null?(N.deletions=[w],N.flags|=16):x.push(w)}}function r(N,w){if(!t)return null;for(;w!==null;)n(N,w),w=w.sibling;return null}function l(N){for(var w=new Map;N!==null;)N.key!==null?w.set(N.key,N):w.set(N.index,N),N=N.sibling;return w}function c(N,w){return N=Gi(N,w),N.index=0,N.sibling=null,N}function d(N,w,x){return N.index=x,t?(x=N.alternate,x!==null?(x=x.index,x<w?(N.flags|=33554434,w):x):(N.flags|=33554434,w)):(N.flags|=1048576,w)}function g(N){return t&&N.alternate===null&&(N.flags|=33554434),N}function _(N,w,x,B){return w===null||w.tag!==6?(w=yf(x,N.mode,B),w.return=N,w):(w=c(w,x),w.return=N,w)}function b(N,w,x,B){var ne=x.type;return ne===m?k(N,w,x.props.children,B,x.key):w!==null&&(w.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===F&&Ym(ne)===w.type)?(w=c(w,x.props),ys(w,x),w.return=N,w):(w=wo(x.type,x.key,x.props,null,N.mode,B),ys(w,x),w.return=N,w)}function R(N,w,x,B){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=vf(x,N.mode,B),w.return=N,w):(w=c(w,x.children||[]),w.return=N,w)}function k(N,w,x,B,ne){return w===null||w.tag!==7?(w=xa(x,N.mode,B,ne),w.return=N,w):(w=c(w,x),w.return=N,w)}function V(N,w,x){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=yf(""+w,N.mode,x),w.return=N,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case f:return x=wo(w.type,w.key,w.props,null,N.mode,x),ys(x,w),x.return=N,x;case h:return w=vf(w,N.mode,x),w.return=N,w;case F:var B=w._init;return w=B(w._payload),V(N,w,x)}if(ee(w)||O(w))return w=xa(w,N.mode,x,null),w.return=N,w;if(typeof w.then=="function")return V(N,ro(w),x);if(w.$$typeof===S)return V(N,So(N,w),x);so(N,w)}return null}function I(N,w,x,B){var ne=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return ne!==null?null:_(N,w,""+x,B);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case f:return x.key===ne?b(N,w,x,B):null;case h:return x.key===ne?R(N,w,x,B):null;case F:return ne=x._init,x=ne(x._payload),I(N,w,x,B)}if(ee(x)||O(x))return ne!==null?null:k(N,w,x,B,null);if(typeof x.then=="function")return I(N,w,ro(x),B);if(x.$$typeof===S)return I(N,w,So(N,x),B);so(N,x)}return null}function U(N,w,x,B,ne){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return N=N.get(x)||null,_(w,N,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return N=N.get(B.key===null?x:B.key)||null,b(w,N,B,ne);case h:return N=N.get(B.key===null?x:B.key)||null,R(w,N,B,ne);case F:var Re=B._init;return B=Re(B._payload),U(N,w,x,B,ne)}if(ee(B)||O(B))return N=N.get(x)||null,k(w,N,B,ne,null);if(typeof B.then=="function")return U(N,w,x,ro(B),ne);if(B.$$typeof===S)return U(N,w,x,So(w,B),ne);so(w,B)}return null}function le(N,w,x,B){for(var ne=null,Re=null,fe=w,me=w=0,Rt=null;fe!==null&&me<x.length;me++){fe.index>me?(Rt=fe,fe=null):Rt=fe.sibling;var ze=I(N,fe,x[me],B);if(ze===null){fe===null&&(fe=Rt);break}t&&fe&&ze.alternate===null&&n(N,fe),w=d(ze,w,me),Re===null?ne=ze:Re.sibling=ze,Re=ze,fe=Rt}if(me===x.length)return r(N,fe),ke&&ba(N,me),ne;if(fe===null){for(;me<x.length;me++)fe=V(N,x[me],B),fe!==null&&(w=d(fe,w,me),Re===null?ne=fe:Re.sibling=fe,Re=fe);return ke&&ba(N,me),ne}for(fe=l(fe);me<x.length;me++)Rt=U(fe,N,me,x[me],B),Rt!==null&&(t&&Rt.alternate!==null&&fe.delete(Rt.key===null?me:Rt.key),w=d(Rt,w,me),Re===null?ne=Rt:Re.sibling=Rt,Re=Rt);return t&&fe.forEach(function(Wi){return n(N,Wi)}),ke&&ba(N,me),ne}function Ee(N,w,x,B){if(x==null)throw Error(s(151));for(var ne=null,Re=null,fe=w,me=w=0,Rt=null,ze=x.next();fe!==null&&!ze.done;me++,ze=x.next()){fe.index>me?(Rt=fe,fe=null):Rt=fe.sibling;var Wi=I(N,fe,ze.value,B);if(Wi===null){fe===null&&(fe=Rt);break}t&&fe&&Wi.alternate===null&&n(N,fe),w=d(Wi,w,me),Re===null?ne=Wi:Re.sibling=Wi,Re=Wi,fe=Rt}if(ze.done)return r(N,fe),ke&&ba(N,me),ne;if(fe===null){for(;!ze.done;me++,ze=x.next())ze=V(N,ze.value,B),ze!==null&&(w=d(ze,w,me),Re===null?ne=ze:Re.sibling=ze,Re=ze);return ke&&ba(N,me),ne}for(fe=l(fe);!ze.done;me++,ze=x.next())ze=U(fe,N,me,ze.value,B),ze!==null&&(t&&ze.alternate!==null&&fe.delete(ze.key===null?me:ze.key),w=d(ze,w,me),Re===null?ne=ze:Re.sibling=ze,Re=ze);return t&&fe.forEach(function(iT){return n(N,iT)}),ke&&ba(N,me),ne}function ut(N,w,x,B){if(typeof x=="object"&&x!==null&&x.type===m&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case f:e:{for(var ne=x.key;w!==null;){if(w.key===ne){if(ne=x.type,ne===m){if(w.tag===7){r(N,w.sibling),B=c(w,x.props.children),B.return=N,N=B;break e}}else if(w.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===F&&Ym(ne)===w.type){r(N,w.sibling),B=c(w,x.props),ys(B,x),B.return=N,N=B;break e}r(N,w);break}else n(N,w);w=w.sibling}x.type===m?(B=xa(x.props.children,N.mode,B,x.key),B.return=N,N=B):(B=wo(x.type,x.key,x.props,null,N.mode,B),ys(B,x),B.return=N,N=B)}return g(N);case h:e:{for(ne=x.key;w!==null;){if(w.key===ne)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){r(N,w.sibling),B=c(w,x.children||[]),B.return=N,N=B;break e}else{r(N,w);break}else n(N,w);w=w.sibling}B=vf(x,N.mode,B),B.return=N,N=B}return g(N);case F:return ne=x._init,x=ne(x._payload),ut(N,w,x,B)}if(ee(x))return le(N,w,x,B);if(O(x)){if(ne=O(x),typeof ne!="function")throw Error(s(150));return x=ne.call(x),Ee(N,w,x,B)}if(typeof x.then=="function")return ut(N,w,ro(x),B);if(x.$$typeof===S)return ut(N,w,So(N,x),B);so(N,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,w!==null&&w.tag===6?(r(N,w.sibling),B=c(w,x),B.return=N,N=B):(r(N,w),B=yf(x,N.mode,B),B.return=N,N=B),g(N)):r(N,w)}return function(N,w,x,B){try{_s=0;var ne=ut(N,w,x,B);return gr=null,ne}catch(fe){if(fe===ps)throw fe;var Re=bn(29,fe,null,N.mode);return Re.lanes=B,Re.return=N,Re}finally{}}}var Ta=Qm(!0),Xm=Qm(!1),_r=Ue(null),lo=Ue(0);function Km(t,n){t=yi,Ce(lo,t),Ce(_r,n),yi=t|n.baseLanes}function Cc(){Ce(lo,yi),Ce(_r,_r.current)}function wc(){yi=lo.current,rt(_r),rt(lo)}var yn=Ue(null),Gn=null;function Ii(t){var n=t.alternate;Ce(vt,vt.current&1),Ce(yn,t),Gn===null&&(n===null||_r.current!==null||n.memoizedState!==null)&&(Gn=t)}function $m(t){if(t.tag===22){if(Ce(vt,vt.current),Ce(yn,t),Gn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Gn=t)}}else Li()}function Li(){Ce(vt,vt.current),Ce(yn,yn.current)}function oi(t){rt(yn),Gn===t&&(Gn=null),rt(vt)}var vt=Ue(0);function oo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var GS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},FS=i.unstable_scheduleCallback,YS=i.unstable_NormalPriority,Et={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rc(){return{controller:new GS,data:new Map,refCount:0}}function vs(t){t.refCount--,t.refCount===0&&FS(YS,function(){t.controller.abort()})}var Es=null,Ac=0,yr=0,vr=null;function QS(t,n){if(Es===null){var r=Es=[];Ac=0,yr=Lf(),vr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Ac++,n.then(Wm,Wm),n}function Wm(){if(--Ac===0&&Es!==null){vr!==null&&(vr.status="fulfilled");var t=Es;Es=null,yr=0,vr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function XS(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Zm=Y.S;Y.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&QS(t,n),Zm!==null&&Zm(t,n)};var Ca=Ue(null);function Nc(){var t=Ca.current;return t!==null?t:Ke.pooledCache}function uo(t,n){n===null?Ce(Ca,Ca.current):Ce(Ca,n.pool)}function Jm(){var t=Nc();return t===null?null:{parent:Et._currentValue,pool:t}}var Ui=0,we=null,Ve=null,ht=null,co=!1,Er=!1,wa=!1,fo=0,bs=0,br=null,KS=0;function dt(){throw Error(s(321))}function Dc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Jt(t[r],n[r]))return!1;return!0}function Oc(t,n,r,l,c,d){return Ui=d,we=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=t===null||t.memoizedState===null?Ra:ki,wa=!1,d=r(l,c),wa=!1,Er&&(d=tp(n,r,l,c)),ep(t),d}function ep(t){Y.H=Fn;var n=Ve!==null&&Ve.next!==null;if(Ui=0,ht=Ve=we=null,co=!1,bs=0,br=null,n)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&bo(t)&&(Ct=!0))}function tp(t,n,r,l){we=t;var c=0;do{if(Er&&(br=null),bs=0,Er=!1,25<=c)throw Error(s(301));if(c+=1,ht=Ve=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Aa,d=n(r,l)}while(Er);return d}function $S(){var t=Y.H,n=t.useState()[0];return n=typeof n.then=="function"?Ss(n):n,t=t.useState()[0],(Ve!==null?Ve.memoizedState:null)!==t&&(we.flags|=1024),n}function Mc(){var t=fo!==0;return fo=0,t}function xc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Ic(t){if(co){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}co=!1}Ui=0,ht=Ve=we=null,Er=!1,bs=fo=0,br=null}function Qt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?we.memoizedState=ht=t:ht=ht.next=t,ht}function mt(){if(Ve===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var n=ht===null?we.memoizedState:ht.next;if(n!==null)ht=n,Ve=t;else{if(t===null)throw we.alternate===null?Error(s(467)):Error(s(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},ht===null?we.memoizedState=ht=t:ht=ht.next=t}return ht}var ho;ho=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ss(t){var n=bs;return bs+=1,br===null&&(br=[]),t=Gm(br,t,n),n=we,(ht===null?n.memoizedState:ht.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?Ra:ki),t}function mo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ss(t);if(t.$$typeof===S)return Pt(t)}throw Error(s(438,String(t)))}function Lc(t){var n=null,r=we.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=we.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ho(),we.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=he;return n.index++,r}function ui(t,n){return typeof n=="function"?n(t):n}function po(t){var n=mt();return Uc(n,Ve,t)}function Uc(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,d=l.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}n.baseQueue=c=d,l.pending=null}if(d=t.baseState,c===null)t.memoizedState=d;else{n=c.next;var _=g=null,b=null,R=n,k=!1;do{var V=R.lane&-536870913;if(V!==R.lane?(Le&V)===V:(Ui&V)===V){var I=R.revertLane;if(I===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),V===yr&&(k=!0);else if((Ui&I)===I){R=R.next,I===yr&&(k=!0);continue}else V={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(_=b=V,g=d):b=b.next=V,we.lanes|=I,Fi|=I;V=R.action,wa&&r(d,V),d=R.hasEagerState?R.eagerState:r(d,V)}else I={lane:V,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(_=b=I,g=d):b=b.next=I,we.lanes|=V,Fi|=V;R=R.next}while(R!==null&&R!==n);if(b===null?g=d:b.next=_,!Jt(d,t.memoizedState)&&(Ct=!0,k&&(r=vr,r!==null)))throw r;t.memoizedState=d,t.baseState=g,t.baseQueue=b,l.lastRenderedState=d}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function kc(t){var n=mt(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,d=n.memoizedState;if(c!==null){r.pending=null;var g=c=c.next;do d=t(d,g.action),g=g.next;while(g!==c);Jt(d,n.memoizedState)||(Ct=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,l]}function np(t,n,r){var l=we,c=mt(),d=ke;if(d){if(r===void 0)throw Error(s(407));r=r()}else r=n();var g=!Jt((Ve||c).memoizedState,r);if(g&&(c.memoizedState=r,Ct=!0),c=c.queue,Pc(rp.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||ht!==null&&ht.memoizedState.tag&1){if(l.flags|=2048,Sr(9,ap.bind(null,l,c,r,n),{destroy:void 0},null),Ke===null)throw Error(s(349));d||Ui&60||ip(l,n,r)}return r}function ip(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=we.updateQueue,n===null?(n=ho(),we.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function ap(t,n,r,l){n.value=r,n.getSnapshot=l,sp(n)&&lp(t)}function rp(t,n,r){return r(function(){sp(n)&&lp(t)})}function sp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Jt(t,r)}catch{return!0}}function lp(t){var n=xi(t,2);n!==null&&qt(n,t,2)}function zc(t){var n=Qt();if(typeof t=="function"){var r=t;if(t=r(),wa){An(!0);try{r()}finally{An(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:t},n}function op(t,n,r,l){return t.baseState=r,Uc(t,Ve,typeof l=="function"?l:ui)}function WS(t,n,r,l,c){if(yo(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};Y.T!==null?r(!0):d.isTransition=!1,l(d),r=n.pending,r===null?(d.next=n.pending=d,up(n,d)):(d.next=r.next,n.pending=r.next=d)}}function up(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var d=Y.T,g={};Y.T=g;try{var _=r(c,l),b=Y.S;b!==null&&b(g,_),cp(t,n,_)}catch(R){Hc(t,n,R)}finally{Y.T=d}}else try{d=r(c,l),cp(t,n,d)}catch(R){Hc(t,n,R)}}function cp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){fp(t,n,l)},function(l){return Hc(t,n,l)}):fp(t,n,r)}function fp(t,n,r){n.status="fulfilled",n.value=r,dp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,up(t,r)))}function Hc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,dp(n),n=n.next;while(n!==l)}t.action=null}function dp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function hp(t,n){return n}function mp(t,n){if(ke){var r=Ke.formState;if(r!==null){e:{var l=we;if(ke){if(Lt){t:{for(var c=Lt,d=qn;c.nodeType!==8;){if(!d){c=null;break t}if(c=Mn(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Lt=Mn(c.nextSibling),l=c.data==="F!";break e}}Sa(l)}l=!1}l&&(n=r[0])}}return r=Qt(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hp,lastRenderedState:n},r.queue=l,r=xp.bind(null,we,l),l.dispatch=r,l=zc(!1),d=Gc.bind(null,we,!1,l.queue),l=Qt(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=WS.bind(null,we,c,d,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function pp(t){var n=mt();return gp(n,Ve,t)}function gp(t,n,r){n=Uc(t,n,hp)[0],t=po(ui)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?Ss(n):n;var l=mt(),c=l.queue,d=c.dispatch;return r!==l.memoizedState&&(we.flags|=2048,Sr(9,ZS.bind(null,c,r),{destroy:void 0},null)),[n,d,t]}function ZS(t,n){t.action=n}function _p(t){var n=mt(),r=Ve;if(r!==null)return gp(n,r,t);mt(),n=n.memoizedState,r=mt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Sr(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=we.updateQueue,n===null&&(n=ho(),we.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function yp(){return mt().memoizedState}function go(t,n,r,l){var c=Qt();we.flags|=t,c.memoizedState=Sr(1|n,r,{destroy:void 0},l===void 0?null:l)}function _o(t,n,r,l){var c=mt();l=l===void 0?null:l;var d=c.memoizedState.inst;Ve!==null&&l!==null&&Dc(l,Ve.memoizedState.deps)?c.memoizedState=Sr(n,r,d,l):(we.flags|=t,c.memoizedState=Sr(1|n,r,d,l))}function vp(t,n){go(8390656,8,t,n)}function Pc(t,n){_o(2048,8,t,n)}function Ep(t,n){return _o(4,2,t,n)}function bp(t,n){return _o(4,4,t,n)}function Sp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Tp(t,n,r){r=r!=null?r.concat([t]):null,_o(4,4,Sp.bind(null,n,t),r)}function Bc(){}function Cp(t,n){var r=mt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Dc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function wp(t,n){var r=mt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Dc(n,l[1]))return l[0];if(l=t(),wa){An(!0);try{t()}finally{An(!1)}}return r.memoizedState=[l,n],l}function jc(t,n,r){return r===void 0||Ui&1073741824?t.memoizedState=n:(t.memoizedState=r,t=Ag(),we.lanes|=t,Fi|=t,r)}function Rp(t,n,r,l){return Jt(r,n)?r:_r.current!==null?(t=jc(t,r,l),Jt(t,n)||(Ct=!0),t):Ui&42?(t=Ag(),we.lanes|=t,Fi|=t,n):(Ct=!0,t.memoizedState=r)}function Ap(t,n,r,l,c){var d=$.p;$.p=d!==0&&8>d?d:8;var g=Y.T,_={};Y.T=_,Gc(t,!1,n,r);try{var b=c(),R=Y.S;if(R!==null&&R(_,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var k=XS(b,l);Ts(t,n,k,an(t))}else Ts(t,n,l,an(t))}catch(V){Ts(t,n,{then:function(){},status:"rejected",reason:V},an())}finally{$.p=d,Y.T=g}}function JS(){}function Vc(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=Np(t).queue;Ap(t,c,n,Se,r===null?JS:function(){return Dp(t),r(l)})}function Np(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Se,baseState:Se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:Se},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Dp(t){var n=Np(t).next.queue;Ts(t,n,{},an())}function qc(){return Pt(qs)}function Op(){return mt().memoizedState}function Mp(){return mt().memoizedState}function e0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=an();t=Pi(r);var l=Bi(n,t,r);l!==null&&(qt(l,n,r),Rs(l,n,r)),n={cache:Rc()},t.payload=n;return}n=n.return}}function t0(t,n,r){var l=an();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},yo(t)?Ip(n,r):(r=vc(t,n,r,l),r!==null&&(qt(r,t,l),Lp(r,n,l)))}function xp(t,n,r){var l=an();Ts(t,n,r,l)}function Ts(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(yo(t))Ip(n,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var g=n.lastRenderedState,_=d(g,r);if(c.hasEagerState=!0,c.eagerState=_,Jt(_,g))return eo(t,n,c,0),Ke===null&&Jl(),!1}catch{}finally{}if(r=vc(t,n,c,l),r!==null)return qt(r,t,l),Lp(r,n,l),!0}return!1}function Gc(t,n,r,l){if(l={lane:2,revertLane:Lf(),action:l,hasEagerState:!1,eagerState:null,next:null},yo(t)){if(n)throw Error(s(479))}else n=vc(t,r,l,2),n!==null&&qt(n,t,2)}function yo(t){var n=t.alternate;return t===we||n!==null&&n===we}function Ip(t,n){Er=co=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Lp(t,n,r){if(r&4194176){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,oe(t,r)}}var Fn={readContext:Pt,use:mo,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt};Fn.useCacheRefresh=dt,Fn.useMemoCache=dt,Fn.useHostTransitionStatus=dt,Fn.useFormState=dt,Fn.useActionState=dt,Fn.useOptimistic=dt;var Ra={readContext:Pt,use:mo,useCallback:function(t,n){return Qt().memoizedState=[t,n===void 0?null:n],t},useContext:Pt,useEffect:vp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,go(4194308,4,Sp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return go(4194308,4,t,n)},useInsertionEffect:function(t,n){go(4,2,t,n)},useMemo:function(t,n){var r=Qt();n=n===void 0?null:n;var l=t();if(wa){An(!0);try{t()}finally{An(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Qt();if(r!==void 0){var c=r(n);if(wa){An(!0);try{r(n)}finally{An(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=t0.bind(null,we,t),[l.memoizedState,t]},useRef:function(t){var n=Qt();return t={current:t},n.memoizedState=t},useState:function(t){t=zc(t);var n=t.queue,r=xp.bind(null,we,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Bc,useDeferredValue:function(t,n){var r=Qt();return jc(r,t,n)},useTransition:function(){var t=zc(!1);return t=Ap.bind(null,we,t.queue,!0,!1),Qt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=we,c=Qt();if(ke){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Ke===null)throw Error(s(349));Le&60||ip(l,n,r)}c.memoizedState=r;var d={value:r,getSnapshot:n};return c.queue=d,vp(rp.bind(null,l,d,t),[t]),l.flags|=2048,Sr(9,ap.bind(null,l,d,r,n),{destroy:void 0},null),r},useId:function(){var t=Qt(),n=Ke.identifierPrefix;if(ke){var r=li,l=si;r=(l&~(1<<32-Tt(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=fo++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=KS++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return Qt().memoizedState=e0.bind(null,we)}};Ra.useMemoCache=Lc,Ra.useHostTransitionStatus=qc,Ra.useFormState=mp,Ra.useActionState=mp,Ra.useOptimistic=function(t){var n=Qt();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Gc.bind(null,we,!0,r),r.dispatch=n,[t,n]};var ki={readContext:Pt,use:mo,useCallback:Cp,useContext:Pt,useEffect:Pc,useImperativeHandle:Tp,useInsertionEffect:Ep,useLayoutEffect:bp,useMemo:wp,useReducer:po,useRef:yp,useState:function(){return po(ui)},useDebugValue:Bc,useDeferredValue:function(t,n){var r=mt();return Rp(r,Ve.memoizedState,t,n)},useTransition:function(){var t=po(ui)[0],n=mt().memoizedState;return[typeof t=="boolean"?t:Ss(t),n]},useSyncExternalStore:np,useId:Op};ki.useCacheRefresh=Mp,ki.useMemoCache=Lc,ki.useHostTransitionStatus=qc,ki.useFormState=pp,ki.useActionState=pp,ki.useOptimistic=function(t,n){var r=mt();return op(r,Ve,t,n)};var Aa={readContext:Pt,use:mo,useCallback:Cp,useContext:Pt,useEffect:Pc,useImperativeHandle:Tp,useInsertionEffect:Ep,useLayoutEffect:bp,useMemo:wp,useReducer:kc,useRef:yp,useState:function(){return kc(ui)},useDebugValue:Bc,useDeferredValue:function(t,n){var r=mt();return Ve===null?jc(r,t,n):Rp(r,Ve.memoizedState,t,n)},useTransition:function(){var t=kc(ui)[0],n=mt().memoizedState;return[typeof t=="boolean"?t:Ss(t),n]},useSyncExternalStore:np,useId:Op};Aa.useCacheRefresh=Mp,Aa.useMemoCache=Lc,Aa.useHostTransitionStatus=qc,Aa.useFormState=_p,Aa.useActionState=_p,Aa.useOptimistic=function(t,n){var r=mt();return Ve!==null?op(r,Ve,t,n):(r.baseState=t,[t,r.queue.dispatch])};function Fc(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:se({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Yc={isMounted:function(t){return(t=t._reactInternals)?ue(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=an(),c=Pi(l);c.payload=n,r!=null&&(c.callback=r),n=Bi(t,c,l),n!==null&&(qt(n,t,l),Rs(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=an(),c=Pi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Bi(t,c,l),n!==null&&(qt(n,t,l),Rs(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=an(),l=Pi(r);l.tag=2,n!=null&&(l.callback=n),n=Bi(t,l,r),n!==null&&(qt(n,t,r),Rs(n,t,r))}};function Up(t,n,r,l,c,d,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,g):n.prototype&&n.prototype.isPureReactComponent?!cs(r,l)||!cs(c,d):!0}function kp(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Yc.enqueueReplaceState(n,n.state,null)}function Na(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=se({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var vo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function zp(t){vo(t)}function Hp(t){console.error(t)}function Pp(t){vo(t)}function Eo(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Bp(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Qc(t,n,r){return r=Pi(r),r.tag=3,r.payload={element:null},r.callback=function(){Eo(t,n)},r}function jp(t){return t=Pi(t),t.tag=3,t}function Vp(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=l.value;t.payload=function(){return c(d)},t.callback=function(){Bp(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Bp(n,r,l),typeof c!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function n0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ws(n,r,c,!0),r=yn.current,r!==null){switch(r.tag){case 13:return Gn===null?Df():r.alternate===null&&ot===0&&(ot=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Tc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Mf(t,l,c)),!1;case 22:return r.flags|=65536,l===Tc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Mf(t,l,c)),!1}throw Error(s(435,r.tag))}return Mf(t,l,c),Df(),!1}if(ke)return n=yn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Sc&&(t=Error(s(422),{cause:l}),ms(pn(t,r)))):(l!==Sc&&(n=Error(s(423),{cause:l}),ms(pn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=pn(l,r),c=Qc(t.stateNode,l,c),uf(t,c),ot!==4&&(ot=2)),!1;var d=Error(s(520),{cause:l});if(d=pn(d,r),Ls===null?Ls=[d]:Ls.push(d),ot!==4&&(ot=2),n===null)return!0;l=pn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Qc(r.stateNode,l,t),uf(r,t),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Yi===null||!Yi.has(d))))return r.flags|=65536,c&=-c,r.lanes|=c,c=jp(c),Vp(c,t,r,l),uf(r,c),!1}r=r.return}while(r!==null);return!1}var qp=Error(s(461)),Ct=!1;function Ut(t,n,r,l){n.child=t===null?Xm(n,null,r,l):Ta(n,t.child,r,l)}function Gp(t,n,r,l,c){r=r.render;var d=n.ref;if("ref"in l){var g={};for(var _ in l)_!=="ref"&&(g[_]=l[_])}else g=l;return Oa(n),l=Oc(t,n,r,g,d,c),_=Mc(),t!==null&&!Ct?(xc(t,n,c),ci(t,n,c)):(ke&&_&&Ec(n),n.flags|=1,Ut(t,n,l,c),n.child)}function Fp(t,n,r,l,c){if(t===null){var d=r.type;return typeof d=="function"&&!_f(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,Yp(t,n,d,l,c)):(t=wo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!nf(t,c)){var g=d.memoizedProps;if(r=r.compare,r=r!==null?r:cs,r(g,l)&&t.ref===n.ref)return ci(t,n,c)}return n.flags|=1,t=Gi(d,l),t.ref=n.ref,t.return=n,n.child=t}function Yp(t,n,r,l,c){if(t!==null){var d=t.memoizedProps;if(cs(d,l)&&t.ref===n.ref)if(Ct=!1,n.pendingProps=l=d,nf(t,c))t.flags&131072&&(Ct=!0);else return n.lanes=t.lanes,ci(t,n,c)}return Xc(t,n,r,l,c)}function Qp(t,n,r){var l=n.pendingProps,c=l.children,d=(n.stateNode._pendingVisibility&2)!==0,g=t!==null?t.memoizedState:null;if(Cs(t,n),l.mode==="hidden"||d){if(n.flags&128){if(l=g!==null?g.baseLanes|r:r,t!==null){for(c=n.child=t.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return Xp(t,n,l,r)}if(r&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&uo(n,g!==null?g.cachePool:null),g!==null?Km(n,g):Cc(),$m(n);else return n.lanes=n.childLanes=536870912,Xp(t,n,g!==null?g.baseLanes|r:r,r)}else g!==null?(uo(n,g.cachePool),Km(n,g),Li(),n.memoizedState=null):(t!==null&&uo(n,null),Cc(),Li());return Ut(t,n,c,r),n.child}function Xp(t,n,r,l){var c=Nc();return c=c===null?null:{parent:Et._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&uo(n,null),Cc(),$m(n),t!==null&&ws(t,n,l,!0),null}function Cs(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function Xc(t,n,r,l,c){return Oa(n),r=Oc(t,n,r,l,void 0,c),l=Mc(),t!==null&&!Ct?(xc(t,n,c),ci(t,n,c)):(ke&&l&&Ec(n),n.flags|=1,Ut(t,n,r,c),n.child)}function Kp(t,n,r,l,c,d){return Oa(n),n.updateQueue=null,r=tp(n,l,r,c),ep(t),l=Mc(),t!==null&&!Ct?(xc(t,n,d),ci(t,n,d)):(ke&&l&&Ec(n),n.flags|=1,Ut(t,n,r,d),n.child)}function $p(t,n,r,l,c){if(Oa(n),n.stateNode===null){var d=hr,g=r.contextType;typeof g=="object"&&g!==null&&(d=Pt(g)),d=new r(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Yc,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},lf(n),g=r.contextType,d.context=typeof g=="object"&&g!==null?Pt(g):hr,d.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Fc(n,r,g,l),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&Yc.enqueueReplaceState(d,d.state,null),Ns(n,l,d,c),As(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var _=n.memoizedProps,b=Na(r,_);d.props=b;var R=d.context,k=r.contextType;g=hr,typeof k=="object"&&k!==null&&(g=Pt(k));var V=r.getDerivedStateFromProps;k=typeof V=="function"||typeof d.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,k||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_||R!==g)&&kp(n,d,l,g),Hi=!1;var I=n.memoizedState;d.state=I,Ns(n,l,d,c),As(),R=n.memoizedState,_||I!==R||Hi?(typeof V=="function"&&(Fc(n,r,V,l),R=n.memoizedState),(b=Hi||Up(n,r,b,l,I,R,g))?(k||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=R),d.props=l,d.state=R,d.context=g,l=b):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,of(t,n),g=n.memoizedProps,k=Na(r,g),d.props=k,V=n.pendingProps,I=d.context,R=r.contextType,b=hr,typeof R=="object"&&R!==null&&(b=Pt(R)),_=r.getDerivedStateFromProps,(R=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==V||I!==b)&&kp(n,d,l,b),Hi=!1,I=n.memoizedState,d.state=I,Ns(n,l,d,c),As();var U=n.memoizedState;g!==V||I!==U||Hi||t!==null&&t.dependencies!==null&&bo(t.dependencies)?(typeof _=="function"&&(Fc(n,r,_,l),U=n.memoizedState),(k=Hi||Up(n,r,k,l,I,U,b)||t!==null&&t.dependencies!==null&&bo(t.dependencies))?(R||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,U,b),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,U,b)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=U),d.props=l,d.state=U,d.context=b,l=k):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Cs(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Ta(n,t.child,null,c),n.child=Ta(n,null,r,c)):Ut(t,n,r,c),n.memoizedState=d.state,t=n.child):t=ci(t,n,c),t}function Wp(t,n,r,l){return hs(),n.flags|=256,Ut(t,n,r,l),n.child}var Kc={dehydrated:null,treeContext:null,retryLane:0};function $c(t){return{baseLanes:t,cachePool:Jm()}}function Wc(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Sn),t}function Zp(t,n,r){var l=n.pendingProps,c=!1,d=(n.flags&128)!==0,g;if((g=d)||(g=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(ke){if(c?Ii(n):Li(),ke){var _=Lt,b;if(b=_){e:{for(b=_,_=qn;b.nodeType!==8;){if(!_){_=null;break e}if(b=Mn(b.nextSibling),b===null){_=null;break e}}_=b}_!==null?(n.memoizedState={dehydrated:_,treeContext:Ea!==null?{id:si,overflow:li}:null,retryLane:536870912},b=bn(18,null,null,0),b.stateNode=_,b.return=n,n.child=b,Vt=n,Lt=null,b=!0):b=!1}b||Sa(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return _.data==="$!"?n.lanes=16:n.lanes=536870912,null;oi(n)}return _=l.children,l=l.fallback,c?(Li(),c=n.mode,_=Jc({mode:"hidden",children:_},c),l=xa(l,c,r,null),_.return=n,l.return=n,_.sibling=l,n.child=_,c=n.child,c.memoizedState=$c(r),c.childLanes=Wc(t,g,r),n.memoizedState=Kc,l):(Ii(n),Zc(n,_))}if(b=t.memoizedState,b!==null&&(_=b.dehydrated,_!==null)){if(d)n.flags&256?(Ii(n),n.flags&=-257,n=ef(t,n,r)):n.memoizedState!==null?(Li(),n.child=t.child,n.flags|=128,n=null):(Li(),c=l.fallback,_=n.mode,l=Jc({mode:"visible",children:l.children},_),c=xa(c,_,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Ta(n,t.child,null,r),l=n.child,l.memoizedState=$c(r),l.childLanes=Wc(t,g,r),n.memoizedState=Kc,n=c);else if(Ii(n),_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var R=g.dgst;g=R,l=Error(s(419)),l.stack="",l.digest=g,ms({value:l,source:null,stack:null}),n=ef(t,n,r)}else if(Ct||ws(t,n,r,!1),g=(r&t.childLanes)!==0,Ct||g){if(g=Ke,g!==null){if(l=r&-r,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(g.suspendedLanes|r)?0:l,l!==0&&l!==b.retryLane)throw b.retryLane=l,xi(t,l),qt(g,t,l),qp}_.data==="$?"||Df(),n=ef(t,n,r)}else _.data==="$?"?(n.flags|=128,n.child=t.child,n=_0.bind(null,t),_._reactRetry=n,n=null):(t=b.treeContext,Lt=Mn(_.nextSibling),Vt=n,ke=!0,Dn=null,qn=!1,t!==null&&(gn[_n++]=si,gn[_n++]=li,gn[_n++]=Ea,si=t.id,li=t.overflow,Ea=n),n=Zc(n,l.children),n.flags|=4096);return n}return c?(Li(),c=l.fallback,_=n.mode,b=t.child,R=b.sibling,l=Gi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&31457280,R!==null?c=Gi(R,c):(c=xa(c,_,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,_=t.child.memoizedState,_===null?_=$c(r):(b=_.cachePool,b!==null?(R=Et._currentValue,b=b.parent!==R?{parent:R,pool:R}:b):b=Jm(),_={baseLanes:_.baseLanes|r,cachePool:b}),c.memoizedState=_,c.childLanes=Wc(t,g,r),n.memoizedState=Kc,l):(Ii(n),r=t.child,t=r.sibling,r=Gi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function Zc(t,n){return n=Jc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Jc(t,n){return Cg(t,n,0,null)}function ef(t,n,r){return Ta(n,t.child,null,r),t=Zc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Jp(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),rf(t.return,n,r)}function tf(t,n,r,l,c){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=r,d.tailMode=c)}function eg(t,n,r){var l=n.pendingProps,c=l.revealOrder,d=l.tail;if(Ut(t,n,l.children,r),l=vt.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jp(t,r,n);else if(t.tag===19)Jp(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ce(vt,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&oo(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),tf(n,!1,c,r,d);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&oo(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}tf(n,!0,r,null,d);break;case"together":tf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ci(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Fi|=n.lanes,!(r&n.childLanes))if(t!==null){if(ws(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Gi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Gi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function nf(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&bo(t)))}function i0(t,n,r){switch(n.tag){case 3:er(n,n.stateNode.containerInfo),zi(n,Et,t.memoizedState.cache),hs();break;case 27:case 5:tr(n);break;case 4:er(n,n.stateNode.containerInfo);break;case 10:zi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ii(n),n.flags|=128,null):r&n.child.childLanes?Zp(t,n,r):(Ii(n),t=ci(t,n,r),t!==null?t.sibling:null);Ii(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ws(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return eg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ce(vt,vt.current),l)break;return null;case 22:case 23:return n.lanes=0,Qp(t,n,r);case 24:zi(n,Et,t.memoizedState.cache)}return ci(t,n,r)}function tg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ct=!0;else{if(!nf(t,r)&&!(n.flags&128))return Ct=!1,i0(t,n,r);Ct=!!(t.flags&131072)}else Ct=!1,ke&&n.flags&1048576&&Pm(n,io,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")_f(l)?(t=Na(l,t),n.tag=1,n=$p(null,n,l,t,r)):(n.tag=0,n=Xc(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===A){n.tag=11,n=Gp(null,n,l,t,r);break e}else if(c===P){n.tag=14,n=Fp(null,n,l,t,r);break e}}throw n=be(l)||l,Error(s(306,n,""))}}return n;case 0:return Xc(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Na(l,n.pendingProps),$p(t,n,l,c,r);case 3:e:{if(er(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var d=n.pendingProps;c=n.memoizedState,l=c.element,of(t,n),Ns(n,d,null,r);var g=n.memoizedState;if(d=g.cache,zi(n,Et,d),d!==c.cache&&sf(n,[Et],r,!0),As(),d=g.element,c.isDehydrated)if(c={element:d,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=Wp(t,n,d,r);break e}else if(d!==l){l=pn(Error(s(424)),n),ms(l),n=Wp(t,n,d,r);break e}else for(Lt=Mn(n.stateNode.containerInfo.firstChild),Vt=n,ke=!0,Dn=null,qn=!0,r=Xm(n,null,d,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(hs(),d===l){n=ci(t,n,r);break e}Ut(t,n,d,r)}n=n.child}return n;case 26:return Cs(t,n),t===null?(r=a_(n.type,null,n.pendingProps,null))?n.memoizedState=r:ke||(r=n.type,t=n.pendingProps,l=zo(Pn.current).createElement(r),l[re]=n,l[de]=t,kt(l,r,t),Xe(l),n.stateNode=l):n.memoizedState=a_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return tr(n),t===null&&ke&&(l=n.stateNode=t_(n.type,n.pendingProps,Pn.current),Vt=n,qn=!0,Lt=Mn(l.firstChild)),l=n.pendingProps.children,t!==null||ke?Ut(t,n,l,r):n.child=Ta(n,null,l,r),Cs(t,n),n.child;case 5:return t===null&&ke&&((c=l=Lt)&&(l=I0(l,n.type,n.pendingProps,qn),l!==null?(n.stateNode=l,Vt=n,Lt=Mn(l.firstChild),qn=!1,c=!0):c=!1),c||Sa(n)),tr(n),c=n.type,d=n.pendingProps,g=t!==null?t.memoizedProps:null,l=d.children,qf(c,d)?l=null:g!==null&&qf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Oc(t,n,$S,null,null,r),qs._currentValue=c),Cs(t,n),Ut(t,n,l,r),n.child;case 6:return t===null&&ke&&((t=r=Lt)&&(r=L0(r,n.pendingProps,qn),r!==null?(n.stateNode=r,Vt=n,Lt=null,t=!0):t=!1),t||Sa(n)),null;case 13:return Zp(t,n,r);case 4:return er(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ta(n,null,l,r):Ut(t,n,l,r),n.child;case 11:return Gp(t,n,n.type,n.pendingProps,r);case 7:return Ut(t,n,n.pendingProps,r),n.child;case 8:return Ut(t,n,n.pendingProps.children,r),n.child;case 12:return Ut(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,zi(n,n.type,l.value),Ut(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Oa(n),c=Pt(c),l=l(c),n.flags|=1,Ut(t,n,l,r),n.child;case 14:return Fp(t,n,n.type,n.pendingProps,r);case 15:return Yp(t,n,n.type,n.pendingProps,r);case 19:return eg(t,n,r);case 22:return Qp(t,n,r);case 24:return Oa(n),l=Pt(Et),t===null?(c=Nc(),c===null&&(c=Ke,d=Rc(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=r),c=d),n.memoizedState={parent:l,cache:c},lf(n),zi(n,Et,c)):(t.lanes&r&&(of(t,n),Ns(n,null,null,r),As()),c=t.memoizedState,d=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),zi(n,Et,l)):(l=d.cache,zi(n,Et,l),l!==c.cache&&sf(n,[Et],r,!0))),Ut(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var af=Ue(null),Da=null,fi=null;function zi(t,n,r){Ce(af,n._currentValue),n._currentValue=r}function di(t){t._currentValue=af.current,rt(af)}function rf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function sf(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var d=c.dependencies;if(d!==null){var g=c.child;d=d.firstContext;e:for(;d!==null;){var _=d;d=c;for(var b=0;b<n.length;b++)if(_.context===n[b]){d.lanes|=r,_=d.alternate,_!==null&&(_.lanes|=r),rf(d.return,r,t),l||(g=null);break e}d=_.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=r,d=g.alternate,d!==null&&(d.lanes|=r),rf(g,r,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function ws(t,n,r,l){t=null;for(var c=n,d=!1;c!==null;){if(!d){if(c.flags&524288)d=!0;else if(c.flags&262144)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var _=c.type;Jt(c.pendingProps.value,g.value)||(t!==null?t.push(_):t=[_])}}else if(c===on.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(qs):t=[qs])}c=c.return}t!==null&&sf(n,t,r,l),n.flags|=262144}function bo(t){for(t=t.firstContext;t!==null;){if(!Jt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Oa(t){Da=t,fi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Pt(t){return ng(Da,t)}function So(t,n){return Da===null&&Oa(t),ng(t,n)}function ng(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},fi===null){if(t===null)throw Error(s(308));fi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else fi=fi.next=n;return r}var Hi=!1;function lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,at&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=to(t),zm(t,null,r),n}return eo(t,l,n,r),to(t)}function Rs(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,oe(t,r)}}function uf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?c=d=g:d=d.next=g,r=r.next}while(r!==null);d===null?c=d=n:d=d.next=n}else c=d=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var cf=!1;function As(){if(cf){var t=vr;if(t!==null)throw t}}function Ns(t,n,r,l){cf=!1;var c=t.updateQueue;Hi=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var b=_,R=b.next;b.next=null,g===null?d=R:g.next=R,g=b;var k=t.alternate;k!==null&&(k=k.updateQueue,_=k.lastBaseUpdate,_!==g&&(_===null?k.firstBaseUpdate=R:_.next=R,k.lastBaseUpdate=b))}if(d!==null){var V=c.baseState;g=0,k=R=b=null,_=d;do{var I=_.lane&-536870913,U=I!==_.lane;if(U?(Le&I)===I:(l&I)===I){I!==0&&I===yr&&(cf=!0),k!==null&&(k=k.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var le=t,Ee=_;I=n;var ut=r;switch(Ee.tag){case 1:if(le=Ee.payload,typeof le=="function"){V=le.call(ut,V,I);break e}V=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=Ee.payload,I=typeof le=="function"?le.call(ut,V,I):le,I==null)break e;V=se({},V,I);break e;case 2:Hi=!0}}I=_.callback,I!==null&&(t.flags|=64,U&&(t.flags|=8192),U=c.callbacks,U===null?c.callbacks=[I]:U.push(I))}else U={lane:I,tag:_.tag,payload:_.payload,callback:_.callback,next:null},k===null?(R=k=U,b=V):k=k.next=U,g|=I;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;U=_,_=U.next,U.next=null,c.lastBaseUpdate=U,c.shared.pending=null}}while(!0);k===null&&(b=V),c.baseState=b,c.firstBaseUpdate=R,c.lastBaseUpdate=k,d===null&&(c.shared.lanes=0),Fi|=g,t.lanes=g,t.memoizedState=V}}function ig(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function ag(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ig(r[t],n)}function Ds(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var d=r.create,g=r.inst;l=d(),g.destroy=l}r=r.next}while(r!==c)}}catch(_){Ye(n,n.return,_)}}function ji(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&t)===t){var g=l.inst,_=g.destroy;if(_!==void 0){g.destroy=void 0,c=n;var b=r;try{_()}catch(R){Ye(c,b,R)}}}l=l.next}while(l!==d)}}catch(R){Ye(n,n.return,R)}}function rg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{ag(n,r)}catch(l){Ye(t,t.return,l)}}}function sg(t,n,r){r.props=Na(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ye(t,n,l)}}function Ma(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(d){Ye(t,n,d)}}function en(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Ye(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Ye(t,n,c)}else r.current=null}function lg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Ye(t,t.return,c)}}function og(t,n,r){try{var l=t.stateNode;N0(l,t.type,r,n),l[de]=n}catch(c){Ye(t,t.return,c)}}function ug(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function ff(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ug(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function df(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ko));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(df(t,n,r),t=t.sibling;t!==null;)df(t,n,r),t=t.sibling}function To(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(To(t,n,r),t=t.sibling;t!==null;)To(t,n,r),t=t.sibling}var hi=!1,lt=!1,hf=!1,cg=typeof WeakSet=="function"?WeakSet:Set,wt=null,fg=!1;function a0(t,n){if(t=t.containerInfo,jf=qo,t=Nm(t),mc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var g=0,_=-1,b=-1,R=0,k=0,V=t,I=null;t:for(;;){for(var U;V!==r||c!==0&&V.nodeType!==3||(_=g+c),V!==d||l!==0&&V.nodeType!==3||(b=g+l),V.nodeType===3&&(g+=V.nodeValue.length),(U=V.firstChild)!==null;)I=V,V=U;for(;;){if(V===t)break t;if(I===r&&++R===c&&(_=g),I===d&&++k===l&&(b=g),(U=V.nextSibling)!==null)break;V=I,I=V.parentNode}V=U}r=_===-1||b===-1?null:{start:_,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vf={focusedElem:t,selectionRange:r},qo=!1,wt=n;wt!==null;)if(n=wt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,wt=t;else for(;wt!==null;){switch(n=wt,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&d!==null){t=void 0,r=n,c=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var le=Na(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(le,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){Ye(r,r.return,Ee)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Yf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Yf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,wt=t;break}wt=n.return}return le=fg,fg=!1,le}function dg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:pi(t,r),l&4&&Ds(5,r);break;case 1:if(pi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(_){Ye(r,r.return,_)}else{var c=Na(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(r,r.return,_)}}l&64&&rg(r),l&512&&Ma(r,r.return);break;case 3:if(pi(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{ag(l,t)}catch(_){Ye(r,r.return,_)}}break;case 26:pi(t,r),l&512&&Ma(r,r.return);break;case 27:case 5:pi(t,r),n===null&&l&4&&lg(r),l&512&&Ma(r,r.return);break;case 12:pi(t,r);break;case 13:pi(t,r),l&4&&pg(t,r);break;case 22:if(c=r.memoizedState!==null||hi,!c){n=n!==null&&n.memoizedState!==null||lt;var d=hi,g=lt;hi=c,(lt=n)&&!g?Vi(t,r,(r.subtreeFlags&8772)!==0):pi(t,r),hi=d,lt=g}l&512&&(r.memoizedProps.mode==="manual"?Ma(r,r.return):en(r,r.return));break;default:pi(t,r)}}function hg(t){var n=t.alternate;n!==null&&(t.alternate=null,hg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ni(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,tn=!1;function mi(t,n,r){for(r=r.child;r!==null;)mg(t,n,r),r=r.sibling}function mg(t,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Oi,r)}catch{}switch(r.tag){case 26:lt||en(r,n),mi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:lt||en(r,n);var l=pt,c=tn;for(pt=r.stateNode,mi(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);ni(r),pt=l,tn=c;break;case 5:lt||en(r,n);case 6:c=pt;var d=tn;if(pt=null,mi(t,n,r),pt=c,tn=d,pt!==null)if(tn)try{t=pt,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(g){Ye(r,n,g)}else try{pt.removeChild(r.stateNode)}catch(g){Ye(r,n,g)}break;case 18:pt!==null&&(tn?(n=pt,r=r.stateNode,n.nodeType===8?Ff(n.parentNode,r):n.nodeType===1&&Ff(n,r),Qs(n)):Ff(pt,r.stateNode));break;case 4:l=pt,c=tn,pt=r.stateNode.containerInfo,tn=!0,mi(t,n,r),pt=l,tn=c;break;case 0:case 11:case 14:case 15:lt||ji(2,r,n),lt||ji(4,r,n),mi(t,n,r);break;case 1:lt||(en(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&sg(r,n,l)),mi(t,n,r);break;case 21:mi(t,n,r);break;case 22:lt||en(r,n),lt=(l=lt)||r.memoizedState!==null,mi(t,n,r),lt=l;break;default:mi(t,n,r)}}function pg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qs(t)}catch(r){Ye(n,n.return,r)}}function r0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new cg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new cg),n;default:throw Error(s(435,t.tag))}}function mf(t,n){var r=r0(t);n.forEach(function(l){var c=y0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function vn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],d=t,g=n,_=g;e:for(;_!==null;){switch(_.tag){case 27:case 5:pt=_.stateNode,tn=!1;break e;case 3:pt=_.stateNode.containerInfo,tn=!0;break e;case 4:pt=_.stateNode.containerInfo,tn=!0;break e}_=_.return}if(pt===null)throw Error(s(160));mg(d,g,c),pt=null,tn=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)gg(n,t),n=n.sibling}var On=null;function gg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(n,t),En(t),l&4&&(ji(3,t,t.return),Ds(3,t),ji(5,t,t.return));break;case 1:vn(n,t),En(t),l&512&&(lt||r===null||en(r,r.return)),l&64&&hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=On;if(vn(n,t),En(t),l&512&&(lt||r===null||en(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":d=c.getElementsByTagName("title")[0],(!d||d[cn]||d[re]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(l),c.head.insertBefore(d,c.querySelector("head > title"))),kt(d,l,r),d[re]=t,Xe(d),l=d;break e;case"link":var g=l_("link","href",c).get(l+(r.href||""));if(g){for(var _=0;_<g.length;_++)if(d=g[_],d.getAttribute("href")===(r.href==null?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(_,1);break t}}d=c.createElement(l),kt(d,l,r),c.head.appendChild(d);break;case"meta":if(g=l_("meta","content",c).get(l+(r.content||""))){for(_=0;_<g.length;_++)if(d=g[_],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(_,1);break t}}d=c.createElement(l),kt(d,l,r),c.head.appendChild(d);break;default:throw Error(s(468,l))}d[re]=t,Xe(d),l=d}t.stateNode=l}else o_(c,t.type,t.stateNode);else t.stateNode=s_(c,l,t.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?o_(c,t.type,t.stateNode):s_(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&og(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,d=t.memoizedProps;try{for(var b=c.firstChild;b;){var R=b.nextSibling,k=b.nodeName;b[cn]||k==="HEAD"||k==="BODY"||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=R}for(var V=t.type,I=c.attributes;I.length;)c.removeAttributeNode(I[0]);kt(c,V,d),c[re]=t,c[de]=d}catch(le){Ye(t,t.return,le)}}case 5:if(vn(n,t),En(t),l&512&&(lt||r===null||en(r,r.return)),t.flags&32){c=t.stateNode;try{sr(c,"")}catch(le){Ye(t,t.return,le)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,og(t,c,r!==null?r.memoizedProps:c)),l&1024&&(hf=!0);break;case 6:if(vn(n,t),En(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(le){Ye(t,t.return,le)}}break;case 3:if(Bo=null,c=On,On=Ho(n.containerInfo),vn(n,t),On=c,En(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Qs(n.containerInfo)}catch(le){Ye(t,t.return,le)}hf&&(hf=!1,_g(t));break;case 4:l=On,On=Ho(t.stateNode.containerInfo),vn(n,t),En(t),On=l;break;case 12:vn(n,t),En(t);break;case 13:vn(n,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Tf=Zt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,mf(t,l)));break;case 22:if(l&512&&(lt||r===null||en(r,r.return)),b=t.memoizedState!==null,R=r!==null&&r.memoizedState!==null,k=hi,V=lt,hi=k||b,lt=V||R,vn(n,t),lt=V,hi=k,En(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=b?n._visibility&-2:n._visibility|1,b&&(n=hi||lt,r===null||R||n||Tr(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){R=r=n;try{if(c=R.stateNode,b)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{g=R.stateNode,_=R.memoizedProps.style;var U=_!=null&&_.hasOwnProperty("display")?_.display:null;g.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(le){Ye(R,R.return,le)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=b?"":R.memoizedProps}catch(le){Ye(R,R.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,mf(t,r))));break;case 19:vn(n,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,mf(t,l)));break;case 21:break;default:vn(n,t),En(t)}}function En(t){var n=t.flags;if(n&2){try{if(t.tag!==27){e:{for(var r=t.return;r!==null;){if(ug(r)){var l=r;break e}r=r.return}throw Error(s(160))}switch(l.tag){case 27:var c=l.stateNode,d=ff(t);To(t,d,c);break;case 5:var g=l.stateNode;l.flags&32&&(sr(g,""),l.flags&=-33);var _=ff(t);To(t,_,g);break;case 3:case 4:var b=l.stateNode.containerInfo,R=ff(t);df(t,R,b);break;default:throw Error(s(161))}}}catch(k){Ye(t,t.return,k)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function _g(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;_g(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function pi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dg(t,n.alternate,n),n=n.sibling}function Tr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ji(4,n,n.return),Tr(n);break;case 1:en(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&sg(n,n.return,r),Tr(n);break;case 26:case 27:case 5:en(n,n.return),Tr(n);break;case 22:en(n,n.return),n.memoizedState===null&&Tr(n);break;default:Tr(n)}t=t.sibling}}function Vi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,d=n,g=d.flags;switch(d.tag){case 0:case 11:case 15:Vi(c,d,r),Ds(4,d);break;case 1:if(Vi(c,d,r),l=d,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(R){Ye(l,l.return,R)}if(l=d,c=l.updateQueue,c!==null){var _=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)ig(b[c],_)}catch(R){Ye(l,l.return,R)}}r&&g&64&&rg(d),Ma(d,d.return);break;case 26:case 27:case 5:Vi(c,d,r),r&&l===null&&g&4&&lg(d),Ma(d,d.return);break;case 12:Vi(c,d,r);break;case 13:Vi(c,d,r),r&&g&4&&pg(c,d);break;case 22:d.memoizedState===null&&Vi(c,d,r),Ma(d,d.return);break;default:Vi(c,d,r)}n=n.sibling}}function pf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&vs(r))}function gf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&vs(t))}function qi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yg(t,n,r,l),n=n.sibling}function yg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:qi(t,n,r,l),c&2048&&Ds(9,n);break;case 3:qi(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&vs(t)));break;case 12:if(c&2048){qi(t,n,r,l),t=n.stateNode;try{var d=n.memoizedProps,g=d.id,_=d.onPostCommit;typeof _=="function"&&_(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Ye(n,n.return,b)}}else qi(t,n,r,l);break;case 23:break;case 22:d=n.stateNode,n.memoizedState!==null?d._visibility&4?qi(t,n,r,l):Os(t,n):d._visibility&4?qi(t,n,r,l):(d._visibility|=4,Cr(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&pf(n.alternate,n);break;case 24:qi(t,n,r,l),c&2048&&gf(n.alternate,n);break;default:qi(t,n,r,l)}}function Cr(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,g=n,_=r,b=l,R=g.flags;switch(g.tag){case 0:case 11:case 15:Cr(d,g,_,b,c),Ds(8,g);break;case 23:break;case 22:var k=g.stateNode;g.memoizedState!==null?k._visibility&4?Cr(d,g,_,b,c):Os(d,g):(k._visibility|=4,Cr(d,g,_,b,c)),c&&R&2048&&pf(g.alternate,g);break;case 24:Cr(d,g,_,b,c),c&&R&2048&&gf(g.alternate,g);break;default:Cr(d,g,_,b,c)}n=n.sibling}}function Os(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Os(r,l),c&2048&&pf(l.alternate,l);break;case 24:Os(r,l),c&2048&&gf(l.alternate,l);break;default:Os(r,l)}n=n.sibling}}var Ms=8192;function wr(t){if(t.subtreeFlags&Ms)for(t=t.child;t!==null;)vg(t),t=t.sibling}function vg(t){switch(t.tag){case 26:wr(t),t.flags&Ms&&t.memoizedState!==null&&Q0(On,t.memoizedState,t.memoizedProps);break;case 5:wr(t);break;case 3:case 4:var n=On;On=Ho(t.stateNode.containerInfo),wr(t),On=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Ms,Ms=16777216,wr(t),Ms=n):wr(t));break;default:wr(t)}}function Eg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function xs(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];wt=l,Sg(l,t)}Eg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)bg(t),t=t.sibling}function bg(t){switch(t.tag){case 0:case 11:case 15:xs(t),t.flags&2048&&ji(9,t,t.return);break;case 3:xs(t);break;case 12:xs(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Co(t)):xs(t);break;default:xs(t)}}function Co(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];wt=l,Sg(l,t)}Eg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ji(8,n,n.return),Co(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,Co(n));break;default:Co(n)}t=t.sibling}}function Sg(t,n){for(;wt!==null;){var r=wt;switch(r.tag){case 0:case 11:case 15:ji(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vs(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,wt=l;else e:for(r=t;wt!==null;){l=wt;var c=l.sibling,d=l.return;if(hg(l),l===r){wt=null;break e}if(c!==null){c.return=d,wt=c;break e}wt=d}}}function s0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,n,r,l){return new s0(t,n,r,l)}function _f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gi(t,n){var r=t.alternate;return r===null?(r=bn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Tg(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function wo(t,n,r,l,c,d){var g=0;if(l=t,typeof t=="function")_f(t)&&(g=1);else if(typeof t=="string")g=F0(t,r,Mt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case m:return xa(r.children,c,d,n);case p:g=8,c|=24;break;case y:return t=bn(12,r,n,c|2),t.elementType=y,t.lanes=d,t;case H:return t=bn(13,r,n,c),t.elementType=H,t.lanes=d,t;case z:return t=bn(19,r,n,c),t.elementType=z,t.lanes=d,t;case Z:return Cg(r,c,d,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case v:case S:g=10;break e;case E:g=9;break e;case A:g=11;break e;case P:g=14;break e;case F:g=16,l=null;break e}g=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=bn(g,r,n,c),n.elementType=t,n.type=l,n.lanes=d,n}function xa(t,n,r,l){return t=bn(7,t,l,n),t.lanes=r,t}function Cg(t,n,r,l){t=bn(22,t,l,n),t.elementType=Z,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=c._current;if(d===null)throw Error(s(456));if(!(c._pendingVisibility&2)){var g=xi(d,2);g!==null&&(c._pendingVisibility|=2,qt(g,d,2))}},attach:function(){var d=c._current;if(d===null)throw Error(s(456));if(c._pendingVisibility&2){var g=xi(d,2);g!==null&&(c._pendingVisibility&=-3,qt(g,d,2))}}};return t.stateNode=c,t}function yf(t,n,r){return t=bn(6,t,null,n),t.lanes=r,t}function vf(t,n,r){return n=bn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function gi(t){t.flags|=4}function wg(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!u_(n)){if(n=yn.current,n!==null&&((Le&4194176)===Le?Gn!==null:(Le&62914560)!==Le&&!(Le&536870912)||n!==Gn))throw gs=Tc,Vm;t.flags|=8192}}function Ro(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?C():536870912,t.lanes|=n,Ar|=n)}function Is(t,n){if(!ke)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function l0(t,n,r){var l=n.pendingProps;switch(bc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),di(Et),Di(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ds(n)?gi(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Dn!==null&&(Af(Dn),Dn=null))),it(n),null;case 26:return r=n.memoizedState,t===null?(gi(n),r!==null?(it(n),wg(n,r)):(it(n),n.flags&=-16777217)):r?r!==t.memoizedState?(gi(n),it(n),wg(n,r)):(it(n),n.flags&=-16777217):(t.memoizedProps!==l&&gi(n),it(n),n.flags&=-16777217),null;case 27:nr(n),r=Pn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&gi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return it(n),null}t=Mt.current,ds(n)?Bm(n):(t=t_(c,l,r),n.stateNode=t,gi(n))}return it(n),null;case 5:if(nr(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&gi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return it(n),null}if(t=Mt.current,ds(n))Bm(n);else{switch(c=zo(Pn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[re]=n,t[de]=l;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;e:switch(kt(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&gi(n)}}return it(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&gi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Pn.current,ds(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Vt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[re]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Kg(t.nodeValue,r)),t||Sa(n)}else t=zo(t).createTextNode(l),t[re]=n,n.stateNode=t}return it(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ds(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[re]=n}else hs(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;it(n),c=!1}else Dn!==null&&(Af(Dn),Dn=null),c=!0;if(!c)return n.flags&256?(oi(n),n):(oi(n),null)}if(oi(n),n.flags&128)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Ro(n,n.updateQueue),it(n),null;case 4:return Di(),t===null&&Hf(n.stateNode.containerInfo),it(n),null;case 10:return di(n.type),it(n),null;case 19:if(rt(vt),c=n.memoizedState,c===null)return it(n),null;if(l=(n.flags&128)!==0,d=c.rendering,d===null)if(l)Is(c,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(d=oo(t),d!==null){for(n.flags|=128,Is(c,!1),t=d.updateQueue,n.updateQueue=t,Ro(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Tg(r,t),r=r.sibling;return Ce(vt,vt.current&1|2),n.child}t=t.sibling}c.tail!==null&&Zt()>Ao&&(n.flags|=128,l=!0,Is(c,!1),n.lanes=4194304)}else{if(!l)if(t=oo(d),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Ro(n,t),Is(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!ke)return it(n),null}else 2*Zt()-c.renderingStartTime>Ao&&r!==536870912&&(n.flags|=128,l=!0,Is(c,!1),n.lanes=4194304);c.isBackwards?(d.sibling=n.child,n.child=d):(t=c.last,t!==null?t.sibling=d:n.child=d,c.last=d)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Zt(),n.sibling=null,t=vt.current,Ce(vt,l?t&1|2:t&1),n):(it(n),null);case 22:case 23:return oi(n),wc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?r&536870912&&!(n.flags&128)&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),r=n.updateQueue,r!==null&&Ro(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&rt(Ca),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),di(Et),it(n),null;case 25:return null}throw Error(s(156,n.tag))}function o0(t,n){switch(bc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return di(Et),Di(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return nr(n),null;case 13:if(oi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));hs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return rt(vt),null;case 4:return Di(),null;case 10:return di(n.type),null;case 22:case 23:return oi(n),wc(),t!==null&&rt(Ca),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return di(Et),null;case 25:return null;default:return null}}function Rg(t,n){switch(bc(n),n.tag){case 3:di(Et),Di();break;case 26:case 27:case 5:nr(n);break;case 4:Di();break;case 13:oi(n);break;case 19:rt(vt);break;case 10:di(n.type);break;case 22:case 23:oi(n),wc(),t!==null&&rt(Ca);break;case 24:di(Et)}}var u0={getCacheForType:function(t){var n=Pt(Et),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},c0=typeof WeakMap=="function"?WeakMap:Map,at=0,Ke=null,Ne=null,Le=0,$e=0,nn=null,_i=!1,Rr=!1,Ef=!1,yi=0,ot=0,Fi=0,Ia=0,bf=0,Sn=0,Ar=0,Ls=null,Yn=null,Sf=!1,Tf=0,Ao=1/0,No=null,Yi=null,Do=!1,La=null,Us=0,Cf=0,wf=null,ks=0,Rf=null;function an(){if(at&2&&Le!==0)return Le&-Le;if(Y.T!==null){var t=yr;return t!==0?t:Lf()}return te()}function Ag(){Sn===0&&(Sn=!(Le&536870912)||ke?jl():536870912);var t=yn.current;return t!==null&&(t.flags|=32),Sn}function qt(t,n,r){(t===Ke&&$e===2||t.cancelPendingCommit!==null)&&(Nr(t,0),vi(t,Le,Sn,!1)),L(t,r),(!(at&2)||t!==Ke)&&(t===Ke&&(!(at&2)&&(Ia|=r),ot===4&&vi(t,Le,Sn,!1)),Qn(t))}function Ng(t,n,r){if(at&6)throw Error(s(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Vn(t,n),c=l?h0(t,n):Of(t,n,!0),d=l;do{if(c===0){Rr&&!l&&vi(t,n,0,!1);break}else if(c===6)vi(t,n,0,!_i);else{if(r=t.current.alternate,d&&!f0(r)){c=Of(t,n,!1),d=!1;continue}if(c===2){if(d=n,t.errorRecoveryDisabledLanes&d)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var _=t;c=Ls;var b=_.current.memoizedState.isDehydrated;if(b&&(Nr(_,g).flags|=256),g=Of(_,g,!1),g!==2){if(Ef&&!b){_.errorRecoveryDisabledLanes|=d,Ia|=d,c=4;break e}d=Yn,Yn=c,d!==null&&Af(d)}c=g}if(d=!1,c!==2)continue}}if(c===1){Nr(t,0),vi(t,n,0,!0);break}e:{switch(l=t,c){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){vi(l,n,Sn,!_i);break e}break;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(d=Tf+300-Zt(),10<d)){if(vi(l,n,Sn,!_i),ti(l,0)!==0)break e;l.timeoutHandle=Zg(Dg.bind(null,l,r,Yn,No,Sf,n,Sn,Ia,Ar,_i,2,-0,0),d);break e}Dg(l,r,Yn,No,Sf,n,Sn,Ia,Ar,_i,0,-0,0)}}break}while(!0);Qn(t)}function Af(t){Yn===null?Yn=t:Yn.push.apply(Yn,t)}function Dg(t,n,r,l,c,d,g,_,b,R,k,V,I){var U=n.subtreeFlags;if((U&8192||(U&16785408)===16785408)&&(Vs={stylesheets:null,count:0,unsuspend:Y0},vg(n),n=X0(),n!==null)){t.cancelPendingCommit=n(kg.bind(null,t,r,l,c,g,_,b,1,V,I)),vi(t,d,g,!R);return}kg(t,r,l,c,g,_,b,k,V,I)}function f0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],d=c.getSnapshot;c=c.value;try{if(!Jt(d(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function vi(t,n,r,l){n&=~bf,n&=~Ia,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var d=31-Tt(c),g=1<<d;l[d]=-1,c&=~g}r!==0&&J(t,r,n)}function Oo(){return at&6?!0:(zs(0),!1)}function Nf(){if(Ne!==null){if($e===0)var t=Ne.return;else t=Ne,fi=Da=null,Ic(t),gr=null,_s=0,t=Ne;for(;t!==null;)Rg(t.alternate,t),t=t.return;Ne=null}}function Nr(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,O0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Nf(),Ke=t,Ne=r=Gi(t.current,null),Le=n,$e=0,nn=null,_i=!1,Rr=Vn(t,n),Ef=!1,Ar=Sn=bf=Ia=Fi=ot=0,Yn=Ls=null,Sf=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Tt(l),d=1<<c;n|=t[c],l&=~d}return yi=n,Jl(),r}function Og(t,n){we=null,Y.H=Fn,n===ps?(n=Fm(),$e=3):n===Vm?(n=Fm(),$e=4):$e=n===qp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,nn=n,Ne===null&&(ot=1,Eo(t,pn(n,t.current)))}function Mg(){var t=Y.H;return Y.H=Fn,t===null?Fn:t}function xg(){var t=Y.A;return Y.A=u0,t}function Df(){ot=4,_i||(Le&4194176)!==Le&&yn.current!==null||(Rr=!0),!(Fi&134217727)&&!(Ia&134217727)||Ke===null||vi(Ke,Le,Sn,!1)}function Of(t,n,r){var l=at;at|=2;var c=Mg(),d=xg();(Ke!==t||Le!==n)&&(No=null,Nr(t,n)),n=!1;var g=ot;e:do try{if($e!==0&&Ne!==null){var _=Ne,b=nn;switch($e){case 8:Nf(),g=6;break e;case 3:case 2:case 6:yn.current===null&&(n=!0);var R=$e;if($e=0,nn=null,Dr(t,_,b,R),r&&Rr){g=0;break e}break;default:R=$e,$e=0,nn=null,Dr(t,_,b,R)}}d0(),g=ot;break}catch(k){Og(t,k)}while(!0);return n&&t.shellSuspendCounter++,fi=Da=null,at=l,Y.H=c,Y.A=d,Ne===null&&(Ke=null,Le=0,Jl()),g}function d0(){for(;Ne!==null;)Ig(Ne)}function h0(t,n){var r=at;at|=2;var l=Mg(),c=xg();Ke!==t||Le!==n?(No=null,Ao=Zt()+500,Nr(t,n)):Rr=Vn(t,n);e:do try{if($e!==0&&Ne!==null){n=Ne;var d=nn;t:switch($e){case 1:$e=0,nn=null,Dr(t,n,d,1);break;case 2:if(qm(d)){$e=0,nn=null,Lg(n);break}n=function(){$e===2&&Ke===t&&($e=7),Qn(t)},d.then(n,n);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:qm(d)?($e=0,nn=null,Lg(n)):($e=0,nn=null,Dr(t,n,d,7));break;case 5:var g=null;switch(Ne.tag){case 26:g=Ne.memoizedState;case 5:case 27:var _=Ne;if(!g||u_(g)){$e=0,nn=null;var b=_.sibling;if(b!==null)Ne=b;else{var R=_.return;R!==null?(Ne=R,Mo(R)):Ne=null}break t}}$e=0,nn=null,Dr(t,n,d,5);break;case 6:$e=0,nn=null,Dr(t,n,d,6);break;case 8:Nf(),ot=6;break e;default:throw Error(s(462))}}m0();break}catch(k){Og(t,k)}while(!0);return fi=Da=null,Y.H=l,Y.A=c,at=r,Ne!==null?0:(Ke=null,Le=0,Jl(),ot)}function m0(){for(;Ne!==null&&!ei();)Ig(Ne)}function Ig(t){var n=tg(t.alternate,t,yi);t.memoizedProps=t.pendingProps,n===null?Mo(t):Ne=n}function Lg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Kp(r,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=Kp(r,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:Ic(n);default:Rg(r,n),n=Ne=Tg(n,yi),n=tg(r,n,yi)}t.memoizedProps=t.pendingProps,n===null?Mo(t):Ne=n}function Dr(t,n,r,l){fi=Da=null,Ic(n),gr=null,_s=0;var c=n.return;try{if(n0(t,c,n,r,Le)){ot=1,Eo(t,pn(r,t.current)),Ne=null;return}}catch(d){if(c!==null)throw Ne=c,d;ot=1,Eo(t,pn(r,t.current)),Ne=null;return}n.flags&32768?(ke||l===1?t=!0:Rr||Le&536870912?t=!1:(_i=t=!0,(l===2||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ug(n,t)):Mo(n)}function Mo(t){var n=t;do{if(n.flags&32768){Ug(n,_i);return}t=n.return;var r=l0(n.alternate,n,yi);if(r!==null){Ne=r;return}if(n=n.sibling,n!==null){Ne=n;return}Ne=n=t}while(n!==null);ot===0&&(ot=5)}function Ug(t,n){do{var r=o0(t.alternate,t);if(r!==null){r.flags&=32767,Ne=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=r}while(t!==null);ot=6,Ne=null}function kg(t,n,r,l,c,d,g,_,b,R){var k=Y.T,V=$.p;try{$.p=2,Y.T=null,p0(t,n,r,l,V,c,d,g,_,b,R)}finally{Y.T=k,$.p=V}}function p0(t,n,r,l,c,d,g,_){do Or();while(La!==null);if(at&6)throw Error(s(327));var b=t.finishedWork;if(l=t.finishedLanes,b===null)return null;if(t.finishedWork=null,t.finishedLanes=0,b===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var R=b.lanes|b.childLanes;if(R|=yc,q(t,l,R,d,g,_),t===Ke&&(Ne=Ke=null,Le=0),!(b.subtreeFlags&10256)&&!(b.flags&10256)||Do||(Do=!0,Cf=R,wf=r,v0(da,function(){return Or(),null})),r=(b.flags&15990)!==0,b.subtreeFlags&15990||r?(r=Y.T,Y.T=null,d=$.p,$.p=2,g=at,at|=4,a0(t,b),gg(b,t),PS(Vf,t.containerInfo),qo=!!jf,Vf=jf=null,t.current=b,dg(t,b.alternate,b),fa(),at=g,$.p=d,Y.T=r):t.current=b,Do?(Do=!1,La=t,Us=l):zg(t,R),R=t.pendingLanes,R===0&&(Yi=null),$u(b.stateNode),Qn(t),n!==null)for(c=t.onRecoverableError,b=0;b<n.length;b++)R=n[b],c(R.value,{componentStack:R.stack});return Us&3&&Or(),R=t.pendingLanes,l&4194218&&R&42?t===Rf?ks++:(ks=0,Rf=t):ks=0,zs(0),null}function zg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,vs(n)))}function Or(){if(La!==null){var t=La,n=Cf;Cf=0;var r=ve(Us),l=Y.T,c=$.p;try{if($.p=32>r?32:r,Y.T=null,La===null)var d=!1;else{r=wf,wf=null;var g=La,_=Us;if(La=null,Us=0,at&6)throw Error(s(331));var b=at;if(at|=4,bg(g.current),yg(g,g.current,_,r),at=b,zs(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Oi,g)}catch{}d=!0}return d}finally{$.p=c,Y.T=l,zg(t,n)}}return!1}function Hg(t,n,r){n=pn(r,n),n=Qc(t.stateNode,n,2),t=Bi(t,n,2),t!==null&&(L(t,2),Qn(t))}function Ye(t,n,r){if(t.tag===3)Hg(t,t,r);else for(;n!==null;){if(n.tag===3){Hg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Yi===null||!Yi.has(l))){t=pn(r,t),r=jp(2),l=Bi(n,r,2),l!==null&&(Vp(r,l,n,t),L(l,2),Qn(l));break}}n=n.return}}function Mf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new c0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Ef=!0,c.add(r),t=g0.bind(null,t,n,r),n.then(t,t))}function g0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Ke===t&&(Le&r)===r&&(ot===4||ot===3&&(Le&62914560)===Le&&300>Zt()-Tf?!(at&2)&&Nr(t,0):bf|=r,Ar===Le&&(Ar=0)),Qn(t)}function Pg(t,n){n===0&&(n=C()),t=xi(t,n),t!==null&&(L(t,n),Qn(t))}function _0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Pg(t,r)}function y0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Pg(t,r)}function v0(t,n){return Zr(t,n)}var xo=null,Mr=null,xf=!1,Io=!1,If=!1,Ua=0;function Qn(t){t!==Mr&&t.next===null&&(Mr===null?xo=Mr=t:Mr=Mr.next=t),Io=!0,xf||(xf=!0,b0(E0))}function zs(t,n){if(!If&&Io){If=!0;do for(var r=!1,l=xo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var d=0;else{var g=l.suspendedLanes,_=l.pingedLanes;d=(1<<31-Tt(42|t)+1)-1,d&=c&~(g&~_),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(r=!0,Vg(l,d))}else d=Le,d=ti(l,l===Ke?d:0),!(d&3)||Vn(l,d)||(r=!0,Vg(l,d));l=l.next}while(r);If=!1}}function E0(){Io=xf=!1;var t=0;Ua!==0&&(D0()&&(t=Ua),Ua=0);for(var n=Zt(),r=null,l=xo;l!==null;){var c=l.next,d=Bg(l,n);d===0?(l.next=null,r===null?xo=c:r.next=c,c===null&&(Mr=r)):(r=l,(t!==0||d&3)&&(Io=!0)),l=c}zs(t)}function Bg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var g=31-Tt(d),_=1<<g,b=c[g];b===-1?(!(_&r)||_&l)&&(c[g]=Zu(_,n)):b<=n&&(t.expiredLanes|=_),d&=~_}if(n=Ke,r=Le,r=ti(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&$e===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Jr(l),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||Vn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Jr(l),ve(r)){case 2:case 8:r=un;break;case 32:r=da;break;case 268435456:r=Hl;break;default:r=da}return l=jg.bind(null,t),r=Zr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Jr(l),t.callbackPriority=2,t.callbackNode=null,2}function jg(t,n){var r=t.callbackNode;if(Or()&&t.callbackNode!==r)return null;var l=Le;return l=ti(t,t===Ke?l:0),l===0?null:(Ng(t,l,n),Bg(t,Zt()),t.callbackNode!=null&&t.callbackNode===r?jg.bind(null,t):null)}function Vg(t,n){if(Or())return null;Ng(t,n,!0)}function b0(t){M0(function(){at&6?Zr(Rn,t):t()})}function Lf(){return Ua===0&&(Ua=jl()),Ua}function qg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Yl(""+t)}function Gg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function S0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var d=qg((c[de]||null).action),g=l.submitter;g&&(n=(n=g[de]||null)?qg(n.formAction):g.getAttribute("formAction"),n!==null&&(d=n,g=null));var _=new $l("action","action",null,l,c);t.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ua!==0){var b=g?Gg(c,g):new FormData(c);Vc(r,{pending:!0,data:b,method:c.method,action:d},null,b)}}else typeof d=="function"&&(_.preventDefault(),b=g?Gg(c,g):new FormData(c),Vc(r,{pending:!0,data:b,method:c.method,action:d},d,b))},currentTarget:c}]})}}for(var Uf=0;Uf<km.length;Uf++){var kf=km[Uf],T0=kf.toLowerCase(),C0=kf[0].toUpperCase()+kf.slice(1);Nn(T0,"on"+C0)}Nn(Mm,"onAnimationEnd"),Nn(xm,"onAnimationIteration"),Nn(Im,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(jS,"onTransitionRun"),Nn(VS,"onTransitionStart"),Nn(qS,"onTransitionCancel"),Nn(Lm,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),Ie("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ie("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ie("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ie("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ie("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ie("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hs));function Fg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var g=l.length-1;0<=g;g--){var _=l[g],b=_.instance,R=_.currentTarget;if(_=_.listener,b!==d&&c.isPropagationStopped())break e;d=_,c.currentTarget=R;try{d(c)}catch(k){vo(k)}c.currentTarget=null,d=b}else for(g=0;g<l.length;g++){if(_=l[g],b=_.instance,R=_.currentTarget,_=_.listener,b!==d&&c.isPropagationStopped())break e;d=_,c.currentTarget=R;try{d(c)}catch(k){vo(k)}c.currentTarget=null,d=b}}}}function Me(t,n){var r=n[ft];r===void 0&&(r=n[ft]=new Set);var l=t+"__bubble";r.has(l)||(Yg(n,t,2,!1),r.add(l))}function zf(t,n,r){var l=0;n&&(l|=4),Yg(r,t,l,n)}var Lo="_reactListening"+Math.random().toString(36).slice(2);function Hf(t){if(!t[Lo]){t[Lo]=!0,ma.forEach(function(r){r!=="selectionchange"&&(w0.has(r)||zf(r,!1,t),zf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Lo]||(n[Lo]=!0,zf("selectionchange",!1,n))}}function Yg(t,n,r,l){switch(p_(n)){case 2:var c=W0;break;case 8:c=Z0;break;default:c=Wf}r=c.bind(null,n,r,t),c=void 0,!rc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Pf(t,n,r,l,c){var d=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var _=l.stateNode.containerInfo;if(_===c||_.nodeType===8&&_.parentNode===c)break;if(g===4)for(g=l.return;g!==null;){var b=g.tag;if((b===3||b===4)&&(b=g.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;g=g.return}for(;_!==null;){if(g=xt(_),g===null)return;if(b=g.tag,b===5||b===6||b===26||b===27){l=d=g;continue e}_=_.parentNode}}l=l.return}lm(function(){var R=d,k=ic(r),V=[];e:{var I=Um.get(t);if(I!==void 0){var U=$l,le=t;switch(t){case"keypress":if(Xl(r)===0)break e;case"keydown":case"keyup":U=yS;break;case"focusin":le="focus",U=uc;break;case"focusout":le="blur",U=uc;break;case"beforeblur":case"afterblur":U=uc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=cm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=sS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=bS;break;case Mm:case xm:case Im:U=uS;break;case Lm:U=TS;break;case"scroll":case"scrollend":U=aS;break;case"wheel":U=wS;break;case"copy":case"cut":case"paste":U=fS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=dm;break;case"toggle":case"beforetoggle":U=AS}var Ee=(n&4)!==0,ut=!Ee&&(t==="scroll"||t==="scrollend"),N=Ee?I!==null?I+"Capture":null:I;Ee=[];for(var w=R,x;w!==null;){var B=w;if(x=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||x===null||N===null||(B=is(w,N),B!=null&&Ee.push(Ps(w,B,x))),ut)break;w=w.return}0<Ee.length&&(I=new U(I,le,null,r,k),V.push({event:I,listeners:Ee}))}}if(!(n&7)){e:{if(I=t==="mouseover"||t==="pointerover",U=t==="mouseout"||t==="pointerout",I&&r!==nc&&(le=r.relatedTarget||r.fromElement)&&(xt(le)||le[Be]))break e;if((U||I)&&(I=k.window===k?k:(I=k.ownerDocument)?I.defaultView||I.parentWindow:window,U?(le=r.relatedTarget||r.toElement,U=R,le=le?xt(le):null,le!==null&&(ut=ue(le),Ee=le.tag,le!==ut||Ee!==5&&Ee!==27&&Ee!==6)&&(le=null)):(U=null,le=R),U!==le)){if(Ee=cm,B="onMouseLeave",N="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=dm,B="onPointerLeave",N="onPointerEnter",w="pointer"),ut=U==null?I:ii(U),x=le==null?I:ii(le),I=new Ee(B,w+"leave",U,r,k),I.target=ut,I.relatedTarget=x,B=null,xt(k)===R&&(Ee=new Ee(N,w+"enter",le,r,k),Ee.target=x,Ee.relatedTarget=ut,B=Ee),ut=B,U&&le)t:{for(Ee=U,N=le,w=0,x=Ee;x;x=xr(x))w++;for(x=0,B=N;B;B=xr(B))x++;for(;0<w-x;)Ee=xr(Ee),w--;for(;0<x-w;)N=xr(N),x--;for(;w--;){if(Ee===N||N!==null&&Ee===N.alternate)break t;Ee=xr(Ee),N=xr(N)}Ee=null}else Ee=null;U!==null&&Qg(V,I,U,Ee,!1),le!==null&&ut!==null&&Qg(V,ut,le,Ee,!0)}}e:{if(I=R?ii(R):window,U=I.nodeName&&I.nodeName.toLowerCase(),U==="select"||U==="input"&&I.type==="file")var ne=Em;else if(ym(I))if(bm)ne=zS;else{ne=US;var Re=LS}else U=I.nodeName,!U||U.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?R&&tc(R.elementType)&&(ne=Em):ne=kS;if(ne&&(ne=ne(t,R))){vm(V,ne,r,k);break e}Re&&Re(t,I,R),t==="focusout"&&R&&I.type==="number"&&R.memoizedProps.value!=null&&ec(I,"number",I.value)}switch(Re=R?ii(R):window,t){case"focusin":(ym(Re)||Re.contentEditable==="true")&&(cr=Re,pc=R,fs=null);break;case"focusout":fs=pc=cr=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,Dm(V,r,k);break;case"selectionchange":if(BS)break;case"keydown":case"keyup":Dm(V,r,k)}var fe;if(fc)e:{switch(t){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else ur?gm(t,r)&&(me="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(me="onCompositionStart");me&&(hm&&r.locale!=="ko"&&(ur||me!=="onCompositionStart"?me==="onCompositionEnd"&&ur&&(fe=om()):(Mi=k,sc="value"in Mi?Mi.value:Mi.textContent,ur=!0)),Re=Uo(R,me),0<Re.length&&(me=new fm(me,t,null,r,k),V.push({event:me,listeners:Re}),fe?me.data=fe:(fe=_m(r),fe!==null&&(me.data=fe)))),(fe=DS?OS(t,r):MS(t,r))&&(me=Uo(R,"onBeforeInput"),0<me.length&&(Re=new fm("onBeforeInput","beforeinput",null,r,k),V.push({event:Re,listeners:me}),Re.data=fe)),S0(V,t,R,r,k)}Fg(V,n)})}function Ps(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Uo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,d=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=is(t,r),c!=null&&l.unshift(Ps(t,c,d)),c=is(t,n),c!=null&&l.push(Ps(t,c,d))),t=t.return}return l}function xr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Qg(t,n,r,l,c){for(var d=n._reactName,g=[];r!==null&&r!==l;){var _=r,b=_.alternate,R=_.stateNode;if(_=_.tag,b!==null&&b===l)break;_!==5&&_!==26&&_!==27||R===null||(b=R,c?(R=is(r,d),R!=null&&g.unshift(Ps(r,R,b))):c||(R=is(r,d),R!=null&&g.push(Ps(r,R,b)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var R0=/\r\n?/g,A0=/\u0000|\uFFFD/g;function Xg(t){return(typeof t=="string"?t:""+t).replace(R0,`
`).replace(A0,"")}function Kg(t,n){return n=Xg(n),Xg(t)===n}function ko(){}function qe(t,n,r,l,c,d){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||sr(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&sr(t,""+l);break;case"className":ql(t,"class",l);break;case"tabIndex":ql(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ql(t,r,l);break;case"style":rm(t,l,d);break;case"data":if(n!=="object"){ql(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Yl(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&qe(t,n,"name",c.name,c,null),qe(t,n,"formEncType",c.formEncType,c,null),qe(t,n,"formMethod",c.formMethod,c,null),qe(t,n,"formTarget",c.formTarget,c,null)):(qe(t,n,"encType",c.encType,c,null),qe(t,n,"method",c.method,c,null),qe(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Yl(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ko);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Yl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),ar(t,"popover",l);break;case"xlinkActuate":ri(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ri(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ri(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ri(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ri(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ri(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ri(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ri(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ri(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ar(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=nS.get(r)||r,ar(t,r,l))}}function Bf(t,n,r,l,c,d){switch(r){case"style":rm(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?sr(t,l):(typeof l=="number"||typeof l=="bigint")&&sr(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ko);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pa.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),d=t[de]||null,d=d!=null?d[r]:null,typeof d=="function"&&t.removeEventListener(n,d,c),typeof l=="function")){typeof d!="function"&&d!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ar(t,r,l)}}}function kt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,c=!1,d;for(d in r)if(r.hasOwnProperty(d)){var g=r[d];if(g!=null)switch(d){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:qe(t,n,d,g,r,null)}}c&&qe(t,n,"srcSet",r.srcSet,r,null),l&&qe(t,n,"src",r.src,r,null);return;case"input":Me("invalid",t);var _=d=g=c=null,b=null,R=null;for(l in r)if(r.hasOwnProperty(l)){var k=r[l];if(k!=null)switch(l){case"name":c=k;break;case"type":g=k;break;case"checked":b=k;break;case"defaultChecked":R=k;break;case"value":d=k;break;case"defaultValue":_=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:qe(t,n,l,k,r,null)}}tm(t,d,_,b,R,g,c,!1),Gl(t);return;case"select":Me("invalid",t),l=g=d=null;for(c in r)if(r.hasOwnProperty(c)&&(_=r[c],_!=null))switch(c){case"value":d=_;break;case"defaultValue":g=_;break;case"multiple":l=_;default:qe(t,n,c,_,r,null)}n=d,r=g,t.multiple=!!l,n!=null?rr(t,!!l,n,!1):r!=null&&rr(t,!!l,r,!0);return;case"textarea":Me("invalid",t),d=c=l=null;for(g in r)if(r.hasOwnProperty(g)&&(_=r[g],_!=null))switch(g){case"value":l=_;break;case"defaultValue":c=_;break;case"children":d=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:qe(t,n,g,_,r,null)}im(t,l,c,d),Gl(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:qe(t,n,b,l,r,null)}return;case"dialog":Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Hs.length;l++)Me(Hs[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:qe(t,n,R,l,r,null)}return;default:if(tc(n)){for(k in r)r.hasOwnProperty(k)&&(l=r[k],l!==void 0&&Bf(t,n,k,l,r,void 0));return}}for(_ in r)r.hasOwnProperty(_)&&(l=r[_],l!=null&&qe(t,n,_,l,r,null))}function N0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,g=null,_=null,b=null,R=null,k=null;for(U in r){var V=r[U];if(r.hasOwnProperty(U)&&V!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":b=V;default:l.hasOwnProperty(U)||qe(t,n,U,null,l,V)}}for(var I in l){var U=l[I];if(V=r[I],l.hasOwnProperty(I)&&(U!=null||V!=null))switch(I){case"type":d=U;break;case"name":c=U;break;case"checked":R=U;break;case"defaultChecked":k=U;break;case"value":g=U;break;case"defaultValue":_=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,n));break;default:U!==V&&qe(t,n,I,U,l,V)}}Ju(t,g,_,b,R,k,d,c);return;case"select":U=g=_=I=null;for(d in r)if(b=r[d],r.hasOwnProperty(d)&&b!=null)switch(d){case"value":break;case"multiple":U=b;default:l.hasOwnProperty(d)||qe(t,n,d,null,l,b)}for(c in l)if(d=l[c],b=r[c],l.hasOwnProperty(c)&&(d!=null||b!=null))switch(c){case"value":I=d;break;case"defaultValue":_=d;break;case"multiple":g=d;default:d!==b&&qe(t,n,c,d,l,b)}n=_,r=g,l=U,I!=null?rr(t,!!r,I,!1):!!l!=!!r&&(n!=null?rr(t,!!r,n,!0):rr(t,!!r,r?[]:"",!1));return;case"textarea":U=I=null;for(_ in r)if(c=r[_],r.hasOwnProperty(_)&&c!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:qe(t,n,_,null,l,c)}for(g in l)if(c=l[g],d=r[g],l.hasOwnProperty(g)&&(c!=null||d!=null))switch(g){case"value":I=c;break;case"defaultValue":U=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==d&&qe(t,n,g,c,l,d)}nm(t,I,U);return;case"option":for(var le in r)if(I=r[le],r.hasOwnProperty(le)&&I!=null&&!l.hasOwnProperty(le))switch(le){case"selected":t.selected=!1;break;default:qe(t,n,le,null,l,I)}for(b in l)if(I=l[b],U=r[b],l.hasOwnProperty(b)&&I!==U&&(I!=null||U!=null))switch(b){case"selected":t.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:qe(t,n,b,I,l,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in r)I=r[Ee],r.hasOwnProperty(Ee)&&I!=null&&!l.hasOwnProperty(Ee)&&qe(t,n,Ee,null,l,I);for(R in l)if(I=l[R],U=r[R],l.hasOwnProperty(R)&&I!==U&&(I!=null||U!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,n));break;default:qe(t,n,R,I,l,U)}return;default:if(tc(n)){for(var ut in r)I=r[ut],r.hasOwnProperty(ut)&&I!==void 0&&!l.hasOwnProperty(ut)&&Bf(t,n,ut,void 0,l,I);for(k in l)I=l[k],U=r[k],!l.hasOwnProperty(k)||I===U||I===void 0&&U===void 0||Bf(t,n,k,I,l,U);return}}for(var N in r)I=r[N],r.hasOwnProperty(N)&&I!=null&&!l.hasOwnProperty(N)&&qe(t,n,N,null,l,I);for(V in l)I=l[V],U=r[V],!l.hasOwnProperty(V)||I===U||I==null&&U==null||qe(t,n,V,I,l,U)}var jf=null,Vf=null;function zo(t){return t.nodeType===9?t:t.ownerDocument}function $g(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wg(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function qf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Gf=null;function D0(){var t=window.event;return t&&t.type==="popstate"?t===Gf?!1:(Gf=t,!0):(Gf=null,!1)}var Zg=typeof setTimeout=="function"?setTimeout:void 0,O0=typeof clearTimeout=="function"?clearTimeout:void 0,Jg=typeof Promise=="function"?Promise:void 0,M0=typeof queueMicrotask=="function"?queueMicrotask:typeof Jg<"u"?function(t){return Jg.resolve(null).then(t).catch(x0)}:Zg;function x0(t){setTimeout(function(){throw t})}function Ff(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Qs(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Qs(n)}function Yf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Yf(r),ni(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function I0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[cn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function L0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Mn(t.nextSibling),t===null))return null;return t}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function e_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function t_(t,n,r){switch(n=zo(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Tn=new Map,n_=new Set;function Ho(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ei=$.d;$.d={f:U0,r:k0,D:z0,C:H0,L:P0,m:B0,X:V0,S:j0,M:q0};function U0(){var t=Ei.f(),n=Oo();return t||n}function k0(t){var n=It(t);n!==null&&n.tag===5&&n.type==="form"?Dp(n):Ei.r(t)}var Ir=typeof document>"u"?null:document;function i_(t,n,r){var l=Ir;if(l&&typeof n=="string"&&n){var c=hn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),n_.has(c)||(n_.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),kt(n,"link",t),Xe(n),l.head.appendChild(n)))}}function z0(t){Ei.D(t),i_("dns-prefetch",t,null)}function H0(t,n){Ei.C(t,n),i_("preconnect",t,n)}function P0(t,n,r){Ei.L(t,n,r);var l=Ir;if(l&&t&&n){var c='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+hn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+hn(r.imageSizes)+'"]')):c+='[href="'+hn(t)+'"]';var d=c;switch(n){case"style":d=Lr(t);break;case"script":d=Ur(t)}Tn.has(d)||(t=se({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Tn.set(d,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Bs(d))||n==="script"&&l.querySelector(js(d))||(n=l.createElement("link"),kt(n,"link",t),Xe(n),l.head.appendChild(n)))}}function B0(t,n){Ei.m(t,n);var r=Ir;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(t)+'"]',d=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ur(t)}if(!Tn.has(d)&&(t=se({rel:"modulepreload",href:t},n),Tn.set(d,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(js(d)))return}l=r.createElement("link"),kt(l,"link",t),Xe(l),r.head.appendChild(l)}}}function j0(t,n,r){Ei.S(t,n,r);var l=Ir;if(l&&t){var c=fn(l).hoistableStyles,d=Lr(t);n=n||"default";var g=c.get(d);if(!g){var _={loading:0,preload:null};if(g=l.querySelector(Bs(d)))_.loading=5;else{t=se({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Tn.get(d))&&Qf(t,r);var b=g=l.createElement("link");Xe(b),kt(b,"link",t),b._p=new Promise(function(R,k){b.onload=R,b.onerror=k}),b.addEventListener("load",function(){_.loading|=1}),b.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Po(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:_},c.set(d,g)}}}function V0(t,n){Ei.X(t,n);var r=Ir;if(r&&t){var l=fn(r).hoistableScripts,c=Ur(t),d=l.get(c);d||(d=r.querySelector(js(c)),d||(t=se({src:t,async:!0},n),(n=Tn.get(c))&&Xf(t,n),d=r.createElement("script"),Xe(d),kt(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function q0(t,n){Ei.M(t,n);var r=Ir;if(r&&t){var l=fn(r).hoistableScripts,c=Ur(t),d=l.get(c);d||(d=r.querySelector(js(c)),d||(t=se({src:t,async:!0,type:"module"},n),(n=Tn.get(c))&&Xf(t,n),d=r.createElement("script"),Xe(d),kt(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function a_(t,n,r,l){var c=(c=Pn.current)?Ho(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Lr(r.href),r=fn(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Lr(r.href);var d=fn(c).hoistableStyles,g=d.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,g),(d=c.querySelector(Bs(t)))&&!d._p&&(g.instance=d,g.state.loading=5),Tn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Tn.set(t,r),d||G0(c,t,r,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ur(r),r=fn(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Lr(t){return'href="'+hn(t)+'"'}function Bs(t){return'link[rel="stylesheet"]['+t+"]"}function r_(t){return se({},t,{"data-precedence":t.precedence,precedence:null})}function G0(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),kt(n,"link",r),Xe(n),t.head.appendChild(n))}function Ur(t){return'[src="'+hn(t)+'"]'}function js(t){return"script[async]"+t}function s_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+hn(r.href)+'"]');if(l)return n.instance=l,Xe(l),l;var c=se({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Xe(l),kt(l,"style",c),Po(l,r.precedence,t),n.instance=l;case"stylesheet":c=Lr(r.href);var d=t.querySelector(Bs(c));if(d)return n.state.loading|=4,n.instance=d,Xe(d),d;l=r_(r),(c=Tn.get(c))&&Qf(l,c),d=(t.ownerDocument||t).createElement("link"),Xe(d);var g=d;return g._p=new Promise(function(_,b){g.onload=_,g.onerror=b}),kt(d,"link",l),n.state.loading|=4,Po(d,r.precedence,t),n.instance=d;case"script":return d=Ur(r.src),(c=t.querySelector(js(d)))?(n.instance=c,Xe(c),c):(l=r,(c=Tn.get(d))&&(l=se({},r),Xf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Xe(c),kt(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,Po(l,r.precedence,t));return n.instance}function Po(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,d=c,g=0;g<l.length;g++){var _=l[g];if(_.dataset.precedence===n)d=_;else if(d!==c)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Qf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Bo=null;function l_(t,n,r){if(Bo===null){var l=new Map,c=Bo=new Map;c.set(r,l)}else c=Bo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var d=r[c];if(!(d[cn]||d[re]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(n)||"";g=t+g;var _=l.get(g);_?_.push(d):l.set(g,[d])}}return l}function o_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function F0(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function u_(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Vs=null;function Y0(){}function Q0(t,n,r){if(Vs===null)throw Error(s(475));var l=Vs;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var c=Lr(r.href),d=t.querySelector(Bs(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=jo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=d,Xe(d);return}d=t.ownerDocument||t,r=r_(r),(c=Tn.get(c))&&Qf(r,c),d=d.createElement("link"),Xe(d);var g=d;g._p=new Promise(function(_,b){g.onload=_,g.onerror=b}),kt(d,"link",r),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=jo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function X0(){if(Vs===null)throw Error(s(475));var t=Vs;return t.stylesheets&&t.count===0&&Kf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Kf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function jo(){if(this.count--,this.count===0){if(this.stylesheets)Kf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vo=null;function Kf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vo=new Map,n.forEach(K0,t),Vo=null,jo.call(t))}function K0(t,n){if(!(n.state.loading&4)){var r=Vo.get(t);if(r)var l=r.get(null);else{r=new Map,Vo.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var g=c[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),d=r.get(g)||l,d===l&&r.set(null,c),r.set(g,c),this.count++,l=jo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),d?d.parentNode.insertBefore(c,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var qs={$$typeof:S,Provider:null,Consumer:null,_currentValue:Se,_currentValue2:Se,_threadCount:0};function $0(t,n,r,l,c,d,g,_){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=D(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=D(0),this.hiddenUpdates=D(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function c_(t,n,r,l,c,d,g,_,b,R,k,V){return t=new $0(t,n,r,g,_,b,R,V),n=1,d===!0&&(n|=24),d=bn(3,null,null,n),t.current=d,d.stateNode=t,n=Rc(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:n},lf(d),t}function f_(t){return t?(t=hr,t):hr}function d_(t,n,r,l,c,d){c=f_(c),l.context===null?l.context=c:l.pendingContext=c,l=Pi(n),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=Bi(t,l,n),r!==null&&(qt(r,t,n),Rs(r,t,n))}function h_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function $f(t,n){h_(t,n),(t=t.alternate)&&h_(t,n)}function m_(t){if(t.tag===13){var n=xi(t,67108864);n!==null&&qt(n,t,67108864),$f(t,67108864)}}var qo=!0;function W0(t,n,r,l){var c=Y.T;Y.T=null;var d=$.p;try{$.p=2,Wf(t,n,r,l)}finally{$.p=d,Y.T=c}}function Z0(t,n,r,l){var c=Y.T;Y.T=null;var d=$.p;try{$.p=8,Wf(t,n,r,l)}finally{$.p=d,Y.T=c}}function Wf(t,n,r,l){if(qo){var c=Zf(l);if(c===null)Pf(t,n,l,Go,r),g_(t,l);else if(eT(c,t,n,r,l))l.stopPropagation();else if(g_(t,l),n&4&&-1<J0.indexOf(t)){for(;c!==null;){var d=It(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=jn(d.pendingLanes);if(g!==0){var _=d;for(_.pendingLanes|=2,_.entangledLanes|=2;g;){var b=1<<31-Tt(g);_.entanglements[1]|=b,g&=~b}Qn(d),!(at&6)&&(Ao=Zt()+500,zs(0))}}break;case 13:_=xi(d,2),_!==null&&qt(_,d,2),Oo(),$f(d,2)}if(d=Zf(l),d===null&&Pf(t,n,l,Go,r),d===c)break;c=d}c!==null&&l.stopPropagation()}else Pf(t,n,l,null,r)}}function Zf(t){return t=ic(t),Jf(t)}var Go=null;function Jf(t){if(Go=null,t=xt(t),t!==null){var n=ue(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=ce(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Go=t,null}function p_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(es()){case Rn:return 2;case un:return 8;case da:case ts:return 32;case Hl:return 268435456;default:return 32}default:return 32}}var ed=!1,Qi=null,Xi=null,Ki=null,Gs=new Map,Fs=new Map,$i=[],J0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g_(t,n){switch(t){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Gs.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(n.pointerId)}}function Ys(t,n,r,l,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},n!==null&&(n=It(n),n!==null&&m_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function eT(t,n,r,l,c){switch(n){case"focusin":return Qi=Ys(Qi,t,n,r,l,c),!0;case"dragenter":return Xi=Ys(Xi,t,n,r,l,c),!0;case"mouseover":return Ki=Ys(Ki,t,n,r,l,c),!0;case"pointerover":var d=c.pointerId;return Gs.set(d,Ys(Gs.get(d)||null,t,n,r,l,c)),!0;case"gotpointercapture":return d=c.pointerId,Fs.set(d,Ys(Fs.get(d)||null,t,n,r,l,c)),!0}return!1}function __(t){var n=xt(t.target);if(n!==null){var r=ue(n);if(r!==null){if(n=r.tag,n===13){if(n=ce(r),n!==null){t.blockedOn=n,ae(t.priority,function(){if(r.tag===13){var l=an(),c=xi(r,l);c!==null&&qt(c,r,l),$f(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Zf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);nc=l,r.target.dispatchEvent(l),nc=null}else return n=It(r),n!==null&&m_(n),t.blockedOn=r,!1;n.shift()}return!0}function y_(t,n,r){Fo(t)&&r.delete(n)}function tT(){ed=!1,Qi!==null&&Fo(Qi)&&(Qi=null),Xi!==null&&Fo(Xi)&&(Xi=null),Ki!==null&&Fo(Ki)&&(Ki=null),Gs.forEach(y_),Fs.forEach(y_)}function Yo(t,n){t.blockedOn===n&&(t.blockedOn=null,ed||(ed=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,tT)))}var Qo=null;function v_(t){Qo!==t&&(Qo=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Qo===t&&(Qo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Jf(l||r)===null)continue;break}var d=It(r);d!==null&&(t.splice(n,3),n-=3,Vc(d,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Qs(t){function n(b){return Yo(b,t)}Qi!==null&&Yo(Qi,t),Xi!==null&&Yo(Xi,t),Ki!==null&&Yo(Ki,t),Gs.forEach(n),Fs.forEach(n);for(var r=0;r<$i.length;r++){var l=$i[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<$i.length&&(r=$i[0],r.blockedOn===null);)__(r),r.blockedOn===null&&$i.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],d=r[l+1],g=c[de]||null;if(typeof d=="function")g||v_(r);else if(g){var _=null;if(d&&d.hasAttribute("formAction")){if(c=d,g=d[de]||null)_=g.formAction;else if(Jf(c)!==null)continue}else _=g.action;typeof _=="function"?r[l+1]=_:(r.splice(l,3),l-=3),v_(r)}}}function td(t){this._internalRoot=t}Xo.prototype.render=td.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=an();d_(r,l,t,n,null,null)},Xo.prototype.unmount=td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&Or(),d_(t.current,2,null,t,null,null),Oo(),n[Be]=null}};function Xo(t){this._internalRoot=t}Xo.prototype.unstable_scheduleHydration=function(t){if(t){var n=te();t={blockedOn:null,target:t,priority:n};for(var r=0;r<$i.length&&n!==0&&n<$i[r].priority;r++);$i.splice(r,0,t),r===0&&__(t)}};var E_=e.version;if(E_!=="19.0.0")throw Error(s(527,E_,"19.0.0"));$.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=j(n),t=t!==null?ie(t):null,t=t===null?null:t.stateNode,t};var nT={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,findFiberByHostInstance:xt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ko.isDisabled&&Ko.supportsFiber)try{Oi=Ko.inject(nT),Ht=Ko}catch{}}return Ks.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=zp,d=Hp,g=Pp,_=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=c_(t,1,!1,null,null,r,l,c,d,g,_,null),t[Be]=n.current,Hf(t.nodeType===8?t.parentNode:t),new td(n)},Ks.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",d=zp,g=Hp,_=Pp,b=null,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(R=r.formState)),n=c_(t,1,!0,n,r??null,l,c,d,g,_,b,R),n.context=f_(null),r=n.current,l=an(),c=Pi(l),c.callback=null,Bi(r,c,l),n.current.lanes=l,L(n,l),Qn(n),t[Be]=n.current,Hf(t),new Xo(n)},Ks.version="19.0.0",Ks}var O_;function dT(){if(O_)return ad.exports;O_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ad.exports=fT(),ad.exports}var hT=dT();const mT=aT(hT);var $s={},M_;function pT(){if(M_)return $s;M_=1,Object.defineProperty($s,"__esModule",{value:!0}),$s.parse=f,$s.serialize=p;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function f(E,S){const A=new u,H=E.length;if(H<2)return A;const z=(S==null?void 0:S.decode)||y;let P=0;do{const F=E.indexOf("=",P);if(F===-1)break;const Z=E.indexOf(";",P),he=Z===-1?H:Z;if(F>he){P=E.lastIndexOf(";",F-1)+1;continue}const W=h(E,P,F),O=m(E,F,W),ye=E.slice(W,O);if(A[ye]===void 0){let be=h(E,F+1,he),Y=m(E,he,be);const se=z(E.slice(be,Y));A[ye]=se}P=he+1}while(P<H);return A}function h(E,S,A){do{const H=E.charCodeAt(S);if(H!==32&&H!==9)return S}while(++S<A);return A}function m(E,S,A){for(;S>A;){const H=E.charCodeAt(--S);if(H!==32&&H!==9)return S+1}return A}function p(E,S,A){const H=(A==null?void 0:A.encode)||encodeURIComponent;if(!i.test(E))throw new TypeError(`argument name is invalid: ${E}`);const z=H(S);if(!e.test(z))throw new TypeError(`argument val is invalid: ${S}`);let P=E+"="+z;if(!A)return P;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);P+="; Max-Age="+A.maxAge}if(A.domain){if(!a.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);P+="; Domain="+A.domain}if(A.path){if(!s.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);P+="; Path="+A.path}if(A.expires){if(!v(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);P+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(P+="; HttpOnly"),A.secure&&(P+="; Secure"),A.partitioned&&(P+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return P}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return o.call(E)==="[object Date]"}return $s}pT();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var x_="popstate";function gT(i={}){function e(s,o){let{pathname:u,search:f,hash:h}=s.location;return ml("",{pathname:u,search:f,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function a(s,o){return typeof o=="string"?o:sa(o)}return yT(e,a,null,i)}function xe(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function zt(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _T(){return Math.random().toString(36).substring(2,10)}function I_(i,e){return{usr:i.state,key:i.key,idx:e}}function ml(i,e,a=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ca(e):e,state:a,key:e&&e.key||s||_T()}}function sa({pathname:i="/",search:e="",hash:a=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),a&&a!=="#"&&(i+=a.charAt(0)==="#"?a:"#"+a),i}function ca(i){let e={};if(i){let a=i.indexOf("#");a>=0&&(e.hash=i.substring(a),i=i.substring(0,a));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function yT(i,e,a,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,h="POP",m=null,p=y();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function y(){return(f.state||{idx:null}).idx}function v(){h="POP";let z=y(),P=z==null?null:z-p;p=z,m&&m({action:h,location:H.location,delta:P})}function E(z,P){h="PUSH";let F=ml(H.location,z,P);p=y()+1;let Z=I_(F,p),he=H.createHref(F);try{f.pushState(Z,"",he)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;o.location.assign(he)}u&&m&&m({action:h,location:H.location,delta:1})}function S(z,P){h="REPLACE";let F=ml(H.location,z,P);p=y();let Z=I_(F,p),he=H.createHref(F);f.replaceState(Z,"",he),u&&m&&m({action:h,location:H.location,delta:0})}function A(z){let P=o.location.origin!=="null"?o.location.origin:o.location.href,F=typeof z=="string"?z:sa(z);return F=F.replace(/ $/,"%20"),xe(P,`No window.location.(origin|href) available to create URL for href: ${F}`),new URL(F,P)}let H={get action(){return h},get location(){return i(o,f)},listen(z){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(x_,v),m=z,()=>{o.removeEventListener(x_,v),m=null}},createHref(z){return e(o,z)},createURL:A,encodeLocation(z){let P=A(z);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:E,replace:S,go(z){return f.go(z)}};return H}var vT=new Set(["lazy","caseSensitive","path","id","index","children"]);function ET(i){return i.index===!0}function lu(i,e,a=[],s={}){return i.map((o,u)=>{let f=[...a,String(u)],h=typeof o.id=="string"?o.id:f.join("-");if(xe(o.index!==!0||!o.children,"Cannot specify children on an index route"),xe(!s[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),ET(o)){let m={...o,...e(o),id:h};return s[h]=m,m}else{let m={...o,...e(o),id:h,children:void 0};return s[h]=m,o.children&&(m.children=lu(o.children,e,f,s)),m}})}function ea(i,e,a="/"){return tu(i,e,a,!1)}function tu(i,e,a,s){let o=typeof e=="string"?ca(e):e,u=zn(o.pathname||"/",a);if(u==null)return null;let f=uv(i);ST(f);let h=null;for(let m=0;h==null&&m<f.length;++m){let p=IT(u);h=MT(f[m],p,s)}return h}function bT(i,e){let{route:a,pathname:s,params:o}=i;return{id:a.id,pathname:s,params:o,data:e[a.id],handle:a.handle}}function uv(i,e=[],a=[],s=""){let o=(u,f,h)=>{let m={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(xe(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let p=Xn([s,m.relativePath]),y=a.concat(m);u.children&&u.children.length>0&&(xe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),uv(u.children,e,y,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:DT(p,u.index),routesMeta:y})};return i.forEach((u,f)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))o(u,f);else for(let m of cv(u.path))o(u,f,m)}),e}function cv(i){let e=i.split("/");if(e.length===0)return[];let[a,...s]=e,o=a.endsWith("?"),u=a.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=cv(s.join("/")),h=[];return h.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&h.push(...f),h.map(m=>i.startsWith("/")&&m===""?"/":m)}function ST(i){i.sort((e,a)=>e.score!==a.score?a.score-e.score:OT(e.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var TT=/^:[\w-]+$/,CT=3,wT=2,RT=1,AT=10,NT=-2,L_=i=>i==="*";function DT(i,e){let a=i.split("/"),s=a.length;return a.some(L_)&&(s+=NT),e&&(s+=wT),a.filter(o=>!L_(o)).reduce((o,u)=>o+(TT.test(u)?CT:u===""?RT:AT),s)}function OT(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function MT(i,e,a=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let h=0;h<s.length;++h){let m=s[h],p=h===s.length-1,y=u==="/"?e:e.slice(u.length)||"/",v=ou({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!v&&p&&a&&!s[s.length-1].route.index&&(v=ou({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),f.push({params:o,pathname:Xn([u,v.pathname]),pathnameBase:kT(Xn([u,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(u=Xn([u,v.pathnameBase]))}return f}function ou(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[a,s]=xT(i.path,i.caseSensitive,i.end),o=e.match(a);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:v},E)=>{if(y==="*"){let A=h[E]||"";f=u.slice(0,u.length-A.length).replace(/(.)\/+$/,"$1")}const S=h[E];return v&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:i}}function xT(i,e=!1,a=!0){zt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,m)=>(s.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function IT(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function zn(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let a=e.endsWith("/")?e.length-1:e.length,s=i.charAt(a);return s&&s!=="/"?null:i.slice(a)||"/"}function LT(i,e="/"){let{pathname:a,search:s="",hash:o=""}=typeof i=="string"?ca(i):i;return{pathname:a?a.startsWith("/")?a:UT(a,e):e,search:zT(s),hash:HT(o)}}function UT(i,e){let a=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function od(i,e,a,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fv(i){return i.filter((e,a)=>a===0||e.route.path&&e.route.path.length>0)}function Zd(i){let e=fv(i);return e.map((a,s)=>s===e.length-1?a.pathname:a.pathnameBase)}function Jd(i,e,a,s=!1){let o;typeof i=="string"?o=ca(i):(o={...i},xe(!o.pathname||!o.pathname.includes("?"),od("?","pathname","search",o)),xe(!o.pathname||!o.pathname.includes("#"),od("#","pathname","hash",o)),xe(!o.search||!o.search.includes("#"),od("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,h;if(f==null)h=a;else{let v=e.length-1;if(!s&&f.startsWith("..")){let E=f.split("/");for(;E[0]==="..";)E.shift(),v-=1;o.pathname=E.join("/")}h=v>=0?e[v]:"/"}let m=LT(o,h),p=f&&f!=="/"&&f.endsWith("/"),y=(u||f===".")&&a.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Xn=i=>i.join("/").replace(/\/\/+/g,"/"),kT=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),zT=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,HT=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,uu=class{constructor(i,e,a,s=!1){this.status=i,this.statusText=e||"",this.internal=s,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function pl(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var dv=["POST","PUT","PATCH","DELETE"],PT=new Set(dv),BT=["GET",...dv],jT=new Set(BT),VT=new Set([301,302,303,307,308]),qT=new Set([307,308]),ud={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},GT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ws={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},eh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FT=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),hv="remix-router-transitions",mv=Symbol("ResetLoaderData");function YT(i){const e=i.window?i.window:typeof window<"u"?window:void 0,a=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";xe(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=i.mapRouteProperties||FT,o={},u=lu(i.routes,s,void 0,o),f,h=i.basename||"/",m=i.dataStrategy||WT,p=i.patchRoutesOnNavigation,y={...i.future},v=null,E=new Set,S=null,A=null,H=null,z=i.hydrationData!=null,P=ea(u,i.history.location,h),F=!1,Z=null;if(P==null&&!p){let C=Cn(404,{pathname:i.history.location.pathname}),{matches:D,route:L}=F_(u);P=D,Z={[L.id]:C}}P&&!i.hydrationData&&ti(P,u,i.history.location.pathname).active&&(P=null);let he;if(P)if(P.some(C=>C.route.lazy))he=!1;else if(!P.some(C=>C.route.loader))he=!0;else{let C=i.hydrationData?i.hydrationData.loaderData:null,D=i.hydrationData?i.hydrationData.errors:null;if(D){let L=P.findIndex(q=>D[q.route.id]!==void 0);he=P.slice(0,L+1).every(q=>!Od(q.route,C,D))}else he=P.every(L=>!Od(L.route,C,D))}else{he=!1,P=[];let C=ti(null,u,i.history.location.pathname);C.active&&C.matches&&(F=!0,P=C.matches)}let W,O={historyAction:i.history.action,location:i.history.location,matches:P,initialized:he,navigation:ud,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||Z,fetchers:new Map,blockers:new Map},ye="POP",be=!1,Y,se=!1,Pe=new Map,Ot=null,gt=!1,_t=!1,et=new Set,G=new Map,pe=0,ue=-1,ce=new Map,T=new Set,j=new Map,ie=new Map,ee=new Set,$=new Map,Se,ge=null;function yt(){if(v=i.history.listen(({action:C,location:D,delta:L})=>{if(Se){Se(),Se=void 0;return}zt($.size===0||L!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let q=Bl({currentLocation:O.location,nextLocation:D,historyAction:C});if(q&&L!=null){let J=new Promise(oe=>{Se=oe});i.history.go(L*-1),Tt(q,{state:"blocked",location:D,proceed(){Tt(q,{state:"proceeding",proceed:void 0,reset:void 0,location:D}),J.then(()=>i.history.go(L))},reset(){let oe=new Map(O.blockers);oe.set(q,Ws),Ce({blockers:oe})}});return}return on(C,D)}),a){oC(e,Pe);let C=()=>uC(e,Pe);e.addEventListener("pagehide",C),Ot=()=>e.removeEventListener("pagehide",C)}return O.initialized||on("POP",O.location,{initialHydration:!0}),W}function Ue(){v&&v(),Ot&&Ot(),E.clear(),Y&&Y.abort(),O.fetchers.forEach((C,D)=>ts(D)),O.blockers.forEach((C,D)=>An(D))}function rt(C){return E.add(C),()=>E.delete(C)}function Ce(C,D={}){O={...O,...C};let L=[],q=[];O.fetchers.forEach((J,oe)=>{J.state==="idle"&&(ee.has(oe)?L.push(oe):q.push(oe))}),ee.forEach(J=>{!O.fetchers.has(J)&&!G.has(J)&&L.push(J)}),[...E].forEach(J=>J(O,{deletedFetchers:L,viewTransitionOpts:D.viewTransitionOpts,flushSync:D.flushSync===!0})),L.forEach(J=>ts(J)),q.forEach(J=>O.fetchers.delete(J))}function Mt(C,D,{flushSync:L}={}){var K,re;let q=O.actionData!=null&&O.navigation.formMethod!=null&&xn(O.navigation.formMethod)&&O.navigation.state==="loading"&&((K=C.state)==null?void 0:K._isRedirect)!==!0,J;D.actionData?Object.keys(D.actionData).length>0?J=D.actionData:J=null:q?J=O.actionData:J=null;let oe=D.loaderData?q_(O.loaderData,D.loaderData,D.matches||[],D.errors):O.loaderData,ve=O.blockers;ve.size>0&&(ve=new Map(ve),ve.forEach((de,Be)=>ve.set(Be,Ws)));let te=be===!0||O.navigation.formMethod!=null&&xn(O.navigation.formMethod)&&((re=C.state)==null?void 0:re._isRedirect)!==!0;f&&(u=f,f=void 0),gt||ye==="POP"||(ye==="PUSH"?i.history.push(C,C.state):ye==="REPLACE"&&i.history.replace(C,C.state));let ae;if(ye==="POP"){let de=Pe.get(O.location.pathname);de&&de.has(C.pathname)?ae={currentLocation:O.location,nextLocation:C}:Pe.has(C.pathname)&&(ae={currentLocation:C,nextLocation:O.location})}else if(se){let de=Pe.get(O.location.pathname);de?de.add(C.pathname):(de=new Set([C.pathname]),Pe.set(O.location.pathname,de)),ae={currentLocation:O.location,nextLocation:C}}Ce({...D,actionData:J,loaderData:oe,historyAction:ye,location:C,initialized:!0,navigation:ud,revalidation:"idle",restoreScrollPosition:jn(C,D.matches||O.matches),preventScrollReset:te,blockers:ve},{viewTransitionOpts:ae,flushSync:L===!0}),ye="POP",be=!1,se=!1,gt=!1,_t=!1,ge==null||ge.resolve(),ge=null}async function Ni(C,D){if(typeof C=="number"){i.history.go(C);return}let L=Dd(O.location,O.matches,h,C,D==null?void 0:D.fromRouteId,D==null?void 0:D.relative),{path:q,submission:J,error:oe}=U_(!1,L,D),ve=O.location,te=ml(O.location,q,D&&D.state);te={...te,...i.history.encodeLocation(te)};let ae=D&&D.replace!=null?D.replace:void 0,K="PUSH";ae===!0?K="REPLACE":ae===!1||J!=null&&xn(J.formMethod)&&J.formAction===O.location.pathname+O.location.search&&(K="REPLACE");let re=D&&"preventScrollReset"in D?D.preventScrollReset===!0:void 0,de=(D&&D.flushSync)===!0,Be=Bl({currentLocation:ve,nextLocation:te,historyAction:K});if(Be){Tt(Be,{state:"blocked",location:te,proceed(){Tt(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:te}),Ni(C,D)},reset(){let ft=new Map(O.blockers);ft.set(Be,Ws),Ce({blockers:ft})}});return}await on(K,te,{submission:J,pendingError:oe,preventScrollReset:re,replace:D&&D.replace,enableViewTransition:D&&D.viewTransition,flushSync:de})}function Pn(){ge||(ge=cC()),es(),Ce({revalidation:"loading"});let C=ge.promise;return O.navigation.state==="submitting"?C:O.navigation.state==="idle"?(on(O.historyAction,O.location,{startUninterruptedRevalidation:!0}),C):(on(ye||O.historyAction,O.navigation.location,{overrideNavigation:O.navigation,enableViewTransition:se===!0}),C)}async function on(C,D,L){Y&&Y.abort(),Y=null,ye=C,gt=(L&&L.startUninterruptedRevalidation)===!0,ir(O.location,O.matches),be=(L&&L.preventScrollReset)===!0,se=(L&&L.enableViewTransition)===!0;let q=f||u,J=L&&L.overrideNavigation,oe=L!=null&&L.initialHydration&&O.matches&&O.matches.length>0&&!F?O.matches:ea(q,D,h),ve=(L&&L.flushSync)===!0;if(oe&&O.initialized&&!_t&&iC(O.location,D)&&!(L&&L.submission&&xn(L.submission.formMethod))){Mt(D,{matches:oe},{flushSync:ve});return}let te=ti(oe,q,D.pathname);if(te.active&&te.matches&&(oe=te.matches),!oe){let{error:Ze,notFoundMatches:Fe,route:st}=ns(D.pathname);Mt(D,{matches:Fe,loaderData:{},errors:{[st.id]:Ze}},{flushSync:ve});return}Y=new AbortController;let ae=kr(i.history,D,Y.signal,L&&L.submission),K;if(L&&L.pendingError)K=[Ha(oe).route.id,{type:"error",error:L.pendingError}];else if(L&&L.submission&&xn(L.submission.formMethod)){let Ze=await er(ae,D,L.submission,oe,te.active,{replace:L.replace,flushSync:ve});if(Ze.shortCircuited)return;if(Ze.pendingActionResult){let[Fe,st]=Ze.pendingActionResult;if(rn(st)&&pl(st.error)&&st.error.status===404){Y=null,Mt(D,{matches:Ze.matches,loaderData:{},errors:{[Fe]:st.error}});return}}oe=Ze.matches||oe,K=Ze.pendingActionResult,J=cd(D,L.submission),ve=!1,te.active=!1,ae=kr(i.history,ae.url,ae.signal)}let{shortCircuited:re,matches:de,loaderData:Be,errors:ft}=await Di(ae,D,oe,te.active,J,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,L&&L.initialHydration===!0,ve,K);re||(Y=null,Mt(D,{matches:de||oe,...G_(K),loaderData:Be,errors:ft}))}async function er(C,D,L,q,J,oe={}){es();let ve=sC(D,L);if(Ce({navigation:ve},{flushSync:oe.flushSync===!0}),J){let K=await Vn(q,D.pathname,C.signal);if(K.type==="aborted")return{shortCircuited:!0};if(K.type==="error"){let re=Ha(K.partialMatches).route.id;return{matches:K.partialMatches,pendingActionResult:[re,{type:"error",error:K.error}]}}else if(K.matches)q=K.matches;else{let{notFoundMatches:re,error:de,route:Be}=ns(D.pathname);return{matches:re,pendingActionResult:[Be.id,{type:"error",error:de}]}}}let te,ae=al(q,D);if(!ae.route.action&&!ae.route.lazy)te={type:"error",error:Cn(405,{method:C.method,pathname:D.pathname,routeId:ae.route.id})};else if(te=(await fa("action",O,C,[ae],q,null))[ae.route.id],C.signal.aborted)return{shortCircuited:!0};if(Ba(te)){let K;return oe&&oe.replace!=null?K=oe.replace:K=B_(te.response.headers.get("Location"),new URL(C.url),h)===O.location.pathname+O.location.search,await ei(C,te,!0,{submission:L,replace:K}),{shortCircuited:!0}}if(rn(te)){let K=Ha(q,ae.route.id);return(oe&&oe.replace)!==!0&&(ye="PUSH"),{matches:q,pendingActionResult:[K.route.id,te]}}return{matches:q,pendingActionResult:[ae.route.id,te]}}async function Di(C,D,L,q,J,oe,ve,te,ae,K,re){let de=J||cd(D,oe),Be=oe||ve||Q_(de),ft=!gt&&!ae;if(q){if(ft){let tt=tr(re);Ce({navigation:de,...tt!==void 0?{actionData:tt}:{}},{flushSync:K})}let Ie=await Vn(L,D.pathname,C.signal);if(Ie.type==="aborted")return{shortCircuited:!0};if(Ie.type==="error"){let tt=Ha(Ie.partialMatches).route.id;return{matches:Ie.partialMatches,loaderData:{},errors:{[tt]:Ie.error}}}else if(Ie.matches)L=Ie.matches;else{let{error:tt,notFoundMatches:Ft,route:ga}=ns(D.pathname);return{matches:Ft,loaderData:{},errors:{[ga.id]:tt}}}}let Ze=f||u,[Fe,st]=z_(i.history,O,L,Be,D,ae===!0,_t,et,ee,j,T,Ze,h,re);if(ue=++pe,Fe.length===0&&st.length===0){let Ie=Oi();return Mt(D,{matches:L,loaderData:{},errors:re&&rn(re[1])?{[re[0]]:re[1].error}:null,...G_(re),...Ie?{fetchers:new Map(O.fetchers)}:{}},{flushSync:K}),{shortCircuited:!0}}if(ft){let Ie={};if(!q){Ie.navigation=de;let tt=tr(re);tt!==void 0&&(Ie.actionData=tt)}st.length>0&&(Ie.fetchers=nr(st)),Ce(Ie,{flushSync:K})}st.forEach(Ie=>{Bn(Ie.key),Ie.controller&&G.set(Ie.key,Ie.controller)});let cn=()=>st.forEach(Ie=>Bn(Ie.key));Y&&Y.signal.addEventListener("abort",cn);let{loaderResults:ni,fetcherResults:xt}=await Zt(O,L,Fe,st,C);if(C.signal.aborted)return{shortCircuited:!0};Y&&Y.signal.removeEventListener("abort",cn),st.forEach(Ie=>G.delete(Ie.key));let It=$o(ni);if(It)return await ei(C,It.result,!0,{replace:te}),{shortCircuited:!0};if(It=$o(xt),It)return T.add(It.key),await ei(C,It.result,!0,{replace:te}),{shortCircuited:!0};let{loaderData:ii,errors:fn}=V_(O,L,ni,re,st,xt);ae&&O.errors&&(fn={...O.errors,...fn});let Xe=Oi(),ma=Ht(ue),pa=Xe||ma||st.length>0;return{matches:L,loaderData:ii,errors:fn,...pa?{fetchers:new Map(O.fetchers)}:{}}}function tr(C){if(C&&!rn(C[1]))return{[C[0]]:C[1].data};if(O.actionData)return Object.keys(O.actionData).length===0?null:O.actionData}function nr(C){return C.forEach(D=>{let L=O.fetchers.get(D.key),q=Zs(void 0,L?L.data:void 0);O.fetchers.set(D.key,q)}),new Map(O.fetchers)}async function Wr(C,D,L,q){Bn(C);let J=(q&&q.flushSync)===!0,oe=f||u,ve=Dd(O.location,O.matches,h,L,D,q==null?void 0:q.relative),te=ea(oe,ve,h),ae=ti(te,oe,ve);if(ae.active&&ae.matches&&(te=ae.matches),!te){un(C,D,Cn(404,{pathname:ve}),{flushSync:J});return}let{path:K,submission:re,error:de}=U_(!0,ve,q);if(de){un(C,D,de,{flushSync:J});return}let Be=al(te,K),ft=(q&&q.preventScrollReset)===!0;if(re&&xn(re.formMethod)){await Zr(C,D,K,Be,te,ae.active,J,ft,re);return}j.set(C,{routeId:D,path:K}),await Jr(C,D,K,Be,te,ae.active,J,ft,re)}async function Zr(C,D,L,q,J,oe,ve,te,ae){es(),j.delete(C);function K(nt){if(!nt.route.action&&!nt.route.lazy){let ai=Cn(405,{method:ae.formMethod,pathname:L,routeId:D});return un(C,D,ai,{flushSync:ve}),!0}return!1}if(!oe&&K(q))return;let re=O.fetchers.get(C);Rn(C,lC(ae,re),{flushSync:ve});let de=new AbortController,Be=kr(i.history,L,de.signal,ae);if(oe){let nt=await Vn(J,L,Be.signal);if(nt.type==="aborted")return;if(nt.type==="error"){un(C,D,nt.error,{flushSync:ve});return}else if(nt.matches){if(J=nt.matches,q=al(J,L),K(q))return}else{un(C,D,Cn(404,{pathname:L}),{flushSync:ve});return}}G.set(C,de);let ft=pe,Fe=(await fa("action",O,Be,[q],J,C))[q.route.id];if(Be.signal.aborted){G.get(C)===de&&G.delete(C);return}if(ee.has(C)){if(Ba(Fe)||rn(Fe)){Rn(C,Ji(void 0));return}}else{if(Ba(Fe))if(G.delete(C),ue>ft){Rn(C,Ji(void 0));return}else return T.add(C),Rn(C,Zs(ae)),ei(Be,Fe,!1,{fetcherSubmission:ae,preventScrollReset:te});if(rn(Fe)){un(C,D,Fe.error);return}}let st=O.navigation.location||O.location,cn=kr(i.history,st,de.signal),ni=f||u,xt=O.navigation.state!=="idle"?ea(ni,O.navigation.location,h):O.matches;xe(xt,"Didn't find any matches after fetcher action");let It=++pe;ce.set(C,It);let ii=Zs(ae,Fe.data);O.fetchers.set(C,ii);let[fn,Xe]=z_(i.history,O,xt,ae,st,!1,_t,et,ee,j,T,ni,h,[q.route.id,Fe]);Xe.filter(nt=>nt.key!==C).forEach(nt=>{let ai=nt.key,Vl=O.fetchers.get(ai),ar=Zs(void 0,Vl?Vl.data:void 0);O.fetchers.set(ai,ar),Bn(ai),nt.controller&&G.set(ai,nt.controller)}),Ce({fetchers:new Map(O.fetchers)});let ma=()=>Xe.forEach(nt=>Bn(nt.key));de.signal.addEventListener("abort",ma);let{loaderResults:pa,fetcherResults:Ie}=await Zt(O,xt,fn,Xe,cn);if(de.signal.aborted)return;de.signal.removeEventListener("abort",ma),ce.delete(C),G.delete(C),Xe.forEach(nt=>G.delete(nt.key));let tt=$o(pa);if(tt)return ei(cn,tt.result,!1,{preventScrollReset:te});if(tt=$o(Ie),tt)return T.add(tt.key),ei(cn,tt.result,!1,{preventScrollReset:te});let{loaderData:Ft,errors:ga}=V_(O,xt,pa,void 0,Xe,Ie);if(O.fetchers.has(C)){let nt=Ji(Fe.data);O.fetchers.set(C,nt)}Ht(It),O.navigation.state==="loading"&&It>ue?(xe(ye,"Expected pending action"),Y&&Y.abort(),Mt(O.navigation.location,{matches:xt,loaderData:Ft,errors:ga,fetchers:new Map(O.fetchers)})):(Ce({errors:ga,loaderData:q_(O.loaderData,Ft,xt,ga),fetchers:new Map(O.fetchers)}),_t=!1)}async function Jr(C,D,L,q,J,oe,ve,te,ae){let K=O.fetchers.get(C);Rn(C,Zs(ae,K?K.data:void 0),{flushSync:ve});let re=new AbortController,de=kr(i.history,L,re.signal);if(oe){let Fe=await Vn(J,L,de.signal);if(Fe.type==="aborted")return;if(Fe.type==="error"){un(C,D,Fe.error,{flushSync:ve});return}else if(Fe.matches)J=Fe.matches,q=al(J,L);else{un(C,D,Cn(404,{pathname:L}),{flushSync:ve});return}}G.set(C,re);let Be=pe,Ze=(await fa("loader",O,de,[q],J,C))[q.route.id];if(G.get(C)===re&&G.delete(C),!de.signal.aborted){if(ee.has(C)){Rn(C,Ji(void 0));return}if(Ba(Ze))if(ue>Be){Rn(C,Ji(void 0));return}else{T.add(C),await ei(de,Ze,!1,{preventScrollReset:te});return}if(rn(Ze)){un(C,D,Ze.error);return}Rn(C,Ji(Ze.data))}}async function ei(C,D,L,{submission:q,fetcherSubmission:J,preventScrollReset:oe,replace:ve}={}){D.response.headers.has("X-Remix-Revalidate")&&(_t=!0);let te=D.response.headers.get("Location");xe(te,"Expected a Location header on the redirect Response"),te=B_(te,new URL(C.url),h);let ae=ml(O.location,te,{_isRedirect:!0});if(a){let Ze=!1;if(D.response.headers.has("X-Remix-Reload-Document"))Ze=!0;else if(eh.test(te)){const Fe=i.history.createURL(te);Ze=Fe.origin!==e.location.origin||zn(Fe.pathname,h)==null}if(Ze){ve?e.location.replace(te):e.location.assign(te);return}}Y=null;let K=ve===!0||D.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:re,formAction:de,formEncType:Be}=O.navigation;!q&&!J&&re&&de&&Be&&(q=Q_(O.navigation));let ft=q||J;if(qT.has(D.response.status)&&ft&&xn(ft.formMethod))await on(K,ae,{submission:{...ft,formAction:te},preventScrollReset:oe||be,enableViewTransition:L?se:void 0});else{let Ze=cd(ae,q);await on(K,ae,{overrideNavigation:Ze,fetcherSubmission:J,preventScrollReset:oe||be,enableViewTransition:L?se:void 0})}}async function fa(C,D,L,q,J,oe){let ve,te={};try{ve=await ZT(m,C,D,L,q,J,oe,o,s)}catch(ae){return q.forEach(K=>{te[K.route.id]={type:"error",error:ae}}),te}for(let[ae,K]of Object.entries(ve))if(aC(K)){let re=K.result;te[ae]={type:"redirect",response:tC(re,L,ae,J,h)}}else te[ae]=await eC(K);return te}async function Zt(C,D,L,q,J){let oe=fa("loader",C,J,L,D,null),ve=Promise.all(q.map(async K=>{if(K.matches&&K.match&&K.controller){let de=(await fa("loader",C,kr(i.history,K.path,K.controller.signal),[K.match],K.matches,K.key))[K.match.route.id];return{[K.key]:de}}else return Promise.resolve({[K.key]:{type:"error",error:Cn(404,{pathname:K.path})}})})),te=await oe,ae=(await ve).reduce((K,re)=>Object.assign(K,re),{});return{loaderResults:te,fetcherResults:ae}}function es(){_t=!0,j.forEach((C,D)=>{G.has(D)&&et.add(D),Bn(D)})}function Rn(C,D,L={}){O.fetchers.set(C,D),Ce({fetchers:new Map(O.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function un(C,D,L,q={}){let J=Ha(O.matches,D);ts(C),Ce({errors:{[J.route.id]:L},fetchers:new Map(O.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function da(C){return ie.set(C,(ie.get(C)||0)+1),ee.has(C)&&ee.delete(C),O.fetchers.get(C)||GT}function ts(C){let D=O.fetchers.get(C);G.has(C)&&!(D&&D.state==="loading"&&ce.has(C))&&Bn(C),j.delete(C),ce.delete(C),T.delete(C),ee.delete(C),et.delete(C),O.fetchers.delete(C)}function Hl(C){let D=(ie.get(C)||0)-1;D<=0?(ie.delete(C),ee.add(C)):ie.set(C,D),Ce({fetchers:new Map(O.fetchers)})}function Bn(C){let D=G.get(C);D&&(D.abort(),G.delete(C))}function Pl(C){for(let D of C){let L=da(D),q=Ji(L.data);O.fetchers.set(D,q)}}function Oi(){let C=[],D=!1;for(let L of T){let q=O.fetchers.get(L);xe(q,`Expected fetcher: ${L}`),q.state==="loading"&&(T.delete(L),C.push(L),D=!0)}return Pl(C),D}function Ht(C){let D=[];for(let[L,q]of ce)if(q<C){let J=O.fetchers.get(L);xe(J,`Expected fetcher: ${L}`),J.state==="loading"&&(Bn(L),ce.delete(L),D.push(L))}return Pl(D),D.length>0}function $u(C,D){let L=O.blockers.get(C)||Ws;return $.get(C)!==D&&$.set(C,D),L}function An(C){O.blockers.delete(C),$.delete(C)}function Tt(C,D){let L=O.blockers.get(C)||Ws;xe(L.state==="unblocked"&&D.state==="blocked"||L.state==="blocked"&&D.state==="blocked"||L.state==="blocked"&&D.state==="proceeding"||L.state==="blocked"&&D.state==="unblocked"||L.state==="proceeding"&&D.state==="unblocked",`Invalid blocker state transition: ${L.state} -> ${D.state}`);let q=new Map(O.blockers);q.set(C,D),Ce({blockers:q})}function Bl({currentLocation:C,nextLocation:D,historyAction:L}){if($.size===0)return;$.size>1&&zt(!1,"A router only supports one blocker at a time");let q=Array.from($.entries()),[J,oe]=q[q.length-1],ve=O.blockers.get(J);if(!(ve&&ve.state==="proceeding")&&oe({currentLocation:C,nextLocation:D,historyAction:L}))return J}function ns(C){let D=Cn(404,{pathname:C}),L=f||u,{matches:q,route:J}=F_(L);return{notFoundMatches:q,route:J,error:D}}function Wu(C,D,L){if(S=C,H=D,A=L||null,!z&&O.navigation===ud){z=!0;let q=jn(O.location,O.matches);q!=null&&Ce({restoreScrollPosition:q})}return()=>{S=null,H=null,A=null}}function ha(C,D){return A&&A(C,D.map(q=>bT(q,O.loaderData)))||C.key}function ir(C,D){if(S&&H){let L=ha(C,D);S[L]=H()}}function jn(C,D){if(S){let L=ha(C,D),q=S[L];if(typeof q=="number")return q}return null}function ti(C,D,L){if(p)if(C){if(Object.keys(C[0].params).length>0)return{active:!0,matches:tu(D,L,h,!0)}}else return{active:!0,matches:tu(D,L,h,!0)||[]};return{active:!1,matches:null}}async function Vn(C,D,L){if(!p)return{type:"success",matches:C};let q=C;for(;;){let J=f==null,oe=f||u,ve=o;try{await p({path:D,matches:q,patch:(K,re)=>{L.aborted||P_(K,re,oe,ve,s)}})}catch(K){return{type:"error",error:K,partialMatches:q}}finally{J&&!L.aborted&&(u=[...u])}if(L.aborted)return{type:"aborted"};let te=ea(oe,D,h);if(te)return{type:"success",matches:te};let ae=tu(oe,D,h,!0);if(!ae||q.length===ae.length&&q.every((K,re)=>K.route.id===ae[re].route.id))return{type:"success",matches:null};q=ae}}function Zu(C){o={},f=lu(C,s,void 0,o)}function jl(C,D){let L=f==null;P_(C,D,f||u,o,s),L&&(u=[...u],Ce({}))}return W={get basename(){return h},get future(){return y},get state(){return O},get routes(){return u},get window(){return e},initialize:yt,subscribe:rt,enableScrollRestoration:Wu,navigate:Ni,fetch:Wr,revalidate:Pn,createHref:C=>i.history.createHref(C),encodeLocation:C=>i.history.encodeLocation(C),getFetcher:da,deleteFetcher:Hl,dispose:Ue,getBlocker:$u,deleteBlocker:An,patchRoutes:jl,_internalFetchControllers:G,_internalSetRoutes:Zu},W}function QT(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function Dd(i,e,a,s,o,u){let f,h;if(o){f=[];for(let p of e)if(f.push(p),p.route.id===o){h=p;break}}else f=e,h=e[e.length-1];let m=Jd(s||".",Zd(f),zn(i.pathname,a)||i.pathname,u==="path");if(s==null&&(m.search=i.search,m.hash=i.hash),(s==null||s===""||s===".")&&h){let p=th(m.search);if(h.route.index&&!p)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&p){let y=new URLSearchParams(m.search),v=y.getAll("index");y.delete("index"),v.filter(S=>S).forEach(S=>y.append("index",S));let E=y.toString();m.search=E?`?${E}`:""}}return a!=="/"&&(m.pathname=m.pathname==="/"?a:Xn([a,m.pathname])),sa(m)}function U_(i,e,a){if(!a||!QT(a))return{path:e};if(a.formMethod&&!rC(a.formMethod))return{path:e,error:Cn(405,{method:a.formMethod})};let s=()=>({path:e,error:Cn(400,{type:"invalid-body"})}),u=(a.formMethod||"get").toUpperCase(),f=gv(e);if(a.body!==void 0){if(a.formEncType==="text/plain"){if(!xn(u))return s();let v=typeof a.body=="string"?a.body:a.body instanceof FormData||a.body instanceof URLSearchParams?Array.from(a.body.entries()).reduce((E,[S,A])=>`${E}${S}=${A}
`,""):String(a.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:a.formEncType,formData:void 0,json:void 0,text:v}}}else if(a.formEncType==="application/json"){if(!xn(u))return s();try{let v=typeof a.body=="string"?JSON.parse(a.body):a.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:a.formEncType,formData:void 0,json:v,text:void 0}}}catch{return s()}}}xe(typeof FormData=="function","FormData is not available in this environment");let h,m;if(a.formData)h=Md(a.formData),m=a.formData;else if(a.body instanceof FormData)h=Md(a.body),m=a.body;else if(a.body instanceof URLSearchParams)h=a.body,m=j_(h);else if(a.body==null)h=new URLSearchParams,m=new FormData;else try{h=new URLSearchParams(a.body),m=j_(h)}catch{return s()}let p={formMethod:u,formAction:f,formEncType:a&&a.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(xn(p.formMethod))return{path:e,submission:p};let y=ca(e);return i&&y.search&&th(y.search)&&h.append("index",""),y.search=`?${h}`,{path:sa(y),submission:p}}function k_(i,e,a=!1){let s=i.findIndex(o=>o.route.id===e);return s>=0?i.slice(0,a?s+1:s):i}function z_(i,e,a,s,o,u,f,h,m,p,y,v,E,S){let A=S?rn(S[1])?S[1].error:S[1].data:void 0,H=i.createURL(e.location),z=i.createURL(o),P=a;u&&e.errors?P=k_(a,Object.keys(e.errors)[0],!0):S&&rn(S[1])&&(P=k_(a,S[0]));let F=S?S[1].statusCode:void 0,Z=F&&F>=400,he=P.filter((O,ye)=>{let{route:be}=O;if(be.lazy)return!0;if(be.loader==null)return!1;if(u)return Od(be,e.loaderData,e.errors);if(XT(e.loaderData,e.matches[ye],O))return!0;let Y=e.matches[ye],se=O;return H_(O,{currentUrl:H,currentParams:Y.params,nextUrl:z,nextParams:se.params,...s,actionResult:A,actionStatus:F,defaultShouldRevalidate:Z?!1:f||H.pathname+H.search===z.pathname+z.search||H.search!==z.search||KT(Y,se)})}),W=[];return p.forEach((O,ye)=>{if(u||!a.some(Ot=>Ot.route.id===O.routeId)||m.has(ye))return;let be=ea(v,O.path,E);if(!be){W.push({key:ye,routeId:O.routeId,path:O.path,matches:null,match:null,controller:null});return}let Y=e.fetchers.get(ye),se=al(be,O.path),Pe=!1;y.has(ye)?Pe=!1:h.has(ye)?(h.delete(ye),Pe=!0):Y&&Y.state!=="idle"&&Y.data===void 0?Pe=f:Pe=H_(se,{currentUrl:H,currentParams:e.matches[e.matches.length-1].params,nextUrl:z,nextParams:a[a.length-1].params,...s,actionResult:A,actionStatus:F,defaultShouldRevalidate:Z?!1:f}),Pe&&W.push({key:ye,routeId:O.routeId,path:O.path,matches:be,match:se,controller:new AbortController})}),[he,W]}function Od(i,e,a){if(i.lazy)return!0;if(!i.loader)return!1;let s=e!=null&&e[i.id]!==void 0,o=a!=null&&a[i.id]!==void 0;return!s&&o?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!s&&!o}function XT(i,e,a){let s=!e||a.route.id!==e.route.id,o=!i.hasOwnProperty(a.route.id);return s||o}function KT(i,e){let a=i.route.path;return i.pathname!==e.pathname||a!=null&&a.endsWith("*")&&i.params["*"]!==e.params["*"]}function H_(i,e){if(i.route.shouldRevalidate){let a=i.route.shouldRevalidate(e);if(typeof a=="boolean")return a}return e.defaultShouldRevalidate}function P_(i,e,a,s,o){let u;if(i){let m=s[i];xe(m,`No route found to patch children into: routeId = ${i}`),m.children||(m.children=[]),u=m.children}else u=a;let f=e.filter(m=>!u.some(p=>pv(m,p))),h=lu(f,o,[i||"_","patch",String((u==null?void 0:u.length)||"0")],s);u.push(...h)}function pv(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((a,s)=>{var o;return(o=e.children)==null?void 0:o.some(u=>pv(a,u))}):!1}async function $T(i,e,a){if(!i.lazy)return;let s=await i.lazy();if(!i.lazy)return;let o=a[i.id];xe(o,"No route found in manifest");let u={};for(let f in s){let m=o[f]!==void 0&&f!=="hasErrorBoundary";zt(!m,`Route "${o.id}" has a static property "${f}" defined but its lazy function is also returning a value for this property. The lazy route property "${f}" will be ignored.`),!m&&!vT.has(f)&&(u[f]=s[f])}Object.assign(o,u),Object.assign(o,{...e(o),lazy:void 0})}async function WT({matches:i}){let e=i.filter(s=>s.shouldLoad);return(await Promise.all(e.map(s=>s.resolve()))).reduce((s,o,u)=>Object.assign(s,{[e[u].route.id]:o}),{})}async function ZT(i,e,a,s,o,u,f,h,m,p){let y=u.map(S=>S.route.lazy?$T(S.route,m,h):void 0),v=u.map((S,A)=>{let H=y[A],z=o.some(F=>F.route.id===S.route.id);return{...S,shouldLoad:z,resolve:async F=>(F&&s.method==="GET"&&(S.route.lazy||S.route.loader)&&(z=!0),z?JT(e,s,S,H,F,p):Promise.resolve({type:"data",result:void 0}))}}),E=await i({matches:v,request:s,params:u[0].params,fetcherKey:f,context:p});try{await Promise.all(y)}catch{}return E}async function JT(i,e,a,s,o,u){let f,h,m=p=>{let y,v=new Promise((A,H)=>y=H);h=()=>y(),e.signal.addEventListener("abort",h);let E=A=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${i}" [routeId: ${a.route.id}]`)):p({request:e,params:a.params,context:u},...A!==void 0?[A]:[]),S=(async()=>{try{return{type:"data",result:await(o?o(H=>E(H)):E())}}catch(A){return{type:"error",result:A}}})();return Promise.race([S,v])};try{let p=a.route[i];if(s)if(p){let y,[v]=await Promise.all([m(p).catch(E=>{y=E}),s]);if(y!==void 0)throw y;f=v}else if(await s,p=a.route[i],p)f=await m(p);else if(i==="action"){let y=new URL(e.url),v=y.pathname+y.search;throw Cn(405,{method:e.method,pathname:v,routeId:a.route.id})}else return{type:"data",result:void 0};else if(p)f=await m(p);else{let y=new URL(e.url),v=y.pathname+y.search;throw Cn(404,{pathname:v})}}catch(p){return{type:"error",result:p}}finally{h&&e.signal.removeEventListener("abort",h)}return f}async function eC(i){var s,o,u,f,h,m;let{result:e,type:a}=i;if(_v(e)){let p;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(y){return{type:"error",error:y}}return a==="error"?{type:"error",error:new uu(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return a==="error"?Y_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new uu(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:pl(e)?e.status:void 0,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:pl(e)?e.status:void 0}:Y_(e)?{type:"data",data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(m=e.init)!=null&&m.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function tC(i,e,a,s,o){let u=i.headers.get("Location");if(xe(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!eh.test(u)){let f=s.slice(0,s.findIndex(h=>h.route.id===a)+1);u=Dd(new URL(e.url),f,o,u),i.headers.set("Location",u)}return i}function B_(i,e,a){if(eh.test(i)){let s=i,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),u=zn(o.pathname,a)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return i}function kr(i,e,a,s){let o=i.createURL(gv(e)).toString(),u={signal:a};if(s&&xn(s.formMethod)){let{formMethod:f,formEncType:h}=s;u.method=f.toUpperCase(),h==="application/json"?(u.headers=new Headers({"Content-Type":h}),u.body=JSON.stringify(s.json)):h==="text/plain"?u.body=s.text:h==="application/x-www-form-urlencoded"&&s.formData?u.body=Md(s.formData):u.body=s.formData}return new Request(o,u)}function Md(i){let e=new URLSearchParams;for(let[a,s]of i.entries())e.append(a,typeof s=="string"?s:s.name);return e}function j_(i){let e=new FormData;for(let[a,s]of i.entries())e.append(a,s);return e}function nC(i,e,a,s=!1,o=!1){let u={},f=null,h,m=!1,p={},y=a&&rn(a[1])?a[1].error:void 0;return i.forEach(v=>{if(!(v.route.id in e))return;let E=v.route.id,S=e[E];if(xe(!Ba(S),"Cannot handle redirect results in processLoaderData"),rn(S)){let A=S.error;if(y!==void 0&&(A=y,y=void 0),f=f||{},o)f[E]=A;else{let H=Ha(i,E);f[H.route.id]==null&&(f[H.route.id]=A)}s||(u[E]=mv),m||(m=!0,h=pl(S.error)?S.error.status:500),S.headers&&(p[E]=S.headers)}else u[E]=S.data,S.statusCode&&S.statusCode!==200&&!m&&(h=S.statusCode),S.headers&&(p[E]=S.headers)}),y!==void 0&&a&&(f={[a[0]]:y},u[a[0]]=void 0),{loaderData:u,errors:f,statusCode:h||200,loaderHeaders:p}}function V_(i,e,a,s,o,u){let{loaderData:f,errors:h}=nC(e,a,s);return o.forEach(m=>{let{key:p,match:y,controller:v}=m,E=u[p];if(xe(E,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(rn(E)){let S=Ha(i.matches,y==null?void 0:y.route.id);h&&h[S.route.id]||(h={...h,[S.route.id]:E.error}),i.fetchers.delete(p)}else if(Ba(E))xe(!1,"Unhandled fetcher revalidation redirect");else{let S=Ji(E.data);i.fetchers.set(p,S)}}),{loaderData:f,errors:h}}function q_(i,e,a,s){let o=Object.entries(e).filter(([,u])=>u!==mv).reduce((u,[f,h])=>(u[f]=h,u),{});for(let u of a){let f=u.route.id;if(!e.hasOwnProperty(f)&&i.hasOwnProperty(f)&&u.route.loader&&(o[f]=i[f]),s&&s.hasOwnProperty(f))break}return o}function G_(i){return i?rn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function Ha(i,e){return(e?i.slice(0,i.findIndex(s=>s.route.id===e)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function F_(i){let e=i.length===1?i[0]:i.find(a=>a.index||!a.path||a.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Cn(i,{pathname:e,routeId:a,method:s,type:o,message:u}={}){let f="Unknown Server Error",h="Unknown @remix-run/router error";return i===400?(f="Bad Request",s&&e&&a?h=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${a}", so there is no way to handle the request.`:o==="invalid-body"&&(h="Unable to encode submission body")):i===403?(f="Forbidden",h=`Route "${a}" does not match URL "${e}"`):i===404?(f="Not Found",h=`No route matches URL "${e}"`):i===405&&(f="Method Not Allowed",s&&e&&a?h=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${a}", so there is no way to handle the request.`:s&&(h=`Invalid request method "${s.toUpperCase()}"`)),new uu(i||500,f,new Error(h),!0)}function $o(i){let e=Object.entries(i);for(let a=e.length-1;a>=0;a--){let[s,o]=e[a];if(Ba(o))return{key:s,result:o}}}function gv(i){let e=typeof i=="string"?ca(i):i;return sa({...e,hash:""})}function iC(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function aC(i){return _v(i.result)&&VT.has(i.result.status)}function rn(i){return i.type==="error"}function Ba(i){return(i&&i.type)==="redirect"}function Y_(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function _v(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function rC(i){return jT.has(i.toUpperCase())}function xn(i){return PT.has(i.toUpperCase())}function th(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function al(i,e){let a=typeof e=="string"?ca(e).search:e.search;if(i[i.length-1].route.index&&th(a||""))return i[i.length-1];let s=fv(i);return s[s.length-1]}function Q_(i){let{formMethod:e,formAction:a,formEncType:s,text:o,formData:u,json:f}=i;if(!(!e||!a||!s)){if(o!=null)return{formMethod:e,formAction:a,formEncType:s,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:a,formEncType:s,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:a,formEncType:s,formData:void 0,json:f,text:void 0}}}function cd(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function sC(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Zs(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function lC(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function Ji(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function oC(i,e){try{let a=i.sessionStorage.getItem(hv);if(a){let s=JSON.parse(a);for(let[o,u]of Object.entries(s||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function uC(i,e){if(e.size>0){let a={};for(let[s,o]of e)a[s]=[...o];try{i.sessionStorage.setItem(hv,JSON.stringify(a))}catch(s){zt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function cC(){let i,e,a=new Promise((s,o)=>{i=async u=>{s(u);try{await a}catch{}},e=async u=>{o(u);try{await a}catch{}}});return{promise:a,resolve:i,reject:e}}var $a=M.createContext(null);$a.displayName="DataRouter";var Al=M.createContext(null);Al.displayName="DataRouterState";var nh=M.createContext({isTransitioning:!1});nh.displayName="ViewTransition";var yv=M.createContext(new Map);yv.displayName="Fetchers";var fC=M.createContext(null);fC.displayName="Await";var Zn=M.createContext(null);Zn.displayName="Navigation";var xu=M.createContext(null);xu.displayName="Location";var Jn=M.createContext({outlet:null,matches:[],isDataRoute:!1});Jn.displayName="Route";var ih=M.createContext(null);ih.displayName="RouteError";function dC(i,{relative:e}={}){xe(Nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=M.useContext(Zn),{hash:o,pathname:u,search:f}=Dl(i,{relative:e}),h=u;return a!=="/"&&(h=u==="/"?a:Xn([a,u])),s.createHref({pathname:h,search:f,hash:o})}function Nl(){return M.useContext(xu)!=null}function Wa(){return xe(Nl(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(xu).location}var vv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ev(i){M.useContext(Zn).static||M.useLayoutEffect(i)}function hC(){let{isDataRoute:i}=M.useContext(Jn);return i?NC():mC()}function mC(){xe(Nl(),"useNavigate() may be used only in the context of a <Router> component.");let i=M.useContext($a),{basename:e,navigator:a}=M.useContext(Zn),{matches:s}=M.useContext(Jn),{pathname:o}=Wa(),u=JSON.stringify(Zd(s)),f=M.useRef(!1);return Ev(()=>{f.current=!0}),M.useCallback((m,p={})=>{if(zt(f.current,vv),!f.current)return;if(typeof m=="number"){a.go(m);return}let y=Jd(m,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Xn([e,y.pathname])),(p.replace?a.replace:a.push)(y,p.state,p)},[e,a,u,o,i])}var pC=M.createContext(null);function gC(i){let e=M.useContext(Jn).outlet;return e&&M.createElement(pC.Provider,{value:i},e)}function Dl(i,{relative:e}={}){let{matches:a}=M.useContext(Jn),{pathname:s}=Wa(),o=JSON.stringify(Zd(a));return M.useMemo(()=>Jd(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function _C(i,e,a,s){xe(Nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=M.useContext(Zn),{matches:f}=M.useContext(Jn),h=f[f.length-1],m=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let F=v&&v.path||"";bv(p,!v||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let E=Wa(),S;S=E;let A=S.pathname||"/",H=A;if(y!=="/"){let F=y.replace(/^\//,"").split("/");H="/"+A.replace(/^\//,"").split("/").slice(F.length).join("/")}let z=!u&&a&&a.matches&&a.matches.length>0?a.matches:ea(i,{pathname:H});return zt(v||z!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),zt(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),SC(z&&z.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:Xn([y,o.encodeLocation?o.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?y:Xn([y,o.encodeLocation?o.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),f,a,s)}function yC(){let i=AC(),e=pl(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),a=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:u},"ErrorBoundary")," or"," ",M.createElement("code",{style:u},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),a?M.createElement("pre",{style:o},a):null,f)}var vC=M.createElement(yC,null),EC=class extends M.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?M.createElement(Jn.Provider,{value:this.props.routeContext},M.createElement(ih.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bC({routeContext:i,match:e,children:a}){let s=M.useContext($a);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Jn.Provider,{value:i},a)}function SC(i,e=[],a=null,s=null){if(i==null){if(!a)return null;if(a.errors)i=a.matches;else if(e.length===0&&!a.initialized&&a.matches.length>0)i=a.matches;else return null}let o=i,u=a==null?void 0:a.errors;if(u!=null){let m=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);xe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,h=-1;if(a)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:y,errors:v}=a,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||E){f=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((m,p,y)=>{let v,E=!1,S=null,A=null;a&&(v=u&&p.route.id?u[p.route.id]:void 0,S=p.route.errorElement||vC,f&&(h<0&&y===0?(bv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):h===y&&(E=!0,A=p.route.hydrateFallbackElement||null)));let H=e.concat(o.slice(0,y+1)),z=()=>{let P;return v?P=S:E?P=A:p.route.Component?P=M.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=m,M.createElement(bC,{match:p,routeContext:{outlet:m,matches:H,isDataRoute:a!=null},children:P})};return a&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?M.createElement(EC,{location:a.location,revalidation:a.revalidation,component:S,error:v,children:z(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):z()},null)}function ah(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TC(i){let e=M.useContext($a);return xe(e,ah(i)),e}function CC(i){let e=M.useContext(Al);return xe(e,ah(i)),e}function wC(i){let e=M.useContext(Jn);return xe(e,ah(i)),e}function rh(i){let e=wC(i),a=e.matches[e.matches.length-1];return xe(a.route.id,`${i} can only be used on routes that contain a unique "id"`),a.route.id}function RC(){return rh("useRouteId")}function AC(){var s;let i=M.useContext(ih),e=CC("useRouteError"),a=rh("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[a]}function NC(){let{router:i}=TC("useNavigate"),e=rh("useNavigate"),a=M.useRef(!1);return Ev(()=>{a.current=!0}),M.useCallback(async(o,u={})=>{zt(a.current,vv),a.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var X_={};function bv(i,e,a){!e&&!X_[i]&&(X_[i]=!0,zt(!1,a))}var K_={};function $_(i,e){!i&&!K_[e]&&(K_[e]=!0,console.warn(e))}function DC(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&zt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:M.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&zt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:M.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&zt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:M.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var OC=class{constructor(){this.status="pending",this.promise=new Promise((e,a)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",a(s))}})}};function MC({router:i,flushSync:e}){let[a,s]=M.useState(i.state),[o,u]=M.useState(),[f,h]=M.useState({isTransitioning:!1}),[m,p]=M.useState(),[y,v]=M.useState(),[E,S]=M.useState(),A=M.useRef(new Map),H=M.useCallback((Z,{deletedFetchers:he,flushSync:W,viewTransitionOpts:O})=>{Z.fetchers.forEach((be,Y)=>{be.data!==void 0&&A.current.set(Y,be.data)}),he.forEach(be=>A.current.delete(be)),$_(W===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ye=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if($_(O==null||ye,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!O||!ye){e&&W?e(()=>s(Z)):M.startTransition(()=>s(Z));return}if(e&&W){e(()=>{y&&(m&&m.resolve(),y.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let be=i.window.document.startViewTransition(()=>{e(()=>s(Z))});be.finished.finally(()=>{e(()=>{p(void 0),v(void 0),u(void 0),h({isTransitioning:!1})})}),e(()=>v(be));return}y?(m&&m.resolve(),y.skipTransition(),S({state:Z,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(u(Z),h({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[i.window,e,y,m]);M.useLayoutEffect(()=>i.subscribe(H),[i,H]),M.useEffect(()=>{f.isTransitioning&&!f.flushSync&&p(new OC)},[f]),M.useEffect(()=>{if(m&&o&&i.window){let Z=o,he=m.promise,W=i.window.document.startViewTransition(async()=>{M.startTransition(()=>s(Z)),await he});W.finished.finally(()=>{p(void 0),v(void 0),u(void 0),h({isTransitioning:!1})}),v(W)}},[o,m,i.window]),M.useEffect(()=>{m&&o&&a.location.key===o.location.key&&m.resolve()},[m,y,a.location,o]),M.useEffect(()=>{!f.isTransitioning&&E&&(u(E.state),h({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),S(void 0))},[f.isTransitioning,E]);let z=M.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:Z=>i.navigate(Z),push:(Z,he,W)=>i.navigate(Z,{state:he,preventScrollReset:W==null?void 0:W.preventScrollReset}),replace:(Z,he,W)=>i.navigate(Z,{replace:!0,state:he,preventScrollReset:W==null?void 0:W.preventScrollReset})}),[i]),P=i.basename||"/",F=M.useMemo(()=>({router:i,navigator:z,static:!1,basename:P}),[i,z,P]);return M.createElement(M.Fragment,null,M.createElement($a.Provider,{value:F},M.createElement(Al.Provider,{value:a},M.createElement(yv.Provider,{value:A.current},M.createElement(nh.Provider,{value:f},M.createElement(UC,{basename:P,location:a.location,navigationType:a.historyAction,navigator:z},M.createElement(xC,{routes:i.routes,future:i.future,state:a})))))),null)}var xC=M.memo(IC);function IC({routes:i,future:e,state:a}){return _C(i,void 0,a,e)}function LC(i){return gC(i.context)}function UC({basename:i="/",children:e=null,location:a,navigationType:s="POP",navigator:o,static:u=!1}){xe(!Nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),h=M.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof a=="string"&&(a=ca(a));let{pathname:m="/",search:p="",hash:y="",state:v=null,key:E="default"}=a,S=M.useMemo(()=>{let A=zn(m,f);return A==null?null:{location:{pathname:A,search:p,hash:y,state:v,key:E},navigationType:s}},[f,m,p,y,v,E,s]);return zt(S!=null,`<Router basename="${f}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:M.createElement(Zn.Provider,{value:h},M.createElement(xu.Provider,{children:e,value:S}))}var nu="get",iu="application/x-www-form-urlencoded";function Iu(i){return i!=null&&typeof i.tagName=="string"}function kC(i){return Iu(i)&&i.tagName.toLowerCase()==="button"}function zC(i){return Iu(i)&&i.tagName.toLowerCase()==="form"}function HC(i){return Iu(i)&&i.tagName.toLowerCase()==="input"}function PC(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function BC(i,e){return i.button===0&&(!e||e==="_self")&&!PC(i)}var Wo=null;function jC(){if(Wo===null)try{new FormData(document.createElement("form"),0),Wo=!1}catch{Wo=!0}return Wo}var VC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fd(i){return i!=null&&!VC.has(i)?(zt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${iu}"`),null):i}function qC(i,e){let a,s,o,u,f;if(zC(i)){let h=i.getAttribute("action");s=h?zn(h,e):null,a=i.getAttribute("method")||nu,o=fd(i.getAttribute("enctype"))||iu,u=new FormData(i)}else if(kC(i)||HC(i)&&(i.type==="submit"||i.type==="image")){let h=i.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||h.getAttribute("action");if(s=m?zn(m,e):null,a=i.getAttribute("formmethod")||h.getAttribute("method")||nu,o=fd(i.getAttribute("formenctype"))||fd(h.getAttribute("enctype"))||iu,u=new FormData(h,i),!jC()){let{name:p,type:y,value:v}=i;if(y==="image"){let E=p?`${p}.`:"";u.append(`${E}x`,"0"),u.append(`${E}y`,"0")}else p&&u.append(p,v)}}else{if(Iu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=nu,s=null,o=iu,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:a.toLowerCase(),encType:o,formData:u,body:f}}function sh(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function GC(i,e){if(i.id in e)return e[i.id];try{let a=await import(i.module);return e[i.id]=a,a}catch(a){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FC(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function YC(i,e,a){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await GC(u,a);return f.links?f.links():[]}return[]}));return $C(s.flat(1).filter(FC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function W_(i,e,a,s,o,u){let f=(m,p)=>a[p]?m.route.id!==a[p].route.id:!0,h=(m,p)=>{var y;return a[p].pathname!==m.pathname||((y=a[p].route.path)==null?void 0:y.endsWith("*"))&&a[p].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,p)=>f(m,p)||h(m,p)):u==="data"?e.filter((m,p)=>{var v;let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(f(m,p)||h(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=a[0])==null?void 0:v.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function QC(i,e){return XC(i.map(a=>{let s=e.routes[a.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function XC(i){return[...new Set(i)]}function KC(i){let e={},a=Object.keys(i).sort();for(let s of a)e[s]=i[s];return e}function $C(i,e){let a=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(KC(o));return a.has(u)||(a.add(u),s.push({key:u,link:o})),s},[])}function WC(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function ZC(){let i=M.useContext($a);return sh(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function JC(){let i=M.useContext(Al);return sh(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var lh=M.createContext(void 0);lh.displayName="FrameworkContext";function Sv(){let i=M.useContext(lh);return sh(i,"You must render this element inside a <HydratedRouter> element"),i}function ew(i,e){let a=M.useContext(lh),[s,o]=M.useState(!1),[u,f]=M.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,E=M.useRef(null);M.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let H=P=>{P.forEach(F=>{f(F.isIntersecting)})},z=new IntersectionObserver(H,{threshold:.5});return E.current&&z.observe(E.current),()=>{z.disconnect()}}},[i]),M.useEffect(()=>{if(s){let H=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(H)}}},[s]);let S=()=>{o(!0)},A=()=>{o(!1),f(!1)};return a?i!=="intent"?[u,E,{}]:[u,E,{onFocus:Js(h,S),onBlur:Js(m,A),onMouseEnter:Js(p,S),onMouseLeave:Js(y,A),onTouchStart:Js(v,S)}]:[!1,E,{}]}function Js(i,e){return a=>{i&&i(a),a.defaultPrevented||e(a)}}function tw({page:i,...e}){let{router:a}=ZC(),s=M.useMemo(()=>ea(a.routes,i,a.basename),[a.routes,i,a.basename]);return s?M.createElement(iw,{page:i,matches:s,...e}):null}function nw(i){let{manifest:e,routeModules:a}=Sv(),[s,o]=M.useState([]);return M.useEffect(()=>{let u=!1;return YC(i,e,a).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,a]),s}function iw({page:i,matches:e,...a}){let s=Wa(),{manifest:o,routeModules:u}=Sv(),{loaderData:f,matches:h}=JC(),m=M.useMemo(()=>W_(i,e,h,o,s,"data"),[i,e,h,o,s]),p=M.useMemo(()=>W_(i,e,h,o,s,"assets"),[i,e,h,o,s]),y=M.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let S=new Set,A=!1;if(e.forEach(z=>{var F;let P=o.routes[z.route.id];!P||!P.hasLoader||(!m.some(Z=>Z.route.id===z.route.id)&&z.route.id in f&&((F=u[z.route.id])!=null&&F.shouldRevalidate)||P.hasClientLoader?A=!0:S.add(z.route.id))}),S.size===0)return[];let H=WC(i);return A&&S.size>0&&H.searchParams.set("_routes",e.filter(z=>S.has(z.route.id)).map(z=>z.route.id).join(",")),[H.pathname+H.search]},[f,s,o,m,e,i,u]),v=M.useMemo(()=>QC(p,o),[p,o]),E=nw(p);return M.createElement(M.Fragment,null,y.map(S=>M.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...a})),v.map(S=>M.createElement("link",{key:S,rel:"modulepreload",href:S,...a})),E.map(({key:S,link:A})=>M.createElement("link",{key:S,...A})))}function aw(...i){return e=>{i.forEach(a=>{typeof a=="function"?a(e):a!=null&&(a.current=e)})}}var Tv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Tv&&(window.__reactRouterVersion="7.1.5")}catch{}function rw(i,e){return YT({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:gT({window:e==null?void 0:e.window}),hydrationData:sw(),routes:i,mapRouteProperties:DC,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function sw(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:lw(i.errors)}),i}function lw(i){if(!i)return null;let e=Object.entries(i),a={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")a[s]=new uu(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let f=new u(o.message);f.stack="",a[s]=f}catch{}}if(a[s]==null){let u=new Error(o.message);u.stack="",a[s]=u}}else a[s]=o;return a}var Cv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pa=M.forwardRef(function({onClick:e,discover:a="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:h,target:m,to:p,preventScrollReset:y,viewTransition:v,...E},S){let{basename:A}=M.useContext(Zn),H=typeof p=="string"&&Cv.test(p),z,P=!1;if(typeof p=="string"&&H&&(z=p,Tv))try{let Y=new URL(window.location.href),se=p.startsWith("//")?new URL(Y.protocol+p):new URL(p),Pe=zn(se.pathname,A);se.origin===Y.origin&&Pe!=null?p=Pe+se.search+se.hash:P=!0}catch{zt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=dC(p,{relative:o}),[Z,he,W]=ew(s,E),O=fw(p,{replace:f,state:h,target:m,preventScrollReset:y,relative:o,viewTransition:v});function ye(Y){e&&e(Y),Y.defaultPrevented||O(Y)}let be=M.createElement("a",{...E,...W,href:z||F,onClick:P||u?e:ye,ref:aw(S,he),target:m,"data-discover":!H&&a==="render"?"true":void 0});return Z&&!H?M.createElement(M.Fragment,null,be,M.createElement(tw,{page:F})):be});Pa.displayName="Link";var ow=M.forwardRef(function({"aria-current":e="page",caseSensitive:a=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:h,children:m,...p},y){let v=Dl(f,{relative:p.relative}),E=Wa(),S=M.useContext(Al),{navigator:A,basename:H}=M.useContext(Zn),z=S!=null&&gw(v)&&h===!0,P=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,F=E.pathname,Z=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;a||(F=F.toLowerCase(),Z=Z?Z.toLowerCase():null,P=P.toLowerCase()),Z&&H&&(Z=zn(Z,H)||Z);const he=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let W=F===P||!o&&F.startsWith(P)&&F.charAt(he)==="/",O=Z!=null&&(Z===P||!o&&Z.startsWith(P)&&Z.charAt(P.length)==="/"),ye={isActive:W,isPending:O,isTransitioning:z},be=W?e:void 0,Y;typeof s=="function"?Y=s(ye):Y=[s,W?"active":null,O?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let se=typeof u=="function"?u(ye):u;return M.createElement(Pa,{...p,"aria-current":be,className:Y,ref:y,style:se,to:f,viewTransition:h},typeof m=="function"?m(ye):m)});ow.displayName="NavLink";var uw=M.forwardRef(({discover:i="render",fetcherKey:e,navigate:a,reloadDocument:s,replace:o,state:u,method:f=nu,action:h,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:v,...E},S)=>{let A=mw(),H=pw(h,{relative:p}),z=f.toLowerCase()==="get"?"get":"post",P=typeof h=="string"&&Cv.test(h),F=Z=>{if(m&&m(Z),Z.defaultPrevented)return;Z.preventDefault();let he=Z.nativeEvent.submitter,W=(he==null?void 0:he.getAttribute("formmethod"))||f;A(he||Z.currentTarget,{fetcherKey:e,method:W,navigate:a,replace:o,state:u,relative:p,preventScrollReset:y,viewTransition:v})};return M.createElement("form",{ref:S,method:z,action:H,onSubmit:s?m:F,...E,"data-discover":!P&&i==="render"?"true":void 0})});uw.displayName="Form";function cw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wv(i){let e=M.useContext($a);return xe(e,cw(i)),e}function fw(i,{target:e,replace:a,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let h=hC(),m=Wa(),p=Dl(i,{relative:u});return M.useCallback(y=>{if(BC(y,e)){y.preventDefault();let v=a!==void 0?a:sa(m)===sa(p);h(i,{replace:v,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[m,h,p,a,s,e,i,o,u,f])}var dw=0,hw=()=>`__${String(++dw)}__`;function mw(){let{router:i}=wv("useSubmit"),{basename:e}=M.useContext(Zn),a=RC();return M.useCallback(async(s,o={})=>{let{action:u,method:f,encType:h,formData:m,body:p}=qC(s,e);if(o.navigate===!1){let y=o.fetcherKey||hw();await i.fetch(y,a,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||f,formEncType:o.encType||h,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||f,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:a,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,a])}function pw(i,{relative:e}={}){let{basename:a}=M.useContext(Zn),s=M.useContext(Jn);xe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Dl(i||".",{relative:e})},f=Wa();if(i==null){u.search=f.search;let h=new URLSearchParams(u.search),m=h.getAll("index");if(m.some(y=>y==="")){h.delete("index"),m.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();u.search=y?`?${y}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:Xn([a,u.pathname])),sa(u)}function gw(i,e={}){let a=M.useContext(nh);xe(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=wv("useViewTransitionState"),o=Dl(i,{relative:e.relative});if(!a.isTransitioning)return!1;let u=zn(a.currentLocation.pathname,s)||a.currentLocation.pathname,f=zn(a.nextLocation.pathname,s)||a.nextLocation.pathname;return ou(o.pathname,f)!=null||ou(o.pathname,u)!=null}new TextEncoder;var _w=ov();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yw(i){return M.createElement(MC,{flushSync:_w.flushSync,...i})}const xd=M.createContext(),Rv=M.createContext(),Av=M.createContext(),Nv=M.createContext(),vw=({children:i})=>{console.log(" ScoreProvider is rendering!");const[e,a]=M.useState(0);return console.log(" ScoreProvider Value:",{score:e,setScore:a}),X.jsx(xd.Provider,{value:{score:e,setScore:a},children:i})},Ew=({children:i})=>{const[e,a]=M.useState(!0);return X.jsx(Rv.Provider,{value:{isRunning:e,setIsRunning:a},children:i})},bw=({children:i})=>{const[e,a]=M.useState(50);return X.jsx(Av.Provider,{value:{volume:e,setVolume:a},children:i})},Sw=({children:i})=>{const[e,a]=M.useState(1),s=()=>{a(o=>o%3+1)};return X.jsx(Nv.Provider,{value:{level:e,nextLevel:s},children:i})},oh=()=>{console.log(" Checking useScoreContext()..."),console.log(" Current ScoreContext Reference:",xd);const i=M.useContext(xd);if(!i)throw console.trace(" useScoreContext() was used outside of ScoreProvider!"),new Error(" useScoreContext() was used outside of ScoreProvider!");return i},Dv=()=>{console.log(" Checking useGameContext()");const i=M.useContext(Rv);return i||console.error(" useGameContext() was used outside of GameProvider!"),i},uh=()=>{console.log(" Checking useVolumeContext()");const i=M.useContext(Av);return i||console.error(" useVolumeContext() was used outside of VolumeProvider!"),i},ch=()=>{console.log(" Checking useLevelContext()");const i=M.useContext(Nv);if(!i)throw console.trace(" useLevelContext() was used outside of LevelProvider!"),new Error(" useLevelContext() was used outside of LevelProvider!");return i},Ov=({isPlaying:i})=>{const{volume:e}=uh(),a=M.useRef(null);return M.useEffect(()=>{a.current&&(a.current.volume=e/100)},[e]),M.useEffect(()=>{const s=a.current;s&&(i?(async()=>{try{await s.play()}catch(u){console.log(" Autoplay blocked, retrying on user interaction:",u)}})():(s.pause(),s.currentTime=0))},[i]),X.jsx("audio",{ref:a,src:"/static/TTD_01.mp3",preload:"auto",loop:!0})};console.log(" Navbar is mounting!");const Tw=()=>{console.log(" Navbar: Checking Contexts...");try{const{score:i}=oh(),{volume:e,setVolume:a}=uh();return console.log(" Navbar: Contexts loaded correctly."),X.jsxs("nav",{className:"navbar navbar-expand-lg bg-body-tertiary",children:[X.jsxs("div",{className:"container-fluid",children:[X.jsx(Pa,{className:"navbar-brand",to:"/",children:"Dino Dash"}),X.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:X.jsx("span",{className:"navbar-toggler-icon"})}),X.jsx("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:X.jsxs("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0 d-flex align-items-center",children:[X.jsx("li",{className:"nav-item",children:X.jsx(Pa,{className:"nav-link active","aria-current":"page",to:"/",children:"Home"})}),X.jsx("li",{className:"nav-item",children:X.jsx(Pa,{className:"nav-link",to:"/highscorespage",children:"High Scores"})}),X.jsx("li",{className:"nav-item",children:X.jsx(Pa,{className:"nav-link",to:"/adminpage",children:"Admin"})}),X.jsx("li",{className:"nav-item",children:X.jsx(Pa,{className:"nav-link",to:"/OptionsPage",children:"Options"})}),X.jsxs("div",{className:"nav-score",children:["Score: ",i]})]})}),X.jsxs("div",{className:"volume-control",children:[X.jsx("label",{htmlFor:"volume",children:"Volume:"}),X.jsx("input",{id:"volume",type:"range",min:"0",max:"100",value:e,onChange:s=>a(s.target.value)})]})]}),X.jsx(Ov,{volume:e})]})}catch(i){return console.error(" Navbar failed to load context:",i),X.jsx("h1",{children:"Navbar Error"})}};console.log(" Layout is mounting!");const Cw=()=>X.jsxs(X.Fragment,{children:[X.jsx(Tw,{})," ",X.jsx("div",{className:"container-fluid",children:X.jsx(LC,{})})]});var Z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q=function(i,e){if(!i)throw Qr(e)},Qr=function(i){return new Error("Firebase Database ("+Mv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=function(i){const e=[];let a=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[a++]=o:o<2048?(e[a++]=o>>6|192,e[a++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[a++]=o>>18|240,e[a++]=o>>12&63|128,e[a++]=o>>6&63|128,e[a++]=o&63|128):(e[a++]=o>>12|224,e[a++]=o>>6&63|128,e[a++]=o&63|128)}return e},ww=function(i){const e=[];let a=0,s=0;for(;a<i.length;){const o=i[a++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[a++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[a++],f=i[a++],h=i[a++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=i[a++],f=i[a++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},fh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,h=f?i[o+1]:0,m=o+2<i.length,p=m?i[o+2]:0,y=u>>2,v=(u&3)<<4|h>>4;let E=(h&15)<<2|p>>6,S=p&63;m||(S=64,f||(E=64)),s.push(a[y],a[v],a[E],a[S])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(xv(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):ww(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const a=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=a[i.charAt(o++)],h=o<i.length?a[i.charAt(o)]:0;++o;const p=o<i.length?a[i.charAt(o)]:64;++o;const v=o<i.length?a[i.charAt(o)]:64;if(++o,u==null||h==null||p==null||v==null)throw new Rw;const E=u<<2|h>>4;if(s.push(E),p!==64){const S=h<<4&240|p>>2;if(s.push(S),v!==64){const A=p<<6&192|v;s.push(A)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Rw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Iv=function(i){const e=xv(i);return fh.encodeByteArray(e,!0)},cu=function(i){return Iv(i).replace(/\./g,"")},fu=function(i){try{return fh.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(i){return Lv(void 0,i)}function Lv(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const a=e;return new Date(a.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const a in e)!e.hasOwnProperty(a)||!Nw(a)||(i[a]=Lv(i[a],e[a]));return i}function Nw(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=()=>Dw().__FIREBASE_DEFAULTS__,Mw=()=>{if(typeof process>"u"||typeof Z_>"u")return;const i=Z_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},xw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&fu(i[1]);return e&&JSON.parse(e)},dh=()=>{try{return Ow()||Mw()||xw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Iw=i=>{var e,a;return(a=(e=dh())===null||e===void 0?void 0:e.emulatorHosts)===null||a===void 0?void 0:a[i]},Lw=i=>{const e=Iw(i);if(!e)return;const a=e.lastIndexOf(":");if(a<=0||a+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(a+1),10);return e[0]==="["?[e.substring(1,a-1),s]:[e.substring(0,a),s]},Uv=()=>{var i;return(i=dh())===null||i===void 0?void 0:i.config},Uw=i=>{var e;return(e=dh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,a)=>{this.resolve=e,this.reject=a})}wrapCallback(e){return(a,s)=>{a?this.reject(a):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(a):e(a,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[cu(JSON.stringify(a)),cu(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function zw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kv(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function zv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hw(){return Mv.NODE_ADMIN===!0}function Hv(){try{return typeof indexedDB=="object"}catch{return!1}}function Pv(){return new Promise((i,e)=>{try{let a=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),a||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{a=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(a){e(a)}})}function Pw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="FirebaseError";class wi extends Error{constructor(e,a,s){super(a),this.code=e,this.customData=s,this.name=Bw,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Za.prototype.create)}}class Za{constructor(e,a,s){this.service=e,this.serviceName=a,this.errors=s}create(e,...a){const s=a[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?jw(u,s):"Error",h=`${this.serviceName}: ${f} (${o}).`;return new wi(o,h,s)}}function jw(i,e){return i.replace(Vw,(a,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Vw=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(i){return JSON.parse(i)}function bt(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=function(i){let e={},a={},s={},o="";try{const u=i.split(".");e=gl(fu(u[0])||""),a=gl(fu(u[1])||""),o=u[2],s=a.d||{},delete a.d}catch{}return{header:e,claims:a,data:s,signature:o}},qw=function(i){const e=Bv(i),a=e.claims;return!!a&&typeof a=="object"&&a.hasOwnProperty("iat")},Gw=function(i){const e=Bv(i).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function qr(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function J_(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function du(i,e,a){const s={};for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=e.call(a,i[o],o,i));return s}function hu(i,e){if(i===e)return!0;const a=Object.keys(i),s=Object.keys(e);for(const o of a){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(ey(u)&&ey(f)){if(!hu(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!a.includes(o))return!1;return!0}function ey(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(i){const e=[];for(const[a,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(a)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(a)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,a){a||(a=0);const s=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)s[v]=e.charCodeAt(a)<<24|e.charCodeAt(a+1)<<16|e.charCodeAt(a+2)<<8|e.charCodeAt(a+3),a+=4;else for(let v=0;v<16;v++)s[v]=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3],a+=4;for(let v=16;v<80;v++){const E=s[v-3]^s[v-8]^s[v-14]^s[v-16];s[v]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],f=this.chain_[2],h=this.chain_[3],m=this.chain_[4],p,y;for(let v=0;v<80;v++){v<40?v<20?(p=h^u&(f^h),y=1518500249):(p=u^f^h,y=1859775393):v<60?(p=u&f|h&(u|f),y=2400959708):(p=u^f^h,y=3395469782);const E=(o<<5|o>>>27)+p+m+y+s[v]&4294967295;m=h,h=f,f=(u<<30|u>>>2)&4294967295,u=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,a){if(e==null)return;a===void 0&&(a=e.length);const s=a-this.blockSize;let o=0;const u=this.buf_;let f=this.inbuf_;for(;o<a;){if(f===0)for(;o<=s;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<a;)if(u[f]=e.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}else for(;o<a;)if(u[f]=e[o],++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=a}digest(){const e=[];let a=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=a&255,a/=256;this.compress_(this.buf_);let s=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[o]>>u&255,++s;return e}}function Yw(i,e){const a=new Qw(i,e);return a.subscribe.bind(a)}class Qw{constructor(e,a){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=a,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(a=>{a.next(e)})}error(e){this.forEachObserver(a=>{a.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,a,s){let o;if(e===void 0&&a===void 0&&s===void 0)throw new Error("Missing Observer.");Xw(e,["next","error","complete"])?o=e:o={next:e,error:a,complete:s},o.next===void 0&&(o.next=dd),o.error===void 0&&(o.error=dd),o.complete===void 0&&(o.complete=dd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let a=0;a<this.observers.length;a++)this.sendOne(a,e)}sendOne(e,a){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{a(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xw(i,e){if(typeof i!="object"||i===null)return!1;for(const a of e)if(a in i&&typeof i[a]=="function")return!0;return!1}function dd(){}function ph(i,e){return`${i} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=function(i){const e=[];let a=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);if(o>=55296&&o<=56319){const u=o-55296;s++,Q(s<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(s)-56320;o=65536+(u<<10)+f}o<128?e[a++]=o:o<2048?(e[a++]=o>>6|192,e[a++]=o&63|128):o<65536?(e[a++]=o>>12|224,e[a++]=o>>6&63|128,e[a++]=o&63|128):(e[a++]=o>>18|240,e[a++]=o>>12&63|128,e[a++]=o>>6&63|128,e[a++]=o&63|128)}return e},Uu=function(i){let e=0;for(let a=0;a<i.length;a++){const s=i.charCodeAt(a);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,a++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=1e3,Ww=2,Zw=4*60*60*1e3,Jw=.5;function ty(i,e=$w,a=Ww){const s=e*Math.pow(a,i),o=Math.round(Jw*s*(Math.random()-.5)*2);return Math.min(Zw,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(i){return i&&i._delegate?i._delegate:i}class Hn{constructor(e,a,s){this.name=e,this.instanceFactory=a,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,a){this.name=e,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const a=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(a)){const s=new Lu;if(this.instancesDeferred.set(a,s),this.isInitialized(a)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:a});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(e){var a;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(a=e==null?void 0:e.optional)!==null&&a!==void 0?a:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nR(e))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...e.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ka){return this.instances.has(e)}getOptions(e=ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:a={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:a});for(const[u,f]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);s===h&&f.resolve(o)}return o}onInit(e,a){var s;const o=this.normalizeInstanceIdentifier(a),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,a){const s=this.onInitCallbacks.get(a);if(s)for(const o of s)try{o(e,a)}catch{}}getOrInitializeService({instanceIdentifier:e,options:a={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:tR(e),options:a}),this.instances.set(e,s),this.instancesOptions.set(e,a),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ka){return this.component?this.component.multipleInstances?e:ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tR(i){return i===ka?void 0:i}function nR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const a=this.getProvider(e.name);if(a.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);a.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const a=new eR(e,this);return this.providers.set(e,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ge||(Ge={}));const aR={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},rR=Ge.INFO,sR={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},lR=(i,e,...a)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=sR[e];if(o)console[o](`[${s}]  ${i.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ku{constructor(e){this.name=e,this._logLevel=rR,this._logHandler=lR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const oR=(i,e)=>e.some(a=>i instanceof a);let ny,iy;function uR(){return ny||(ny=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cR(){return iy||(iy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jv=new WeakMap,Id=new WeakMap,Vv=new WeakMap,hd=new WeakMap,gh=new WeakMap;function fR(i){const e=new Promise((a,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{a(na(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(a=>{a instanceof IDBCursor&&jv.set(a,i)}).catch(()=>{}),gh.set(e,i),e}function dR(i){if(Id.has(i))return;const e=new Promise((a,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{a(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Id.set(i,e)}let Ld={get(i,e,a){if(i instanceof IDBTransaction){if(e==="done")return Id.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Vv.get(i);if(e==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return na(i[e])},set(i,e,a){return i[e]=a,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function hR(i){Ld=i(Ld)}function mR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...a){const s=i.call(md(this),e,...a);return Vv.set(s,e.sort?e.sort():[e]),na(s)}:cR().includes(i)?function(...e){return i.apply(md(this),e),na(jv.get(this))}:function(...e){return na(i.apply(md(this),e))}}function pR(i){return typeof i=="function"?mR(i):(i instanceof IDBTransaction&&dR(i),oR(i,uR())?new Proxy(i,Ld):i)}function na(i){if(i instanceof IDBRequest)return fR(i);if(hd.has(i))return hd.get(i);const e=pR(i);return e!==i&&(hd.set(i,e),gh.set(e,i)),e}const md=i=>gh.get(i);function qv(i,e,{blocked:a,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),h=na(f);return s&&f.addEventListener("upgradeneeded",m=>{s(na(f.result),m.oldVersion,m.newVersion,na(f.transaction),m)}),a&&f.addEventListener("blocked",m=>a(m.oldVersion,m.newVersion,m)),h.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const gR=["get","getKey","getAll","getAllKeys","count"],_R=["put","add","delete","clear"],pd=new Map;function ay(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(pd.get(e))return pd.get(e);const a=e.replace(/FromIndex$/,""),s=e!==a,o=_R.includes(a);if(!(a in(s?IDBIndex:IDBObjectStore).prototype)||!(o||gR.includes(a)))return;const u=async function(f,...h){const m=this.transaction(f,o?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(h.shift())),(await Promise.all([p[a](...h),o&&m.done]))[0]};return pd.set(e,u),u}hR(i=>({...i,get:(e,a,s)=>ay(e,a)||i.get(e,a,s),has:(e,a)=>!!ay(e,a)||i.has(e,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(vR(a)){const s=a.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(a=>a).join(" ")}}function vR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ud="@firebase/app",ry="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new ku("@firebase/app"),ER="@firebase/app-compat",bR="@firebase/analytics-compat",SR="@firebase/analytics",TR="@firebase/app-check-compat",CR="@firebase/app-check",wR="@firebase/auth",RR="@firebase/auth-compat",AR="@firebase/database",NR="@firebase/data-connect",DR="@firebase/database-compat",OR="@firebase/functions",MR="@firebase/functions-compat",xR="@firebase/installations",IR="@firebase/installations-compat",LR="@firebase/messaging",UR="@firebase/messaging-compat",kR="@firebase/performance",zR="@firebase/performance-compat",HR="@firebase/remote-config",PR="@firebase/remote-config-compat",BR="@firebase/storage",jR="@firebase/storage-compat",VR="@firebase/firestore",qR="@firebase/vertexai",GR="@firebase/firestore-compat",FR="firebase",YR="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="[DEFAULT]",QR={[Ud]:"fire-core",[ER]:"fire-core-compat",[SR]:"fire-analytics",[bR]:"fire-analytics-compat",[CR]:"fire-app-check",[TR]:"fire-app-check-compat",[wR]:"fire-auth",[RR]:"fire-auth-compat",[AR]:"fire-rtdb",[NR]:"fire-data-connect",[DR]:"fire-rtdb-compat",[OR]:"fire-fn",[MR]:"fire-fn-compat",[xR]:"fire-iid",[IR]:"fire-iid-compat",[LR]:"fire-fcm",[UR]:"fire-fcm-compat",[kR]:"fire-perf",[zR]:"fire-perf-compat",[HR]:"fire-rc",[PR]:"fire-rc-compat",[BR]:"fire-gcs",[jR]:"fire-gcs-compat",[VR]:"fire-fst",[GR]:"fire-fst-compat",[qR]:"fire-vertex","fire-js":"fire-js",[FR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new Map,XR=new Map,zd=new Map;function sy(i,e){try{i.container.addComponent(e)}catch(a){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,a)}}function $n(i){const e=i.name;if(zd.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;zd.set(e,i);for(const a of mu.values())sy(a,i);for(const a of XR.values())sy(a,i);return!0}function Ol(i,e){const a=i.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),i.container.getProvider(e)}function rl(i){return i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ia=new Za("app","Firebase",KR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,a,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},a),this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ia.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=YR;function Gv(i,e={}){let a=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:kd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ia.create("bad-app-name",{appName:String(o)});if(a||(a=Uv()),!a)throw ia.create("no-options");const u=mu.get(o);if(u){if(hu(a,u.options)&&hu(s,u.config))return u;throw ia.create("duplicate-app",{appName:o})}const f=new iR(o);for(const m of zd.values())f.addComponent(m);const h=new $R(a,s,f);return mu.set(o,h),h}function Fv(i=kd){const e=mu.get(i);if(!e&&i===kd&&Uv())return Gv();if(!e)throw ia.create("no-app",{appName:i});return e}function wn(i,e,a){var s;let o=(s=QR[i])!==null&&s!==void 0?s:i;a&&(o+=`-${a}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const h=[`Unable to register library "${o}" with version "${e}":`];u&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&h.push("and"),f&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(h.join(" "));return}$n(new Hn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="firebase-heartbeat-database",ZR=1,_l="firebase-heartbeat-store";let gd=null;function Yv(){return gd||(gd=qv(WR,ZR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(_l)}catch(a){console.warn(a)}}}}).catch(i=>{throw ia.create("idb-open",{originalErrorMessage:i.message})})),gd}async function JR(i){try{const a=(await Yv()).transaction(_l),s=await a.objectStore(_l).get(Qv(i));return await a.done,s}catch(e){if(e instanceof wi)Ti.warn(e.message);else{const a=ia.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ti.warn(a.message)}}}async function ly(i,e){try{const s=(await Yv()).transaction(_l,"readwrite");await s.objectStore(_l).put(e,Qv(i)),await s.done}catch(a){if(a instanceof wi)Ti.warn(a.message);else{const s=ia.create("idb-set",{originalErrorMessage:a==null?void 0:a.message});Ti.warn(s.message)}}}function Qv(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=1024,tA=30*24*60*60*1e3;class nA{constructor(e){this.container=e,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new aA(a),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,a;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=oy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)===null||a===void 0?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const h=new Date(f.date).valueOf();return Date.now()-h<=tA}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Ti.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=oy(),{heartbeatsToSend:s,unsentEntries:o}=iA(this._heartbeatsCache.heartbeats),u=cu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=a,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(a){return Ti.warn(a),""}}}function oy(){return new Date().toISOString().substring(0,10)}function iA(i,e=eA){const a=[];let s=i.slice();for(const o of i){const u=a.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),uy(a)>e){u.dates.pop();break}}else if(a.push({agent:o.agent,dates:[o.date]}),uy(a)>e){a.pop();break}s=s.slice(1)}return{heartbeatsToSend:a,unsentEntries:s}}class aA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hv()?Pv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await JR(this.app);return a!=null&&a.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var a;if(await this._canUseIndexedDBPromise){const o=await this.read();return ly(this.app,{lastSentHeartbeatDate:(a=e.lastSentHeartbeatDate)!==null&&a!==void 0?a:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var a;if(await this._canUseIndexedDBPromise){const o=await this.read();return ly(this.app,{lastSentHeartbeatDate:(a=e.lastSentHeartbeatDate)!==null&&a!==void 0?a:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function uy(i){return cu(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(i){$n(new Hn("platform-logger",e=>new yR(e),"PRIVATE")),$n(new Hn("heartbeat",e=>new nA(e),"PRIVATE")),wn(Ud,ry,i),wn(Ud,ry,"esm2017"),wn("fire-js","")}rA("");var sA="firebase",lA="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn(sA,lA,"app");const Xv="@firebase/installations",_h="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=1e4,$v=`w:${_h}`,Wv="FIS_v2",oA="https://firebaseinstallations.googleapis.com/v1",uA=60*60*1e3,cA="installations",fA="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fa=new Za(cA,fA,dA);function Zv(i){return i instanceof wi&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv({projectId:i}){return`${oA}/projects/${i}/installations`}function eE(i){return{token:i.token,requestStatus:2,expiresIn:mA(i.expiresIn),creationTime:Date.now()}}async function tE(i,e){const s=(await e.json()).error;return Fa.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function nE({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function hA(i,{refreshToken:e}){const a=nE(i);return a.append("Authorization",pA(e)),a}async function iE(i){const e=await i();return e.status>=500&&e.status<600?i():e}function mA(i){return Number(i.replace("s","000"))}function pA(i){return`${Wv} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gA({appConfig:i,heartbeatServiceProvider:e},{fid:a}){const s=Jv(i),o=nE(i),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const f={fid:a,authVersion:Wv,appId:i.appId,sdkVersion:$v},h={method:"POST",headers:o,body:JSON.stringify(f)},m=await iE(()=>fetch(s,h));if(m.ok){const p=await m.json();return{fid:p.fid||a,registrationStatus:2,refreshToken:p.refreshToken,authToken:eE(p.authToken)}}else throw await tE("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=/^[cdef][\w-]{21}$/,Hd="";function vA(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const a=EA(i);return yA.test(a)?a:Hd}catch{return Hd}}function EA(i){return _A(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=new Map;function sE(i,e){const a=Hu(i);lE(a,e),bA(a,e)}function lE(i,e){const a=rE.get(i);if(a)for(const s of a)s(e)}function bA(i,e){const a=SA();a&&a.postMessage({key:i,fid:e}),TA()}let ja=null;function SA(){return!ja&&"BroadcastChannel"in self&&(ja=new BroadcastChannel("[Firebase] FID Change"),ja.onmessage=i=>{lE(i.data.key,i.data.fid)}),ja}function TA(){rE.size===0&&ja&&(ja.close(),ja=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="firebase-installations-database",wA=1,Ya="firebase-installations-store";let _d=null;function yh(){return _d||(_d=qv(CA,wA,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Ya)}}})),_d}async function pu(i,e){const a=Hu(i),o=(await yh()).transaction(Ya,"readwrite"),u=o.objectStore(Ya),f=await u.get(a);return await u.put(e,a),await o.done,(!f||f.fid!==e.fid)&&sE(i,e.fid),e}async function oE(i){const e=Hu(i),s=(await yh()).transaction(Ya,"readwrite");await s.objectStore(Ya).delete(e),await s.done}async function Pu(i,e){const a=Hu(i),o=(await yh()).transaction(Ya,"readwrite"),u=o.objectStore(Ya),f=await u.get(a),h=e(f);return h===void 0?await u.delete(a):await u.put(h,a),await o.done,h&&(!f||f.fid!==h.fid)&&sE(i,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(i){let e;const a=await Pu(i.appConfig,s=>{const o=RA(s),u=AA(i,o);return e=u.registrationPromise,u.installationEntry});return a.fid===Hd?{installationEntry:await e}:{installationEntry:a,registrationPromise:e}}function RA(i){const e=i||{fid:vA(),registrationStatus:0};return uE(e)}function AA(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Fa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const a={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=NA(i,a);return{installationEntry:a,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:DA(i)}:{installationEntry:e}}async function NA(i,e){try{const a=await gA(i,e);return pu(i.appConfig,a)}catch(a){throw Zv(a)&&a.customData.serverCode===409?await oE(i.appConfig):await pu(i.appConfig,{fid:e.fid,registrationStatus:0}),a}}async function DA(i){let e=await cy(i.appConfig);for(;e.registrationStatus===1;)await aE(100),e=await cy(i.appConfig);if(e.registrationStatus===0){const{installationEntry:a,registrationPromise:s}=await vh(i);return s||a}return e}function cy(i){return Pu(i,e=>{if(!e)throw Fa.create("installation-not-found");return uE(e)})}function uE(i){return OA(i)?{fid:i.fid,registrationStatus:0}:i}function OA(i){return i.registrationStatus===1&&i.registrationTime+Kv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA({appConfig:i,heartbeatServiceProvider:e},a){const s=xA(i,a),o=hA(i,a),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const f={installation:{sdkVersion:$v,appId:i.appId}},h={method:"POST",headers:o,body:JSON.stringify(f)},m=await iE(()=>fetch(s,h));if(m.ok){const p=await m.json();return eE(p)}else throw await tE("Generate Auth Token",m)}function xA(i,{fid:e}){return`${Jv(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(i,e=!1){let a;const s=await Pu(i.appConfig,u=>{if(!cE(u))throw Fa.create("not-registered");const f=u.authToken;if(!e&&UA(f))return u;if(f.requestStatus===1)return a=IA(i,e),u;{if(!navigator.onLine)throw Fa.create("app-offline");const h=zA(u);return a=LA(i,h),h}});return a?await a:s.authToken}async function IA(i,e){let a=await fy(i.appConfig);for(;a.authToken.requestStatus===1;)await aE(100),a=await fy(i.appConfig);const s=a.authToken;return s.requestStatus===0?Eh(i,e):s}function fy(i){return Pu(i,e=>{if(!cE(e))throw Fa.create("not-registered");const a=e.authToken;return HA(a)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function LA(i,e){try{const a=await MA(i,e),s=Object.assign(Object.assign({},e),{authToken:a});return await pu(i.appConfig,s),a}catch(a){if(Zv(a)&&(a.customData.serverCode===401||a.customData.serverCode===404))await oE(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await pu(i.appConfig,s)}throw a}}function cE(i){return i!==void 0&&i.registrationStatus===2}function UA(i){return i.requestStatus===2&&!kA(i)}function kA(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+uA}function zA(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function HA(i){return i.requestStatus===1&&i.requestTime+Kv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(i){const e=i,{installationEntry:a,registrationPromise:s}=await vh(e);return s?s.catch(console.error):Eh(e).catch(console.error),a.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BA(i,e=!1){const a=i;return await jA(a),(await Eh(a,e)).token}async function jA(i){const{registrationPromise:e}=await vh(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(i){if(!i||!i.options)throw yd("App Configuration");if(!i.name)throw yd("App Name");const e=["projectId","apiKey","appId"];for(const a of e)if(!i.options[a])throw yd(a);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function yd(i){return Fa.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="installations",qA="installations-internal",GA=i=>{const e=i.getProvider("app").getImmediate(),a=VA(e),s=Ol(e,"heartbeat");return{app:e,appConfig:a,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},FA=i=>{const e=i.getProvider("app").getImmediate(),a=Ol(e,fE).getImmediate();return{getId:()=>PA(a),getToken:o=>BA(a,o)}};function YA(){$n(new Hn(fE,GA,"PUBLIC")),$n(new Hn(qA,FA,"PRIVATE"))}YA();wn(Xv,_h);wn(Xv,_h,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu="analytics",QA="firebase_id",XA="origin",KA=60*1e3,$A="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bh="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt=new ku("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},sn=new Za("analytics","Analytics",WA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(i){if(!i.startsWith(bh)){const e=sn.create("invalid-gtag-resource",{gtagURL:i});return Kt.warn(e.message),""}return i}function dE(i){return Promise.all(i.map(e=>e.catch(a=>a)))}function JA(i,e){let a;return window.trustedTypes&&(a=window.trustedTypes.createPolicy(i,e)),a}function e1(i,e){const a=JA("firebase-js-sdk-policy",{createScriptURL:ZA}),s=document.createElement("script"),o=`${bh}?l=${i}&id=${e}`;s.src=a?a==null?void 0:a.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function t1(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function n1(i,e,a,s,o,u){const f=s[o];try{if(f)await e[f];else{const m=(await dE(a)).find(p=>p.measurementId===o);m&&await e[m.appId]}}catch(h){Kt.error(h)}i("config",o,u)}async function i1(i,e,a,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const h=await dE(a);for(const m of f){const p=h.find(v=>v.measurementId===m),y=p&&e[p.appId];if(y)u.push(y);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){Kt.error(u)}}function a1(i,e,a,s){async function o(u,...f){try{if(u==="event"){const[h,m]=f;await i1(i,e,a,h,m)}else if(u==="config"){const[h,m]=f;await n1(i,e,a,s,h,m)}else if(u==="consent"){const[h,m]=f;i("consent",h,m)}else if(u==="get"){const[h,m,p]=f;i("get",h,m,p)}else if(u==="set"){const[h]=f;i("set",h)}else i(u,...f)}catch(h){Kt.error(h)}}return o}function r1(i,e,a,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=a1(u,i,e,a),{gtagCore:u,wrappedGtag:window[o]}}function s1(i){const e=window.document.getElementsByTagName("script");for(const a of Object.values(e))if(a.src&&a.src.includes(bh)&&a.src.includes(i))return a;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=30,o1=1e3;class u1{constructor(e={},a=o1){this.throttleMetadata=e,this.intervalMillis=a}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,a){this.throttleMetadata[e]=a}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const hE=new u1;function c1(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function f1(i){var e;const{appId:a,apiKey:s}=i,o={method:"GET",headers:c1(s)},u=$A.replace("{app-id}",a),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let h="";try{const m=await f.json();!((e=m.error)===null||e===void 0)&&e.message&&(h=m.error.message)}catch{}throw sn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:h})}return f.json()}async function d1(i,e=hE,a){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw sn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw sn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new p1;return setTimeout(async()=>{h.abort()},KA),mE({appId:s,apiKey:o,measurementId:u},f,h,e)}async function mE(i,{throttleEndTimeMillis:e,backoffCount:a},s,o=hE){var u;const{appId:f,measurementId:h}=i;try{await h1(s,e)}catch(m){if(h)return Kt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:f,measurementId:h};throw m}try{const m=await f1(i);return o.deleteThrottleMetadata(f),m}catch(m){const p=m;if(!m1(p)){if(o.deleteThrottleMetadata(f),h)return Kt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:h};throw m}const y=Number((u=p==null?void 0:p.customData)===null||u===void 0?void 0:u.httpStatus)===503?ty(a,o.intervalMillis,l1):ty(a,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+y,backoffCount:a+1};return o.setThrottleMetadata(f,v),Kt.debug(`Calling attemptFetch again in ${y} millis`),mE(i,v,s,o)}}function h1(i,e){return new Promise((a,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(a,o);i.addEventListener(()=>{clearTimeout(u),s(sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function m1(i){if(!(i instanceof wi)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class p1{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function g1(i,e,a,s,o){if(o&&o.global){i("event",a,s);return}else{const u=await e,f=Object.assign(Object.assign({},s),{send_to:u});i("event",a,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(){if(Hv())try{await Pv()}catch(i){return Kt.warn(sn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return Kt.warn(sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function y1(i,e,a,s,o,u,f){var h;const m=d1(i);m.then(S=>{a[S.measurementId]=S.appId,i.options.measurementId&&S.measurementId!==i.options.measurementId&&Kt.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>Kt.error(S)),e.push(m);const p=_1().then(S=>{if(S)return s.getId()}),[y,v]=await Promise.all([m,p]);s1(u)||e1(u,y.measurementId),o("js",new Date);const E=(h=f==null?void 0:f.config)!==null&&h!==void 0?h:{};return E[XA]="firebase",E.update=!0,v!=null&&(E[QA]=v),o("config",y.measurementId,E),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.app=e}_delete(){return delete sl[this.app.options.appId],Promise.resolve()}}let sl={},dy=[];const hy={};let vd="dataLayer",E1="gtag",my,pE,py=!1;function b1(){const i=[];if(kv()&&i.push("This is a browser extension environment."),Pw()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),a=sn.create("invalid-analytics-context",{errorInfo:e});Kt.warn(a.message)}}function S1(i,e,a){b1();const s=i.options.appId;if(!s)throw sn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)Kt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw sn.create("no-api-key");if(sl[s]!=null)throw sn.create("already-exists",{id:s});if(!py){t1(vd);const{wrappedGtag:u,gtagCore:f}=r1(sl,dy,hy,vd,E1);pE=u,my=f,py=!0}return sl[s]=y1(i,dy,hy,e,my,vd,a),new v1(i)}function T1(i=Fv()){i=ln(i);const e=Ol(i,gu);return e.isInitialized()?e.getImmediate():C1(i)}function C1(i,e={}){const a=Ol(i,gu);if(a.isInitialized()){const o=a.getImmediate();if(hu(e,a.getOptions()))return o;throw sn.create("already-initialized")}return a.initialize({options:e})}function w1(i,e,a,s){i=ln(i),g1(pE,sl[i.app.options.appId],e,a,s).catch(o=>Kt.error(o))}const gy="@firebase/analytics",_y="0.10.11";function R1(){$n(new Hn(gu,(e,{options:a})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return S1(s,o,a)},"PUBLIC")),$n(new Hn("analytics-internal",i,"PRIVATE")),wn(gy,_y),wn(gy,_y,"esm2017");function i(e){try{const a=e.getProvider(gu).getImmediate();return{logEvent:(s,o,u)=>w1(a,s,o,u)}}catch(a){throw sn.create("interop-component-reg-failed",{reason:a})}}}R1();var yy={};const vy="@firebase/database",Ey="1.0.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gE="";function A1(i){gE=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,a){a==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),bt(a))}get(e){const a=this.domStorage_.getItem(this.prefixedName_(e));return a==null?null:gl(a)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,a){a==null?delete this.cache_[e]:this.cache_[e]=a}get(e){return Ri(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new N1(e)}}catch{}return new D1},Va=_E("localStorage"),O1=_E("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new ku("@firebase/database"),M1=function(){let i=1;return function(){return i++}}(),yE=function(i){const e=Kw(i),a=new Fw;a.update(e);const s=a.digest();return fh.encodeByteArray(s)},Ml=function(...i){let e="";for(let a=0;a<i.length;a++){const s=i[a];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Ml.apply(null,s):typeof s=="object"?e+=bt(s):e+=s,e+=" "}return e};let ll=null,by=!0;const x1=function(i,e){Q(!0,"Can't turn on custom loggers persistently."),Pr.logLevel=Ge.VERBOSE,ll=Pr.log.bind(Pr)},jt=function(...i){if(by===!0&&(by=!1,ll===null&&O1.get("logging_enabled")===!0&&x1()),ll){const e=Ml.apply(null,i);ll(e)}},xl=function(i){return function(...e){jt(i,...e)}},Pd=function(...i){const e="FIREBASE INTERNAL ERROR: "+Ml(...i);Pr.error(e)},Ci=function(...i){const e=`FIREBASE FATAL ERROR: ${Ml(...i)}`;throw Pr.error(e),new Error(e)},$t=function(...i){const e="FIREBASE WARNING: "+Ml(...i);Pr.warn(e)},I1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&$t("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},vE=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},L1=function(i){if(document.readyState==="complete")i();else{let e=!1;const a=function(){if(!document.body){setTimeout(a,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&a()}),window.attachEvent("onload",a))}},Gr="[MIN_NAME]",Qa="[MAX_NAME]",Xr=function(i,e){if(i===e)return 0;if(i===Gr||e===Qa)return-1;if(e===Gr||i===Qa)return 1;{const a=Sy(i),s=Sy(e);return a!==null?s!==null?a-s===0?i.length-e.length:a-s:-1:s!==null?1:i<e?-1:1}},U1=function(i,e){return i===e?0:i<e?-1:1},el=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+bt(e))},Sh=function(i){if(typeof i!="object"||i===null)return bt(i);const e=[];for(const s in i)e.push(s);e.sort();let a="{";for(let s=0;s<e.length;s++)s!==0&&(a+=","),a+=bt(e[s]),a+=":",a+=Sh(i[e[s]]);return a+="}",a},EE=function(i,e){const a=i.length;if(a<=e)return[i];const s=[];for(let o=0;o<a;o+=e)o+e>a?s.push(i.substring(o,a)):s.push(i.substring(o,o+e));return s};function Wt(i,e){for(const a in i)i.hasOwnProperty(a)&&e(a,i[a])}const bE=function(i){Q(!vE(i),"Invalid JSON number");const e=11,a=52,s=(1<<e-1)-1;let o,u,f,h,m;i===0?(u=0,f=0,o=1/i===-1/0?1:0):(o=i<0,i=Math.abs(i),i>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),s),u=h+s,f=Math.round(i*Math.pow(2,a-h)-Math.pow(2,a))):(u=0,f=Math.round(i/Math.pow(2,1-s-a))));const p=[];for(m=a;m;m-=1)p.push(f%2?1:0),f=Math.floor(f/2);for(m=e;m;m-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(o?1:0),p.reverse();const y=p.join("");let v="";for(m=0;m<64;m+=8){let E=parseInt(y.substr(m,8),2).toString(16);E.length===1&&(E="0"+E),v=v+E}return v.toLowerCase()},k1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},z1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function H1(i,e){let a="Unknown Error";i==="too_big"?a="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?a="Client doesn't have permission to access the desired data.":i==="unavailable"&&(a="The service is unavailable");const s=new Error(i+" at "+e._path.toString()+": "+a);return s.code=i.toUpperCase(),s}const P1=new RegExp("^-?(0*)\\d{1,10}$"),B1=-2147483648,j1=2147483647,Sy=function(i){if(P1.test(i)){const e=Number(i);if(e>=B1&&e<=j1)return e}return null},Kr=function(i){try{i()}catch(e){setTimeout(()=>{const a=e.stack||"";throw $t("Exception was thrown by user callback.",a),e},Math.floor(0))}},V1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ol=function(i,e){const a=setTimeout(i,e);return typeof a=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(a):typeof a=="object"&&a.unref&&a.unref(),a};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,a){this.appName_=e,this.appCheckProvider=a,this.appCheck=a==null?void 0:a.getImmediate({optional:!0}),this.appCheck||a==null||a.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((a,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(a,s):a(null)},0)})}addTokenChangeListener(e){var a;(a=this.appCheckProvider)===null||a===void 0||a.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){$t(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,a,s){this.appName_=e,this.firebaseOptions_=a,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(a=>a&&a.code==="auth/token-not-initialized"?(jt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)):new Promise((a,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(a,s):a(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(a=>a.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(a=>a.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$t(e)}}class au{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}au.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th="5",SE="v",TE="s",CE="r",wE="f",RE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,AE="ls",NE="p",Bd="ac",DE="websocket",OE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,a,s,o,u=!1,f="",h=!1,m=!1){this.secure=a,this.namespace=s,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Va.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Va.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",a=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${a}`}}function F1(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function xE(i,e,a){Q(typeof e=="string","typeof type must == string"),Q(typeof a=="object","typeof params must == object");let s;if(e===DE)s=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===OE)s=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);F1(i)&&(a.ns=i.namespace);const o=[];return Wt(a,(u,f)=>{o.push(u+"="+f)}),s+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.counters_={}}incrementCounter(e,a=1){Ri(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=a}get(){return Aw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed={},bd={};function Ch(i){const e=i.toString();return Ed[e]||(Ed[e]=new Y1),Ed[e]}function Q1(i,e){const a=i.toString();return bd[a]||(bd[a]=e()),bd[a]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,a){this.closeAfterResponse=e,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,a){for(this.pendingResponses[e]=a;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<s.length;++o)s[o]&&Kr(()=>{this.onMessage_(s[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="start",K1="close",$1="pLPCommand",W1="pRTLPCB",IE="id",LE="pw",UE="ser",Z1="cb",J1="seg",eN="ts",tN="d",nN="dframe",kE=1870,zE=30,iN=kE-zE,aN=25e3,rN=3e4;class Hr{constructor(e,a,s,o,u,f,h){this.connId=e,this.repoInfo=a,this.applicationId=s,this.appCheckToken=o,this.authToken=u,this.transportSessionId=f,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xl(e),this.stats_=Ch(a),this.urlFn=m=>(this.appCheckToken&&(m[Bd]=this.appCheckToken),xE(a,OE,m))}open(e,a){this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new X1(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(rN)),L1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new wh((...u)=>{const[f,h,m,p,y]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Ty)this.id=h,this.password=m;else if(f===K1)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[Ty]="t",s[UE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[Z1]=this.scriptTagHolder.uniqueCallbackIdentifier),s[SE]=Th,this.transportSessionId&&(s[TE]=this.transportSessionId),this.lastSessionId&&(s[AE]=this.lastSessionId),this.applicationId&&(s[NE]=this.applicationId),this.appCheckToken&&(s[Bd]=this.appCheckToken),typeof location<"u"&&location.hostname&&RE.test(location.hostname)&&(s[CE]=wE);const o=this.urlFn(s);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Hr.forceAllow_=!0}static forceDisallow(){Hr.forceDisallow_=!0}static isAvailable(){return Hr.forceAllow_?!0:!Hr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!k1()&&!z1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const a=bt(e);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const s=Iv(a),o=EE(s,iN);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,a){this.myDisconnFrame=document.createElement("iframe");const s={};s[nN]="t",s[IE]=e,s[LE]=a,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const a=bt(e).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)}}class wh{constructor(e,a,s,o){this.onDisconnect=s,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=M1(),window[$1+this.uniqueCallbackIdentifier]=e,window[W1+this.uniqueCallbackIdentifier]=a,this.myIFrame=wh.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(h){jt("frame writing exception"),h.stack&&jt(h.stack),jt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||jt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,a){for(this.myID=e,this.myPW=a,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[IE]=this.myID,e[LE]=this.myPW,e[UE]=this.currentSerial;let a=this.urlFn(e),s="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+zE+s.length<=kE;){const f=this.pendingSegs.shift();s=s+"&"+J1+o+"="+f.seg+"&"+eN+o+"="+f.ts+"&"+tN+o+"="+f.d,o++}return a=a+s,this.addLongPollTag_(a,this.currentSerial),!0}else return!1}enqueueSegment(e,a,s){this.pendingSegs.push({seg:e,ts:a,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,a){this.outstandingRequests.add(a);const s=()=>{this.outstandingRequests.delete(a),this.newRequest_()},o=setTimeout(s,Math.floor(aN)),u=()=>{clearTimeout(o),s()};this.addTag(e,u)}addTag(e,a){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const o=s.readyState;(!o||o==="loaded"||o==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),a())},s.onerror=()=>{jt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=16384,lN=45e3;let _u=null;typeof MozWebSocket<"u"?_u=MozWebSocket:typeof WebSocket<"u"&&(_u=WebSocket);class In{constructor(e,a,s,o,u,f,h){this.connId=e,this.applicationId=s,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xl(this.connId),this.stats_=Ch(a),this.connURL=In.connectionURL_(a,f,h,o,s),this.nodeAdmin=a.nodeAdmin}static connectionURL_(e,a,s,o,u){const f={};return f[SE]=Th,typeof location<"u"&&location.hostname&&RE.test(location.hostname)&&(f[CE]=wE),a&&(f[TE]=a),s&&(f[AE]=s),o&&(f[Bd]=o),u&&(f[NE]=u),xE(e,DE,f)}open(e,a){this.onDisconnect=a,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Va.set("previous_websocket_failure",!0);try{let s;Hw(),this.mySock=new _u(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){In.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(a);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&_u!==null&&!In.forceDisallow_}static previouslyFailed(){return Va.isInMemoryStorage||Va.get("previous_websocket_failure")===!0}markConnectionHealthy(){Va.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const a=this.frames.join("");this.frames=null;const s=gl(a);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Q(this.frames===null,"We already have a frame buffer"),e.length<=6){const a=Number(e);if(!isNaN(a))return this.handleNewFrameCount_(a),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const a=e.data;if(this.bytesReceived+=a.length,this.stats_.incrementCounter("bytes_received",a.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(a);else{const s=this.extractFrameCount_(a);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const a=bt(e);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const s=EE(a,sN);s.length>1&&this.sendString_(String(s.length));for(let o=0;o<s.length;o++)this.sendString_(s[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(lN))}sendString_(e){try{this.mySock.send(e)}catch(a){this.log_("Exception thrown from WebSocket.send():",a.message||a.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}In.responsesRequiredToBeHealthy=2;In.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{static get ALL_TRANSPORTS(){return[Hr,In]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const a=In&&In.isAvailable();let s=a&&!In.previouslyFailed();if(e.webSocketOnly&&(a||$t("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[In];else{const o=this.transports_=[];for(const u of yl.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);yl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}yl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=6e4,uN=5e3,cN=10*1024,fN=100*1024,Sd="t",Cy="d",dN="s",wy="r",hN="e",Ry="o",Ay="a",Ny="n",Dy="p",mN="h";class pN{constructor(e,a,s,o,u,f,h,m,p,y){this.id=e,this.repoInfo_=a,this.applicationId_=s,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=f,this.onReady_=h,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xl("c:"+this.id+":"),this.transportManager_=new yl(a),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(a,s)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=ol(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>fN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>cN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return a=>{e===this.conn_?this.onConnectionLost_(a):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return a=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(a):e===this.secondaryConn_?this.onSecondaryMessageReceived_(a):this.log_("message on old connection"))}}sendRequest(e){const a={t:"d",d:e};this.sendData_(a)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Sd in e){const a=e[Sd];a===Ay?this.upgradeIfSecondaryHealthy_():a===wy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):a===Ry&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const a=el("t",e),s=el("d",e);if(a==="c")this.onSecondaryControl_(s);else if(a==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+a)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Dy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ay,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ny,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const a=el("t",e),s=el("d",e);a==="c"?this.onControl_(s):a==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const a=el(Sd,e);if(Cy in e){const s=e[Cy];if(a===mN){const o=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(a===Ny){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else a===dN?this.onConnectionShutdown_(s):a===wy?this.onReset_(s):a===hN?Pd("Server Error: "+s):a===Ry?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pd("Unknown control packet command: "+a)}}onHandshake_(e){const a=e.ts,s=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),Th!==s&&$t("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(a,s),ol(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(oN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,a){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ol(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(uN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Dy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Va.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{put(e,a,s,o){}merge(e,a,s,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,a,s){}onDisconnectMerge(e,a,s){}onDisconnectCancel(e,a){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e){this.allowedEvents_=e,this.listeners_={},Q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...a){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let o=0;o<s.length;o++)s[o].callback.apply(s[o].context,a)}}on(e,a,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:a,context:s});const o=this.getInitialEvent(e);o&&a.apply(s,o)}off(e,a,s){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===a&&(!s||s===o[u].context)){o.splice(u,1);return}}validateEventType_(e){Q(this.allowedEvents_.find(a=>a===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends PE{static getInstance(){return new yu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!hh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=32,My=768;class Qe{constructor(e,a){if(a===void 0){this.pieces_=e.split("/");let s=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[s]=this.pieces_[o],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=a}toString(){let e="";for(let a=this.pieceNum_;a<this.pieces_.length;a++)this.pieces_[a]!==""&&(e+="/"+this.pieces_[a]);return e||"/"}}function He(){return new Qe("")}function Oe(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function la(i){return i.pieces_.length-i.pieceNum_}function We(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new Qe(i.pieces_,e)}function BE(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function gN(i){let e="";for(let a=i.pieceNum_;a<i.pieces_.length;a++)i.pieces_[a]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[a])));return e||"/"}function jE(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function VE(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let a=i.pieceNum_;a<i.pieces_.length-1;a++)e.push(i.pieces_[a]);return new Qe(e,0)}function St(i,e){const a=[];for(let s=i.pieceNum_;s<i.pieces_.length;s++)a.push(i.pieces_[s]);if(e instanceof Qe)for(let s=e.pieceNum_;s<e.pieces_.length;s++)a.push(e.pieces_[s]);else{const s=e.split("/");for(let o=0;o<s.length;o++)s[o].length>0&&a.push(s[o])}return new Qe(a,0)}function De(i){return i.pieceNum_>=i.pieces_.length}function Gt(i,e){const a=Oe(i),s=Oe(e);if(a===null)return e;if(a===s)return Gt(We(i),We(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function qE(i,e){if(la(i)!==la(e))return!1;for(let a=i.pieceNum_,s=e.pieceNum_;a<=i.pieces_.length;a++,s++)if(i.pieces_[a]!==e.pieces_[s])return!1;return!0}function Ln(i,e){let a=i.pieceNum_,s=e.pieceNum_;if(la(i)>la(e))return!1;for(;a<i.pieces_.length;){if(i.pieces_[a]!==e.pieces_[s])return!1;++a,++s}return!0}class _N{constructor(e,a){this.errorPrefix_=a,this.parts_=jE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Uu(this.parts_[s]);GE(this)}}function yN(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=Uu(e),GE(i)}function vN(i){const e=i.parts_.pop();i.byteLength_-=Uu(e),i.parts_.length>0&&(i.byteLength_-=1)}function GE(i){if(i.byteLength_>My)throw new Error(i.errorPrefix_+"has a key path longer than "+My+" bytes ("+i.byteLength_+").");if(i.parts_.length>Oy)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Oy+") or object contains a cycle "+za(i))}function za(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends PE{static getInstance(){return new Rh}constructor(){super(["visible"]);let e,a;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(a="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(a="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(a="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(a="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,a&&document.addEventListener(a,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return Q(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=1e3,EN=60*5*1e3,xy=30*1e3,bN=1.3,SN=3e4,TN="server_kill",Iy=3;class Si extends HE{constructor(e,a,s,o,u,f,h,m){if(super(),this.repoInfo_=e,this.applicationId_=a,this.onDataUpdate_=s,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=Si.nextPersistentConnectionId_++,this.log_=xl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=tl,this.maxReconnectDelay_=EN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Rh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&yu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,a,s){const o=++this.requestNumber_,u={r:o,a:e,b:a};this.log_(bt(u)),Q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[o]=s)}get(e){this.initConnection_();const a=new Lu,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const h=f.d;f.s==="ok"?a.resolve(h):a.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),a.promise}listen(e,a,s,o){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Q(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:a,query:e,tag:s};this.listens.get(f).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const a=this.outstandingGets_[e];this.sendRequest("g",a.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),a.onComplete&&a.onComplete(s)})}sendListen_(e){const a=e.query,s=a._path.toString(),o=a._queryIdentifier;this.log_("Listen on "+s+" for "+o);const u={p:s},f="q";e.tag&&(u.q=a._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,h=>{const m=h.d,p=h.s;Si.warnOnListenWarnings_(m,a),(this.listens.get(s)&&this.listens.get(s).get(o))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(s,o),e.onComplete&&e.onComplete(p,m))})}static warnOnListenWarnings_(e,a){if(e&&typeof e=="object"&&Ri(e,"w")){const s=qr(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const o='".indexOn": "'+a._queryParams.getIndex().toString()+'"',u=a._path.toString();$t(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Gw(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=xy)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,a=qw(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(a,s,o=>{const u=o.s,f=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const a=e.s,s=e.d||"error";a==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(a,s)})}unlisten(e,a){const s=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+o),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,o)&&this.connected_&&this.sendUnlisten_(s,o,e._queryObject,a)}sendUnlisten_(e,a,s,o){this.log_("Unlisten on "+e+" for "+a);const u={p:e},f="n";o&&(u.q=s,u.t=o),this.sendRequest(f,u)}onDisconnectPut(e,a,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,a,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:a,onComplete:s})}onDisconnectMerge(e,a,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,a,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:a,onComplete:s})}onDisconnectCancel(e,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:a})}sendOnDisconnect_(e,a,s,o){const u={p:a,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(e,a,s,o){this.putInternal("p",e,a,s,o)}merge(e,a,s,o){this.putInternal("m",e,a,s,o)}putInternal(e,a,s,o,u){this.initConnection_();const f={p:a,d:s};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+a)}sendPut_(e){const a=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(a,s,u=>{this.log_(a+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const a={c:e};this.log_("reportStats",a),this.sendRequest("s",a,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+bt(e));const a=e.r,s=this.requestCBHash_[a];s&&(delete this.requestCBHash_[a],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,a){this.log_("handleServerMessage",e,a),e==="d"?this.onDataUpdate_(a.p,a.d,!1,a.t):e==="m"?this.onDataUpdate_(a.p,a.d,!0,a.t):e==="c"?this.onListenRevoked_(a.p,a.q):e==="ac"?this.onAuthRevoked_(a.s,a.d):e==="apc"?this.onAppCheckRevoked_(a.s,a.d):e==="sd"?this.onSecurityDebugPacket_(a):Pd("Unrecognized action received from server: "+bt(e)+`
Are you using the latest client?`)}onReady_(e,a){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=a,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=tl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=tl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>SN&&(this.reconnectDelay_=tl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let a=Math.max(0,this.reconnectDelay_-e);a=Math.random()*a,this.log_("Trying to reconnect in "+a+"ms"),this.scheduleConnect_(a),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*bN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),a=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Si.nextConnectionId_++,u=this.lastSessionId;let f=!1,h=null;const m=function(){h?h.close():(f=!0,s())},p=function(v){Q(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(v)};this.realtime_={close:m,sendRequest:p};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,E]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);f?jt("getToken() completed but was canceled"):(jt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=E&&E.token,h=new pN(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,a,s,S=>{$t(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(TN)},u))}catch(v){this.log_("Failed to get token: "+v),f||(this.repoInfo_.nodeAdmin&&$t(v),m())}}}interrupt(e){jt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){jt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],J_(this.interruptReasons_)&&(this.reconnectDelay_=tl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const a=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:a})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const a=this.outstandingPuts_[e];a&&"h"in a.request&&a.queued&&(a.onComplete&&a.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,a){let s;a?s=a.map(u=>Sh(u)).join("$"):s="default";const o=this.removeListen_(e,s);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,a){const s=new Qe(e).toString();let o;if(this.listens.has(s)){const u=this.listens.get(s);o=u.get(a),u.delete(a),u.size===0&&this.listens.delete(s)}else o=void 0;return o}onAuthRevoked_(e,a){jt("Auth token revoked: "+e+"/"+a),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Iy&&(this.reconnectDelay_=xy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,a){jt("App check token revoked: "+e+"/"+a),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Iy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const a of e.values())this.sendListen_(a);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let a="js";e["sdk."+a+"."+gE.replace(/\./g,"-")]=1,hh()?e["framework.cordova"]=1:zv()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=yu.getInstance().currentlyOnline();return J_(this.interruptReasons_)&&e}}Si.nextPersistentConnectionId_=0;Si.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,a){this.name=e,this.node=a}static Wrap(e,a){return new Ae(e,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,a){const s=new Ae(Gr,e),o=new Ae(Gr,a);return this.compare(s,o)!==0}minPost(){return Ae.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo;class FE extends Bu{static get __EMPTY_NODE(){return Zo}static set __EMPTY_NODE(e){Zo=e}compare(e,a){return Xr(e.name,a.name)}isDefinedOn(e){throw Qr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,a){return!1}minPost(){return Ae.MIN}maxPost(){return new Ae(Qa,Zo)}makePost(e,a){return Q(typeof e=="string","KeyIndex indexValue must always be a string."),new Ae(e,Zo)}toString(){return".key"}}const Br=new FE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,a,s,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=a?s(e.key,a):1,o&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),a;if(this.resultGenerator_?a=this.resultGenerator_(e.key,e.value):a={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return a}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Nt{constructor(e,a,s,o,u){this.key=e,this.value=a,this.color=s??Nt.RED,this.left=o??Xt.EMPTY_NODE,this.right=u??Xt.EMPTY_NODE}copy(e,a,s,o,u){return new Nt(e??this.key,a??this.value,s??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,a,s){let o=this;const u=s(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,a,s),null):u===0?o=o.copy(null,a,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,a,s)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,a){let s,o;if(s=this,a(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,a),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),a(e,s.key)===0){if(s.right.isEmpty())return Xt.EMPTY_NODE;o=s.right.min_(),s=s.copy(o.key,o.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,a))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,a)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Nt.RED=!0;Nt.BLACK=!1;class CN{copy(e,a,s,o,u){return this}insert(e,a,s){return new Nt(e,a,null)}remove(e,a){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Xt{constructor(e,a=Xt.EMPTY_NODE){this.comparator_=e,this.root_=a}insert(e,a){return new Xt(this.comparator_,this.root_.insert(e,a,this.comparator_).copy(null,null,Nt.BLACK,null,null))}remove(e){return new Xt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Nt.BLACK,null,null))}get(e){let a,s=this.root_;for(;!s.isEmpty();){if(a=this.comparator_(e,s.key),a===0)return s.value;a<0?s=s.left:a>0&&(s=s.right)}return null}getPredecessorKey(e){let a,s=this.root_,o=null;for(;!s.isEmpty();)if(a=this.comparator_(e,s.key),a===0){if(s.left.isEmpty())return o?o.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else a<0?s=s.left:a>0&&(o=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Jo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,a){return new Jo(this.root_,e,this.comparator_,!1,a)}getReverseIteratorFrom(e,a){return new Jo(this.root_,e,this.comparator_,!0,a)}getReverseIterator(e){return new Jo(this.root_,null,this.comparator_,!0,e)}}Xt.EMPTY_NODE=new CN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(i,e){return Xr(i.name,e.name)}function Ah(i,e){return Xr(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jd;function RN(i){jd=i}const YE=function(i){return typeof i=="number"?"number:"+bE(i):"string:"+i},QE=function(i){if(i.isLeafNode()){const e=i.val();Q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ri(e,".sv"),"Priority must be a string or number.")}else Q(i===jd||i.isEmpty(),"priority of unexpected type.");Q(i===jd||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ly;class At{static set __childrenNodeConstructor(e){Ly=e}static get __childrenNodeConstructor(){return Ly}constructor(e,a=At.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=a,this.lazyHash_=null,Q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),QE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new At(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:At.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return De(e)?this:Oe(e)===".priority"?this.priorityNode_:At.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,a){return null}updateImmediateChild(e,a){return e===".priority"?this.updatePriority(a):a.isEmpty()&&e!==".priority"?this:At.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,a).updatePriority(this.priorityNode_)}updateChild(e,a){const s=Oe(e);return s===null?a:a.isEmpty()&&s!==".priority"?this:(Q(s!==".priority"||la(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,At.__childrenNodeConstructor.EMPTY_NODE.updateChild(We(e),a)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,a){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+YE(this.priorityNode_.val())+":");const a=typeof this.value_;e+=a+":",a==="number"?e+=bE(this.value_):e+=this.value_,this.lazyHash_=yE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===At.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof At.__childrenNodeConstructor?-1:(Q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const a=typeof e.value_,s=typeof this.value_,o=At.VALUE_TYPE_ORDER.indexOf(a),u=At.VALUE_TYPE_ORDER.indexOf(s);return Q(o>=0,"Unknown leaf type: "+a),Q(u>=0,"Unknown leaf type: "+s),o===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const a=e;return this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_)}else return!1}}At.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XE,KE;function AN(i){XE=i}function NN(i){KE=i}class DN extends Bu{compare(e,a){const s=e.node.getPriority(),o=a.node.getPriority(),u=s.compareTo(o);return u===0?Xr(e.name,a.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,a){return!e.getPriority().equals(a.getPriority())}minPost(){return Ae.MIN}maxPost(){return new Ae(Qa,new At("[PRIORITY-POST]",KE))}makePost(e,a){const s=XE(e);return new Ae(a,new At("[PRIORITY-POST]",s))}toString(){return".priority"}}const ct=new DN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=Math.log(2);class MN{constructor(e){const a=u=>parseInt(Math.log(u)/ON,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=a(e+1),this.current_=this.count-1;const o=s(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const vu=function(i,e,a,s){i.sort(e);const o=function(m,p){const y=p-m;let v,E;if(y===0)return null;if(y===1)return v=i[m],E=a?a(v):v,new Nt(E,v.node,Nt.BLACK,null,null);{const S=parseInt(y/2,10)+m,A=o(m,S),H=o(S+1,p);return v=i[S],E=a?a(v):v,new Nt(E,v.node,Nt.BLACK,A,H)}},u=function(m){let p=null,y=null,v=i.length;const E=function(A,H){const z=v-A,P=v;v-=A;const F=o(z+1,P),Z=i[z],he=a?a(Z):Z;S(new Nt(he,Z.node,H,null,F))},S=function(A){p?(p.left=A,p=A):(y=A,p=A)};for(let A=0;A<m.count;++A){const H=m.nextBitIsOne(),z=Math.pow(2,m.count-(A+1));H?E(z,Nt.BLACK):(E(z,Nt.BLACK),E(z,Nt.RED))}return y},f=new MN(i.length),h=u(f);return new Xt(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Td;const zr={};class bi{static get Default(){return Q(zr&&ct,"ChildrenNode.ts has not been loaded"),Td=Td||new bi({".priority":zr},{".priority":ct}),Td}constructor(e,a){this.indexes_=e,this.indexSet_=a}get(e){const a=qr(this.indexes_,e);if(!a)throw new Error("No index defined for "+e);return a instanceof Xt?a:null}hasIndex(e){return Ri(this.indexSet_,e.toString())}addIndex(e,a){Q(e!==Br,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let o=!1;const u=a.getIterator(Ae.Wrap);let f=u.getNext();for(;f;)o=o||e.isDefinedOn(f.node),s.push(f),f=u.getNext();let h;o?h=vu(s,e.getCompare()):h=zr;const m=e.toString(),p=Object.assign({},this.indexSet_);p[m]=e;const y=Object.assign({},this.indexes_);return y[m]=h,new bi(y,p)}addToIndexes(e,a){const s=du(this.indexes_,(o,u)=>{const f=qr(this.indexSet_,u);if(Q(f,"Missing index implementation for "+u),o===zr)if(f.isDefinedOn(e.node)){const h=[],m=a.getIterator(Ae.Wrap);let p=m.getNext();for(;p;)p.name!==e.name&&h.push(p),p=m.getNext();return h.push(e),vu(h,f.getCompare())}else return zr;else{const h=a.get(e.name);let m=o;return h&&(m=m.remove(new Ae(e.name,h))),m.insert(e,e.node)}});return new bi(s,this.indexSet_)}removeFromIndexes(e,a){const s=du(this.indexes_,o=>{if(o===zr)return o;{const u=a.get(e.name);return u?o.remove(new Ae(e.name,u)):o}});return new bi(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl;class _e{static get EMPTY_NODE(){return nl||(nl=new _e(new Xt(Ah),null,bi.Default))}constructor(e,a,s){this.children_=e,this.priorityNode_=a,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&QE(this.priorityNode_),this.children_.isEmpty()&&Q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||nl}updatePriority(e){return this.children_.isEmpty()?this:new _e(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const a=this.children_.get(e);return a===null?nl:a}}getChild(e){const a=Oe(e);return a===null?this:this.getImmediateChild(a).getChild(We(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,a){if(Q(a,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(a);{const s=new Ae(e,a);let o,u;a.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(o=this.children_.insert(e,a),u=this.indexMap_.addToIndexes(s,this.children_));const f=o.isEmpty()?nl:this.priorityNode_;return new _e(o,f,u)}}updateChild(e,a){const s=Oe(e);if(s===null)return a;{Q(Oe(e)!==".priority"||la(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(s).updateChild(We(e),a);return this.updateImmediateChild(s,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const a={};let s=0,o=0,u=!0;if(this.forEachChild(ct,(f,h)=>{a[f]=h.val(e),s++,u&&_e.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):u=!1}),!e&&u&&o<2*s){const f=[];for(const h in a)f[h]=a[h];return f}else return e&&!this.getPriority().isEmpty()&&(a[".priority"]=this.getPriority().val()),a}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+YE(this.getPriority().val())+":"),this.forEachChild(ct,(a,s)=>{const o=s.hash();o!==""&&(e+=":"+a+":"+o)}),this.lazyHash_=e===""?"":yE(e)}return this.lazyHash_}getPredecessorChildName(e,a,s){const o=this.resolveIndex_(s);if(o){const u=o.getPredecessorKey(new Ae(e,a));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const a=this.resolveIndex_(e);if(a){const s=a.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const a=this.getFirstChildName(e);return a?new Ae(a,this.children_.get(a)):null}getLastChildName(e){const a=this.resolveIndex_(e);if(a){const s=a.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const a=this.getLastChildName(e);return a?new Ae(a,this.children_.get(a)):null}forEachChild(e,a){const s=this.resolveIndex_(e);return s?s.inorderTraversal(o=>a(o.name,o.node)):this.children_.inorderTraversal(a)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,a){const s=this.resolveIndex_(a);if(s)return s.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,Ae.Wrap);let u=o.peek();for(;u!=null&&a.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,a){const s=this.resolveIndex_(a);if(s)return s.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,Ae.Wrap);let u=o.peek();for(;u!=null&&a.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Il?-1:0}withIndex(e){if(e===Br||this.indexMap_.hasIndex(e))return this;{const a=this.indexMap_.addIndex(e,this.children_);return new _e(this.children_,this.priorityNode_,a)}}isIndexed(e){return e===Br||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const a=e;if(this.getPriority().equals(a.getPriority()))if(this.children_.count()===a.children_.count()){const s=this.getIterator(ct),o=a.getIterator(ct);let u=s.getNext(),f=o.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=s.getNext(),f=o.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===Br?null:this.indexMap_.get(e.toString())}}_e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class xN extends _e{constructor(){super(new Xt(Ah),_e.EMPTY_NODE,bi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return _e.EMPTY_NODE}isEmpty(){return!1}}const Il=new xN;Object.defineProperties(Ae,{MIN:{value:new Ae(Gr,_e.EMPTY_NODE)},MAX:{value:new Ae(Qa,Il)}});FE.__EMPTY_NODE=_e.EMPTY_NODE;At.__childrenNodeConstructor=_e;RN(Il);NN(Il);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=!0;function Dt(i,e=null){if(i===null)return _e.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),Q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const a=i;return new At(a,Dt(e))}if(!(i instanceof Array)&&IN){const a=[];let s=!1;if(Wt(i,(f,h)=>{if(f.substring(0,1)!=="."){const m=Dt(h);m.isEmpty()||(s=s||!m.getPriority().isEmpty(),a.push(new Ae(f,m)))}}),a.length===0)return _e.EMPTY_NODE;const u=vu(a,wN,f=>f.name,Ah);if(s){const f=vu(a,ct.getCompare());return new _e(u,Dt(e),new bi({".priority":f},{".priority":ct}))}else return new _e(u,Dt(e),bi.Default)}else{let a=_e.EMPTY_NODE;return Wt(i,(s,o)=>{if(Ri(i,s)&&s.substring(0,1)!=="."){const u=Dt(o);(u.isLeafNode()||!u.isEmpty())&&(a=a.updateImmediateChild(s,u))}}),a.updatePriority(Dt(e))}}AN(Dt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN extends Bu{constructor(e){super(),this.indexPath_=e,Q(!De(e)&&Oe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,a){const s=this.extractChild(e.node),o=this.extractChild(a.node),u=s.compareTo(o);return u===0?Xr(e.name,a.name):u}makePost(e,a){const s=Dt(e),o=_e.EMPTY_NODE.updateChild(this.indexPath_,s);return new Ae(a,o)}maxPost(){const e=_e.EMPTY_NODE.updateChild(this.indexPath_,Il);return new Ae(Qa,e)}toString(){return jE(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN extends Bu{compare(e,a){const s=e.node.compareTo(a.node);return s===0?Xr(e.name,a.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,a){return!e.equals(a)}minPost(){return Ae.MIN}maxPost(){return Ae.MAX}makePost(e,a){const s=Dt(e);return new Ae(a,s)}toString(){return".value"}}const kN=new UN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(i){return{type:"value",snapshotNode:i}}function Fr(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function vl(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function El(i,e,a){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:a}}function zN(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e){this.index_=e}updateChild(e,a,s,o,u,f){Q(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(a);return h.getChild(o).equals(s.getChild(o))&&h.isEmpty()===s.isEmpty()||(f!=null&&(s.isEmpty()?e.hasChild(a)?f.trackChildChange(vl(a,h)):Q(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?f.trackChildChange(Fr(a,s)):f.trackChildChange(El(a,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(a,s).withIndex(this.index_)}updateFullNode(e,a,s){return s!=null&&(e.isLeafNode()||e.forEachChild(ct,(o,u)=>{a.hasChild(o)||s.trackChildChange(vl(o,u))}),a.isLeafNode()||a.forEachChild(ct,(o,u)=>{if(e.hasChild(o)){const f=e.getImmediateChild(o);f.equals(u)||s.trackChildChange(El(o,u,f))}else s.trackChildChange(Fr(o,u))})),a.withIndex(this.index_)}updatePriority(e,a){return e.isEmpty()?_e.EMPTY_NODE:e.updatePriority(a)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this.indexedFilter_=new Nh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=bl.getStartPost_(e),this.endPost_=bl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const a=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return a&&s}updateChild(e,a,s,o,u,f){return this.matches(new Ae(a,s))||(s=_e.EMPTY_NODE),this.indexedFilter_.updateChild(e,a,s,o,u,f)}updateFullNode(e,a,s){a.isLeafNode()&&(a=_e.EMPTY_NODE);let o=a.withIndex(this.index_);o=o.updatePriority(_e.EMPTY_NODE);const u=this;return a.forEachChild(ct,(f,h)=>{u.matches(new Ae(f,h))||(o=o.updateImmediateChild(f,_e.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,s)}updatePriority(e,a){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const a=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),a)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const a=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),a)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.withinDirectionalStart=a=>this.reverse_?this.withinEndPost(a):this.withinStartPost(a),this.withinDirectionalEnd=a=>this.reverse_?this.withinStartPost(a):this.withinEndPost(a),this.withinStartPost=a=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),a);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=a=>{const s=this.index_.compare(a,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new bl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,a,s,o,u,f){return this.rangedFilter_.matches(new Ae(a,s))||(s=_e.EMPTY_NODE),e.getImmediateChild(a).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,a,s,o,u,f):this.fullLimitUpdateChild_(e,a,s,u,f)}updateFullNode(e,a,s){let o;if(a.isLeafNode()||a.isEmpty())o=_e.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<a.numChildren()&&a.isIndexed(this.index_)){o=_e.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),f++;else break;else continue}}else{o=a.withIndex(this.index_),o=o.updatePriority(_e.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let f=0;for(;u.hasNext();){const h=u.getNext();f<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?f++:o=o.updateImmediateChild(h.name,_e.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,s)}updatePriority(e,a){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,a,s,o,u){let f;if(this.reverse_){const v=this.index_.getCompare();f=(E,S)=>v(S,E)}else f=this.index_.getCompare();const h=e;Q(h.numChildren()===this.limit_,"");const m=new Ae(a,s),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),y=this.rangedFilter_.matches(m);if(h.hasChild(a)){const v=h.getImmediateChild(a);let E=o.getChildAfterChild(this.index_,p,this.reverse_);for(;E!=null&&(E.name===a||h.hasChild(E.name));)E=o.getChildAfterChild(this.index_,E,this.reverse_);const S=E==null?1:f(E,m);if(y&&!s.isEmpty()&&S>=0)return u!=null&&u.trackChildChange(El(a,s,v)),h.updateImmediateChild(a,s);{u!=null&&u.trackChildChange(vl(a,v));const H=h.updateImmediateChild(a,_e.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(u!=null&&u.trackChildChange(Fr(E.name,E.node)),H.updateImmediateChild(E.name,E.node)):H}}else return s.isEmpty()?e:y&&f(p,m)>=0?(u!=null&&(u.trackChildChange(vl(p.name,p.node)),u.trackChildChange(Fr(a,s))),h.updateImmediateChild(a,s).updateImmediateChild(p.name,_e.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ct}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gr}hasEnd(){return this.endSet_}getIndexEndValue(){return Q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ct}copy(){const e=new Dh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function PN(i){return i.loadsAllData()?new Nh(i.getIndex()):i.hasLimit()?new HN(i):new bl(i)}function Uy(i){const e={};if(i.isDefault())return e;let a;if(i.index_===ct?a="$priority":i.index_===kN?a="$value":i.index_===Br?a="$key":(Q(i.index_ instanceof LN,"Unrecognized index type!"),a=i.index_.toString()),e.orderBy=bt(a),i.startSet_){const s=i.startAfterSet_?"startAfter":"startAt";e[s]=bt(i.indexStartValue_),i.startNameSet_&&(e[s]+=","+bt(i.indexStartName_))}if(i.endSet_){const s=i.endBeforeSet_?"endBefore":"endAt";e[s]=bt(i.indexEndValue_),i.endNameSet_&&(e[s]+=","+bt(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function ky(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let a=i.viewFrom_;a===""&&(i.isViewFromLeft()?a="l":a="r"),e.vf=a}return i.index_!==ct&&(e.i=i.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends HE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,a){return a!==void 0?"tag$"+a:(Q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,a,s,o){super(),this.repoInfo_=e,this.onDataUpdate_=a,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.log_=xl("p:rest:"),this.listens_={}}listen(e,a,s,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=Eu.getListenId_(e,s),h={};this.listens_[f]=h;const m=Uy(e._queryParams);this.restRequest_(u+".json",m,(p,y)=>{let v=y;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(u,v,!1,s),qr(this.listens_,f)===h){let E;p?p===401?E="permission_denied":E="rest_error:"+p:E="ok",o(E,null)}})}unlisten(e,a){const s=Eu.getListenId_(e,a);delete this.listens_[s]}get(e){const a=Uy(e._queryParams),s=e._path.toString(),o=new Lu;return this.restRequest_(s+".json",a,(u,f)=>{let h=f;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(s,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,a={},s){return a.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(a.auth=o.accessToken),u&&u.token&&(a.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+mh(a);this.log_("Sending REST request for "+f);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=gl(h.responseText)}catch{$t("Failed to parse JSON response for "+f+": "+h.responseText)}s(null,m)}else h.status!==401&&h.status!==404&&$t("Got unsuccessful REST response for "+f+" Status: "+h.status),s(h.status);s=null}},h.open("GET",f,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.rootNode_=_e.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,a){this.rootNode_=this.rootNode_.updateChild(e,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(){return{value:null,children:new Map}}function WE(i,e,a){if(De(e))i.value=a,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,a);else{const s=Oe(e);i.children.has(s)||i.children.set(s,bu());const o=i.children.get(s);e=We(e),WE(o,e,a)}}function Vd(i,e,a){i.value!==null?a(e,i.value):jN(i,(s,o)=>{const u=new Qe(e.toString()+"/"+s);Vd(o,u,a)})}function jN(i,e){i.children.forEach((a,s)=>{e(s,a)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),a=Object.assign({},e);return this.last_&&Wt(this.last_,(s,o)=>{a[s]=a[s]-o}),this.last_=e,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=10*1e3,qN=30*1e3,GN=5*60*1e3;class FN{constructor(e,a){this.server_=a,this.statsToReport_={},this.statsListener_=new VN(e);const s=zy+(qN-zy)*Math.random();ol(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),a={};let s=!1;Wt(e,(o,u)=>{u>0&&Ri(this.statsToReport_,o)&&(a[o]=u,s=!0)}),s&&this.server_.reportStats(a),ol(this.reportStats_.bind(this),Math.floor(Math.random()*2*GN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Un||(Un={}));function ZE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Oh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Mh(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,a,s){this.path=e,this.affectedTree=a,this.revert=s,this.type=Un.ACK_USER_WRITE,this.source=ZE()}operationForChild(e){if(De(this.path)){if(this.affectedTree.value!=null)return Q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const a=this.affectedTree.subtree(new Qe(e));return new Su(He(),a,this.revert)}}else return Q(Oe(this.path)===e,"operationForChild called for unrelated child."),new Su(We(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,a){this.source=e,this.path=a,this.type=Un.LISTEN_COMPLETE}operationForChild(e){return De(this.path)?new Sl(this.source,He()):new Sl(this.source,We(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,a,s){this.source=e,this.path=a,this.snap=s,this.type=Un.OVERWRITE}operationForChild(e){return De(this.path)?new Xa(this.source,He(),this.snap.getImmediateChild(e)):new Xa(this.source,We(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,a,s){this.source=e,this.path=a,this.children=s,this.type=Un.MERGE}operationForChild(e){if(De(this.path)){const a=this.children.subtree(new Qe(e));return a.isEmpty()?null:a.value?new Xa(this.source,He(),a.value):new Tl(this.source,He(),a)}else return Q(Oe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Tl(this.source,We(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,a,s){this.node_=e,this.fullyInitialized_=a,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(De(e))return this.isFullyInitialized()&&!this.filtered_;const a=Oe(e);return this.isCompleteForChild(a)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function QN(i,e,a,s){const o=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(zN(f.childName,f.snapshotNode))}),il(i,o,"child_removed",e,s,a),il(i,o,"child_added",e,s,a),il(i,o,"child_moved",u,s,a),il(i,o,"child_changed",e,s,a),il(i,o,"value",e,s,a),o}function il(i,e,a,s,o,u){const f=s.filter(h=>h.type===a);f.sort((h,m)=>KN(i,h,m)),f.forEach(h=>{const m=XN(i,h,u);o.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(m,i.query_))})})}function XN(i,e,a){return e.type==="value"||e.type==="child_removed"||(e.prevName=a.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function KN(i,e,a){if(e.childName==null||a.childName==null)throw Qr("Should only compare child_ events.");const s=new Ae(e.childName,e.snapshotNode),o=new Ae(a.childName,a.snapshotNode);return i.index_.compare(s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(i,e){return{eventCache:i,serverCache:e}}function ul(i,e,a,s){return ju(new oa(e,a,s),i.serverCache)}function JE(i,e,a,s){return ju(i.eventCache,new oa(e,a,s))}function Tu(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Ka(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd;const $N=()=>(Cd||(Cd=new Xt(U1)),Cd);class Je{static fromObject(e){let a=new Je(null);return Wt(e,(s,o)=>{a=a.set(new Qe(s),o)}),a}constructor(e,a=$N()){this.value=e,this.children=a}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,a){if(this.value!=null&&a(this.value))return{path:He(),value:this.value};if(De(e))return null;{const s=Oe(e),o=this.children.get(s);if(o!==null){const u=o.findRootMostMatchingPathAndValue(We(e),a);return u!=null?{path:St(new Qe(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(De(e))return this;{const a=Oe(e),s=this.children.get(a);return s!==null?s.subtree(We(e)):new Je(null)}}set(e,a){if(De(e))return new Je(a,this.children);{const s=Oe(e),u=(this.children.get(s)||new Je(null)).set(We(e),a),f=this.children.insert(s,u);return new Je(this.value,f)}}remove(e){if(De(e))return this.children.isEmpty()?new Je(null):new Je(null,this.children);{const a=Oe(e),s=this.children.get(a);if(s){const o=s.remove(We(e));let u;return o.isEmpty()?u=this.children.remove(a):u=this.children.insert(a,o),this.value===null&&u.isEmpty()?new Je(null):new Je(this.value,u)}else return this}}get(e){if(De(e))return this.value;{const a=Oe(e),s=this.children.get(a);return s?s.get(We(e)):null}}setTree(e,a){if(De(e))return a;{const s=Oe(e),u=(this.children.get(s)||new Je(null)).setTree(We(e),a);let f;return u.isEmpty()?f=this.children.remove(s):f=this.children.insert(s,u),new Je(this.value,f)}}fold(e){return this.fold_(He(),e)}fold_(e,a){const s={};return this.children.inorderTraversal((o,u)=>{s[o]=u.fold_(St(e,o),a)}),a(e,this.value,s)}findOnPath(e,a){return this.findOnPath_(e,He(),a)}findOnPath_(e,a,s){const o=this.value?s(a,this.value):!1;if(o)return o;if(De(e))return null;{const u=Oe(e),f=this.children.get(u);return f?f.findOnPath_(We(e),St(a,u),s):null}}foreachOnPath(e,a){return this.foreachOnPath_(e,He(),a)}foreachOnPath_(e,a,s){if(De(e))return this;{this.value&&s(a,this.value);const o=Oe(e),u=this.children.get(o);return u?u.foreachOnPath_(We(e),St(a,o),s):new Je(null)}}foreach(e){this.foreach_(He(),e)}foreach_(e,a){this.children.inorderTraversal((s,o)=>{o.foreach_(St(e,s),a)}),this.value&&a(e,this.value)}foreachChild(e){this.children.inorderTraversal((a,s)=>{s.value&&e(a,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.writeTree_=e}static empty(){return new kn(new Je(null))}}function cl(i,e,a){if(De(e))return new kn(new Je(a));{const s=i.writeTree_.findRootMostValueAndPath(e);if(s!=null){const o=s.path;let u=s.value;const f=Gt(o,e);return u=u.updateChild(f,a),new kn(i.writeTree_.set(o,u))}else{const o=new Je(a),u=i.writeTree_.setTree(e,o);return new kn(u)}}}function Hy(i,e,a){let s=i;return Wt(a,(o,u)=>{s=cl(s,St(e,o),u)}),s}function Py(i,e){if(De(e))return kn.empty();{const a=i.writeTree_.setTree(e,new Je(null));return new kn(a)}}function qd(i,e){return Ja(i,e)!=null}function Ja(i,e){const a=i.writeTree_.findRootMostValueAndPath(e);return a!=null?i.writeTree_.get(a.path).getChild(Gt(a.path,e)):null}function By(i){const e=[],a=i.writeTree_.value;return a!=null?a.isLeafNode()||a.forEachChild(ct,(s,o)=>{e.push(new Ae(s,o))}):i.writeTree_.children.inorderTraversal((s,o)=>{o.value!=null&&e.push(new Ae(s,o.value))}),e}function aa(i,e){if(De(e))return i;{const a=Ja(i,e);return a!=null?new kn(new Je(a)):new kn(i.writeTree_.subtree(e))}}function Gd(i){return i.writeTree_.isEmpty()}function Yr(i,e){return eb(He(),i.writeTree_,e)}function eb(i,e,a){if(e.value!=null)return a.updateChild(i,e.value);{let s=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(Q(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):a=eb(St(i,o),u,a)}),!a.getChild(i).isEmpty()&&s!==null&&(a=a.updateChild(St(i,".priority"),s)),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(i,e){return ab(e,i)}function WN(i,e,a,s,o){Q(s>i.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),i.allWrites.push({path:e,snap:a,writeId:s,visible:o}),o&&(i.visibleWrites=cl(i.visibleWrites,e,a)),i.lastWriteId=s}function ZN(i,e){for(let a=0;a<i.allWrites.length;a++){const s=i.allWrites[a];if(s.writeId===e)return s}return null}function JN(i,e){const a=i.allWrites.findIndex(h=>h.writeId===e);Q(a>=0,"removeWrite called with nonexistent writeId.");const s=i.allWrites[a];i.allWrites.splice(a,1);let o=s.visible,u=!1,f=i.allWrites.length-1;for(;o&&f>=0;){const h=i.allWrites[f];h.visible&&(f>=a&&eD(h,s.path)?o=!1:Ln(s.path,h.path)&&(u=!0)),f--}if(o){if(u)return tD(i),!0;if(s.snap)i.visibleWrites=Py(i.visibleWrites,s.path);else{const h=s.children;Wt(h,m=>{i.visibleWrites=Py(i.visibleWrites,St(s.path,m))})}return!0}else return!1}function eD(i,e){if(i.snap)return Ln(i.path,e);for(const a in i.children)if(i.children.hasOwnProperty(a)&&Ln(St(i.path,a),e))return!0;return!1}function tD(i){i.visibleWrites=tb(i.allWrites,nD,He()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function nD(i){return i.visible}function tb(i,e,a){let s=kn.empty();for(let o=0;o<i.length;++o){const u=i[o];if(e(u)){const f=u.path;let h;if(u.snap)Ln(a,f)?(h=Gt(a,f),s=cl(s,h,u.snap)):Ln(f,a)&&(h=Gt(f,a),s=cl(s,He(),u.snap.getChild(h)));else if(u.children){if(Ln(a,f))h=Gt(a,f),s=Hy(s,h,u.children);else if(Ln(f,a))if(h=Gt(f,a),De(h))s=Hy(s,He(),u.children);else{const m=qr(u.children,Oe(h));if(m){const p=m.getChild(We(h));s=cl(s,He(),p)}}}else throw Qr("WriteRecord should have .snap or .children")}}return s}function nb(i,e,a,s,o){if(!s&&!o){const u=Ja(i.visibleWrites,e);if(u!=null)return u;{const f=aa(i.visibleWrites,e);if(Gd(f))return a;if(a==null&&!qd(f,He()))return null;{const h=a||_e.EMPTY_NODE;return Yr(f,h)}}}else{const u=aa(i.visibleWrites,e);if(!o&&Gd(u))return a;if(!o&&a==null&&!qd(u,He()))return null;{const f=function(p){return(p.visible||o)&&(!s||!~s.indexOf(p.writeId))&&(Ln(p.path,e)||Ln(e,p.path))},h=tb(i.allWrites,f,e),m=a||_e.EMPTY_NODE;return Yr(h,m)}}}function iD(i,e,a){let s=_e.EMPTY_NODE;const o=Ja(i.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(ct,(u,f)=>{s=s.updateImmediateChild(u,f)}),s;if(a){const u=aa(i.visibleWrites,e);return a.forEachChild(ct,(f,h)=>{const m=Yr(aa(u,new Qe(f)),h);s=s.updateImmediateChild(f,m)}),By(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}else{const u=aa(i.visibleWrites,e);return By(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}}function aD(i,e,a,s,o){Q(s||o,"Either existingEventSnap or existingServerSnap must exist");const u=St(e,a);if(qd(i.visibleWrites,u))return null;{const f=aa(i.visibleWrites,u);return Gd(f)?o.getChild(a):Yr(f,o.getChild(a))}}function rD(i,e,a,s){const o=St(e,a),u=Ja(i.visibleWrites,o);if(u!=null)return u;if(s.isCompleteForChild(a)){const f=aa(i.visibleWrites,o);return Yr(f,s.getNode().getImmediateChild(a))}else return null}function sD(i,e){return Ja(i.visibleWrites,e)}function lD(i,e,a,s,o,u,f){let h;const m=aa(i.visibleWrites,e),p=Ja(m,He());if(p!=null)h=p;else if(a!=null)h=Yr(m,a);else return[];if(h=h.withIndex(f),!h.isEmpty()&&!h.isLeafNode()){const y=[],v=f.getCompare(),E=u?h.getReverseIteratorFrom(s,f):h.getIteratorFrom(s,f);let S=E.getNext();for(;S&&y.length<o;)v(S,s)!==0&&y.push(S),S=E.getNext();return y}else return[]}function oD(){return{visibleWrites:kn.empty(),allWrites:[],lastWriteId:-1}}function Cu(i,e,a,s){return nb(i.writeTree,i.treePath,e,a,s)}function xh(i,e){return iD(i.writeTree,i.treePath,e)}function jy(i,e,a,s){return aD(i.writeTree,i.treePath,e,a,s)}function wu(i,e){return sD(i.writeTree,St(i.treePath,e))}function uD(i,e,a,s,o,u){return lD(i.writeTree,i.treePath,e,a,s,o,u)}function Ih(i,e,a){return rD(i.writeTree,i.treePath,e,a)}function ib(i,e){return ab(St(i.treePath,e),i.writeTree)}function ab(i,e){return{treePath:i,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.changeMap=new Map}trackChildChange(e){const a=e.type,s=e.childName;Q(a==="child_added"||a==="child_changed"||a==="child_removed","Only child changes supported for tracking"),Q(s!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(s);if(o){const u=o.type;if(a==="child_added"&&u==="child_removed")this.changeMap.set(s,El(s,e.snapshotNode,o.snapshotNode));else if(a==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(a==="child_removed"&&u==="child_changed")this.changeMap.set(s,vl(s,o.oldSnap));else if(a==="child_changed"&&u==="child_added")this.changeMap.set(s,Fr(s,e.snapshotNode));else if(a==="child_changed"&&u==="child_changed")this.changeMap.set(s,El(s,e.snapshotNode,o.oldSnap));else throw Qr("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{getCompleteChild(e){return null}getChildAfterChild(e,a,s){return null}}const rb=new fD;class Lh{constructor(e,a,s=null){this.writes_=e,this.viewCache_=a,this.optCompleteServerCache_=s}getCompleteChild(e){const a=this.viewCache_.eventCache;if(a.isCompleteForChild(e))return a.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new oa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ih(this.writes_,e,s)}}getChildAfterChild(e,a,s){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ka(this.viewCache_),u=uD(this.writes_,o,a,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(i){return{filter:i}}function hD(i,e){Q(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Q(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function mD(i,e,a,s,o){const u=new cD;let f,h;if(a.type===Un.OVERWRITE){const p=a;p.source.fromUser?f=Fd(i,e,p.path,p.snap,s,o,u):(Q(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!De(p.path),f=Ru(i,e,p.path,p.snap,s,o,h,u))}else if(a.type===Un.MERGE){const p=a;p.source.fromUser?f=gD(i,e,p.path,p.children,s,o,u):(Q(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),f=Yd(i,e,p.path,p.children,s,o,h,u))}else if(a.type===Un.ACK_USER_WRITE){const p=a;p.revert?f=vD(i,e,p.path,s,o,u):f=_D(i,e,p.path,p.affectedTree,s,o,u)}else if(a.type===Un.LISTEN_COMPLETE)f=yD(i,e,a.path,s,u);else throw Qr("Unknown operation type: "+a.type);const m=u.getChanges();return pD(e,f,m),{viewCache:f,changes:m}}function pD(i,e,a){const s=e.eventCache;if(s.isFullyInitialized()){const o=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=Tu(i);(a.length>0||!i.eventCache.isFullyInitialized()||o&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&a.push($E(Tu(e)))}}function sb(i,e,a,s,o,u){const f=e.eventCache;if(wu(s,a)!=null)return e;{let h,m;if(De(a))if(Q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Ka(e),y=p instanceof _e?p:_e.EMPTY_NODE,v=xh(s,y);h=i.filter.updateFullNode(e.eventCache.getNode(),v,u)}else{const p=Cu(s,Ka(e));h=i.filter.updateFullNode(e.eventCache.getNode(),p,u)}else{const p=Oe(a);if(p===".priority"){Q(la(a)===1,"Can't have a priority with additional path components");const y=f.getNode();m=e.serverCache.getNode();const v=jy(s,a,y,m);v!=null?h=i.filter.updatePriority(y,v):h=f.getNode()}else{const y=We(a);let v;if(f.isCompleteForChild(p)){m=e.serverCache.getNode();const E=jy(s,a,f.getNode(),m);E!=null?v=f.getNode().getImmediateChild(p).updateChild(y,E):v=f.getNode().getImmediateChild(p)}else v=Ih(s,p,e.serverCache);v!=null?h=i.filter.updateChild(f.getNode(),p,v,y,o,u):h=f.getNode()}}return ul(e,h,f.isFullyInitialized()||De(a),i.filter.filtersNodes())}}function Ru(i,e,a,s,o,u,f,h){const m=e.serverCache;let p;const y=f?i.filter:i.filter.getIndexedFilter();if(De(a))p=y.updateFullNode(m.getNode(),s,null);else if(y.filtersNodes()&&!m.isFiltered()){const S=m.getNode().updateChild(a,s);p=y.updateFullNode(m.getNode(),S,null)}else{const S=Oe(a);if(!m.isCompleteForPath(a)&&la(a)>1)return e;const A=We(a),z=m.getNode().getImmediateChild(S).updateChild(A,s);S===".priority"?p=y.updatePriority(m.getNode(),z):p=y.updateChild(m.getNode(),S,z,A,rb,null)}const v=JE(e,p,m.isFullyInitialized()||De(a),y.filtersNodes()),E=new Lh(o,v,u);return sb(i,v,a,o,E,h)}function Fd(i,e,a,s,o,u,f){const h=e.eventCache;let m,p;const y=new Lh(o,e,u);if(De(a))p=i.filter.updateFullNode(e.eventCache.getNode(),s,f),m=ul(e,p,!0,i.filter.filtersNodes());else{const v=Oe(a);if(v===".priority")p=i.filter.updatePriority(e.eventCache.getNode(),s),m=ul(e,p,h.isFullyInitialized(),h.isFiltered());else{const E=We(a),S=h.getNode().getImmediateChild(v);let A;if(De(E))A=s;else{const H=y.getCompleteChild(v);H!=null?BE(E)===".priority"&&H.getChild(VE(E)).isEmpty()?A=H:A=H.updateChild(E,s):A=_e.EMPTY_NODE}if(S.equals(A))m=e;else{const H=i.filter.updateChild(h.getNode(),v,A,E,y,f);m=ul(e,H,h.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function Vy(i,e){return i.eventCache.isCompleteForChild(e)}function gD(i,e,a,s,o,u,f){let h=e;return s.foreach((m,p)=>{const y=St(a,m);Vy(e,Oe(y))&&(h=Fd(i,h,y,p,o,u,f))}),s.foreach((m,p)=>{const y=St(a,m);Vy(e,Oe(y))||(h=Fd(i,h,y,p,o,u,f))}),h}function qy(i,e,a){return a.foreach((s,o)=>{e=e.updateChild(s,o)}),e}function Yd(i,e,a,s,o,u,f,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,p;De(a)?p=s:p=new Je(null).setTree(a,s);const y=e.serverCache.getNode();return p.children.inorderTraversal((v,E)=>{if(y.hasChild(v)){const S=e.serverCache.getNode().getImmediateChild(v),A=qy(i,S,E);m=Ru(i,m,new Qe(v),A,o,u,f,h)}}),p.children.inorderTraversal((v,E)=>{const S=!e.serverCache.isCompleteForChild(v)&&E.value===null;if(!y.hasChild(v)&&!S){const A=e.serverCache.getNode().getImmediateChild(v),H=qy(i,A,E);m=Ru(i,m,new Qe(v),H,o,u,f,h)}}),m}function _D(i,e,a,s,o,u,f){if(wu(o,a)!=null)return e;const h=e.serverCache.isFiltered(),m=e.serverCache;if(s.value!=null){if(De(a)&&m.isFullyInitialized()||m.isCompleteForPath(a))return Ru(i,e,a,m.getNode().getChild(a),o,u,h,f);if(De(a)){let p=new Je(null);return m.getNode().forEachChild(Br,(y,v)=>{p=p.set(new Qe(y),v)}),Yd(i,e,a,p,o,u,h,f)}else return e}else{let p=new Je(null);return s.foreach((y,v)=>{const E=St(a,y);m.isCompleteForPath(E)&&(p=p.set(y,m.getNode().getChild(E)))}),Yd(i,e,a,p,o,u,h,f)}}function yD(i,e,a,s,o){const u=e.serverCache,f=JE(e,u.getNode(),u.isFullyInitialized()||De(a),u.isFiltered());return sb(i,f,a,s,rb,o)}function vD(i,e,a,s,o,u){let f;if(wu(s,a)!=null)return e;{const h=new Lh(s,e,o),m=e.eventCache.getNode();let p;if(De(a)||Oe(a)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=Cu(s,Ka(e));else{const v=e.serverCache.getNode();Q(v instanceof _e,"serverChildren would be complete if leaf node"),y=xh(s,v)}y=y,p=i.filter.updateFullNode(m,y,u)}else{const y=Oe(a);let v=Ih(s,y,e.serverCache);v==null&&e.serverCache.isCompleteForChild(y)&&(v=m.getImmediateChild(y)),v!=null?p=i.filter.updateChild(m,y,v,We(a),h,u):e.eventCache.getNode().hasChild(y)?p=i.filter.updateChild(m,y,_e.EMPTY_NODE,We(a),h,u):p=m,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=Cu(s,Ka(e)),f.isLeafNode()&&(p=i.filter.updateFullNode(p,f,u)))}return f=e.serverCache.isFullyInitialized()||wu(s,He())!=null,ul(e,p,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,a){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,o=new Nh(s.getIndex()),u=PN(s);this.processor_=dD(u);const f=a.serverCache,h=a.eventCache,m=o.updateFullNode(_e.EMPTY_NODE,f.getNode(),null),p=u.updateFullNode(_e.EMPTY_NODE,h.getNode(),null),y=new oa(m,f.isFullyInitialized(),o.filtersNodes()),v=new oa(p,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=ju(v,y),this.eventGenerator_=new YN(this.query_)}get query(){return this.query_}}function bD(i){return i.viewCache_.serverCache.getNode()}function SD(i){return Tu(i.viewCache_)}function TD(i,e){const a=Ka(i.viewCache_);return a&&(i.query._queryParams.loadsAllData()||!De(e)&&!a.getImmediateChild(Oe(e)).isEmpty())?a.getChild(e):null}function Gy(i){return i.eventRegistrations_.length===0}function CD(i,e){i.eventRegistrations_.push(e)}function Fy(i,e,a){const s=[];if(a){Q(e==null,"A cancel should cancel all event registrations.");const o=i.query._path;i.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(a,o);f&&s.push(f)})}if(e){let o=[];for(let u=0;u<i.eventRegistrations_.length;++u){const f=i.eventRegistrations_[u];if(!f.matches(e))o.push(f);else if(e.hasAnyCallback()){o=o.concat(i.eventRegistrations_.slice(u+1));break}}i.eventRegistrations_=o}else i.eventRegistrations_=[];return s}function Yy(i,e,a,s){e.type===Un.MERGE&&e.source.queryId!==null&&(Q(Ka(i.viewCache_),"We should always have a full cache before handling merges"),Q(Tu(i.viewCache_),"Missing event cache, even though we have a server cache"));const o=i.viewCache_,u=mD(i.processor_,o,e,a,s);return hD(i.processor_,u.viewCache),Q(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=u.viewCache,lb(i,u.changes,u.viewCache.eventCache.getNode(),null)}function wD(i,e){const a=i.viewCache_.eventCache,s=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(ct,(u,f)=>{s.push(Fr(u,f))}),a.isFullyInitialized()&&s.push($E(a.getNode())),lb(i,s,a.getNode(),e)}function lb(i,e,a,s){const o=s?[s]:i.eventRegistrations_;return QN(i.eventGenerator_,e,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Au;class ob{constructor(){this.views=new Map}}function RD(i){Q(!Au,"__referenceConstructor has already been defined"),Au=i}function AD(){return Q(Au,"Reference.ts has not been loaded"),Au}function ND(i){return i.views.size===0}function Uh(i,e,a,s){const o=e.source.queryId;if(o!==null){const u=i.views.get(o);return Q(u!=null,"SyncTree gave us an op for an invalid query."),Yy(u,e,a,s)}else{let u=[];for(const f of i.views.values())u=u.concat(Yy(f,e,a,s));return u}}function ub(i,e,a,s,o){const u=e._queryIdentifier,f=i.views.get(u);if(!f){let h=Cu(a,o?s:null),m=!1;h?m=!0:s instanceof _e?(h=xh(a,s),m=!1):(h=_e.EMPTY_NODE,m=!1);const p=ju(new oa(h,m,!1),new oa(s,o,!1));return new ED(e,p)}return f}function DD(i,e,a,s,o,u){const f=ub(i,e,s,o,u);return i.views.has(e._queryIdentifier)||i.views.set(e._queryIdentifier,f),CD(f,a),wD(f,a)}function OD(i,e,a,s){const o=e._queryIdentifier,u=[];let f=[];const h=ua(i);if(o==="default")for(const[m,p]of i.views.entries())f=f.concat(Fy(p,a,s)),Gy(p)&&(i.views.delete(m),p.query._queryParams.loadsAllData()||u.push(p.query));else{const m=i.views.get(o);m&&(f=f.concat(Fy(m,a,s)),Gy(m)&&(i.views.delete(o),m.query._queryParams.loadsAllData()||u.push(m.query)))}return h&&!ua(i)&&u.push(new(AD())(e._repo,e._path)),{removed:u,events:f}}function cb(i){const e=[];for(const a of i.views.values())a.query._queryParams.loadsAllData()||e.push(a);return e}function ra(i,e){let a=null;for(const s of i.views.values())a=a||TD(s,e);return a}function fb(i,e){if(e._queryParams.loadsAllData())return qu(i);{const s=e._queryIdentifier;return i.views.get(s)}}function db(i,e){return fb(i,e)!=null}function ua(i){return qu(i)!=null}function qu(i){for(const e of i.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu;function MD(i){Q(!Nu,"__referenceConstructor has already been defined"),Nu=i}function xD(){return Q(Nu,"Reference.ts has not been loaded"),Nu}let ID=1;class Qy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Je(null),this.pendingWriteTree_=oD(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hb(i,e,a,s,o){return WN(i.pendingWriteTree_,e,a,s,o),o?Ul(i,new Xa(ZE(),e,a)):[]}function qa(i,e,a=!1){const s=ZN(i.pendingWriteTree_,e);if(JN(i.pendingWriteTree_,e)){let u=new Je(null);return s.snap!=null?u=u.set(He(),!0):Wt(s.children,f=>{u=u.set(new Qe(f),!0)}),Ul(i,new Su(s.path,u,a))}else return[]}function Ll(i,e,a){return Ul(i,new Xa(Oh(),e,a))}function LD(i,e,a){const s=Je.fromObject(a);return Ul(i,new Tl(Oh(),e,s))}function UD(i,e){return Ul(i,new Sl(Oh(),e))}function kD(i,e,a){const s=zh(i,a);if(s){const o=Hh(s),u=o.path,f=o.queryId,h=Gt(u,e),m=new Sl(Mh(f),h);return Ph(i,u,m)}else return[]}function mb(i,e,a,s,o=!1){const u=e._path,f=i.syncPointTree_.get(u);let h=[];if(f&&(e._queryIdentifier==="default"||db(f,e))){const m=OD(f,e,a,s);ND(f)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const p=m.removed;if(h=m.events,!o){const y=p.findIndex(E=>E._queryParams.loadsAllData())!==-1,v=i.syncPointTree_.findOnPath(u,(E,S)=>ua(S));if(y&&!v){const E=i.syncPointTree_.subtree(u);if(!E.isEmpty()){const S=BD(E);for(let A=0;A<S.length;++A){const H=S[A],z=H.query,P=yb(i,H);i.listenProvider_.startListening(fl(z),Cl(i,z),P.hashFn,P.onComplete)}}}!v&&p.length>0&&!s&&(y?i.listenProvider_.stopListening(fl(e),null):p.forEach(E=>{const S=i.queryToTagMap.get(Gu(E));i.listenProvider_.stopListening(fl(E),S)}))}jD(i,p)}return h}function pb(i,e,a,s){const o=zh(i,s);if(o!=null){const u=Hh(o),f=u.path,h=u.queryId,m=Gt(f,e),p=new Xa(Mh(h),m,a);return Ph(i,f,p)}else return[]}function zD(i,e,a,s){const o=zh(i,s);if(o){const u=Hh(o),f=u.path,h=u.queryId,m=Gt(f,e),p=Je.fromObject(a),y=new Tl(Mh(h),m,p);return Ph(i,f,y)}else return[]}function HD(i,e,a,s=!1){const o=e._path;let u=null,f=!1;i.syncPointTree_.foreachOnPath(o,(E,S)=>{const A=Gt(E,o);u=u||ra(S,A),f=f||ua(S)});let h=i.syncPointTree_.get(o);h?(f=f||ua(h),u=u||ra(h,He())):(h=new ob,i.syncPointTree_=i.syncPointTree_.set(o,h));let m;u!=null?m=!0:(m=!1,u=_e.EMPTY_NODE,i.syncPointTree_.subtree(o).foreachChild((S,A)=>{const H=ra(A,He());H&&(u=u.updateImmediateChild(S,H))}));const p=db(h,e);if(!p&&!e._queryParams.loadsAllData()){const E=Gu(e);Q(!i.queryToTagMap.has(E),"View does not exist, but we have a tag");const S=VD();i.queryToTagMap.set(E,S),i.tagToQueryMap.set(S,E)}const y=Vu(i.pendingWriteTree_,o);let v=DD(h,e,a,y,u,m);if(!p&&!f&&!s){const E=fb(h,e);v=v.concat(qD(i,e,E))}return v}function kh(i,e,a){const o=i.pendingWriteTree_,u=i.syncPointTree_.findOnPath(e,(f,h)=>{const m=Gt(f,e),p=ra(h,m);if(p)return p});return nb(o,e,u,a,!0)}function PD(i,e){const a=e._path;let s=null;i.syncPointTree_.foreachOnPath(a,(p,y)=>{const v=Gt(p,a);s=s||ra(y,v)});let o=i.syncPointTree_.get(a);o?s=s||ra(o,He()):(o=new ob,i.syncPointTree_=i.syncPointTree_.set(a,o));const u=s!=null,f=u?new oa(s,!0,!1):null,h=Vu(i.pendingWriteTree_,e._path),m=ub(o,e,h,u?f.getNode():_e.EMPTY_NODE,u);return SD(m)}function Ul(i,e){return gb(e,i.syncPointTree_,null,Vu(i.pendingWriteTree_,He()))}function gb(i,e,a,s){if(De(i.path))return _b(i,e,a,s);{const o=e.get(He());a==null&&o!=null&&(a=ra(o,He()));let u=[];const f=Oe(i.path),h=i.operationForChild(f),m=e.children.get(f);if(m&&h){const p=a?a.getImmediateChild(f):null,y=ib(s,f);u=u.concat(gb(h,m,p,y))}return o&&(u=u.concat(Uh(o,i,s,a))),u}}function _b(i,e,a,s){const o=e.get(He());a==null&&o!=null&&(a=ra(o,He()));let u=[];return e.children.inorderTraversal((f,h)=>{const m=a?a.getImmediateChild(f):null,p=ib(s,f),y=i.operationForChild(f);y&&(u=u.concat(_b(y,h,m,p)))}),o&&(u=u.concat(Uh(o,i,s,a))),u}function yb(i,e){const a=e.query,s=Cl(i,a);return{hashFn:()=>(bD(e)||_e.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return s?kD(i,a._path,s):UD(i,a._path);{const u=H1(o,a);return mb(i,a,null,u)}}}}function Cl(i,e){const a=Gu(e);return i.queryToTagMap.get(a)}function Gu(i){return i._path.toString()+"$"+i._queryIdentifier}function zh(i,e){return i.tagToQueryMap.get(e)}function Hh(i){const e=i.indexOf("$");return Q(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new Qe(i.substr(0,e))}}function Ph(i,e,a){const s=i.syncPointTree_.get(e);Q(s,"Missing sync point for query tag that we're tracking");const o=Vu(i.pendingWriteTree_,e);return Uh(s,a,o,null)}function BD(i){return i.fold((e,a,s)=>{if(a&&ua(a))return[qu(a)];{let o=[];return a&&(o=cb(a)),Wt(s,(u,f)=>{o=o.concat(f)}),o}})}function fl(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(xD())(i._repo,i._path):i}function jD(i,e){for(let a=0;a<e.length;++a){const s=e[a];if(!s._queryParams.loadsAllData()){const o=Gu(s),u=i.queryToTagMap.get(o);i.queryToTagMap.delete(o),i.tagToQueryMap.delete(u)}}}function VD(){return ID++}function qD(i,e,a){const s=e._path,o=Cl(i,e),u=yb(i,a),f=i.listenProvider_.startListening(fl(e),o,u.hashFn,u.onComplete),h=i.syncPointTree_.subtree(s);if(o)Q(!ua(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((p,y,v)=>{if(!De(p)&&y&&ua(y))return[qu(y).query];{let E=[];return y&&(E=E.concat(cb(y).map(S=>S.query))),Wt(v,(S,A)=>{E=E.concat(A)}),E}});for(let p=0;p<m.length;++p){const y=m[p];i.listenProvider_.stopListening(fl(y),Cl(i,y))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.node_=e}getImmediateChild(e){const a=this.node_.getImmediateChild(e);return new Bh(a)}node(){return this.node_}}class jh{constructor(e,a){this.syncTree_=e,this.path_=a}getImmediateChild(e){const a=St(this.path_,e);return new jh(this.syncTree_,a)}node(){return kh(this.syncTree_,this.path_)}}const GD=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Xy=function(i,e,a){if(!i||typeof i!="object")return i;if(Q(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return FD(i[".sv"],e,a);if(typeof i[".sv"]=="object")return YD(i[".sv"],e);Q(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},FD=function(i,e,a){switch(i){case"timestamp":return a.timestamp;default:Q(!1,"Unexpected server value: "+i)}},YD=function(i,e,a){i.hasOwnProperty("increment")||Q(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const s=i.increment;typeof s!="number"&&Q(!1,"Unexpected increment value: "+s);const o=e.node();if(Q(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return s;const f=o.getValue();return typeof f!="number"?s:f+s},QD=function(i,e,a,s){return Vh(e,new jh(a,i),s)},vb=function(i,e,a){return Vh(i,new Bh(e),a)};function Vh(i,e,a){const s=i.getPriority().val(),o=Xy(s,e.getImmediateChild(".priority"),a);let u;if(i.isLeafNode()){const f=i,h=Xy(f.getValue(),e,a);return h!==f.getValue()||o!==f.getPriority().val()?new At(h,Dt(o)):i}else{const f=i;return u=f,o!==f.getPriority().val()&&(u=u.updatePriority(new At(o))),f.forEachChild(ct,(h,m)=>{const p=Vh(m,e.getImmediateChild(h),a);p!==m&&(u=u.updateImmediateChild(h,p))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e="",a=null,s={children:{},childCount:0}){this.name=e,this.parent=a,this.node=s}}function Gh(i,e){let a=e instanceof Qe?e:new Qe(e),s=i,o=Oe(a);for(;o!==null;){const u=qr(s.node.children,o)||{children:{},childCount:0};s=new qh(o,s,u),a=We(a),o=Oe(a)}return s}function $r(i){return i.node.value}function Eb(i,e){i.node.value=e,Qd(i)}function bb(i){return i.node.childCount>0}function XD(i){return $r(i)===void 0&&!bb(i)}function Fu(i,e){Wt(i.node.children,(a,s)=>{e(new qh(a,i,s))})}function Sb(i,e,a,s){a&&e(i),Fu(i,o=>{Sb(o,e,!0)})}function KD(i,e,a){let s=i.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function kl(i){return new Qe(i.parent===null?i.name:kl(i.parent)+"/"+i.name)}function Qd(i){i.parent!==null&&$D(i.parent,i.name,i)}function $D(i,e,a){const s=XD(a),o=Ri(i.node.children,e);s&&o?(delete i.node.children[e],i.node.childCount--,Qd(i)):!s&&!o&&(i.node.children[e]=a.node,i.node.childCount++,Qd(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=/[\[\].#$\/\u0000-\u001F\u007F]/,ZD=/[\[\].#$\u0000-\u001F\u007F]/,wd=10*1024*1024,Tb=function(i){return typeof i=="string"&&i.length!==0&&!WD.test(i)},Cb=function(i){return typeof i=="string"&&i.length!==0&&!ZD.test(i)},JD=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Cb(i)},wb=function(i,e,a,s){s&&e===void 0||Fh(ph(i,"value"),e,a)},Fh=function(i,e,a){const s=a instanceof Qe?new _N(a,i):a;if(e===void 0)throw new Error(i+"contains undefined "+za(s));if(typeof e=="function")throw new Error(i+"contains a function "+za(s)+" with contents = "+e.toString());if(vE(e))throw new Error(i+"contains "+e.toString()+" "+za(s));if(typeof e=="string"&&e.length>wd/3&&Uu(e)>wd)throw new Error(i+"contains a string greater than "+wd+" utf8 bytes "+za(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(Wt(e,(f,h)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!Tb(f)))throw new Error(i+" contains an invalid key ("+f+") "+za(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);yN(s,f),Fh(i,h,s),vN(s)}),o&&u)throw new Error(i+' contains ".value" child '+za(s)+" in addition to actual children.")}},Rb=function(i,e,a,s){if(!Cb(a))throw new Error(ph(i,e)+'was an invalid path = "'+a+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},eO=function(i,e,a,s){a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Rb(i,e,a)},Ab=function(i,e){if(Oe(e)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},tO=function(i,e){const a=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Tb(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||a.length!==0&&!JD(a))throw new Error(ph(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Nb(i,e){let a=null;for(let s=0;s<e.length;s++){const o=e[s],u=o.getPath();a!==null&&!qE(u,a.path)&&(i.eventLists_.push(a),a=null),a===null&&(a={events:[],path:u}),a.events.push(o)}a&&i.eventLists_.push(a)}function Wn(i,e,a){Nb(i,a),iO(i,s=>Ln(s,e)||Ln(e,s))}function iO(i,e){i.recursionDepth_++;let a=!0;for(let s=0;s<i.eventLists_.length;s++){const o=i.eventLists_[s];if(o){const u=o.path;e(u)?(aO(i.eventLists_[s]),i.eventLists_[s]=null):a=!1}}a&&(i.eventLists_=[]),i.recursionDepth_--}function aO(i){for(let e=0;e<i.events.length;e++){const a=i.events[e];if(a!==null){i.events[e]=null;const s=a.getEventRunner();ll&&jt("event: "+a.toString()),Kr(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="repo_interrupt",sO=25;class lO{constructor(e,a,s,o){this.repoInfo_=e,this.forceRestClient_=a,this.authTokenProvider_=s,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bu(),this.transactionQueueTree_=new qh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function oO(i,e,a){if(i.stats_=Ch(i.repoInfo_),i.forceRestClient_||V1())i.server_=new Eu(i.repoInfo_,(s,o,u,f)=>{Ky(i,s,o,u,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>$y(i,!0),0);else{if(typeof a<"u"&&a!==null){if(typeof a!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{bt(a)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}i.persistentConnection_=new Si(i.repoInfo_,e,(s,o,u,f)=>{Ky(i,s,o,u,f)},s=>{$y(i,s)},s=>{uO(i,s)},i.authTokenProvider_,i.appCheckProvider_,a),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(s=>{i.server_.refreshAuthToken(s)}),i.appCheckProvider_.addTokenChangeListener(s=>{i.server_.refreshAppCheckToken(s.token)}),i.statsReporter_=Q1(i.repoInfo_,()=>new FN(i.stats_,i.server_)),i.infoData_=new BN,i.infoSyncTree_=new Qy({startListening:(s,o,u,f)=>{let h=[];const m=i.infoData_.getNode(s._path);return m.isEmpty()||(h=Ll(i.infoSyncTree_,s._path,m),setTimeout(()=>{f("ok")},0)),h},stopListening:()=>{}}),Qh(i,"connected",!1),i.serverSyncTree_=new Qy({startListening:(s,o,u,f)=>(i.server_.listen(s,u,o,(h,m)=>{const p=f(h,m);Wn(i.eventQueue_,s._path,p)}),[]),stopListening:(s,o)=>{i.server_.unlisten(s,o)}})}function Db(i){const a=i.infoData_.getNode(new Qe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+a}function Yh(i){return GD({timestamp:Db(i)})}function Ky(i,e,a,s,o){i.dataUpdateCount++;const u=new Qe(e);a=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,a):a;let f=[];if(o)if(s){const m=du(a,p=>Dt(p));f=zD(i.serverSyncTree_,u,m,o)}else{const m=Dt(a);f=pb(i.serverSyncTree_,u,m,o)}else if(s){const m=du(a,p=>Dt(p));f=LD(i.serverSyncTree_,u,m)}else{const m=Dt(a);f=Ll(i.serverSyncTree_,u,m)}let h=u;f.length>0&&(h=Qu(i,u)),Wn(i.eventQueue_,h,f)}function $y(i,e){Qh(i,"connected",e),e===!1&&dO(i)}function uO(i,e){Wt(e,(a,s)=>{Qh(i,a,s)})}function Qh(i,e,a){const s=new Qe("/.info/"+e),o=Dt(a);i.infoData_.updateSnapshot(s,o);const u=Ll(i.infoSyncTree_,s,o);Wn(i.eventQueue_,s,u)}function Ob(i){return i.nextWriteId_++}function cO(i,e,a){const s=PD(i.serverSyncTree_,e);return s!=null?Promise.resolve(s):i.server_.get(e).then(o=>{const u=Dt(o).withIndex(e._queryParams.getIndex());HD(i.serverSyncTree_,e,a,!0);let f;if(e._queryParams.loadsAllData())f=Ll(i.serverSyncTree_,e._path,u);else{const h=Cl(i.serverSyncTree_,e);f=pb(i.serverSyncTree_,e._path,u,h)}return Wn(i.eventQueue_,e._path,f),mb(i.serverSyncTree_,e,a,null,!0),u},o=>(Yu(i,"get for query "+bt(e)+" failed: "+o),Promise.reject(new Error(o))))}function fO(i,e,a,s,o){Yu(i,"set",{path:e.toString(),value:a,priority:s});const u=Yh(i),f=Dt(a,s),h=kh(i.serverSyncTree_,e),m=vb(f,h,u),p=Ob(i),y=hb(i.serverSyncTree_,e,m,p,!0);Nb(i.eventQueue_,y),i.server_.put(e.toString(),f.val(!0),(E,S)=>{const A=E==="ok";A||$t("set at "+e+" failed: "+E);const H=qa(i.serverSyncTree_,p,!A);Wn(i.eventQueue_,e,H),mO(i,o,E,S)});const v=Ub(i,e);Qu(i,v),Wn(i.eventQueue_,v,[])}function dO(i){Yu(i,"onDisconnectEvents");const e=Yh(i),a=bu();Vd(i.onDisconnect_,He(),(o,u)=>{const f=QD(o,u,i.serverSyncTree_,e);WE(a,o,f)});let s=[];Vd(a,He(),(o,u)=>{s=s.concat(Ll(i.serverSyncTree_,o,u));const f=Ub(i,o);Qu(i,f)}),i.onDisconnect_=bu(),Wn(i.eventQueue_,He(),s)}function hO(i){i.persistentConnection_&&i.persistentConnection_.interrupt(rO)}function Yu(i,...e){let a="";i.persistentConnection_&&(a=i.persistentConnection_.id+":"),jt(a,...e)}function mO(i,e,a,s){e&&Kr(()=>{if(a==="ok")e(null);else{const o=(a||"error").toUpperCase();let u=o;s&&(u+=": "+s);const f=new Error(u);f.code=o,e(f)}})}function Mb(i,e,a){return kh(i.serverSyncTree_,e,a)||_e.EMPTY_NODE}function Xh(i,e=i.transactionQueueTree_){if(e||Xu(i,e),$r(e)){const a=Ib(i,e);Q(a.length>0,"Sending zero length transaction queue"),a.every(o=>o.status===0)&&pO(i,kl(e),a)}else bb(e)&&Fu(e,a=>{Xh(i,a)})}function pO(i,e,a){const s=a.map(p=>p.currentWriteId),o=Mb(i,e,s);let u=o;const f=o.hash();for(let p=0;p<a.length;p++){const y=a[p];Q(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const v=Gt(e,y.path);u=u.updateChild(v,y.currentOutputSnapshotRaw)}const h=u.val(!0),m=e;i.server_.put(m.toString(),h,p=>{Yu(i,"transaction put response",{path:m.toString(),status:p});let y=[];if(p==="ok"){const v=[];for(let E=0;E<a.length;E++)a[E].status=2,y=y.concat(qa(i.serverSyncTree_,a[E].currentWriteId)),a[E].onComplete&&v.push(()=>a[E].onComplete(null,!0,a[E].currentOutputSnapshotResolved)),a[E].unwatcher();Xu(i,Gh(i.transactionQueueTree_,e)),Xh(i,i.transactionQueueTree_),Wn(i.eventQueue_,e,y);for(let E=0;E<v.length;E++)Kr(v[E])}else{if(p==="datastale")for(let v=0;v<a.length;v++)a[v].status===3?a[v].status=4:a[v].status=0;else{$t("transaction at "+m.toString()+" failed: "+p);for(let v=0;v<a.length;v++)a[v].status=4,a[v].abortReason=p}Qu(i,e)}},f)}function Qu(i,e){const a=xb(i,e),s=kl(a),o=Ib(i,a);return gO(i,o,s),s}function gO(i,e,a){if(e.length===0)return;const s=[];let o=[];const f=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const m=e[h],p=Gt(a,m.path);let y=!1,v;if(Q(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)y=!0,v=m.abortReason,o=o.concat(qa(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=sO)y=!0,v="maxretry",o=o.concat(qa(i.serverSyncTree_,m.currentWriteId,!0));else{const E=Mb(i,m.path,f);m.currentInputSnapshot=E;const S=e[h].update(E.val());if(S!==void 0){Fh("transaction failed: Data returned ",S,m.path);let A=Dt(S);typeof S=="object"&&S!=null&&Ri(S,".priority")||(A=A.updatePriority(E.getPriority()));const z=m.currentWriteId,P=Yh(i),F=vb(A,E,P);m.currentOutputSnapshotRaw=A,m.currentOutputSnapshotResolved=F,m.currentWriteId=Ob(i),f.splice(f.indexOf(z),1),o=o.concat(hb(i.serverSyncTree_,m.path,F,m.currentWriteId,m.applyLocally)),o=o.concat(qa(i.serverSyncTree_,z,!0))}else y=!0,v="nodata",o=o.concat(qa(i.serverSyncTree_,m.currentWriteId,!0))}Wn(i.eventQueue_,a,o),o=[],y&&(e[h].status=2,function(E){setTimeout(E,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(v==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(v),!1,null))))}Xu(i,i.transactionQueueTree_);for(let h=0;h<s.length;h++)Kr(s[h]);Xh(i,i.transactionQueueTree_)}function xb(i,e){let a,s=i.transactionQueueTree_;for(a=Oe(e);a!==null&&$r(s)===void 0;)s=Gh(s,a),e=We(e),a=Oe(e);return s}function Ib(i,e){const a=[];return Lb(i,e,a),a.sort((s,o)=>s.order-o.order),a}function Lb(i,e,a){const s=$r(e);if(s)for(let o=0;o<s.length;o++)a.push(s[o]);Fu(e,o=>{Lb(i,o,a)})}function Xu(i,e){const a=$r(e);if(a){let s=0;for(let o=0;o<a.length;o++)a[o].status!==2&&(a[s]=a[o],s++);a.length=s,Eb(e,a.length>0?a:void 0)}Fu(e,s=>{Xu(i,s)})}function Ub(i,e){const a=kl(xb(i,e)),s=Gh(i.transactionQueueTree_,e);return KD(s,o=>{Rd(i,o)}),Rd(i,s),Sb(s,o=>{Rd(i,o)}),a}function Rd(i,e){const a=$r(e);if(a){const s=[];let o=[],u=-1;for(let f=0;f<a.length;f++)a[f].status===3||(a[f].status===1?(Q(u===f-1,"All SENT items should be at beginning of queue."),u=f,a[f].status=3,a[f].abortReason="set"):(Q(a[f].status===0,"Unexpected transaction status in abort"),a[f].unwatcher(),o=o.concat(qa(i.serverSyncTree_,a[f].currentWriteId,!0)),a[f].onComplete&&s.push(a[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?Eb(e,void 0):a.length=u+1,Wn(i.eventQueue_,kl(e),o);for(let f=0;f<s.length;f++)Kr(s[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(i){let e="";const a=i.split("/");for(let s=0;s<a.length;s++)if(a[s].length>0){let o=a[s];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function yO(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const a of i.split("&")){if(a.length===0)continue;const s=a.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):$t(`Invalid query segment '${a}' in query '${i}'`)}return e}const Wy=function(i,e){const a=vO(i),s=a.namespace;a.domain==="firebase.com"&&Ci(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&a.domain!=="localhost"&&Ci("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||I1();const o=a.scheme==="ws"||a.scheme==="wss";return{repoInfo:new ME(a.host,a.secure,s,o,e,"",s!==a.subdomain),path:new Qe(a.pathString)}},vO=function(i){let e="",a="",s="",o="",u="",f=!0,h="https",m=443;if(typeof i=="string"){let p=i.indexOf("//");p>=0&&(h=i.substring(0,p-1),i=i.substring(p+2));let y=i.indexOf("/");y===-1&&(y=i.length);let v=i.indexOf("?");v===-1&&(v=i.length),e=i.substring(0,Math.min(y,v)),y<v&&(o=_O(i.substring(y,v)));const E=yO(i.substring(Math.min(i.length,v)));p=e.indexOf(":"),p>=0?(f=h==="https"||h==="wss",m=parseInt(e.substring(p+1),10)):p=e.length;const S=e.slice(0,p);if(S.toLowerCase()==="localhost")a="localhost";else if(S.split(".").length<=2)a=S;else{const A=e.indexOf(".");s=e.substring(0,A).toLowerCase(),a=e.substring(A+1),u=s}"ns"in E&&(u=E.ns)}return{host:e,port:m,domain:a,subdomain:s,secure:f,scheme:h,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",EO=function(){let i=0;const e=[];return function(a){const s=a===i;i=a;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=Zy.charAt(a%64),a=Math.floor(a/64);Q(a===0,"Cannot push at time == 0");let f=u.join("");if(s){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)f+=Zy.charAt(e[o]);return Q(f.length===20,"nextPushId: Length should be 20."),f}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,a,s,o){this.eventType=e,this.eventRegistration=a,this.snapshot=s,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+bt(this.snapshot.exportVal())}}class SO{constructor(e,a,s){this.eventRegistration=e,this.error=a,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,a){this.snapshotCallback=e,this.cancelCallback=a}onValue(e,a){this.snapshotCallback.call(null,e,a)}onCancel(e){return Q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,a,s,o){this._repo=e,this._path=a,this._queryParams=s,this._orderByCalled=o}get key(){return De(this._path)?null:BE(this._path)}get ref(){return new Ai(this._repo,this._path)}get _queryIdentifier(){const e=ky(this._queryParams),a=Sh(e);return a==="{}"?"default":a}get _queryObject(){return ky(this._queryParams)}isEqual(e){if(e=ln(e),!(e instanceof Kh))return!1;const a=this._repo===e._repo,s=qE(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return a&&s&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+gN(this._path)}}class Ai extends Kh{constructor(e,a){super(e,a,new Dh,!1)}get parent(){const e=VE(this._path);return e===null?null:new Ai(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class wl{constructor(e,a,s){this._node=e,this.ref=a,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const a=new Qe(e),s=Rl(this.ref,e);return new wl(this._node.getChild(a),s,ct)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,o)=>e(new wl(o,Rl(this.ref,s),ct)))}hasChild(e){const a=new Qe(e);return!this._node.getChild(a).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function kb(i,e){return i=ln(i),i._checkNotDeleted("ref"),e!==void 0?Rl(i._root,e):i._root}function Rl(i,e){return i=ln(i),Oe(i._path)===null?eO("child","path",e):Rb("child","path",e),new Ai(i._repo,St(i._path,e))}function CO(i,e){i=ln(i),Ab("push",i._path),wb("push",e,i._path,!0);const a=Db(i._repo),s=EO(a),o=Rl(i,s),u=Rl(i,s);let f;return e!=null?f=wO(u,e).then(()=>u):f=Promise.resolve(u),o.then=f.then.bind(f),o.catch=f.then.bind(f,void 0),o}function wO(i,e){i=ln(i),Ab("set",i._path),wb("set",e,i._path,!1);const a=new Lu;return fO(i._repo,i._path,e,null,a.wrapCallback(()=>{})),a.promise}function RO(i){i=ln(i);const e=new TO(()=>{}),a=new $h(e);return cO(i._repo,i,a).then(s=>new wl(s,new Ai(i._repo,i._path),i._queryParams.getIndex()))}class $h{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,a){const s=a._queryParams.getIndex();return new bO("value",this,new wl(e.snapshotNode,new Ai(a._repo,a._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,a){return this.callbackContext.hasCancelCallback?new SO(this,e,a):null}matches(e){return e instanceof $h?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}RD(Ai);MD(Ai);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="FIREBASE_DATABASE_EMULATOR_HOST",Xd={};let NO=!1;function DO(i,e,a,s){i.repoInfo_=new ME(`${e}:${a}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),s&&(i.authTokenProvider_=s)}function OO(i,e,a,s,o){let u=s||i.options.databaseURL;u===void 0&&(i.options.projectId||Ci("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),jt("Using default host for project ",i.options.projectId),u=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=Wy(u,o),h=f.repoInfo,m;typeof process<"u"&&yy&&(m=yy[AO]),m?(u=`http://${m}?ns=${h.namespace}`,f=Wy(u,o),h=f.repoInfo):f.repoInfo.secure;const p=new G1(i.name,i.options,e);tO("Invalid Firebase Database URL",f),De(f.path)||Ci("Database URL must point to the root of a Firebase Database (not including a child path).");const y=xO(h,i,p,new q1(i.name,a));return new IO(y,i)}function MO(i,e){const a=Xd[e];(!a||a[i.key]!==i)&&Ci(`Database ${e}(${i.repoInfo_}) has already been deleted.`),hO(i),delete a[i.key]}function xO(i,e,a,s){let o=Xd[e.name];o||(o={},Xd[e.name]=o);let u=o[i.toURLString()];return u&&Ci("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new lO(i,NO,a,s),o[i.toURLString()]=u,u}class IO{constructor(e,a){this._repoInternal=e,this.app=a,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(oO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ai(this._repo,He())),this._rootInternal}_delete(){return this._rootInternal!==null&&(MO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ci("Cannot call "+e+" on a deleted database.")}}function LO(i=Fv(),e){const a=Ol(i,"database").getImmediate({identifier:e});if(!a._instanceStarted){const s=Lw("database");s&&UO(a,...s)}return a}function UO(i,e,a,s={}){i=ln(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&Ci("Cannot call useEmulator() after instance has already been initialized.");const o=i._repoInternal;let u;if(o.repoInfo_.nodeAdmin)s.mockUserToken&&Ci('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new au(au.OWNER);else if(s.mockUserToken){const f=typeof s.mockUserToken=="string"?s.mockUserToken:kw(s.mockUserToken,i.app.options.projectId);u=new au(f)}DO(o,e,a,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(i){A1(zu),$n(new Hn("database",(e,{instanceIdentifier:a})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return OO(s,o,u,a)},"PUBLIC").setMultipleInstances(!0)),wn(vy,Ey,i),wn(vy,Ey,"esm2017")}Si.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};Si.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};kO();const zO={apiKey:"AIzaSyA87k59Y0yvzptwjS0CB5jqQR80igso3sw",authDomain:"dino-dash-66723.firebaseapp.com",databaseURL:"https://dino-dash-66723-default-rtdb.europe-west1.firebasedatabase.app",projectId:"dino-dash-66723",storageBucket:"dino-dash-66723.firebasestorage.app",messagingSenderId:"456959919434",appId:"1:456959919434:web:fde2e8ba634046c8642db3",measurementId:"G-5LXYMB5NEH"},zb=Gv(zO);T1(zb);const Wh=LO(zb),Hb="highscores";console.log(" Firebase DB Instance:",Wh);const HO=async(i,e)=>{try{const a=kb(Wh,`${Hb}/${i}`);await CO(a,{score:e,timestamp:new Date().toISOString()}),console.log("High score submitted successfully")}catch(a){console.error("Error submitting high score: ",a)}},PO=async()=>{try{const i=kb(Wh,Hb),e=await RO(i);return e.exists()?e.val():{}}catch(i){return console.error("Error retrieving high scores: ",i),{}}},BO=()=>{const[i,e]=M.useState(0);return M.useEffect(()=>{const a=setInterval(()=>{e(s=>s===-15?15:-15)},1e3);return()=>clearInterval(a)},[]),i},jO=()=>{const{isRunning:i}=Dv(),{level:e}=ch(),[a,s]=M.useState(0);return M.useEffect(()=>{if(!i)return;const o=setInterval(()=>{s(u=>(u-1)%window.innerWidth)},20);return()=>clearInterval(o)},[i]),X.jsxs("div",{className:"background-container",children:[X.jsx("div",{className:`background-layer Background-lvl${e}-sky-1`}),X.jsx("div",{className:`background-layer Background-lvl${e}-outline-2`}),X.jsx("div",{className:`background-layer Background-lvl${e}-desert-3`,style:{backgroundPositionX:`${a}px`}}),X.jsx("div",{className:`background-layer Background-lvl${e}-decor-4`,style:{backgroundPositionX:`${a}px`}}),X.jsx("div",{className:`background-layer Background-lvl${e}-foreground-5`,style:{backgroundPositionX:`${a*4.5}px`}})]})},VO=()=>{const{score:o,setScore:u}=oh(),{isRunning:f,setIsRunning:h}=Dv(),{volume:m}=uh(),{level:p}=ch(),y=450,v=6,E=40,S=40,A="/static/jump_1.mp3",H=p===1?5:p===2?7:9,[z,P]=M.useState(window.innerWidth),[F,Z]=M.useState(E),[he,W]=M.useState(!1),[O,ye]=M.useState(!1),[be,Y]=M.useState(0),[se,Pe]=M.useState(""),[Ot,gt]=M.useState(!1),_t=BO(),et=M.useRef(null),G=M.useRef(null),pe=()=>{ye(!1),h(!0),gt(!0),P(window.innerWidth),Z(E),u(0),W(!1),Pe(""),et.current=setInterval(()=>{P(ce=>ce<=-50?window.innerWidth:ce-H)},20),G.current=setInterval(()=>{u(ce=>ce+1)},100)};M.useEffect(()=>{if(f)return et.current=setInterval(()=>{P(ce=>ce<=-50?window.innerWidth:ce-H)},20),G.current=setInterval(()=>{u(ce=>ce+1)},100),()=>{clearInterval(et.current),clearInterval(G.current)}},[f,u,H]),M.useEffect(()=>{const ce=T=>{if(T.code==="Space"&&!he&&f){W(!0);let j=F;const ie=new Audio(A);ie.volume=m/100,ie.play();const ee=setInterval(()=>{if(j>=y){clearInterval(ee);const $=setInterval(()=>{j<=E?(clearInterval($),Z(E),W(!1)):(j-=v,Z(j))},20)}else j+=v,Z(j)},20)}};return f&&document.addEventListener("keydown",ce),()=>document.removeEventListener("keydown",ce)},[he,f]),M.useEffect(()=>{const T=setInterval(()=>{if(O)return;const j=100,ie=F,ee=z,$=S,Se=ee<j+150&&ee+150>j,ge=$<ie+150&&$+170>ie;Se&&ge&&(ye(!0),h(!1),gt(!1),clearInterval(et.current),clearInterval(G.current),Y(yt=>Math.max(yt,o)))},20);return()=>clearInterval(T)},[z,F,O,o]);const ue=()=>{se.trim()!==""&&HO(se,o)};return M.useEffect(()=>{const ce=()=>{gt(!0),window.removeEventListener("click",ce),window.removeEventListener("keydown",ce)};return window.addEventListener("click",ce),window.addEventListener("keydown",ce),()=>{window.removeEventListener("click",ce),window.removeEventListener("keydown",ce)}},[]),X.jsxs("div",{className:"game-container",children:[X.jsx(jO,{})," ",X.jsx(Ov,{isPlaying:Ot,volume:m})," ",O&&X.jsx("div",{className:"game-over-overlay",children:X.jsxs("div",{className:"game-over-menu",children:[X.jsx("p",{children:"Seems you have hugged a cactus. Ouch."}),X.jsxs("p",{children:["High Score: ",be]}),X.jsx("input",{type:"text",placeholder:"Enter your name",value:se,onChange:ce=>Pe(ce.target.value)}),X.jsx("button",{onClick:ue,children:"Submit Score"}),X.jsx("button",{onClick:pe,children:"Restart"})]})}),X.jsxs("div",{className:"game-entities",children:[X.jsx("div",{className:"dino",style:{bottom:`${F}px`,left:"100px",transform:`rotate(${_t}deg)`,transition:"transform 1s ease-in-out"}}),X.jsx("div",{className:"cactus",style:{left:`${z}px`}})]})]})},qO=()=>{const[i,e]=M.useState(!1),[a,s]=M.useState(!0),{setScore:o}=oh(),{level:u,nextLevel:f}=ch(),h=()=>{e(!0),s(!0),o(0)},m=()=>{s(!1)},p=()=>{s(!0)};return X.jsx("div",{className:"homepage-container",children:i?X.jsxs(X.Fragment,{children:[X.jsx(VO,{isRunning:a,onPause:m}),!a&&X.jsx("div",{className:"pause-overlay",children:X.jsxs("div",{className:"pause-menu",children:[X.jsx("h2",{children:"Game Paused"}),X.jsx("button",{onClick:p,className:"resume-btn",children:"Resume Game"})]})})]}):X.jsxs("div",{className:"container text-center mt-5",children:[X.jsx("button",{onClick:h,className:"start-btn",children:"Start Game"}),X.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[X.jsx("p",{className:"me-3 mb-0",children:"Select level:"}),X.jsxs("button",{className:"btn btn-secondary",onClick:f,children:["Level ",u]})]})]})})};console.log(" HighScoresPage is mounting!");const GO=()=>{const[i,e]=M.useState([]),[a,s]=M.useState(1),o=50;M.useEffect(()=>{u()},[a]);const u=async()=>{try{console.log(" Fetching high scores...");const f=await PO();console.log(" Fetched Scores:",f),f||console.error(" No scores found! Database might be empty.");const h=Object.entries(f||{}).flatMap(([y,v])=>Object.entries(v).map(([E,{score:S,timestamp:A}])=>({id:E,username:y,score:S,timestamp:A}))).sort((y,v)=>v.score-y.score),m=(a-1)*o,p=h.slice(m,m+o);e(p)}catch(f){console.error(" Error in fetchScores:",f)}};return X.jsxs("div",{children:[X.jsx("h2",{children:"High Scores"}),X.jsx("ul",{className:"ListedScores",children:i.length>0?i.map((f,h)=>X.jsxs("li",{children:[h+1+(a-1)*o,". Score: ",f.score,", Username: ",f.username]},f.id)):X.jsx("p",{children:"No scores available"})}),X.jsxs("div",{className:"pagination",children:[a>1&&X.jsx("button",{onClick:()=>s(a-1),children:"Previous"}),i.length===o&&X.jsx("button",{onClick:()=>s(a+1),children:"Next"})]})]})};function Pb(i,e){var a={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(a[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(a[s[o]]=i[s[o]]);return a}function Bb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FO=Bb,jb=new Za("auth","Firebase",Bb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new ku("@firebase/auth");function YO(i,...e){Du.logLevel<=Ge.WARN&&Du.warn(`Auth (${zu}): ${i}`,...e)}function ru(i,...e){Du.logLevel<=Ge.ERROR&&Du.error(`Auth (${zu}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(i,...e){throw Zh(i,...e)}function Vb(i,...e){return Zh(i,...e)}function qb(i,e,a){const s=Object.assign(Object.assign({},FO()),{[e]:a});return new Za("auth","Firebase",s).create(e,{appName:i.name})}function su(i){return qb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zh(i,...e){if(typeof i!="string"){const a=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(a,...s)}return jb.create(i,...e)}function je(i,e,...a){if(!i)throw Zh(e,...a)}function dl(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ru(e),new Error(e)}function Ou(i,e){i||dl(e)}function QO(){return ev()==="http:"||ev()==="https:"}function ev(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QO()||kv()||"connection"in navigator)?navigator.onLine:!0}function KO(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,a){this.shortDelay=e,this.longDelay=a,Ou(a>e,"Short delay should be less than long delay!"),this.isMobile=hh()||zv()}get(){return XO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(i,e){Ou(i.emulator,"Emulator should always be set here");const{url:a}=i.emulator;return e?`${a}${e.startsWith("/")?e.slice(1):e}`:a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{static initialize(e,a,s){this.fetchImpl=e,a&&(this.headersImpl=a),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=new zl(3e4,6e4);function Fb(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Ku(i,e,a,s,o={}){return Yb(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const h=mh(Object.assign({key:i.config.apiKey},f)).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const p=Object.assign({method:e,headers:m},u);return zw()||(p.referrerPolicy="no-referrer"),Gb.fetch()(Qb(i,i.config.apiHost,a,h),p)})}async function Yb(i,e,a){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},WO),e);try{const o=new JO(i),u=await Promise.race([a(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw eu(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const h=u.ok?f.errorMessage:f.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw eu(i,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw eu(i,"email-already-in-use",f);if(m==="USER_DISABLED")throw eu(i,"user-disabled",f);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw qb(i,y,p);Jy(i,y)}}catch(o){if(o instanceof wi)throw o;Jy(i,"network-request-failed",{message:String(o)})}}function Qb(i,e,a,s){const o=`${e}${a}?${s}`;return i.config.emulator?$O(i.config,o):`${i.config.apiScheme}://${o}`}class JO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((a,s)=>{this.timer=setTimeout(()=>s(Vb(this.auth,"network-request-failed")),ZO.get())})}}function eu(i,e,a){const s={appName:i.name};a.email&&(s.email=a.email),a.phoneNumber&&(s.phoneNumber=a.phoneNumber);const o=Vb(i,e,s);return o.customData._tokenResponse=a,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(i,e){return Ku(i,"POST","/v1/accounts:delete",e)}async function Xb(i,e){return Ku(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tM(i,e=!1){const a=ln(i),s=await a.getIdToken(e),o=Kb(s);je(o&&o.exp&&o.auth_time&&o.iat,a.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:hl(Ad(o.auth_time)),issuedAtTime:hl(Ad(o.iat)),expirationTime:hl(Ad(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Ad(i){return Number(i)*1e3}function Kb(i){const[e,a,s]=i.split(".");if(e===void 0||a===void 0||s===void 0)return ru("JWT malformed, contained fewer than 3 sections"),null;try{const o=fu(a);return o?JSON.parse(o):(ru("Failed to decode base64 JWT payload"),null)}catch(o){return ru("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function tv(i){const e=Kb(i);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kd(i,e,a=!1){if(a)return e;try{return await e}catch(s){throw s instanceof wi&&nM(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function nM({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var a;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((a=this.user.stsTokenManager.expirationTime)!==null&&a!==void 0?a:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const a=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},a)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,a){this.createdAt=e,this.lastLoginAt=a,this._initializeTime()}_initializeTime(){this.lastSignInTime=hl(this.lastLoginAt),this.creationTime=hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mu(i){var e;const a=i.auth,s=await i.getIdToken(),o=await Kd(i,Xb(a,{idToken:s}));je(o==null?void 0:o.users.length,a,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?$b(u.providerUserInfo):[],h=rM(i.providerData,f),m=i.isAnonymous,p=!(i.email&&u.passwordHash)&&!(h!=null&&h.length),y=m?p:!1,v={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new $d(u.createdAt,u.lastLoginAt),isAnonymous:y};Object.assign(i,v)}async function aM(i){const e=ln(i);await Mu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rM(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function $b(i){return i.map(e=>{var{providerId:a}=e,s=Pb(e,["providerId"]);return{providerId:a,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(i,e){const a=await Yb(i,{},async()=>{const s=mh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=Qb(i,o,"/v1/token",`key=${u}`),h=await i._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Gb.fetch()(f,{method:"POST",headers:h,body:s})});return{accessToken:a.access_token,expiresIn:a.expires_in,refreshToken:a.refresh_token}}async function lM(i,e){return Ku(i,"POST","/v2/accounts:revokeToken",Fb(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const a="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,a)}updateFromIdToken(e){je(e.length!==0,"internal-error");const a=tv(e);this.updateTokensAndExpiration(e,null,a)}async getToken(e,a=!1){return!a&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,a){const{accessToken:s,refreshToken:o,expiresIn:u}=await sM(e,a);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,a,s){this.refreshToken=a||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,a){const{refreshToken:s,accessToken:o,expirationTime:u}=a,f=new jr;return s&&(je(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(je(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(je(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jr,this.toJSON())}_performRefresh(){return dl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(i,e){je(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ta{constructor(e){var{uid:a,auth:s,stsTokenManager:o}=e,u=Pb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=a,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new $d(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const a=await Kd(this,this.stsTokenManager.getToken(this.auth,e));return je(a,this.auth,"internal-error"),this.accessToken!==a&&(this.accessToken=a,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),a}getIdTokenResult(e){return tM(this,e)}reload(){return aM(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(a=>Object.assign({},a)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const a=new ta(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return a.metadata._copy(this.metadata),a}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,a=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),a&&await Mu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rl(this.auth.app))return Promise.reject(su(this.auth));const e=await this.getIdToken();return await Kd(this,eM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,a){var s,o,u,f,h,m,p,y;const v=(s=a.displayName)!==null&&s!==void 0?s:void 0,E=(o=a.email)!==null&&o!==void 0?o:void 0,S=(u=a.phoneNumber)!==null&&u!==void 0?u:void 0,A=(f=a.photoURL)!==null&&f!==void 0?f:void 0,H=(h=a.tenantId)!==null&&h!==void 0?h:void 0,z=(m=a._redirectEventId)!==null&&m!==void 0?m:void 0,P=(p=a.createdAt)!==null&&p!==void 0?p:void 0,F=(y=a.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:Z,emailVerified:he,isAnonymous:W,providerData:O,stsTokenManager:ye}=a;je(Z&&ye,e,"internal-error");const be=jr.fromJSON(this.name,ye);je(typeof Z=="string",e,"internal-error"),Zi(v,e.name),Zi(E,e.name),je(typeof he=="boolean",e,"internal-error"),je(typeof W=="boolean",e,"internal-error"),Zi(S,e.name),Zi(A,e.name),Zi(H,e.name),Zi(z,e.name),Zi(P,e.name),Zi(F,e.name);const Y=new ta({uid:Z,auth:e,email:E,emailVerified:he,displayName:v,isAnonymous:W,photoURL:A,phoneNumber:S,tenantId:H,stsTokenManager:be,createdAt:P,lastLoginAt:F});return O&&Array.isArray(O)&&(Y.providerData=O.map(se=>Object.assign({},se))),z&&(Y._redirectEventId=z),Y}static async _fromIdTokenResponse(e,a,s=!1){const o=new jr;o.updateFromServerResponse(a);const u=new ta({uid:a.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Mu(u),u}static async _fromGetAccountInfoResponse(e,a,s){const o=a.users[0];je(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?$b(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),h=new jr;h.updateFromIdToken(s);const m=new ta({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new $d(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=new Map;function Ga(i){Ou(i instanceof Function,"Expected a class definition");let e=nv.get(i);return e?(Ou(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,nv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,a){this.storage[e]=a}async _get(e){const a=this.storage[e];return a===void 0?null:a}async _remove(e){delete this.storage[e]}_addListener(e,a){}_removeListener(e,a){}}Wb.type="NONE";const iv=Wb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(i,e,a){return`firebase:${i}:${e}:${a}`}class Vr{constructor(e,a,s){this.persistence=e,this.auth=a,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Nd(this.userKey,o.apiKey,u),this.fullPersistenceKey=Nd("persistence",o.apiKey,u),this.boundEventHandler=a._onStorageEvent.bind(a),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ta._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const a=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,a)return this.setCurrentUser(a)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,a,s="authUser"){if(!a.length)return new Vr(Ga(iv),e,s);const o=(await Promise.all(a.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Ga(iv);const f=Nd(s,e.config.apiKey,e.name);let h=null;for(const p of a)try{const y=await p._get(f);if(y){const v=ta._fromJSON(e,y);p!==u&&(h=v),u=p;break}}catch{}const m=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Vr(u,e,s):(u=m[0],h&&await u._set(f,h.toJSON()),await Promise.all(a.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new Vr(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hM(e))return"Blackberry";if(mM(e))return"Webos";if(uM(e))return"Safari";if((e.includes("chrome/")||cM(e))&&!e.includes("edge/"))return"Chrome";if(dM(e))return"Android";{const a=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(a);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function oM(i=Kn()){return/firefox\//i.test(i)}function uM(i=Kn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cM(i=Kn()){return/crios\//i.test(i)}function fM(i=Kn()){return/iemobile/i.test(i)}function dM(i=Kn()){return/android/i.test(i)}function hM(i=Kn()){return/blackberry/i.test(i)}function mM(i=Kn()){return/webos/i.test(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(i,e=[]){let a;switch(i){case"Browser":a=av(Kn());break;case"Worker":a=`${av(Kn())}-${i}`;break;default:a=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${a}/JsCore/${zu}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,a){const s=u=>new Promise((f,h)=>{try{const m=e(u);f(m)}catch(m){h(m)}});s.onAbort=a,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const a=[];try{for(const s of this.queue)await s(e),s.onAbort&&a.push(s.onAbort)}catch(s){a.reverse();for(const o of a)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(i,e={}){return Ku(i,"GET","/v2/passwordPolicy",Fb(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=6;class yM{constructor(e){var a,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(a=f.minPasswordLength)!==null&&a!==void 0?a:_M,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var a,s,o,u,f,h;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(a=m.meetsMinPasswordLength)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNumericCharacter)!==null&&f!==void 0?f:!0),m.isValid&&(m.isValid=(h=m.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),m}validatePasswordLengthOptions(e,a){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(a.meetsMinPasswordLength=e.length>=s),o&&(a.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,a){this.updatePasswordCharacterOptionsStatuses(a,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(a,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,a,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=a)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,a,s,o){this.app=e,this.heartbeatServiceProvider=a,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rv(this),this.idTokenSubscription=new rv(this),this.beforeStateQueue=new pM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,a){return a&&(this._popupRedirectResolver=Ga(a)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Vr.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(a),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const a=await Xb(this,{idToken:e}),s=await ta._fromGetAccountInfoResponse(this,a,e);await this.directlySetCurrentUser(s)}catch(a){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",a),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(rl(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(h,h))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId,h=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!f||f===h)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let a=null;try{a=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return a}async reloadAndSetCurrentUserOrClear(e){try{await Mu(e)}catch(a){if((a==null?void 0:a.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rl(this.app))return Promise.reject(su(this));const a=e?ln(e):null;return a&&je(a.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(a&&a._clone(this))}async _updateCurrentUser(e,a=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),a||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rl(this.app)?Promise.reject(su(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rl(this.app)?Promise.reject(su(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ga(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const a=this._getPasswordPolicyInternal();return a.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):a.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gM(this),a=new yM(e);this.tenantId===null?this._projectPasswordPolicy=a:this._tenantPasswordPolicies[this.tenantId]=a}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Za("auth","Firebase",e())}onAuthStateChanged(e,a,s){return this.registerStateListener(this.authStateSubscription,e,a,s)}beforeAuthStateChanged(e,a){return this.beforeStateQueue.pushCallback(e,a)}onIdTokenChanged(e,a,s){return this.registerStateListener(this.idTokenSubscription,e,a,s)}authStateReady(){return new Promise((e,a)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},a)}})}async revokeAccessToken(e){if(this.currentUser){const a=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:a};this.tenantId!=null&&(s.tenantId=this.tenantId),await lM(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,a){const s=await this.getOrInitRedirectPersistenceManager(a);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const a=e&&Ga(e)||this._popupRedirectResolver;je(a,this,"argument-error"),this.redirectPersistenceManager=await Vr.create(this,[Ga(a._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var a,s;return this._isInitialized&&await this.queue(async()=>{}),((a=this._currentUser)===null||a===void 0?void 0:a._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,a;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(a=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&a!==void 0?a:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,a,s,o){if(this._deleted)return()=>{};const u=typeof a=="function"?a:a.next.bind(a);let f=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(h,this,"internal-error"),h.then(()=>{f||u(this.currentUser)}),typeof a=="function"){const m=e.addObserver(a,s,o);return()=>{f=!0,m()}}else{const m=e.addObserver(a);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const a={"X-Client-Version":this.clientVersion};this.app.options.appId&&(a["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(a["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(a["X-Firebase-AppCheck"]=o),a}async _getAppCheckToken(){var e;const a=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return a!=null&&a.error&&YO(`Error while retrieving App Check token: ${a.error}`),a==null?void 0:a.token}}function EM(i){return ln(i)}class rv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Yw(a=>this.observer=a)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function bM(i,e){const a=(e==null?void 0:e.persistence)||[],s=(Array.isArray(a)?a:[a]).map(Ga);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}new zl(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new zl(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new zl(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new zl(5e3,15e3);var sv="@firebase/auth",lv="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const a=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,a),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const a=this.internalListeners.get(e);a&&(this.internalListeners.delete(e),a(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CM(i){$n(new Hn("auth",(e,{options:a})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:h}=s.options;je(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:f,authDomain:h,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zb(i)},p=new vM(s,o,u,m);return bM(p,a),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,a,s)=>{e.getProvider("auth-internal").initialize()})),$n(new Hn("auth-internal",e=>{const a=EM(e.getProvider("auth").getImmediate());return(s=>new SM(s))(a)},"PRIVATE").setInstantiationMode("EXPLICIT")),wn(sv,lv,TM(i)),wn(sv,lv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=5*60;Uw("authIdTokenMaxAge");CM("Browser");const RM=rw([{path:"/",element:X.jsx(Cw,{}),children:[{index:!0,element:X.jsx(qO,{})},{path:"highscorespage",element:X.jsx(GO,{})}]}]),AM=()=>{console.log("AppRouter is mounting!");try{return X.jsx(yw,{router:RM})}catch(i){return console.error(" RouterProvider failed to mount:",i),X.jsx("div",{children:"Router failed to load"})}};console.log(" Main.jsx is running!");mT.createRoot(document.getElementById("root")).render(X.jsx(M.StrictMode,{children:X.jsx(vw,{children:X.jsx(Ew,{children:X.jsx(bw,{children:X.jsxs(Sw,{children:[X.jsx(AM,{})," "]})})})})}));
