function dT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var rd={exports:{}},Ks={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function hT(){if(R_)return Ks;R_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ks.Fragment=e,Ks.jsx=r,Ks.jsxs=r,Ks}var A_;function mT(){return A_||(A_=1,rd.exports=hT()),rd.exports}var Q=mT(),ad={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function pT(){if(N_)return Se;N_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function E(T){return T===null||typeof T!="object"?null:(T=v&&T[v]||T["@@iterator"],typeof T=="function"?T:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,P={};function H(T,U,re){this.props=T,this.context=U,this.refs=P,this.updater=re||S}H.prototype.isReactComponent={},H.prototype.setState=function(T,U){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,U,"setState")},H.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function B(){}B.prototype=H.prototype;function G(T,U,re){this.props=T,this.context=U,this.refs=P,this.updater=re||S}var Z=G.prototype=new B;Z.constructor=G,A(Z,H.prototype),Z.isPureReactComponent=!0;var de=Array.isArray,W={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function ge(T,U,re,J,$,be){return re=be.ref,{$$typeof:i,type:T,key:U,ref:re!==void 0?re:null,props:be}}function ve(T,U){return ge(T.type,U,void 0,void 0,void 0,T.props)}function F(T){return typeof T=="object"&&T!==null&&T.$$typeof===i}function ue(T){var U={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(re){return U[re]})}var je=/\/+/g;function _t(T,U){return typeof T=="object"&&T!==null&&T.key!=null?ue(""+T.key):U.toString(36)}function Tt(){}function yt(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Tt,Tt):(T.status="pending",T.then(function(U){T.status==="pending"&&(T.status="fulfilled",T.value=U)},function(U){T.status==="pending"&&(T.status="rejected",T.reason=U)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function et(T,U,re,J,$){var be=typeof T;(be==="undefined"||be==="boolean")&&(T=null);var me=!1;if(T===null)me=!0;else switch(be){case"bigint":case"string":case"number":me=!0;break;case"object":switch(T.$$typeof){case i:case e:me=!0;break;case y:return me=T._init,et(me(T._payload),U,re,J,$)}}if(me)return $=$(T),me=J===""?"."+_t(T,0):J,de($)?(re="",me!=null&&(re=me.replace(je,"$&/")+"/"),et($,U,re,"",function(lt){return lt})):$!=null&&(F($)&&($=ve($,re+($.key==null||T&&T.key===$.key?"":(""+$.key).replace(je,"$&/")+"/")+me)),U.push($)),1;me=0;var st=J===""?".":J+":";if(de(T))for(var Ue=0;Ue<T.length;Ue++)J=T[Ue],be=st+_t(J,Ue),me+=et(J,U,re,be,$);else if(Ue=E(T),typeof Ue=="function")for(T=Ue.call(T),Ue=0;!(J=T.next()).done;)J=J.value,be=st+_t(J,Ue++),me+=et(J,U,re,be,$);else if(be==="object"){if(typeof T.then=="function")return et(yt(T),U,re,J,$);throw U=String(T),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return me}function Y(T,U,re){if(T==null)return T;var J=[],$=0;return et(T,J,"","",function(be){return U.call(re,be,$++)}),J}function ce(T){if(T._status===-1){var U=T._result;U=U(),U.then(function(re){(T._status===0||T._status===-1)&&(T._status=1,T._result=re)},function(re){(T._status===0||T._status===-1)&&(T._status=2,T._result=re)}),T._status===-1&&(T._status=0,T._result=U)}if(T._status===1)return T._result.default;throw T._result}var te=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function Oe(){}return Se.Children={map:Y,forEach:function(T,U,re){Y(T,function(){U.apply(this,arguments)},re)},count:function(T){var U=0;return Y(T,function(){U++}),U},toArray:function(T){return Y(T,function(U){return U})||[]},only:function(T){if(!F(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Se.Component=H,Se.Fragment=r,Se.Profiler=o,Se.PureComponent=G,Se.StrictMode=s,Se.Suspense=m,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Se.act=function(){throw Error("act(...) is not supported in production builds of React.")},Se.cache=function(T){return function(){return T.apply(null,arguments)}},Se.cloneElement=function(T,U,re){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var J=A({},T.props),$=T.key,be=void 0;if(U!=null)for(me in U.ref!==void 0&&(be=void 0),U.key!==void 0&&($=""+U.key),U)!x.call(U,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&U.ref===void 0||(J[me]=U[me]);var me=arguments.length-2;if(me===1)J.children=re;else if(1<me){for(var st=Array(me),Ue=0;Ue<me;Ue++)st[Ue]=arguments[Ue+2];J.children=st}return ge(T.type,$,void 0,void 0,be,J)},Se.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},Se.createElement=function(T,U,re){var J,$={},be=null;if(U!=null)for(J in U.key!==void 0&&(be=""+U.key),U)x.call(U,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&($[J]=U[J]);var me=arguments.length-2;if(me===1)$.children=re;else if(1<me){for(var st=Array(me),Ue=0;Ue<me;Ue++)st[Ue]=arguments[Ue+2];$.children=st}if(T&&T.defaultProps)for(J in me=T.defaultProps,me)$[J]===void 0&&($[J]=me[J]);return ge(T,be,void 0,void 0,null,$)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(T){return{$$typeof:h,render:T}},Se.isValidElement=F,Se.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:ce}},Se.memo=function(T,U){return{$$typeof:p,type:T,compare:U===void 0?null:U}},Se.startTransition=function(T){var U=W.T,re={};W.T=re;try{var J=T(),$=W.S;$!==null&&$(re,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Oe,te)}catch(be){te(be)}finally{W.T=U}},Se.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Se.use=function(T){return W.H.use(T)},Se.useActionState=function(T,U,re){return W.H.useActionState(T,U,re)},Se.useCallback=function(T,U){return W.H.useCallback(T,U)},Se.useContext=function(T){return W.H.useContext(T)},Se.useDebugValue=function(){},Se.useDeferredValue=function(T,U){return W.H.useDeferredValue(T,U)},Se.useEffect=function(T,U){return W.H.useEffect(T,U)},Se.useId=function(){return W.H.useId()},Se.useImperativeHandle=function(T,U,re){return W.H.useImperativeHandle(T,U,re)},Se.useInsertionEffect=function(T,U){return W.H.useInsertionEffect(T,U)},Se.useLayoutEffect=function(T,U){return W.H.useLayoutEffect(T,U)},Se.useMemo=function(T,U){return W.H.useMemo(T,U)},Se.useOptimistic=function(T,U){return W.H.useOptimistic(T,U)},Se.useReducer=function(T,U,re){return W.H.useReducer(T,U,re)},Se.useRef=function(T){return W.H.useRef(T)},Se.useState=function(T){return W.H.useState(T)},Se.useSyncExternalStore=function(T,U,re){return W.H.useSyncExternalStore(T,U,re)},Se.useTransition=function(){return W.H.useTransition()},Se.version="19.0.0",Se}var D_;function th(){return D_||(D_=1,ad.exports=pT()),ad.exports}var N=th(),sd={exports:{}},Xs={},ld={exports:{}},od={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function gT(){return O_||(O_=1,function(i){function e(Y,ce){var te=Y.length;Y.push(ce);e:for(;0<te;){var Oe=te-1>>>1,T=Y[Oe];if(0<o(T,ce))Y[Oe]=ce,Y[te]=T,te=Oe;else break e}}function r(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var ce=Y[0],te=Y.pop();if(te!==ce){Y[0]=te;e:for(var Oe=0,T=Y.length,U=T>>>1;Oe<U;){var re=2*(Oe+1)-1,J=Y[re],$=re+1,be=Y[$];if(0>o(J,te))$<T&&0>o(be,J)?(Y[Oe]=be,Y[$]=te,Oe=$):(Y[Oe]=J,Y[re]=te,Oe=re);else if($<T&&0>o(be,te))Y[Oe]=be,Y[$]=te,Oe=$;else break e}}return ce}function o(Y,ce){var te=Y.sortIndex-ce.sortIndex;return te!==0?te:Y.id-ce.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();i.unstable_now=function(){return f.now()-h}}var m=[],p=[],y=1,v=null,E=3,S=!1,A=!1,P=!1,H=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function Z(Y){for(var ce=r(p);ce!==null;){if(ce.callback===null)s(p);else if(ce.startTime<=Y)s(p),ce.sortIndex=ce.expirationTime,e(m,ce);else break;ce=r(p)}}function de(Y){if(P=!1,Z(Y),!A)if(r(m)!==null)A=!0,yt();else{var ce=r(p);ce!==null&&et(de,ce.startTime-Y)}}var W=!1,x=-1,ge=5,ve=-1;function F(){return!(i.unstable_now()-ve<ge)}function ue(){if(W){var Y=i.unstable_now();ve=Y;var ce=!0;try{e:{A=!1,P&&(P=!1,B(x),x=-1),S=!0;var te=E;try{t:{for(Z(Y),v=r(m);v!==null&&!(v.expirationTime>Y&&F());){var Oe=v.callback;if(typeof Oe=="function"){v.callback=null,E=v.priorityLevel;var T=Oe(v.expirationTime<=Y);if(Y=i.unstable_now(),typeof T=="function"){v.callback=T,Z(Y),ce=!0;break t}v===r(m)&&s(m),Z(Y)}else s(m);v=r(m)}if(v!==null)ce=!0;else{var U=r(p);U!==null&&et(de,U.startTime-Y),ce=!1}}break e}finally{v=null,E=te,S=!1}ce=void 0}}finally{ce?je():W=!1}}}var je;if(typeof G=="function")je=function(){G(ue)};else if(typeof MessageChannel<"u"){var _t=new MessageChannel,Tt=_t.port2;_t.port1.onmessage=ue,je=function(){Tt.postMessage(null)}}else je=function(){H(ue,0)};function yt(){W||(W=!0,je())}function et(Y,ce){x=H(function(){Y(i.unstable_now())},ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_continueExecution=function(){A||S||(A=!0,yt())},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_getFirstCallbackNode=function(){return r(m)},i.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var ce=3;break;default:ce=E}var te=E;E=ce;try{return Y()}finally{E=te}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Y,ce){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var te=E;E=Y;try{return ce()}finally{E=te}},i.unstable_scheduleCallback=function(Y,ce,te){var Oe=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Oe+te:Oe):te=Oe,Y){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=te+T,Y={id:y++,callback:ce,priorityLevel:Y,startTime:te,expirationTime:T,sortIndex:-1},te>Oe?(Y.sortIndex=te,e(p,Y),r(m)===null&&Y===r(p)&&(P?(B(x),x=-1):P=!0,et(de,te-Oe))):(Y.sortIndex=T,e(m,Y),A||S||(A=!0,yt())),Y},i.unstable_shouldYield=F,i.unstable_wrapCallback=function(Y){var ce=E;return function(){var te=E;E=ce;try{return Y.apply(this,arguments)}finally{E=te}}}}(od)),od}var x_;function _T(){return x_||(x_=1,ld.exports=gT()),ld.exports}var ud={exports:{}},Bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function yT(){if(M_)return Bt;M_=1;var i=th();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Bt.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(m,p,null,y)},Bt.flushSync=function(m){var p=f.T,y=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=p,s.p=y,s.d.f()}},Bt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},Bt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Bt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:S}):y==="script"&&s.d.X(m,{crossOrigin:v,integrity:E,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Bt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},Bt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Bt.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=h(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},Bt.requestFormReset=function(m){s.d.r(m)},Bt.unstable_batchedUpdates=function(m,p){return m(p)},Bt.useFormState=function(m,p,y){return f.H.useFormState(m,p,y)},Bt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Bt.version="19.0.0",Bt}var I_;function _v(){if(I_)return ud.exports;I_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ud.exports=yT(),ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function vT(){if(L_)return Xs;L_=1;var i=_T(),e=th(),r=_v();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),S=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),de=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=W&&t[W]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Symbol.for("react.client.reference");function ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ge?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case m:return"Fragment";case h:return"Portal";case y:return"Profiler";case p:return"StrictMode";case P:return"Suspense";case H:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case S:return(t.displayName||"Context")+".Provider";case E:return(t._context.displayName||"Context")+".Consumer";case A:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case B:return n=t.displayName||null,n!==null?n:ve(t.type)||"Memo";case G:n=t._payload,t=t._init;try{return ve(t(n))}catch{}}return null}var F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=Object.assign,je,_t;function Tt(t){if(je===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);je=n&&n[1]||"",_t=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+t+_t}var yt=!1;function et(t,n){if(!t||yt)return"";yt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(k){var I=k}Reflect.construct(t,[],V)}else{try{V.call()}catch(k){I=k}t.call(V.prototype)}}else{try{throw Error()}catch(k){I=k}(V=t())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(k){if(k&&I&&typeof k.stack=="string")return[k.stack,I.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),g=d[0],_=d[1];if(g&&_){var b=g.split(`
`),R=_.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===R.length)for(l=b.length-1,c=R.length-1;1<=l&&0<=c&&b[l]!==R[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==R[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==R[c]){var z=`
`+b[l].replace(" at new "," at ");return t.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",t.displayName)),z}while(1<=l&&0<=c);break}}}finally{yt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Tt(a):""}function Y(t){switch(t.tag){case 26:case 27:case 5:return Tt(t.type);case 16:return Tt("Lazy");case 13:return Tt("Suspense");case 19:return Tt("SuspenseList");case 0:case 15:return t=et(t.type,!1),t;case 11:return t=et(t.type.render,!1),t;case 1:return t=et(t.type,!0),t;default:return""}}function ce(t){try{var n="";do n+=Y(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function te(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function Oe(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function T(t){if(te(t)!==t)throw Error(s(188))}function U(t){var n=t.alternate;if(!n){if(n=te(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===a)return T(c),t;if(d===l)return T(c),n;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=d;else{for(var g=!1,_=c.child;_;){if(_===a){g=!0,a=c,l=d;break}if(_===l){g=!0,l=c,a=d;break}_=_.sibling}if(!g){for(_=d.child;_;){if(_===a){g=!0,a=d,l=c;break}if(_===l){g=!0,l=d,a=c;break}_=_.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function re(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=re(t),n!==null)return n;t=t.sibling}return null}var J=Array.isArray,$=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},me=[],st=-1;function Ue(t){return{current:t}}function lt(t){0>st||(t.current=me[st],me[st]=null,st--)}function Te(t,n){st++,me[st]=t.current,t.current=n}var xt=Ue(null),Ni=Ue(null),Pn=Ue(null),on=Ue(null);function ta(t,n){switch(Te(Pn,n),Te(Ni,t),Te(xt,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?t_(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=t_(t),n=n_(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}lt(xt),Te(xt,n)}function Di(){lt(xt),lt(Ni),lt(Pn)}function na(t){t.memoizedState!==null&&Te(on,t);var n=xt.current,a=n_(n,t.type);n!==a&&(Te(Ni,t),Te(xt,a))}function ia(t){Ni.current===t&&(lt(xt),lt(Ni)),on.current===t&&(lt(on),qs._currentValue=be)}var Wa=Object.prototype.hasOwnProperty,Za=i.unstable_scheduleCallback,Ja=i.unstable_cancelCallback,ti=i.unstable_shouldYield,hr=i.unstable_requestPaint,Jt=i.unstable_now,es=i.unstable_getCurrentPriorityLevel,Rn=i.unstable_ImmediatePriority,un=i.unstable_UserBlockingPriority,mr=i.unstable_NormalPriority,ts=i.unstable_LowPriority,Pl=i.unstable_IdlePriority,Bn=i.log,Bl=i.unstable_setDisableYieldValue,Oi=null,Ht=null;function Zu(t){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Oi,t,void 0,(t.current.flags&128)===128)}catch{}}function An(t){if(typeof Bn=="function"&&Bl(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Oi,t)}catch{}}var Ct=Math.clz32?Math.clz32:Ju,jl=Math.log,ns=Math.LN2;function Ju(t){return t>>>=0,t===0?32:31-(jl(t)/ns|0)|0}var pr=128,ra=4194304;function jn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ni(t,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,c=t.suspendedLanes,d=t.pingedLanes,g=t.warmLanes;t=t.finishedLanes!==0;var _=a&134217727;return _!==0?(a=_&~c,a!==0?l=jn(a):(d&=_,d!==0?l=jn(d):t||(g=_&~g,g!==0&&(l=jn(g))))):(_=a&~c,_!==0?l=jn(_):d!==0?l=jn(d):t||(g=a&~g,g!==0&&(l=jn(g)))),l===0?0:n!==0&&n!==l&&!(n&c)&&(c=l&-l,g=n&-n,c>=g||c===32&&(g&4194176)!==0)?n:l}function Vn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ec(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vl(){var t=pr;return pr<<=1,!(pr&4194176)&&(pr=128),t}function C(){var t=ra;return ra<<=1,!(ra&62914560)&&(ra=4194304),t}function O(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function L(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function q(t,n,a,l,c,d){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var _=t.entanglements,b=t.expirationTimes,R=t.hiddenUpdates;for(a=g&~a;0<a;){var z=31-Ct(a),V=1<<z;_[z]=0,b[z]=-1;var I=R[z];if(I!==null)for(R[z]=null,z=0;z<I.length;z++){var k=I[z];k!==null&&(k.lane&=-536870913)}a&=~V}l!==0&&ee(t,l,0),d!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=d&~(g&~n))}function ee(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ct(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function oe(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Ct(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function ye(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function ne(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:E_(t.type))}function ae(t,n){var a=$.p;try{return $.p=t,n()}finally{$.p=a}}var X=Math.random().toString(36).slice(2),se="__reactFiber$"+X,he="__reactProps$"+X,Pe="__reactContainer$"+X,dt="__reactEvents$"+X,Ze="__reactListeners$"+X,Ge="__reactHandles$"+X,ot="__reactResources$"+X,cn="__reactMarker$"+X;function ii(t){delete t[se],delete t[he],delete t[dt],delete t[Ze],delete t[Ge]}function Mt(t){var n=t[se];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Pe]||a[se]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=a_(t);t!==null;){if(a=t[se])return a;t=a_(t)}return n}t=a,a=t.parentNode}return null}function It(t){if(t=t[se]||t[Pe]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function ri(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function fn(t){var n=t[ot];return n||(n=t[ot]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ke(t){t[cn]=!0}var gr=new Set,_r={};function Ie(t,n){tt(t,n),tt(t+"Capture",n)}function tt(t,n){for(_r[t]=n,t=0;t<n.length;t++)gr.add(n[t])}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nt={},ai={};function ql(t){return Wa.call(ai,t)?!0:Wa.call(nt,t)?!1:yr.test(t)?ai[t]=!0:(nt[t]=!0,!1)}function aa(t,n,a){if(ql(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Fl(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function si(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rm(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function lS(t){var n=rm(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,d=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){l=""+g,d.call(this,g)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Gl(t){t._valueTracker||(t._valueTracker=lS(t))}function am(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=rm(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Yl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var oS=/[\n"\\]/g;function hn(t){return t.replace(oS,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function tc(t,n,a,l,c,d,g,_){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+dn(n)):t.value!==""+dn(n)&&(t.value=""+dn(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?nc(t,g,dn(n)):a!=null?nc(t,g,dn(a)):l!=null&&t.removeAttribute("value"),c==null&&d!=null&&(t.defaultChecked=!!d),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+dn(_):t.removeAttribute("name")}function sm(t,n,a,l,c,d,g,_){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+dn(a):"",n=n!=null?""+dn(n):a,_||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=_?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function nc(t,n,a){n==="number"&&Yl(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function sa(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+dn(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function lm(t,n,a){if(n!=null&&(n=""+dn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+dn(a):""}function om(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(J(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=dn(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function la(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var uS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function um(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||uS.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function cm(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&um(t,c,l)}else for(var d in n)n.hasOwnProperty(d)&&um(t,d,n[d])}function ic(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ql(t){return fS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var rc=null;function ac(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oa=null,ua=null;function fm(t){var n=It(t);if(n&&(t=n.stateNode)){var a=t[he]||null;e:switch(t=n.stateNode,n.type){case"input":if(tc(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(s(90));tc(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&am(l)}break e;case"textarea":lm(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&sa(t,!!a.multiple,n,!1)}}}var sc=!1;function dm(t,n,a){if(sc)return t(n,a);sc=!0;try{var l=t(n);return l}finally{if(sc=!1,(oa!==null||ua!==null)&&(xo(),oa&&(n=oa,t=ua,ua=oa=null,fm(n),t)))for(n=0;n<t.length;n++)fm(t[n])}}function is(t,n){var a=t.stateNode;if(a===null)return null;var l=a[he]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var lc=!1;if(Gt)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){lc=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{lc=!1}var xi=null,oc=null,Kl=null;function hm(){if(Kl)return Kl;var t,n=oc,a=n.length,l,c="value"in xi?xi.value:xi.textContent,d=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[d-l];l++);return Kl=c.slice(t,1<l?1-l:void 0)}function Xl(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function $l(){return!0}function mm(){return!1}function Yt(t){function n(a,l,c,d,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(a=t[_],this[_]=a?a(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?$l:mm,this.isPropagationStopped=mm,this}return ue(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),n}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wl=Yt(vr),as=ue({},vr,{view:0,detail:0}),dS=Yt(as),uc,cc,ss,Zl=ue({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ss&&(ss&&t.type==="mousemove"?(uc=t.screenX-ss.screenX,cc=t.screenY-ss.screenY):cc=uc=0,ss=t),uc)},movementY:function(t){return"movementY"in t?t.movementY:cc}}),pm=Yt(Zl),hS=ue({},Zl,{dataTransfer:0}),mS=Yt(hS),pS=ue({},as,{relatedTarget:0}),fc=Yt(pS),gS=ue({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),_S=Yt(gS),yS=ue({},vr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vS=Yt(yS),ES=ue({},vr,{data:0}),gm=Yt(ES),bS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CS(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=TS[t])?!!n[t]:!1}function dc(){return CS}var wS=ue({},as,{key:function(t){if(t.key){var n=bS[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Xl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?SS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dc,charCode:function(t){return t.type==="keypress"?Xl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RS=Yt(wS),AS=ue({},Zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_m=Yt(AS),NS=ue({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dc}),DS=Yt(NS),OS=ue({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),xS=Yt(OS),MS=ue({},Zl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),IS=Yt(MS),LS=ue({},vr,{newState:0,oldState:0}),US=Yt(LS),kS=[9,13,27,32],hc=Gt&&"CompositionEvent"in window,ls=null;Gt&&"documentMode"in document&&(ls=document.documentMode);var zS=Gt&&"TextEvent"in window&&!ls,ym=Gt&&(!hc||ls&&8<ls&&11>=ls),vm=" ",Em=!1;function bm(t,n){switch(t){case"keyup":return kS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ca=!1;function HS(t,n){switch(t){case"compositionend":return Sm(n);case"keypress":return n.which!==32?null:(Em=!0,vm);case"textInput":return t=n.data,t===vm&&Em?null:t;default:return null}}function PS(t,n){if(ca)return t==="compositionend"||!hc&&bm(t,n)?(t=hm(),Kl=oc=xi=null,ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ym&&n.locale!=="ko"?null:n.data;default:return null}}var BS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!BS[t.type]:n==="textarea"}function Cm(t,n,a,l){oa?ua?ua.push(l):ua=[l]:oa=l,n=ko(n,"onChange"),0<n.length&&(a=new Wl("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var os=null,us=null;function jS(t){$g(t,0)}function Jl(t){var n=ri(t);if(am(n))return t}function wm(t,n){if(t==="change")return n}var Rm=!1;if(Gt){var mc;if(Gt){var pc="oninput"in document;if(!pc){var Am=document.createElement("div");Am.setAttribute("oninput","return;"),pc=typeof Am.oninput=="function"}mc=pc}else mc=!1;Rm=mc&&(!document.documentMode||9<document.documentMode)}function Nm(){os&&(os.detachEvent("onpropertychange",Dm),us=os=null)}function Dm(t){if(t.propertyName==="value"&&Jl(us)){var n=[];Cm(n,us,t,ac(t)),dm(jS,n)}}function VS(t,n,a){t==="focusin"?(Nm(),os=n,us=a,os.attachEvent("onpropertychange",Dm)):t==="focusout"&&Nm()}function qS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jl(us)}function FS(t,n){if(t==="click")return Jl(n)}function GS(t,n){if(t==="input"||t==="change")return Jl(n)}function YS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var en=typeof Object.is=="function"?Object.is:YS;function cs(t,n){if(en(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Wa.call(n,c)||!en(t[c],n[c]))return!1}return!0}function Om(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xm(t,n){var a=Om(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Om(a)}}function Mm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Mm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Im(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Yl(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Yl(t.document)}return n}function gc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function QS(t,n){var a=Im(n);n=t.focusedElem;var l=t.selectionRange;if(a!==n&&n&&n.ownerDocument&&Mm(n.ownerDocument.documentElement,n)){if(l!==null&&gc(n)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(a,n.value.length);else if(a=(t=n.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var c=n.textContent.length,d=Math.min(l.start,c);l=l.end===void 0?d:Math.min(l.end,c),!a.extend&&d>l&&(c=l,l=d,d=c),c=xm(n,d);var g=xm(n,l);c&&g&&(a.rangeCount!==1||a.anchorNode!==c.node||a.anchorOffset!==c.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),a.addRange(t)))}}for(t=[],a=n;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)a=t[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var KS=Gt&&"documentMode"in document&&11>=document.documentMode,fa=null,_c=null,fs=null,yc=!1;function Lm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yc||fa==null||fa!==Yl(l)||(l=fa,"selectionStart"in l&&gc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fs&&cs(fs,l)||(fs=l,l=ko(_c,"onSelect"),0<l.length&&(n=new Wl("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=fa)))}function Er(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var da={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},vc={},Um={};Gt&&(Um=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function br(t){if(vc[t])return vc[t];if(!da[t])return t;var n=da[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Um)return vc[t]=n[a];return t}var km=br("animationend"),zm=br("animationiteration"),Hm=br("animationstart"),XS=br("transitionrun"),$S=br("transitionstart"),WS=br("transitioncancel"),Pm=br("transitionend"),Bm=new Map,jm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Nn(t,n){Bm.set(t,n),Ie(n,[t])}var mn=[],ha=0,Ec=0;function eo(){for(var t=ha,n=Ec=ha=0;n<t;){var a=mn[n];mn[n++]=null;var l=mn[n];mn[n++]=null;var c=mn[n];mn[n++]=null;var d=mn[n];if(mn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}d!==0&&Vm(a,c,d)}}function to(t,n,a,l){mn[ha++]=t,mn[ha++]=n,mn[ha++]=a,mn[ha++]=l,Ec|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function bc(t,n,a,l){return to(t,n,a,l),no(t)}function Mi(t,n){return to(t,null,null,n),no(t)}function Vm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(c=!0)),t=d,d=d.return;c&&n!==null&&t.tag===3&&(d=t.stateNode,c=31-Ct(a),d=d.hiddenUpdates,t=d[c],t===null?d[c]=[n]:t.push(n),n.lane=a|536870912)}function no(t){if(50<ks)throw ks=0,Nf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ma={},qm=new WeakMap;function pn(t,n){if(typeof t=="object"&&t!==null){var a=qm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:ce(n)},qm.set(t,n),n)}return{value:t,source:n,stack:ce(n)}}var pa=[],ga=0,io=null,ro=0,gn=[],_n=0,Sr=null,li=1,oi="";function Tr(t,n){pa[ga++]=ro,pa[ga++]=io,io=t,ro=n}function Fm(t,n,a){gn[_n++]=li,gn[_n++]=oi,gn[_n++]=Sr,Sr=t;var l=li;t=oi;var c=32-Ct(l)-1;l&=~(1<<c),a+=1;var d=32-Ct(n)+c;if(30<d){var g=c-c%5;d=(l&(1<<g)-1).toString(32),l>>=g,c-=g,li=1<<32-Ct(n)+c|a<<c|l,oi=d+t}else li=1<<d|a<<c|l,oi=t}function Sc(t){t.return!==null&&(Tr(t,1),Fm(t,1,0))}function Tc(t){for(;t===io;)io=pa[--ga],pa[ga]=null,ro=pa[--ga],pa[ga]=null;for(;t===Sr;)Sr=gn[--_n],gn[_n]=null,oi=gn[--_n],gn[_n]=null,li=gn[--_n],gn[_n]=null}var Vt=null,Lt=null,ke=!1,Dn=null,qn=!1,Cc=Error(s(519));function Cr(t){var n=Error(s(418,""));throw ms(pn(n,t)),Cc}function Gm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[se]=t,n[he]=l,a){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(a=0;a<Hs.length;a++)xe(Hs[a],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":xe("invalid",n),sm(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Gl(n);break;case"select":xe("invalid",n);break;case"textarea":xe("invalid",n),om(n,l.value,l.defaultValue,l.children),Gl(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||e_(n.textContent,a)?(l.popover!=null&&(xe("beforetoggle",n),xe("toggle",n)),l.onScroll!=null&&xe("scroll",n),l.onScrollEnd!=null&&xe("scrollend",n),l.onClick!=null&&(n.onclick=zo),n=!0):n=!1,n||Cr(t)}function Ym(t){for(Vt=t.return;Vt;)switch(Vt.tag){case 3:case 27:qn=!0;return;case 5:case 13:qn=!1;return;default:Vt=Vt.return}}function ds(t){if(t!==Vt)return!1;if(!ke)return Ym(t),ke=!0,!1;var n=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Gf(t.type,t.memoizedProps)),a=!a),a&&(n=!0),n&&Lt&&Cr(t),Ym(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){Lt=xn(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}Lt=null}}else Lt=Vt?xn(t.stateNode.nextSibling):null;return!0}function hs(){Lt=Vt=null,ke=!1}function ms(t){Dn===null?Dn=[t]:Dn.push(t)}var ps=Error(s(460)),Qm=Error(s(474)),wc={then:function(){}};function Km(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ao(){}function Xm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ao,ao),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===ps?Error(s(483)):t;default:if(typeof n.status=="string")n.then(ao,ao);else{if(t=Xe,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===ps?Error(s(483)):t}throw gs=n,ps}}var gs=null;function $m(){if(gs===null)throw Error(s(459));var t=gs;return gs=null,t}var _a=null,_s=0;function so(t){var n=_s;return _s+=1,_a===null&&(_a=[]),Xm(_a,t,n)}function ys(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function lo(t,n){throw n.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Wm(t){var n=t._init;return n(t._payload)}function Zm(t){function n(D,w){if(t){var M=D.deletions;M===null?(D.deletions=[w],D.flags|=16):M.push(w)}}function a(D,w){if(!t)return null;for(;w!==null;)n(D,w),w=w.sibling;return null}function l(D){for(var w=new Map;D!==null;)D.key!==null?w.set(D.key,D):w.set(D.index,D),D=D.sibling;return w}function c(D,w){return D=Fi(D,w),D.index=0,D.sibling=null,D}function d(D,w,M){return D.index=M,t?(M=D.alternate,M!==null?(M=M.index,M<w?(D.flags|=33554434,w):M):(D.flags|=33554434,w)):(D.flags|=1048576,w)}function g(D){return t&&D.alternate===null&&(D.flags|=33554434),D}function _(D,w,M,j){return w===null||w.tag!==6?(w=Ef(M,D.mode,j),w.return=D,w):(w=c(w,M),w.return=D,w)}function b(D,w,M,j){var ie=M.type;return ie===m?z(D,w,M.props.children,j,M.key):w!==null&&(w.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===G&&Wm(ie)===w.type)?(w=c(w,M.props),ys(w,M),w.return=D,w):(w=Ro(M.type,M.key,M.props,null,D.mode,j),ys(w,M),w.return=D,w)}function R(D,w,M,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==M.containerInfo||w.stateNode.implementation!==M.implementation?(w=bf(M,D.mode,j),w.return=D,w):(w=c(w,M.children||[]),w.return=D,w)}function z(D,w,M,j,ie){return w===null||w.tag!==7?(w=Lr(M,D.mode,j,ie),w.return=D,w):(w=c(w,M),w.return=D,w)}function V(D,w,M){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Ef(""+w,D.mode,M),w.return=D,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case f:return M=Ro(w.type,w.key,w.props,null,D.mode,M),ys(M,w),M.return=D,M;case h:return w=bf(w,D.mode,M),w.return=D,w;case G:var j=w._init;return w=j(w._payload),V(D,w,M)}if(J(w)||x(w))return w=Lr(w,D.mode,M,null),w.return=D,w;if(typeof w.then=="function")return V(D,so(w),M);if(w.$$typeof===S)return V(D,To(D,w),M);lo(D,w)}return null}function I(D,w,M,j){var ie=w!==null?w.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return ie!==null?null:_(D,w,""+M,j);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case f:return M.key===ie?b(D,w,M,j):null;case h:return M.key===ie?R(D,w,M,j):null;case G:return ie=M._init,M=ie(M._payload),I(D,w,M,j)}if(J(M)||x(M))return ie!==null?null:z(D,w,M,j,null);if(typeof M.then=="function")return I(D,w,so(M),j);if(M.$$typeof===S)return I(D,w,To(D,M),j);lo(D,M)}return null}function k(D,w,M,j,ie){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return D=D.get(M)||null,_(w,D,""+j,ie);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case f:return D=D.get(j.key===null?M:j.key)||null,b(w,D,j,ie);case h:return D=D.get(j.key===null?M:j.key)||null,R(w,D,j,ie);case G:var we=j._init;return j=we(j._payload),k(D,w,M,j,ie)}if(J(j)||x(j))return D=D.get(M)||null,z(w,D,j,ie,null);if(typeof j.then=="function")return k(D,w,M,so(j),ie);if(j.$$typeof===S)return k(D,w,M,To(w,j),ie);lo(w,j)}return null}function le(D,w,M,j){for(var ie=null,we=null,fe=w,pe=w=0,At=null;fe!==null&&pe<M.length;pe++){fe.index>pe?(At=fe,fe=null):At=fe.sibling;var ze=I(D,fe,M[pe],j);if(ze===null){fe===null&&(fe=At);break}t&&fe&&ze.alternate===null&&n(D,fe),w=d(ze,w,pe),we===null?ie=ze:we.sibling=ze,we=ze,fe=At}if(pe===M.length)return a(D,fe),ke&&Tr(D,pe),ie;if(fe===null){for(;pe<M.length;pe++)fe=V(D,M[pe],j),fe!==null&&(w=d(fe,w,pe),we===null?ie=fe:we.sibling=fe,we=fe);return ke&&Tr(D,pe),ie}for(fe=l(fe);pe<M.length;pe++)At=k(fe,D,pe,M[pe],j),At!==null&&(t&&At.alternate!==null&&fe.delete(At.key===null?pe:At.key),w=d(At,w,pe),we===null?ie=At:we.sibling=At,we=At);return t&&fe.forEach(function(Wi){return n(D,Wi)}),ke&&Tr(D,pe),ie}function Ee(D,w,M,j){if(M==null)throw Error(s(151));for(var ie=null,we=null,fe=w,pe=w=0,At=null,ze=M.next();fe!==null&&!ze.done;pe++,ze=M.next()){fe.index>pe?(At=fe,fe=null):At=fe.sibling;var Wi=I(D,fe,ze.value,j);if(Wi===null){fe===null&&(fe=At);break}t&&fe&&Wi.alternate===null&&n(D,fe),w=d(Wi,w,pe),we===null?ie=Wi:we.sibling=Wi,we=Wi,fe=At}if(ze.done)return a(D,fe),ke&&Tr(D,pe),ie;if(fe===null){for(;!ze.done;pe++,ze=M.next())ze=V(D,ze.value,j),ze!==null&&(w=d(ze,w,pe),we===null?ie=ze:we.sibling=ze,we=ze);return ke&&Tr(D,pe),ie}for(fe=l(fe);!ze.done;pe++,ze=M.next())ze=k(fe,D,pe,ze.value,j),ze!==null&&(t&&ze.alternate!==null&&fe.delete(ze.key===null?pe:ze.key),w=d(ze,w,pe),we===null?ie=ze:we.sibling=ze,we=ze);return t&&fe.forEach(function(fT){return n(D,fT)}),ke&&Tr(D,pe),ie}function ft(D,w,M,j){if(typeof M=="object"&&M!==null&&M.type===m&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case f:e:{for(var ie=M.key;w!==null;){if(w.key===ie){if(ie=M.type,ie===m){if(w.tag===7){a(D,w.sibling),j=c(w,M.props.children),j.return=D,D=j;break e}}else if(w.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===G&&Wm(ie)===w.type){a(D,w.sibling),j=c(w,M.props),ys(j,M),j.return=D,D=j;break e}a(D,w);break}else n(D,w);w=w.sibling}M.type===m?(j=Lr(M.props.children,D.mode,j,M.key),j.return=D,D=j):(j=Ro(M.type,M.key,M.props,null,D.mode,j),ys(j,M),j.return=D,D=j)}return g(D);case h:e:{for(ie=M.key;w!==null;){if(w.key===ie)if(w.tag===4&&w.stateNode.containerInfo===M.containerInfo&&w.stateNode.implementation===M.implementation){a(D,w.sibling),j=c(w,M.children||[]),j.return=D,D=j;break e}else{a(D,w);break}else n(D,w);w=w.sibling}j=bf(M,D.mode,j),j.return=D,D=j}return g(D);case G:return ie=M._init,M=ie(M._payload),ft(D,w,M,j)}if(J(M))return le(D,w,M,j);if(x(M)){if(ie=x(M),typeof ie!="function")throw Error(s(150));return M=ie.call(M),Ee(D,w,M,j)}if(typeof M.then=="function")return ft(D,w,so(M),j);if(M.$$typeof===S)return ft(D,w,To(D,M),j);lo(D,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,w!==null&&w.tag===6?(a(D,w.sibling),j=c(w,M),j.return=D,D=j):(a(D,w),j=Ef(M,D.mode,j),j.return=D,D=j),g(D)):a(D,w)}return function(D,w,M,j){try{_s=0;var ie=ft(D,w,M,j);return _a=null,ie}catch(fe){if(fe===ps)throw fe;var we=bn(29,fe,null,D.mode);return we.lanes=j,we.return=D,we}finally{}}}var wr=Zm(!0),Jm=Zm(!1),ya=Ue(null),oo=Ue(0);function ep(t,n){t=vi,Te(oo,t),Te(ya,n),vi=t|n.baseLanes}function Rc(){Te(oo,vi),Te(ya,ya.current)}function Ac(){vi=oo.current,lt(ya),lt(oo)}var yn=Ue(null),Fn=null;function Ii(t){var n=t.alternate;Te(vt,vt.current&1),Te(yn,t),Fn===null&&(n===null||ya.current!==null||n.memoizedState!==null)&&(Fn=t)}function tp(t){if(t.tag===22){if(Te(vt,vt.current),Te(yn,t),Fn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Fn=t)}}else Li()}function Li(){Te(vt,vt.current),Te(yn,yn.current)}function ui(t){lt(yn),Fn===t&&(Fn=null),lt(vt)}var vt=Ue(0);function uo(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ZS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},JS=i.unstable_scheduleCallback,e0=i.unstable_NormalPriority,Et={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nc(){return{controller:new ZS,data:new Map,refCount:0}}function vs(t){t.refCount--,t.refCount===0&&JS(e0,function(){t.controller.abort()})}var Es=null,Dc=0,va=0,Ea=null;function t0(t,n){if(Es===null){var a=Es=[];Dc=0,va=kf(),Ea={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Dc++,n.then(np,np),n}function np(){if(--Dc===0&&Es!==null){Ea!==null&&(Ea.status="fulfilled");var t=Es;Es=null,va=0,Ea=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function n0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var ip=F.S;F.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&t0(t,n),ip!==null&&ip(t,n)};var Rr=Ue(null);function Oc(){var t=Rr.current;return t!==null?t:Xe.pooledCache}function co(t,n){n===null?Te(Rr,Rr.current):Te(Rr,n.pool)}function rp(){var t=Oc();return t===null?null:{parent:Et._currentValue,pool:t}}var Ui=0,Ce=null,Ve=null,mt=null,fo=!1,ba=!1,Ar=!1,ho=0,bs=0,Sa=null,i0=0;function ht(){throw Error(s(321))}function xc(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!en(t[a],n[a]))return!1;return!0}function Mc(t,n,a,l,c,d){return Ui=d,Ce=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Nr:ki,Ar=!1,d=a(l,c),Ar=!1,ba&&(d=sp(n,a,l,c)),ap(t),d}function ap(t){F.H=Gn;var n=Ve!==null&&Ve.next!==null;if(Ui=0,mt=Ve=Ce=null,fo=!1,bs=0,Sa=null,n)throw Error(s(300));t===null||wt||(t=t.dependencies,t!==null&&So(t)&&(wt=!0))}function sp(t,n,a,l){Ce=t;var c=0;do{if(ba&&(Sa=null),bs=0,ba=!1,25<=c)throw Error(s(301));if(c+=1,mt=Ve=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=Dr,d=n(a,l)}while(ba);return d}function r0(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?Ss(n):n,t=t.useState()[0],(Ve!==null?Ve.memoizedState:null)!==t&&(Ce.flags|=1024),n}function Ic(){var t=ho!==0;return ho=0,t}function Lc(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Uc(t){if(fo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}fo=!1}Ui=0,mt=Ve=Ce=null,ba=!1,bs=ho=0,Sa=null}function Qt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ce.memoizedState=mt=t:mt=mt.next=t,mt}function pt(){if(Ve===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var n=mt===null?Ce.memoizedState:mt.next;if(n!==null)mt=n,Ve=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},mt===null?Ce.memoizedState=mt=t:mt=mt.next=t}return mt}var mo;mo=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ss(t){var n=bs;return bs+=1,Sa===null&&(Sa=[]),t=Xm(Sa,t,n),n=Ce,(mt===null?n.memoizedState:mt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Nr:ki),t}function po(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ss(t);if(t.$$typeof===S)return Pt(t)}throw Error(s(438,String(t)))}function kc(t){var n=null,a=Ce.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=mo(),Ce.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=de;return n.index++,a}function ci(t,n){return typeof n=="function"?n(t):n}function go(t){var n=pt();return zc(n,Ve,t)}function zc(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,d=l.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}n.baseQueue=c=d,l.pending=null}if(d=t.baseState,c===null)t.memoizedState=d;else{n=c.next;var _=g=null,b=null,R=n,z=!1;do{var V=R.lane&-536870913;if(V!==R.lane?(Le&V)===V:(Ui&V)===V){var I=R.revertLane;if(I===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),V===va&&(z=!0);else if((Ui&I)===I){R=R.next,I===va&&(z=!0);continue}else V={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(_=b=V,g=d):b=b.next=V,Ce.lanes|=I,Gi|=I;V=R.action,Ar&&a(d,V),d=R.hasEagerState?R.eagerState:a(d,V)}else I={lane:V,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(_=b=I,g=d):b=b.next=I,Ce.lanes|=V,Gi|=V;R=R.next}while(R!==null&&R!==n);if(b===null?g=d:b.next=_,!en(d,t.memoizedState)&&(wt=!0,z&&(a=Ea,a!==null)))throw a;t.memoizedState=d,t.baseState=g,t.baseQueue=b,l.lastRenderedState=d}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Hc(t){var n=pt(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,d=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do d=t(d,g.action),g=g.next;while(g!==c);en(d,n.memoizedState)||(wt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function lp(t,n,a){var l=Ce,c=pt(),d=ke;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!en((Ve||c).memoizedState,a);if(g&&(c.memoizedState=a,wt=!0),c=c.queue,jc(cp.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||mt!==null&&mt.memoizedState.tag&1){if(l.flags|=2048,Ta(9,up.bind(null,l,c,a,n),{destroy:void 0},null),Xe===null)throw Error(s(349));d||Ui&60||op(l,n,a)}return a}function op(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ce.updateQueue,n===null?(n=mo(),Ce.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function up(t,n,a,l){n.value=a,n.getSnapshot=l,fp(n)&&dp(t)}function cp(t,n,a){return a(function(){fp(n)&&dp(t)})}function fp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!en(t,a)}catch{return!0}}function dp(t){var n=Mi(t,2);n!==null&&qt(n,t,2)}function Pc(t){var n=Qt();if(typeof t=="function"){var a=t;if(t=a(),Ar){An(!0);try{a()}finally{An(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:t},n}function hp(t,n,a,l){return t.baseState=a,zc(t,Ve,typeof l=="function"?l:ci)}function a0(t,n,a,l,c){if(vo(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,mp(n,d)):(d.next=a.next,n.pending=a.next=d)}}function mp(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var d=F.T,g={};F.T=g;try{var _=a(c,l),b=F.S;b!==null&&b(g,_),pp(t,n,_)}catch(R){Bc(t,n,R)}finally{F.T=d}}else try{d=a(c,l),pp(t,n,d)}catch(R){Bc(t,n,R)}}function pp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){gp(t,n,l)},function(l){return Bc(t,n,l)}):gp(t,n,a)}function gp(t,n,a){n.status="fulfilled",n.value=a,_p(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,mp(t,a)))}function Bc(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,_p(n),n=n.next;while(n!==l)}t.action=null}function _p(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function yp(t,n){return n}function vp(t,n){if(ke){var a=Xe.formState;if(a!==null){e:{var l=Ce;if(ke){if(Lt){t:{for(var c=Lt,d=qn;c.nodeType!==8;){if(!d){c=null;break t}if(c=xn(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Lt=xn(c.nextSibling),l=c.data==="F!";break e}}Cr(l)}l=!1}l&&(n=a[0])}}return a=Qt(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yp,lastRenderedState:n},a.queue=l,a=zp.bind(null,Ce,l),l.dispatch=a,l=Pc(!1),d=Yc.bind(null,Ce,!1,l.queue),l=Qt(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=a0.bind(null,Ce,c,d,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Ep(t){var n=pt();return bp(n,Ve,t)}function bp(t,n,a){n=zc(t,n,yp)[0],t=go(ci)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?Ss(n):n;var l=pt(),c=l.queue,d=c.dispatch;return a!==l.memoizedState&&(Ce.flags|=2048,Ta(9,s0.bind(null,c,a),{destroy:void 0},null)),[n,d,t]}function s0(t,n){t.action=n}function Sp(t){var n=pt(),a=Ve;if(a!==null)return bp(n,a,t);pt(),n=n.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Ta(t,n,a,l){return t={tag:t,create:n,inst:a,deps:l,next:null},n=Ce.updateQueue,n===null&&(n=mo(),Ce.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Tp(){return pt().memoizedState}function _o(t,n,a,l){var c=Qt();Ce.flags|=t,c.memoizedState=Ta(1|n,a,{destroy:void 0},l===void 0?null:l)}function yo(t,n,a,l){var c=pt();l=l===void 0?null:l;var d=c.memoizedState.inst;Ve!==null&&l!==null&&xc(l,Ve.memoizedState.deps)?c.memoizedState=Ta(n,a,d,l):(Ce.flags|=t,c.memoizedState=Ta(1|n,a,d,l))}function Cp(t,n){_o(8390656,8,t,n)}function jc(t,n){yo(2048,8,t,n)}function wp(t,n){return yo(4,2,t,n)}function Rp(t,n){return yo(4,4,t,n)}function Ap(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Np(t,n,a){a=a!=null?a.concat([t]):null,yo(4,4,Ap.bind(null,n,t),a)}function Vc(){}function Dp(t,n){var a=pt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&xc(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Op(t,n){var a=pt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&xc(n,l[1]))return l[0];if(l=t(),Ar){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,n],l}function qc(t,n,a){return a===void 0||Ui&1073741824?t.memoizedState=n:(t.memoizedState=a,t=Mg(),Ce.lanes|=t,Gi|=t,a)}function xp(t,n,a,l){return en(a,n)?a:ya.current!==null?(t=qc(t,a,l),en(t,n)||(wt=!0),t):Ui&42?(t=Mg(),Ce.lanes|=t,Gi|=t,n):(wt=!0,t.memoizedState=a)}function Mp(t,n,a,l,c){var d=$.p;$.p=d!==0&&8>d?d:8;var g=F.T,_={};F.T=_,Yc(t,!1,n,a);try{var b=c(),R=F.S;if(R!==null&&R(_,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var z=n0(b,l);Ts(t,n,z,an(t))}else Ts(t,n,l,an(t))}catch(V){Ts(t,n,{then:function(){},status:"rejected",reason:V},an())}finally{$.p=d,F.T=g}}function l0(){}function Fc(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=Ip(t).queue;Mp(t,c,n,be,a===null?l0:function(){return Lp(t),a(l)})}function Ip(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:be},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Lp(t){var n=Ip(t).next.queue;Ts(t,n,{},an())}function Gc(){return Pt(qs)}function Up(){return pt().memoizedState}function kp(){return pt().memoizedState}function o0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=an();t=Pi(a);var l=Bi(n,t,a);l!==null&&(qt(l,n,a),Rs(l,n,a)),n={cache:Nc()},t.payload=n;return}n=n.return}}function u0(t,n,a){var l=an();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},vo(t)?Hp(n,a):(a=bc(t,n,a,l),a!==null&&(qt(a,t,l),Pp(a,n,l)))}function zp(t,n,a){var l=an();Ts(t,n,a,l)}function Ts(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(vo(t))Hp(n,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var g=n.lastRenderedState,_=d(g,a);if(c.hasEagerState=!0,c.eagerState=_,en(_,g))return to(t,n,c,0),Xe===null&&eo(),!1}catch{}finally{}if(a=bc(t,n,c,l),a!==null)return qt(a,t,l),Pp(a,n,l),!0}return!1}function Yc(t,n,a,l){if(l={lane:2,revertLane:kf(),action:l,hasEagerState:!1,eagerState:null,next:null},vo(t)){if(n)throw Error(s(479))}else n=bc(t,a,l,2),n!==null&&qt(n,t,2)}function vo(t){var n=t.alternate;return t===Ce||n!==null&&n===Ce}function Hp(t,n){ba=fo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Pp(t,n,a){if(a&4194176){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,oe(t,a)}}var Gn={readContext:Pt,use:po,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht};Gn.useCacheRefresh=ht,Gn.useMemoCache=ht,Gn.useHostTransitionStatus=ht,Gn.useFormState=ht,Gn.useActionState=ht,Gn.useOptimistic=ht;var Nr={readContext:Pt,use:po,useCallback:function(t,n){return Qt().memoizedState=[t,n===void 0?null:n],t},useContext:Pt,useEffect:Cp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,_o(4194308,4,Ap.bind(null,n,t),a)},useLayoutEffect:function(t,n){return _o(4194308,4,t,n)},useInsertionEffect:function(t,n){_o(4,2,t,n)},useMemo:function(t,n){var a=Qt();n=n===void 0?null:n;var l=t();if(Ar){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Qt();if(a!==void 0){var c=a(n);if(Ar){An(!0);try{a(n)}finally{An(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=u0.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var n=Qt();return t={current:t},n.memoizedState=t},useState:function(t){t=Pc(t);var n=t.queue,a=zp.bind(null,Ce,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Vc,useDeferredValue:function(t,n){var a=Qt();return qc(a,t,n)},useTransition:function(){var t=Pc(!1);return t=Mp.bind(null,Ce,t.queue,!0,!1),Qt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ce,c=Qt();if(ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Xe===null)throw Error(s(349));Le&60||op(l,n,a)}c.memoizedState=a;var d={value:a,getSnapshot:n};return c.queue=d,Cp(cp.bind(null,l,d,t),[t]),l.flags|=2048,Ta(9,up.bind(null,l,d,a,n),{destroy:void 0},null),a},useId:function(){var t=Qt(),n=Xe.identifierPrefix;if(ke){var a=oi,l=li;a=(l&~(1<<32-Ct(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=ho++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=i0++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return Qt().memoizedState=o0.bind(null,Ce)}};Nr.useMemoCache=kc,Nr.useHostTransitionStatus=Gc,Nr.useFormState=vp,Nr.useActionState=vp,Nr.useOptimistic=function(t){var n=Qt();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Yc.bind(null,Ce,!0,a),a.dispatch=n,[t,n]};var ki={readContext:Pt,use:po,useCallback:Dp,useContext:Pt,useEffect:jc,useImperativeHandle:Np,useInsertionEffect:wp,useLayoutEffect:Rp,useMemo:Op,useReducer:go,useRef:Tp,useState:function(){return go(ci)},useDebugValue:Vc,useDeferredValue:function(t,n){var a=pt();return xp(a,Ve.memoizedState,t,n)},useTransition:function(){var t=go(ci)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Ss(t),n]},useSyncExternalStore:lp,useId:Up};ki.useCacheRefresh=kp,ki.useMemoCache=kc,ki.useHostTransitionStatus=Gc,ki.useFormState=Ep,ki.useActionState=Ep,ki.useOptimistic=function(t,n){var a=pt();return hp(a,Ve,t,n)};var Dr={readContext:Pt,use:po,useCallback:Dp,useContext:Pt,useEffect:jc,useImperativeHandle:Np,useInsertionEffect:wp,useLayoutEffect:Rp,useMemo:Op,useReducer:Hc,useRef:Tp,useState:function(){return Hc(ci)},useDebugValue:Vc,useDeferredValue:function(t,n){var a=pt();return Ve===null?qc(a,t,n):xp(a,Ve.memoizedState,t,n)},useTransition:function(){var t=Hc(ci)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Ss(t),n]},useSyncExternalStore:lp,useId:Up};Dr.useCacheRefresh=kp,Dr.useMemoCache=kc,Dr.useHostTransitionStatus=Gc,Dr.useFormState=Sp,Dr.useActionState=Sp,Dr.useOptimistic=function(t,n){var a=pt();return Ve!==null?hp(a,Ve,t,n):(a.baseState=t,[t,a.queue.dispatch])};function Qc(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:ue({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Kc={isMounted:function(t){return(t=t._reactInternals)?te(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var l=an(),c=Pi(l);c.payload=n,a!=null&&(c.callback=a),n=Bi(t,c,l),n!==null&&(qt(n,t,l),Rs(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=an(),c=Pi(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=Bi(t,c,l),n!==null&&(qt(n,t,l),Rs(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=an(),l=Pi(a);l.tag=2,n!=null&&(l.callback=n),n=Bi(t,l,a),n!==null&&(qt(n,t,a),Rs(n,t,a))}};function Bp(t,n,a,l,c,d,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,g):n.prototype&&n.prototype.isPureReactComponent?!cs(a,l)||!cs(c,d):!0}function jp(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Kc.enqueueReplaceState(n,n.state,null)}function Or(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=ue({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var Eo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Vp(t){Eo(t)}function qp(t){console.error(t)}function Fp(t){Eo(t)}function bo(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Gp(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Xc(t,n,a){return a=Pi(a),a.tag=3,a.payload={element:null},a.callback=function(){bo(t,n)},a}function Yp(t){return t=Pi(t),t.tag=3,t}function Qp(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var d=l.value;t.payload=function(){return c(d)},t.callback=function(){Gp(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Gp(n,a,l),typeof c!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function c0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ws(n,a,c,!0),a=yn.current,a!==null){switch(a.tag){case 13:return Fn===null?xf():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===wc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),If(t,l,c)),!1;case 22:return a.flags|=65536,l===wc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),If(t,l,c)),!1}throw Error(s(435,a.tag))}return If(t,l,c),xf(),!1}if(ke)return n=yn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Cc&&(t=Error(s(422),{cause:l}),ms(pn(t,a)))):(l!==Cc&&(n=Error(s(423),{cause:l}),ms(pn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=pn(l,a),c=Xc(t.stateNode,l,c),ff(t,c),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=pn(d,a),Ls===null?Ls=[d]:Ls.push(d),ct!==4&&(ct=2),n===null)return!0;l=pn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Xc(a.stateNode,l,t),ff(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Yi===null||!Yi.has(d))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Yp(c),Qp(c,t,a,l),ff(a,c),!1}a=a.return}while(a!==null);return!1}var Kp=Error(s(461)),wt=!1;function Ut(t,n,a,l){n.child=t===null?Jm(n,null,a,l):wr(n,t.child,a,l)}function Xp(t,n,a,l,c){a=a.render;var d=n.ref;if("ref"in l){var g={};for(var _ in l)_!=="ref"&&(g[_]=l[_])}else g=l;return Mr(n),l=Mc(t,n,a,g,d,c),_=Ic(),t!==null&&!wt?(Lc(t,n,c),fi(t,n,c)):(ke&&_&&Sc(n),n.flags|=1,Ut(t,n,l,c),n.child)}function $p(t,n,a,l,c){if(t===null){var d=a.type;return typeof d=="function"&&!vf(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,Wp(t,n,d,l,c)):(t=Ro(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!af(t,c)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:cs,a(g,l)&&t.ref===n.ref)return fi(t,n,c)}return n.flags|=1,t=Fi(d,l),t.ref=n.ref,t.return=n,n.child=t}function Wp(t,n,a,l,c){if(t!==null){var d=t.memoizedProps;if(cs(d,l)&&t.ref===n.ref)if(wt=!1,n.pendingProps=l=d,af(t,c))t.flags&131072&&(wt=!0);else return n.lanes=t.lanes,fi(t,n,c)}return $c(t,n,a,l,c)}function Zp(t,n,a){var l=n.pendingProps,c=l.children,d=(n.stateNode._pendingVisibility&2)!==0,g=t!==null?t.memoizedState:null;if(Cs(t,n),l.mode==="hidden"||d){if(n.flags&128){if(l=g!==null?g.baseLanes|a:a,t!==null){for(c=n.child=t.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return Jp(t,n,l,a)}if(a&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&co(n,g!==null?g.cachePool:null),g!==null?ep(n,g):Rc(),tp(n);else return n.lanes=n.childLanes=536870912,Jp(t,n,g!==null?g.baseLanes|a:a,a)}else g!==null?(co(n,g.cachePool),ep(n,g),Li(),n.memoizedState=null):(t!==null&&co(n,null),Rc(),Li());return Ut(t,n,c,a),n.child}function Jp(t,n,a,l){var c=Oc();return c=c===null?null:{parent:Et._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&co(n,null),Rc(),tp(n),t!==null&&ws(t,n,l,!0),null}function Cs(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=2097664)}}function $c(t,n,a,l,c){return Mr(n),a=Mc(t,n,a,l,void 0,c),l=Ic(),t!==null&&!wt?(Lc(t,n,c),fi(t,n,c)):(ke&&l&&Sc(n),n.flags|=1,Ut(t,n,a,c),n.child)}function eg(t,n,a,l,c,d){return Mr(n),n.updateQueue=null,a=sp(n,l,a,c),ap(t),l=Ic(),t!==null&&!wt?(Lc(t,n,d),fi(t,n,d)):(ke&&l&&Sc(n),n.flags|=1,Ut(t,n,a,d),n.child)}function tg(t,n,a,l,c){if(Mr(n),n.stateNode===null){var d=ma,g=a.contextType;typeof g=="object"&&g!==null&&(d=Pt(g)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Kc,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},uf(n),g=a.contextType,d.context=typeof g=="object"&&g!==null?Pt(g):ma,d.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Qc(n,a,g,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&Kc.enqueueReplaceState(d,d.state,null),Ns(n,l,d,c),As(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var _=n.memoizedProps,b=Or(a,_);d.props=b;var R=d.context,z=a.contextType;g=ma,typeof z=="object"&&z!==null&&(g=Pt(z));var V=a.getDerivedStateFromProps;z=typeof V=="function"||typeof d.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_||R!==g)&&jp(n,d,l,g),Hi=!1;var I=n.memoizedState;d.state=I,Ns(n,l,d,c),As(),R=n.memoizedState,_||I!==R||Hi?(typeof V=="function"&&(Qc(n,a,V,l),R=n.memoizedState),(b=Hi||Bp(n,a,b,l,I,R,g))?(z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=R),d.props=l,d.state=R,d.context=g,l=b):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,cf(t,n),g=n.memoizedProps,z=Or(a,g),d.props=z,V=n.pendingProps,I=d.context,R=a.contextType,b=ma,typeof R=="object"&&R!==null&&(b=Pt(R)),_=a.getDerivedStateFromProps,(R=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==V||I!==b)&&jp(n,d,l,b),Hi=!1,I=n.memoizedState,d.state=I,Ns(n,l,d,c),As();var k=n.memoizedState;g!==V||I!==k||Hi||t!==null&&t.dependencies!==null&&So(t.dependencies)?(typeof _=="function"&&(Qc(n,a,_,l),k=n.memoizedState),(z=Hi||Bp(n,a,z,l,I,k,b)||t!==null&&t.dependencies!==null&&So(t.dependencies))?(R||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,k,b),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,k,b)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),d.props=l,d.state=k,d.context=b,l=z):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Cs(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=wr(n,t.child,null,c),n.child=wr(n,null,a,c)):Ut(t,n,a,c),n.memoizedState=d.state,t=n.child):t=fi(t,n,c),t}function ng(t,n,a,l){return hs(),n.flags|=256,Ut(t,n,a,l),n.child}var Wc={dehydrated:null,treeContext:null,retryLane:0};function Zc(t){return{baseLanes:t,cachePool:rp()}}function Jc(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Sn),t}function ig(t,n,a){var l=n.pendingProps,c=!1,d=(n.flags&128)!==0,g;if((g=d)||(g=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(ke){if(c?Ii(n):Li(),ke){var _=Lt,b;if(b=_){e:{for(b=_,_=qn;b.nodeType!==8;){if(!_){_=null;break e}if(b=xn(b.nextSibling),b===null){_=null;break e}}_=b}_!==null?(n.memoizedState={dehydrated:_,treeContext:Sr!==null?{id:li,overflow:oi}:null,retryLane:536870912},b=bn(18,null,null,0),b.stateNode=_,b.return=n,n.child=b,Vt=n,Lt=null,b=!0):b=!1}b||Cr(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return _.data==="$!"?n.lanes=16:n.lanes=536870912,null;ui(n)}return _=l.children,l=l.fallback,c?(Li(),c=n.mode,_=tf({mode:"hidden",children:_},c),l=Lr(l,c,a,null),_.return=n,l.return=n,_.sibling=l,n.child=_,c=n.child,c.memoizedState=Zc(a),c.childLanes=Jc(t,g,a),n.memoizedState=Wc,l):(Ii(n),ef(n,_))}if(b=t.memoizedState,b!==null&&(_=b.dehydrated,_!==null)){if(d)n.flags&256?(Ii(n),n.flags&=-257,n=nf(t,n,a)):n.memoizedState!==null?(Li(),n.child=t.child,n.flags|=128,n=null):(Li(),c=l.fallback,_=n.mode,l=tf({mode:"visible",children:l.children},_),c=Lr(c,_,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,wr(n,t.child,null,a),l=n.child,l.memoizedState=Zc(a),l.childLanes=Jc(t,g,a),n.memoizedState=Wc,n=c);else if(Ii(n),_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var R=g.dgst;g=R,l=Error(s(419)),l.stack="",l.digest=g,ms({value:l,source:null,stack:null}),n=nf(t,n,a)}else if(wt||ws(t,n,a,!1),g=(a&t.childLanes)!==0,wt||g){if(g=Xe,g!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(g.suspendedLanes|a)?0:l,l!==0&&l!==b.retryLane)throw b.retryLane=l,Mi(t,l),qt(g,t,l),Kp}_.data==="$?"||xf(),n=nf(t,n,a)}else _.data==="$?"?(n.flags|=128,n.child=t.child,n=w0.bind(null,t),_._reactRetry=n,n=null):(t=b.treeContext,Lt=xn(_.nextSibling),Vt=n,ke=!0,Dn=null,qn=!1,t!==null&&(gn[_n++]=li,gn[_n++]=oi,gn[_n++]=Sr,li=t.id,oi=t.overflow,Sr=n),n=ef(n,l.children),n.flags|=4096);return n}return c?(Li(),c=l.fallback,_=n.mode,b=t.child,R=b.sibling,l=Fi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&31457280,R!==null?c=Fi(R,c):(c=Lr(c,_,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,_=t.child.memoizedState,_===null?_=Zc(a):(b=_.cachePool,b!==null?(R=Et._currentValue,b=b.parent!==R?{parent:R,pool:R}:b):b=rp(),_={baseLanes:_.baseLanes|a,cachePool:b}),c.memoizedState=_,c.childLanes=Jc(t,g,a),n.memoizedState=Wc,l):(Ii(n),a=t.child,t=a.sibling,a=Fi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function ef(t,n){return n=tf({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function tf(t,n){return Dg(t,n,0,null)}function nf(t,n,a){return wr(n,t.child,null,a),t=ef(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function rg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),lf(t.return,n,a)}function rf(t,n,a,l,c){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=c)}function ag(t,n,a){var l=n.pendingProps,c=l.revealOrder,d=l.tail;if(Ut(t,n,l.children,a),l=vt.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rg(t,a,n);else if(t.tag===19)rg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Te(vt,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&uo(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),rf(n,!1,c,a,d);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&uo(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}rf(n,!0,a,null,d);break;case"together":rf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function fi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Gi|=n.lanes,!(a&n.childLanes))if(t!==null){if(ws(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Fi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Fi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function af(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&So(t)))}function f0(t,n,a){switch(n.tag){case 3:ta(n,n.stateNode.containerInfo),zi(n,Et,t.memoizedState.cache),hs();break;case 27:case 5:na(n);break;case 4:ta(n,n.stateNode.containerInfo);break;case 10:zi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ii(n),n.flags|=128,null):a&n.child.childLanes?ig(t,n,a):(Ii(n),t=fi(t,n,a),t!==null?t.sibling:null);Ii(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ws(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return ag(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Te(vt,vt.current),l)break;return null;case 22:case 23:return n.lanes=0,Zp(t,n,a);case 24:zi(n,Et,t.memoizedState.cache)}return fi(t,n,a)}function sg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)wt=!0;else{if(!af(t,a)&&!(n.flags&128))return wt=!1,f0(t,n,a);wt=!!(t.flags&131072)}else wt=!1,ke&&n.flags&1048576&&Fm(n,ro,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")vf(l)?(t=Or(l,t),n.tag=1,n=tg(null,n,l,t,a)):(n.tag=0,n=$c(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===A){n.tag=11,n=Xp(null,n,l,t,a);break e}else if(c===B){n.tag=14,n=$p(null,n,l,t,a);break e}}throw n=ve(l)||l,Error(s(306,n,""))}}return n;case 0:return $c(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=Or(l,n.pendingProps),tg(t,n,l,c,a);case 3:e:{if(ta(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var d=n.pendingProps;c=n.memoizedState,l=c.element,cf(t,n),Ns(n,d,null,a);var g=n.memoizedState;if(d=g.cache,zi(n,Et,d),d!==c.cache&&of(n,[Et],a,!0),As(),d=g.element,c.isDehydrated)if(c={element:d,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=ng(t,n,d,a);break e}else if(d!==l){l=pn(Error(s(424)),n),ms(l),n=ng(t,n,d,a);break e}else for(Lt=xn(n.stateNode.containerInfo.firstChild),Vt=n,ke=!0,Dn=null,qn=!0,a=Jm(n,null,d,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(hs(),d===l){n=fi(t,n,a);break e}Ut(t,n,d,a)}n=n.child}return n;case 26:return Cs(t,n),t===null?(a=u_(n.type,null,n.pendingProps,null))?n.memoizedState=a:ke||(a=n.type,t=n.pendingProps,l=Ho(Pn.current).createElement(a),l[se]=n,l[he]=t,kt(l,a,t),Ke(l),n.stateNode=l):n.memoizedState=u_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return na(n),t===null&&ke&&(l=n.stateNode=s_(n.type,n.pendingProps,Pn.current),Vt=n,qn=!0,Lt=xn(l.firstChild)),l=n.pendingProps.children,t!==null||ke?Ut(t,n,l,a):n.child=wr(n,null,l,a),Cs(t,n),n.child;case 5:return t===null&&ke&&((c=l=Lt)&&(l=j0(l,n.type,n.pendingProps,qn),l!==null?(n.stateNode=l,Vt=n,Lt=xn(l.firstChild),qn=!1,c=!0):c=!1),c||Cr(n)),na(n),c=n.type,d=n.pendingProps,g=t!==null?t.memoizedProps:null,l=d.children,Gf(c,d)?l=null:g!==null&&Gf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Mc(t,n,r0,null,null,a),qs._currentValue=c),Cs(t,n),Ut(t,n,l,a),n.child;case 6:return t===null&&ke&&((t=a=Lt)&&(a=V0(a,n.pendingProps,qn),a!==null?(n.stateNode=a,Vt=n,Lt=null,t=!0):t=!1),t||Cr(n)),null;case 13:return ig(t,n,a);case 4:return ta(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=wr(n,null,l,a):Ut(t,n,l,a),n.child;case 11:return Xp(t,n,n.type,n.pendingProps,a);case 7:return Ut(t,n,n.pendingProps,a),n.child;case 8:return Ut(t,n,n.pendingProps.children,a),n.child;case 12:return Ut(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,zi(n,n.type,l.value),Ut(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Mr(n),c=Pt(c),l=l(c),n.flags|=1,Ut(t,n,l,a),n.child;case 14:return $p(t,n,n.type,n.pendingProps,a);case 15:return Wp(t,n,n.type,n.pendingProps,a);case 19:return ag(t,n,a);case 22:return Zp(t,n,a);case 24:return Mr(n),l=Pt(Et),t===null?(c=Oc(),c===null&&(c=Xe,d=Nc(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=a),c=d),n.memoizedState={parent:l,cache:c},uf(n),zi(n,Et,c)):(t.lanes&a&&(cf(t,n),Ns(n,null,null,a),As()),c=t.memoizedState,d=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),zi(n,Et,l)):(l=d.cache,zi(n,Et,l),l!==c.cache&&of(n,[Et],a,!0))),Ut(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var sf=Ue(null),xr=null,di=null;function zi(t,n,a){Te(sf,n._currentValue),n._currentValue=a}function hi(t){t._currentValue=sf.current,lt(sf)}function lf(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function of(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var d=c.dependencies;if(d!==null){var g=c.child;d=d.firstContext;e:for(;d!==null;){var _=d;d=c;for(var b=0;b<n.length;b++)if(_.context===n[b]){d.lanes|=a,_=d.alternate,_!==null&&(_.lanes|=a),lf(d.return,a,t),l||(g=null);break e}d=_.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),lf(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function ws(t,n,a,l){t=null;for(var c=n,d=!1;c!==null;){if(!d){if(c.flags&524288)d=!0;else if(c.flags&262144)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var _=c.type;en(c.pendingProps.value,g.value)||(t!==null?t.push(_):t=[_])}}else if(c===on.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(qs):t=[qs])}c=c.return}t!==null&&of(n,t,a,l),n.flags|=262144}function So(t){for(t=t.firstContext;t!==null;){if(!en(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Mr(t){xr=t,di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Pt(t){return lg(xr,t)}function To(t,n){return xr===null&&Mr(t),lg(t,n)}function lg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},di===null){if(t===null)throw Error(s(308));di=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else di=di.next=n;return a}var Hi=!1;function uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,rt&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=no(t),Vm(t,null,a),n}return to(t,l,n,a),no(t)}function Rs(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,oe(t,a)}}function ff(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?c=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?c=d=n:d=d.next=n}else c=d=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var df=!1;function As(){if(df){var t=Ea;if(t!==null)throw t}}function Ns(t,n,a,l){df=!1;var c=t.updateQueue;Hi=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var b=_,R=b.next;b.next=null,g===null?d=R:g.next=R,g=b;var z=t.alternate;z!==null&&(z=z.updateQueue,_=z.lastBaseUpdate,_!==g&&(_===null?z.firstBaseUpdate=R:_.next=R,z.lastBaseUpdate=b))}if(d!==null){var V=c.baseState;g=0,z=R=b=null,_=d;do{var I=_.lane&-536870913,k=I!==_.lane;if(k?(Le&I)===I:(l&I)===I){I!==0&&I===va&&(df=!0),z!==null&&(z=z.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var le=t,Ee=_;I=n;var ft=a;switch(Ee.tag){case 1:if(le=Ee.payload,typeof le=="function"){V=le.call(ft,V,I);break e}V=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=Ee.payload,I=typeof le=="function"?le.call(ft,V,I):le,I==null)break e;V=ue({},V,I);break e;case 2:Hi=!0}}I=_.callback,I!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[I]:k.push(I))}else k={lane:I,tag:_.tag,payload:_.payload,callback:_.callback,next:null},z===null?(R=z=k,b=V):z=z.next=k,g|=I;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;k=_,_=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);z===null&&(b=V),c.baseState=b,c.firstBaseUpdate=R,c.lastBaseUpdate=z,d===null&&(c.shared.lanes=0),Gi|=g,t.lanes=g,t.memoizedState=V}}function og(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function ug(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)og(a[t],n)}function Ds(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var d=a.create,g=a.inst;l=d(),g.destroy=l}a=a.next}while(a!==c)}}catch(_){Ye(n,n.return,_)}}function ji(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&t)===t){var g=l.inst,_=g.destroy;if(_!==void 0){g.destroy=void 0,c=n;var b=a;try{_()}catch(R){Ye(c,b,R)}}}l=l.next}while(l!==d)}}catch(R){Ye(n,n.return,R)}}function cg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{ug(n,a)}catch(l){Ye(t,t.return,l)}}}function fg(t,n,a){a.props=Or(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,n,l)}}function Ir(t,n){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(d){Ye(t,n,d)}}function tn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Ye(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ye(t,n,c)}else a.current=null}function dg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Ye(t,t.return,c)}}function hg(t,n,a){try{var l=t.stateNode;k0(l,t.type,a,n),l[he]=n}catch(c){Ye(t,t.return,c)}}function mg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function hf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=zo));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(mf(t,n,a),t=t.sibling;t!==null;)mf(t,n,a),t=t.sibling}function Co(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Co(t,n,a),t=t.sibling;t!==null;)Co(t,n,a),t=t.sibling}var mi=!1,ut=!1,pf=!1,pg=typeof WeakSet=="function"?WeakSet:Set,Rt=null,gg=!1;function d0(t,n){if(t=t.containerInfo,qf=Fo,t=Im(t),gc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var g=0,_=-1,b=-1,R=0,z=0,V=t,I=null;t:for(;;){for(var k;V!==a||c!==0&&V.nodeType!==3||(_=g+c),V!==d||l!==0&&V.nodeType!==3||(b=g+l),V.nodeType===3&&(g+=V.nodeValue.length),(k=V.firstChild)!==null;)I=V,V=k;for(;;){if(V===t)break t;if(I===a&&++R===c&&(_=g),I===d&&++z===l&&(b=g),(k=V.nextSibling)!==null)break;V=I,I=V.parentNode}V=k}a=_===-1||b===-1?null:{start:_,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ff={focusedElem:t,selectionRange:a},Fo=!1,Rt=n;Rt!==null;)if(n=Rt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Rt=t;else for(;Rt!==null;){switch(n=Rt,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&d!==null){t=void 0,a=n,c=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var le=Or(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(le,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){Ye(a,a.return,Ee)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Kf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Rt=t;break}Rt=n.return}return le=gg,gg=!1,le}function _g(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:gi(t,a),l&4&&Ds(5,a);break;case 1:if(gi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var c=Or(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&cg(a),l&512&&Ir(a,a.return);break;case 3:if(gi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{ug(l,t)}catch(_){Ye(a,a.return,_)}}break;case 26:gi(t,a),l&512&&Ir(a,a.return);break;case 27:case 5:gi(t,a),n===null&&l&4&&dg(a),l&512&&Ir(a,a.return);break;case 12:gi(t,a);break;case 13:gi(t,a),l&4&&Eg(t,a);break;case 22:if(c=a.memoizedState!==null||mi,!c){n=n!==null&&n.memoizedState!==null||ut;var d=mi,g=ut;mi=c,(ut=n)&&!g?Vi(t,a,(a.subtreeFlags&8772)!==0):gi(t,a),mi=d,ut=g}l&512&&(a.memoizedProps.mode==="manual"?Ir(a,a.return):tn(a,a.return));break;default:gi(t,a)}}function yg(t){var n=t.alternate;n!==null&&(t.alternate=null,yg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ii(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,nn=!1;function pi(t,n,a){for(a=a.child;a!==null;)vg(t,n,a),a=a.sibling}function vg(t,n,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Oi,a)}catch{}switch(a.tag){case 26:ut||tn(a,n),pi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||tn(a,n);var l=gt,c=nn;for(gt=a.stateNode,pi(t,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);ii(a),gt=l,nn=c;break;case 5:ut||tn(a,n);case 6:c=gt;var d=nn;if(gt=null,pi(t,n,a),gt=c,nn=d,gt!==null)if(nn)try{t=gt,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(g){Ye(a,n,g)}else try{gt.removeChild(a.stateNode)}catch(g){Ye(a,n,g)}break;case 18:gt!==null&&(nn?(n=gt,a=a.stateNode,n.nodeType===8?Qf(n.parentNode,a):n.nodeType===1&&Qf(n,a),Qs(n)):Qf(gt,a.stateNode));break;case 4:l=gt,c=nn,gt=a.stateNode.containerInfo,nn=!0,pi(t,n,a),gt=l,nn=c;break;case 0:case 11:case 14:case 15:ut||ji(2,a,n),ut||ji(4,a,n),pi(t,n,a);break;case 1:ut||(tn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&fg(a,n,l)),pi(t,n,a);break;case 21:pi(t,n,a);break;case 22:ut||tn(a,n),ut=(l=ut)||a.memoizedState!==null,pi(t,n,a),ut=l;break;default:pi(t,n,a)}}function Eg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qs(t)}catch(a){Ye(n,n.return,a)}}function h0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new pg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new pg),n;default:throw Error(s(435,t.tag))}}function gf(t,n){var a=h0(t);n.forEach(function(l){var c=R0.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function vn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],d=t,g=n,_=g;e:for(;_!==null;){switch(_.tag){case 27:case 5:gt=_.stateNode,nn=!1;break e;case 3:gt=_.stateNode.containerInfo,nn=!0;break e;case 4:gt=_.stateNode.containerInfo,nn=!0;break e}_=_.return}if(gt===null)throw Error(s(160));vg(d,g,c),gt=null,nn=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)bg(n,t),n=n.sibling}var On=null;function bg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(n,t),En(t),l&4&&(ji(3,t,t.return),Ds(3,t),ji(5,t,t.return));break;case 1:vn(n,t),En(t),l&512&&(ut||a===null||tn(a,a.return)),l&64&&mi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=On;if(vn(n,t),En(t),l&512&&(ut||a===null||tn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":d=c.getElementsByTagName("title")[0],(!d||d[cn]||d[se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(l),c.head.insertBefore(d,c.querySelector("head > title"))),kt(d,l,a),d[se]=t,Ke(d),l=d;break e;case"link":var g=d_("link","href",c).get(l+(a.href||""));if(g){for(var _=0;_<g.length;_++)if(d=g[_],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(_,1);break t}}d=c.createElement(l),kt(d,l,a),c.head.appendChild(d);break;case"meta":if(g=d_("meta","content",c).get(l+(a.content||""))){for(_=0;_<g.length;_++)if(d=g[_],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(_,1);break t}}d=c.createElement(l),kt(d,l,a),c.head.appendChild(d);break;default:throw Error(s(468,l))}d[se]=t,Ke(d),l=d}t.stateNode=l}else h_(c,t.type,t.stateNode);else t.stateNode=f_(c,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?h_(c,t.type,t.stateNode):f_(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&hg(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,d=t.memoizedProps;try{for(var b=c.firstChild;b;){var R=b.nextSibling,z=b.nodeName;b[cn]||z==="HEAD"||z==="BODY"||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=R}for(var V=t.type,I=c.attributes;I.length;)c.removeAttributeNode(I[0]);kt(c,V,d),c[se]=t,c[he]=d}catch(le){Ye(t,t.return,le)}}case 5:if(vn(n,t),En(t),l&512&&(ut||a===null||tn(a,a.return)),t.flags&32){c=t.stateNode;try{la(c,"")}catch(le){Ye(t,t.return,le)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,hg(t,c,a!==null?a.memoizedProps:c)),l&1024&&(pf=!0);break;case 6:if(vn(n,t),En(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(le){Ye(t,t.return,le)}}break;case 3:if(jo=null,c=On,On=Po(n.containerInfo),vn(n,t),On=c,En(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Qs(n.containerInfo)}catch(le){Ye(t,t.return,le)}pf&&(pf=!1,Sg(t));break;case 4:l=On,On=Po(t.stateNode.containerInfo),vn(n,t),En(t),On=l;break;case 12:vn(n,t),En(t);break;case 13:vn(n,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wf=Jt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gf(t,l)));break;case 22:if(l&512&&(ut||a===null||tn(a,a.return)),b=t.memoizedState!==null,R=a!==null&&a.memoizedState!==null,z=mi,V=ut,mi=z||b,ut=V||R,vn(n,t),ut=V,mi=z,En(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=b?n._visibility&-2:n._visibility|1,b&&(n=mi||ut,a===null||R||n||Ca(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){R=a=n;try{if(c=R.stateNode,b)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{g=R.stateNode,_=R.memoizedProps.style;var k=_!=null&&_.hasOwnProperty("display")?_.display:null;g.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(le){Ye(R,R.return,le)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=b?"":R.memoizedProps}catch(le){Ye(R,R.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gf(t,a))));break;case 19:vn(n,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gf(t,l)));break;case 21:break;default:vn(n,t),En(t)}}function En(t){var n=t.flags;if(n&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(mg(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var c=l.stateNode,d=hf(t);Co(t,d,c);break;case 5:var g=l.stateNode;l.flags&32&&(la(g,""),l.flags&=-33);var _=hf(t);Co(t,_,g);break;case 3:case 4:var b=l.stateNode.containerInfo,R=hf(t);mf(t,R,b);break;default:throw Error(s(161))}}}catch(z){Ye(t,t.return,z)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Sg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Sg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function gi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_g(t,n.alternate,n),n=n.sibling}function Ca(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ji(4,n,n.return),Ca(n);break;case 1:tn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&fg(n,n.return,a),Ca(n);break;case 26:case 27:case 5:tn(n,n.return),Ca(n);break;case 22:tn(n,n.return),n.memoizedState===null&&Ca(n);break;default:Ca(n)}t=t.sibling}}function Vi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,d=n,g=d.flags;switch(d.tag){case 0:case 11:case 15:Vi(c,d,a),Ds(4,d);break;case 1:if(Vi(c,d,a),l=d,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(R){Ye(l,l.return,R)}if(l=d,c=l.updateQueue,c!==null){var _=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)og(b[c],_)}catch(R){Ye(l,l.return,R)}}a&&g&64&&cg(d),Ir(d,d.return);break;case 26:case 27:case 5:Vi(c,d,a),a&&l===null&&g&4&&dg(d),Ir(d,d.return);break;case 12:Vi(c,d,a);break;case 13:Vi(c,d,a),a&&g&4&&Eg(c,d);break;case 22:d.memoizedState===null&&Vi(c,d,a),Ir(d,d.return);break;default:Vi(c,d,a)}n=n.sibling}}function _f(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&vs(a))}function yf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&vs(t))}function qi(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Tg(t,n,a,l),n=n.sibling}function Tg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:qi(t,n,a,l),c&2048&&Ds(9,n);break;case 3:qi(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&vs(t)));break;case 12:if(c&2048){qi(t,n,a,l),t=n.stateNode;try{var d=n.memoizedProps,g=d.id,_=d.onPostCommit;typeof _=="function"&&_(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Ye(n,n.return,b)}}else qi(t,n,a,l);break;case 23:break;case 22:d=n.stateNode,n.memoizedState!==null?d._visibility&4?qi(t,n,a,l):Os(t,n):d._visibility&4?qi(t,n,a,l):(d._visibility|=4,wa(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&_f(n.alternate,n);break;case 24:qi(t,n,a,l),c&2048&&yf(n.alternate,n);break;default:qi(t,n,a,l)}}function wa(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,g=n,_=a,b=l,R=g.flags;switch(g.tag){case 0:case 11:case 15:wa(d,g,_,b,c),Ds(8,g);break;case 23:break;case 22:var z=g.stateNode;g.memoizedState!==null?z._visibility&4?wa(d,g,_,b,c):Os(d,g):(z._visibility|=4,wa(d,g,_,b,c)),c&&R&2048&&_f(g.alternate,g);break;case 24:wa(d,g,_,b,c),c&&R&2048&&yf(g.alternate,g);break;default:wa(d,g,_,b,c)}n=n.sibling}}function Os(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Os(a,l),c&2048&&_f(l.alternate,l);break;case 24:Os(a,l),c&2048&&yf(l.alternate,l);break;default:Os(a,l)}n=n.sibling}}var xs=8192;function Ra(t){if(t.subtreeFlags&xs)for(t=t.child;t!==null;)Cg(t),t=t.sibling}function Cg(t){switch(t.tag){case 26:Ra(t),t.flags&xs&&t.memoizedState!==null&&tT(On,t.memoizedState,t.memoizedProps);break;case 5:Ra(t);break;case 3:case 4:var n=On;On=Po(t.stateNode.containerInfo),Ra(t),On=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=xs,xs=16777216,Ra(t),xs=n):Ra(t));break;default:Ra(t)}}function wg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ms(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Rt=l,Ag(l,t)}wg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rg(t),t=t.sibling}function Rg(t){switch(t.tag){case 0:case 11:case 15:Ms(t),t.flags&2048&&ji(9,t,t.return);break;case 3:Ms(t);break;case 12:Ms(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,wo(t)):Ms(t);break;default:Ms(t)}}function wo(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Rt=l,Ag(l,t)}wg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ji(8,n,n.return),wo(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,wo(n));break;default:wo(n)}t=t.sibling}}function Ag(t,n){for(;Rt!==null;){var a=Rt;switch(a.tag){case 0:case 11:case 15:ji(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vs(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Rt=l;else e:for(a=t;Rt!==null;){l=Rt;var c=l.sibling,d=l.return;if(yg(l),l===a){Rt=null;break e}if(c!==null){c.return=d,Rt=c;break e}Rt=d}}}function m0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,n,a,l){return new m0(t,n,a,l)}function vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,n){var a=t.alternate;return a===null?(a=bn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ng(t,n){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ro(t,n,a,l,c,d){var g=0;if(l=t,typeof t=="function")vf(t)&&(g=1);else if(typeof t=="string")g=J0(t,a,xt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case m:return Lr(a.children,c,d,n);case p:g=8,c|=24;break;case y:return t=bn(12,a,n,c|2),t.elementType=y,t.lanes=d,t;case P:return t=bn(13,a,n,c),t.elementType=P,t.lanes=d,t;case H:return t=bn(19,a,n,c),t.elementType=H,t.lanes=d,t;case Z:return Dg(a,c,d,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case v:case S:g=10;break e;case E:g=9;break e;case A:g=11;break e;case B:g=14;break e;case G:g=16,l=null;break e}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=bn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=d,n}function Lr(t,n,a,l){return t=bn(7,t,l,n),t.lanes=a,t}function Dg(t,n,a,l){t=bn(22,t,l,n),t.elementType=Z,t.lanes=a;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=c._current;if(d===null)throw Error(s(456));if(!(c._pendingVisibility&2)){var g=Mi(d,2);g!==null&&(c._pendingVisibility|=2,qt(g,d,2))}},attach:function(){var d=c._current;if(d===null)throw Error(s(456));if(c._pendingVisibility&2){var g=Mi(d,2);g!==null&&(c._pendingVisibility&=-3,qt(g,d,2))}}};return t.stateNode=c,t}function Ef(t,n,a){return t=bn(6,t,null,n),t.lanes=a,t}function bf(t,n,a){return n=bn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function _i(t){t.flags|=4}function Og(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!m_(n)){if(n=yn.current,n!==null&&((Le&4194176)===Le?Fn!==null:(Le&62914560)!==Le&&!(Le&536870912)||n!==Fn))throw gs=wc,Qm;t.flags|=8192}}function Ao(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?C():536870912,t.lanes|=n,Na|=n)}function Is(t,n){if(!ke)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function p0(t,n,a){var l=n.pendingProps;switch(Tc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),hi(Et),Di(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ds(n)?_i(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Dn!==null&&(Df(Dn),Dn=null))),it(n),null;case 26:return a=n.memoizedState,t===null?(_i(n),a!==null?(it(n),Og(n,a)):(it(n),n.flags&=-16777217)):a?a!==t.memoizedState?(_i(n),it(n),Og(n,a)):(it(n),n.flags&=-16777217):(t.memoizedProps!==l&&_i(n),it(n),n.flags&=-16777217),null;case 27:ia(n),a=Pn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&_i(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return it(n),null}t=xt.current,ds(n)?Gm(n):(t=s_(c,l,a),n.stateNode=t,_i(n))}return it(n),null;case 5:if(ia(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&_i(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return it(n),null}if(t=xt.current,ds(n))Gm(n);else{switch(c=Ho(Pn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[se]=n,t[he]=l;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;e:switch(kt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&_i(n)}}return it(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&_i(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Pn.current,ds(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Vt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[se]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||e_(t.nodeValue,a)),t||Cr(n)}else t=Ho(t).createTextNode(l),t[se]=n,n.stateNode=t}return it(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ds(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[se]=n}else hs(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;it(n),c=!1}else Dn!==null&&(Df(Dn),Dn=null),c=!0;if(!c)return n.flags&256?(ui(n),n):(ui(n),null)}if(ui(n),n.flags&128)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Ao(n,n.updateQueue),it(n),null;case 4:return Di(),t===null&&Bf(n.stateNode.containerInfo),it(n),null;case 10:return hi(n.type),it(n),null;case 19:if(lt(vt),c=n.memoizedState,c===null)return it(n),null;if(l=(n.flags&128)!==0,d=c.rendering,d===null)if(l)Is(c,!1);else{if(ct!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(d=uo(t),d!==null){for(n.flags|=128,Is(c,!1),t=d.updateQueue,n.updateQueue=t,Ao(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Ng(a,t),a=a.sibling;return Te(vt,vt.current&1|2),n.child}t=t.sibling}c.tail!==null&&Jt()>No&&(n.flags|=128,l=!0,Is(c,!1),n.lanes=4194304)}else{if(!l)if(t=uo(d),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Ao(n,t),Is(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!ke)return it(n),null}else 2*Jt()-c.renderingStartTime>No&&a!==536870912&&(n.flags|=128,l=!0,Is(c,!1),n.lanes=4194304);c.isBackwards?(d.sibling=n.child,n.child=d):(t=c.last,t!==null?t.sibling=d:n.child=d,c.last=d)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Jt(),n.sibling=null,t=vt.current,Te(vt,l?t&1|2:t&1),n):(it(n),null);case 22:case 23:return ui(n),Ac(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?a&536870912&&!(n.flags&128)&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),a=n.updateQueue,a!==null&&Ao(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&lt(Rr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),hi(Et),it(n),null;case 25:return null}throw Error(s(156,n.tag))}function g0(t,n){switch(Tc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return hi(Et),Di(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ia(n),null;case 13:if(ui(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));hs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return lt(vt),null;case 4:return Di(),null;case 10:return hi(n.type),null;case 22:case 23:return ui(n),Ac(),t!==null&&lt(Rr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return hi(Et),null;case 25:return null;default:return null}}function xg(t,n){switch(Tc(n),n.tag){case 3:hi(Et),Di();break;case 26:case 27:case 5:ia(n);break;case 4:Di();break;case 13:ui(n);break;case 19:lt(vt);break;case 10:hi(n.type);break;case 22:case 23:ui(n),Ac(),t!==null&&lt(Rr);break;case 24:hi(Et)}}var _0={getCacheForType:function(t){var n=Pt(Et),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},y0=typeof WeakMap=="function"?WeakMap:Map,rt=0,Xe=null,Ae=null,Le=0,$e=0,rn=null,yi=!1,Aa=!1,Sf=!1,vi=0,ct=0,Gi=0,Ur=0,Tf=0,Sn=0,Na=0,Ls=null,Yn=null,Cf=!1,wf=0,No=1/0,Do=null,Yi=null,Oo=!1,kr=null,Us=0,Rf=0,Af=null,ks=0,Nf=null;function an(){if(rt&2&&Le!==0)return Le&-Le;if(F.T!==null){var t=va;return t!==0?t:kf()}return ne()}function Mg(){Sn===0&&(Sn=!(Le&536870912)||ke?Vl():536870912);var t=yn.current;return t!==null&&(t.flags|=32),Sn}function qt(t,n,a){(t===Xe&&$e===2||t.cancelPendingCommit!==null)&&(Da(t,0),Ei(t,Le,Sn,!1)),L(t,a),(!(rt&2)||t!==Xe)&&(t===Xe&&(!(rt&2)&&(Ur|=a),ct===4&&Ei(t,Le,Sn,!1)),Qn(t))}function Ig(t,n,a){if(rt&6)throw Error(s(327));var l=!a&&(n&60)===0&&(n&t.expiredLanes)===0||Vn(t,n),c=l?b0(t,n):Mf(t,n,!0),d=l;do{if(c===0){Aa&&!l&&Ei(t,n,0,!1);break}else if(c===6)Ei(t,n,0,!yi);else{if(a=t.current.alternate,d&&!v0(a)){c=Mf(t,n,!1),d=!1;continue}if(c===2){if(d=n,t.errorRecoveryDisabledLanes&d)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var _=t;c=Ls;var b=_.current.memoizedState.isDehydrated;if(b&&(Da(_,g).flags|=256),g=Mf(_,g,!1),g!==2){if(Sf&&!b){_.errorRecoveryDisabledLanes|=d,Ur|=d,c=4;break e}d=Yn,Yn=c,d!==null&&Df(d)}c=g}if(d=!1,c!==2)continue}}if(c===1){Da(t,0),Ei(t,n,0,!0);break}e:{switch(l=t,c){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Ei(l,n,Sn,!yi);break e}break;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=n,(n&62914560)===n&&(d=wf+300-Jt(),10<d)){if(Ei(l,n,Sn,!yi),ni(l,0)!==0)break e;l.timeoutHandle=i_(Lg.bind(null,l,a,Yn,Do,Cf,n,Sn,Ur,Na,yi,2,-0,0),d);break e}Lg(l,a,Yn,Do,Cf,n,Sn,Ur,Na,yi,0,-0,0)}}break}while(!0);Qn(t)}function Df(t){Yn===null?Yn=t:Yn.push.apply(Yn,t)}function Lg(t,n,a,l,c,d,g,_,b,R,z,V,I){var k=n.subtreeFlags;if((k&8192||(k&16785408)===16785408)&&(Vs={stylesheets:null,count:0,unsuspend:eT},Cg(n),n=nT(),n!==null)){t.cancelPendingCommit=n(jg.bind(null,t,a,l,c,g,_,b,1,V,I)),Ei(t,d,g,!R);return}jg(t,a,l,c,g,_,b,z,V,I)}function v0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],d=c.getSnapshot;c=c.value;try{if(!en(d(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ei(t,n,a,l){n&=~Tf,n&=~Ur,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var d=31-Ct(c),g=1<<d;l[d]=-1,c&=~g}a!==0&&ee(t,a,n)}function xo(){return rt&6?!0:(zs(0),!1)}function Of(){if(Ae!==null){if($e===0)var t=Ae.return;else t=Ae,di=xr=null,Uc(t),_a=null,_s=0,t=Ae;for(;t!==null;)xg(t.alternate,t),t=t.return;Ae=null}}function Da(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,H0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Of(),Xe=t,Ae=a=Fi(t.current,null),Le=n,$e=0,rn=null,yi=!1,Aa=Vn(t,n),Sf=!1,Na=Sn=Tf=Ur=Gi=ct=0,Yn=Ls=null,Cf=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ct(l),d=1<<c;n|=t[c],l&=~d}return vi=n,eo(),a}function Ug(t,n){Ce=null,F.H=Gn,n===ps?(n=$m(),$e=3):n===Qm?(n=$m(),$e=4):$e=n===Kp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,rn=n,Ae===null&&(ct=1,bo(t,pn(n,t.current)))}function kg(){var t=F.H;return F.H=Gn,t===null?Gn:t}function zg(){var t=F.A;return F.A=_0,t}function xf(){ct=4,yi||(Le&4194176)!==Le&&yn.current!==null||(Aa=!0),!(Gi&134217727)&&!(Ur&134217727)||Xe===null||Ei(Xe,Le,Sn,!1)}function Mf(t,n,a){var l=rt;rt|=2;var c=kg(),d=zg();(Xe!==t||Le!==n)&&(Do=null,Da(t,n)),n=!1;var g=ct;e:do try{if($e!==0&&Ae!==null){var _=Ae,b=rn;switch($e){case 8:Of(),g=6;break e;case 3:case 2:case 6:yn.current===null&&(n=!0);var R=$e;if($e=0,rn=null,Oa(t,_,b,R),a&&Aa){g=0;break e}break;default:R=$e,$e=0,rn=null,Oa(t,_,b,R)}}E0(),g=ct;break}catch(z){Ug(t,z)}while(!0);return n&&t.shellSuspendCounter++,di=xr=null,rt=l,F.H=c,F.A=d,Ae===null&&(Xe=null,Le=0,eo()),g}function E0(){for(;Ae!==null;)Hg(Ae)}function b0(t,n){var a=rt;rt|=2;var l=kg(),c=zg();Xe!==t||Le!==n?(Do=null,No=Jt()+500,Da(t,n)):Aa=Vn(t,n);e:do try{if($e!==0&&Ae!==null){n=Ae;var d=rn;t:switch($e){case 1:$e=0,rn=null,Oa(t,n,d,1);break;case 2:if(Km(d)){$e=0,rn=null,Pg(n);break}n=function(){$e===2&&Xe===t&&($e=7),Qn(t)},d.then(n,n);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Km(d)?($e=0,rn=null,Pg(n)):($e=0,rn=null,Oa(t,n,d,7));break;case 5:var g=null;switch(Ae.tag){case 26:g=Ae.memoizedState;case 5:case 27:var _=Ae;if(!g||m_(g)){$e=0,rn=null;var b=_.sibling;if(b!==null)Ae=b;else{var R=_.return;R!==null?(Ae=R,Mo(R)):Ae=null}break t}}$e=0,rn=null,Oa(t,n,d,5);break;case 6:$e=0,rn=null,Oa(t,n,d,6);break;case 8:Of(),ct=6;break e;default:throw Error(s(462))}}S0();break}catch(z){Ug(t,z)}while(!0);return di=xr=null,F.H=l,F.A=c,rt=a,Ae!==null?0:(Xe=null,Le=0,eo(),ct)}function S0(){for(;Ae!==null&&!ti();)Hg(Ae)}function Hg(t){var n=sg(t.alternate,t,vi);t.memoizedProps=t.pendingProps,n===null?Mo(t):Ae=n}function Pg(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=eg(a,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=eg(a,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:Uc(n);default:xg(a,n),n=Ae=Ng(n,vi),n=sg(a,n,vi)}t.memoizedProps=t.pendingProps,n===null?Mo(t):Ae=n}function Oa(t,n,a,l){di=xr=null,Uc(n),_a=null,_s=0;var c=n.return;try{if(c0(t,c,n,a,Le)){ct=1,bo(t,pn(a,t.current)),Ae=null;return}}catch(d){if(c!==null)throw Ae=c,d;ct=1,bo(t,pn(a,t.current)),Ae=null;return}n.flags&32768?(ke||l===1?t=!0:Aa||Le&536870912?t=!1:(yi=t=!0,(l===2||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Bg(n,t)):Mo(n)}function Mo(t){var n=t;do{if(n.flags&32768){Bg(n,yi);return}t=n.return;var a=p0(n.alternate,n,vi);if(a!==null){Ae=a;return}if(n=n.sibling,n!==null){Ae=n;return}Ae=n=t}while(n!==null);ct===0&&(ct=5)}function Bg(t,n){do{var a=g0(t.alternate,t);if(a!==null){a.flags&=32767,Ae=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ae=t;return}Ae=t=a}while(t!==null);ct=6,Ae=null}function jg(t,n,a,l,c,d,g,_,b,R){var z=F.T,V=$.p;try{$.p=2,F.T=null,T0(t,n,a,l,V,c,d,g,_,b,R)}finally{F.T=z,$.p=V}}function T0(t,n,a,l,c,d,g,_){do xa();while(kr!==null);if(rt&6)throw Error(s(327));var b=t.finishedWork;if(l=t.finishedLanes,b===null)return null;if(t.finishedWork=null,t.finishedLanes=0,b===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var R=b.lanes|b.childLanes;if(R|=Ec,q(t,l,R,d,g,_),t===Xe&&(Ae=Xe=null,Le=0),!(b.subtreeFlags&10256)&&!(b.flags&10256)||Oo||(Oo=!0,Rf=R,Af=a,A0(mr,function(){return xa(),null})),a=(b.flags&15990)!==0,b.subtreeFlags&15990||a?(a=F.T,F.T=null,d=$.p,$.p=2,g=rt,rt|=4,d0(t,b),bg(b,t),QS(Ff,t.containerInfo),Fo=!!qf,Ff=qf=null,t.current=b,_g(t,b.alternate,b),hr(),rt=g,$.p=d,F.T=a):t.current=b,Oo?(Oo=!1,kr=t,Us=l):Vg(t,R),R=t.pendingLanes,R===0&&(Yi=null),Zu(b.stateNode),Qn(t),n!==null)for(c=t.onRecoverableError,b=0;b<n.length;b++)R=n[b],c(R.value,{componentStack:R.stack});return Us&3&&xa(),R=t.pendingLanes,l&4194218&&R&42?t===Nf?ks++:(ks=0,Nf=t):ks=0,zs(0),null}function Vg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,vs(n)))}function xa(){if(kr!==null){var t=kr,n=Rf;Rf=0;var a=ye(Us),l=F.T,c=$.p;try{if($.p=32>a?32:a,F.T=null,kr===null)var d=!1;else{a=Af,Af=null;var g=kr,_=Us;if(kr=null,Us=0,rt&6)throw Error(s(331));var b=rt;if(rt|=4,Rg(g.current),Tg(g,g.current,_,a),rt=b,zs(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Oi,g)}catch{}d=!0}return d}finally{$.p=c,F.T=l,Vg(t,n)}}return!1}function qg(t,n,a){n=pn(a,n),n=Xc(t.stateNode,n,2),t=Bi(t,n,2),t!==null&&(L(t,2),Qn(t))}function Ye(t,n,a){if(t.tag===3)qg(t,t,a);else for(;n!==null;){if(n.tag===3){qg(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Yi===null||!Yi.has(l))){t=pn(a,t),a=Yp(2),l=Bi(n,a,2),l!==null&&(Qp(a,l,n,t),L(l,2),Qn(l));break}}n=n.return}}function If(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new y0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Sf=!0,c.add(a),t=C0.bind(null,t,n,a),n.then(t,t))}function C0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Xe===t&&(Le&a)===a&&(ct===4||ct===3&&(Le&62914560)===Le&&300>Jt()-wf?!(rt&2)&&Da(t,0):Tf|=a,Na===Le&&(Na=0)),Qn(t)}function Fg(t,n){n===0&&(n=C()),t=Mi(t,n),t!==null&&(L(t,n),Qn(t))}function w0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Fg(t,a)}function R0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Fg(t,a)}function A0(t,n){return Za(t,n)}var Io=null,Ma=null,Lf=!1,Lo=!1,Uf=!1,zr=0;function Qn(t){t!==Ma&&t.next===null&&(Ma===null?Io=Ma=t:Ma=Ma.next=t),Lo=!0,Lf||(Lf=!0,D0(N0))}function zs(t,n){if(!Uf&&Lo){Uf=!0;do for(var a=!1,l=Io;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var d=0;else{var g=l.suspendedLanes,_=l.pingedLanes;d=(1<<31-Ct(42|t)+1)-1,d&=c&~(g&~_),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Qg(l,d))}else d=Le,d=ni(l,l===Xe?d:0),!(d&3)||Vn(l,d)||(a=!0,Qg(l,d));l=l.next}while(a);Uf=!1}}function N0(){Lo=Lf=!1;var t=0;zr!==0&&(z0()&&(t=zr),zr=0);for(var n=Jt(),a=null,l=Io;l!==null;){var c=l.next,d=Gg(l,n);d===0?(l.next=null,a===null?Io=c:a.next=c,c===null&&(Ma=a)):(a=l,(t!==0||d&3)&&(Lo=!0)),l=c}zs(t)}function Gg(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var g=31-Ct(d),_=1<<g,b=c[g];b===-1?(!(_&a)||_&l)&&(c[g]=ec(_,n)):b<=n&&(t.expiredLanes|=_),d&=~_}if(n=Xe,a=Le,a=ni(t,t===n?a:0),l=t.callbackNode,a===0||t===n&&$e===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ja(l),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||Vn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Ja(l),ye(a)){case 2:case 8:a=un;break;case 32:a=mr;break;case 268435456:a=Pl;break;default:a=mr}return l=Yg.bind(null,t),a=Za(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Ja(l),t.callbackPriority=2,t.callbackNode=null,2}function Yg(t,n){var a=t.callbackNode;if(xa()&&t.callbackNode!==a)return null;var l=Le;return l=ni(t,t===Xe?l:0),l===0?null:(Ig(t,l,n),Gg(t,Jt()),t.callbackNode!=null&&t.callbackNode===a?Yg.bind(null,t):null)}function Qg(t,n){if(xa())return null;Ig(t,n,!0)}function D0(t){P0(function(){rt&6?Za(Rn,t):t()})}function kf(){return zr===0&&(zr=Vl()),zr}function Kg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ql(""+t)}function Xg(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function O0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var d=Kg((c[he]||null).action),g=l.submitter;g&&(n=(n=g[he]||null)?Kg(n.formAction):g.getAttribute("formAction"),n!==null&&(d=n,g=null));var _=new Wl("action","action",null,l,c);t.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zr!==0){var b=g?Xg(c,g):new FormData(c);Fc(a,{pending:!0,data:b,method:c.method,action:d},null,b)}}else typeof d=="function"&&(_.preventDefault(),b=g?Xg(c,g):new FormData(c),Fc(a,{pending:!0,data:b,method:c.method,action:d},d,b))},currentTarget:c}]})}}for(var zf=0;zf<jm.length;zf++){var Hf=jm[zf],x0=Hf.toLowerCase(),M0=Hf[0].toUpperCase()+Hf.slice(1);Nn(x0,"on"+M0)}Nn(km,"onAnimationEnd"),Nn(zm,"onAnimationIteration"),Nn(Hm,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(XS,"onTransitionRun"),Nn($S,"onTransitionStart"),Nn(WS,"onTransitionCancel"),Nn(Pm,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),Ie("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ie("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ie("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ie("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ie("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ie("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hs));function $g(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var g=l.length-1;0<=g;g--){var _=l[g],b=_.instance,R=_.currentTarget;if(_=_.listener,b!==d&&c.isPropagationStopped())break e;d=_,c.currentTarget=R;try{d(c)}catch(z){Eo(z)}c.currentTarget=null,d=b}else for(g=0;g<l.length;g++){if(_=l[g],b=_.instance,R=_.currentTarget,_=_.listener,b!==d&&c.isPropagationStopped())break e;d=_,c.currentTarget=R;try{d(c)}catch(z){Eo(z)}c.currentTarget=null,d=b}}}}function xe(t,n){var a=n[dt];a===void 0&&(a=n[dt]=new Set);var l=t+"__bubble";a.has(l)||(Wg(n,t,2,!1),a.add(l))}function Pf(t,n,a){var l=0;n&&(l|=4),Wg(a,t,l,n)}var Uo="_reactListening"+Math.random().toString(36).slice(2);function Bf(t){if(!t[Uo]){t[Uo]=!0,gr.forEach(function(a){a!=="selectionchange"&&(I0.has(a)||Pf(a,!1,t),Pf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Uo]||(n[Uo]=!0,Pf("selectionchange",!1,n))}}function Wg(t,n,a,l){switch(E_(n)){case 2:var c=aT;break;case 8:c=sT;break;default:c=Jf}a=c.bind(null,n,a,t),c=void 0,!lc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function jf(t,n,a,l,c){var d=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var _=l.stateNode.containerInfo;if(_===c||_.nodeType===8&&_.parentNode===c)break;if(g===4)for(g=l.return;g!==null;){var b=g.tag;if((b===3||b===4)&&(b=g.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;g=g.return}for(;_!==null;){if(g=Mt(_),g===null)return;if(b=g.tag,b===5||b===6||b===26||b===27){l=d=g;continue e}_=_.parentNode}}l=l.return}dm(function(){var R=d,z=ac(a),V=[];e:{var I=Bm.get(t);if(I!==void 0){var k=Wl,le=t;switch(t){case"keypress":if(Xl(a)===0)break e;case"keydown":case"keyup":k=RS;break;case"focusin":le="focus",k=fc;break;case"focusout":le="blur",k=fc;break;case"beforeblur":case"afterblur":k=fc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=pm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=mS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=DS;break;case km:case zm:case Hm:k=_S;break;case Pm:k=xS;break;case"scroll":case"scrollend":k=dS;break;case"wheel":k=IS;break;case"copy":case"cut":case"paste":k=vS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=_m;break;case"toggle":case"beforetoggle":k=US}var Ee=(n&4)!==0,ft=!Ee&&(t==="scroll"||t==="scrollend"),D=Ee?I!==null?I+"Capture":null:I;Ee=[];for(var w=R,M;w!==null;){var j=w;if(M=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||M===null||D===null||(j=is(w,D),j!=null&&Ee.push(Ps(w,j,M))),ft)break;w=w.return}0<Ee.length&&(I=new k(I,le,null,a,z),V.push({event:I,listeners:Ee}))}}if(!(n&7)){e:{if(I=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",I&&a!==rc&&(le=a.relatedTarget||a.fromElement)&&(Mt(le)||le[Pe]))break e;if((k||I)&&(I=z.window===z?z:(I=z.ownerDocument)?I.defaultView||I.parentWindow:window,k?(le=a.relatedTarget||a.toElement,k=R,le=le?Mt(le):null,le!==null&&(ft=te(le),Ee=le.tag,le!==ft||Ee!==5&&Ee!==27&&Ee!==6)&&(le=null)):(k=null,le=R),k!==le)){if(Ee=pm,j="onMouseLeave",D="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=_m,j="onPointerLeave",D="onPointerEnter",w="pointer"),ft=k==null?I:ri(k),M=le==null?I:ri(le),I=new Ee(j,w+"leave",k,a,z),I.target=ft,I.relatedTarget=M,j=null,Mt(z)===R&&(Ee=new Ee(D,w+"enter",le,a,z),Ee.target=M,Ee.relatedTarget=ft,j=Ee),ft=j,k&&le)t:{for(Ee=k,D=le,w=0,M=Ee;M;M=Ia(M))w++;for(M=0,j=D;j;j=Ia(j))M++;for(;0<w-M;)Ee=Ia(Ee),w--;for(;0<M-w;)D=Ia(D),M--;for(;w--;){if(Ee===D||D!==null&&Ee===D.alternate)break t;Ee=Ia(Ee),D=Ia(D)}Ee=null}else Ee=null;k!==null&&Zg(V,I,k,Ee,!1),le!==null&&ft!==null&&Zg(V,ft,le,Ee,!0)}}e:{if(I=R?ri(R):window,k=I.nodeName&&I.nodeName.toLowerCase(),k==="select"||k==="input"&&I.type==="file")var ie=wm;else if(Tm(I))if(Rm)ie=GS;else{ie=qS;var we=VS}else k=I.nodeName,!k||k.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?R&&ic(R.elementType)&&(ie=wm):ie=FS;if(ie&&(ie=ie(t,R))){Cm(V,ie,a,z);break e}we&&we(t,I,R),t==="focusout"&&R&&I.type==="number"&&R.memoizedProps.value!=null&&nc(I,"number",I.value)}switch(we=R?ri(R):window,t){case"focusin":(Tm(we)||we.contentEditable==="true")&&(fa=we,_c=R,fs=null);break;case"focusout":fs=_c=fa=null;break;case"mousedown":yc=!0;break;case"contextmenu":case"mouseup":case"dragend":yc=!1,Lm(V,a,z);break;case"selectionchange":if(KS)break;case"keydown":case"keyup":Lm(V,a,z)}var fe;if(hc)e:{switch(t){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else ca?bm(t,a)&&(pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(pe="onCompositionStart");pe&&(ym&&a.locale!=="ko"&&(ca||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&ca&&(fe=hm()):(xi=z,oc="value"in xi?xi.value:xi.textContent,ca=!0)),we=ko(R,pe),0<we.length&&(pe=new gm(pe,t,null,a,z),V.push({event:pe,listeners:we}),fe?pe.data=fe:(fe=Sm(a),fe!==null&&(pe.data=fe)))),(fe=zS?HS(t,a):PS(t,a))&&(pe=ko(R,"onBeforeInput"),0<pe.length&&(we=new gm("onBeforeInput","beforeinput",null,a,z),V.push({event:we,listeners:pe}),we.data=fe)),O0(V,t,R,a,z)}$g(V,n)})}function Ps(t,n,a){return{instance:t,listener:n,currentTarget:a}}function ko(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,d=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=is(t,a),c!=null&&l.unshift(Ps(t,c,d)),c=is(t,n),c!=null&&l.push(Ps(t,c,d))),t=t.return}return l}function Ia(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zg(t,n,a,l,c){for(var d=n._reactName,g=[];a!==null&&a!==l;){var _=a,b=_.alternate,R=_.stateNode;if(_=_.tag,b!==null&&b===l)break;_!==5&&_!==26&&_!==27||R===null||(b=R,c?(R=is(a,d),R!=null&&g.unshift(Ps(a,R,b))):c||(R=is(a,d),R!=null&&g.push(Ps(a,R,b)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var L0=/\r\n?/g,U0=/\u0000|\uFFFD/g;function Jg(t){return(typeof t=="string"?t:""+t).replace(L0,`
`).replace(U0,"")}function e_(t,n){return n=Jg(n),Jg(t)===n}function zo(){}function qe(t,n,a,l,c,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||la(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&la(t,""+l);break;case"className":Fl(t,"class",l);break;case"tabIndex":Fl(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Fl(t,a,l);break;case"style":cm(t,l,d);break;case"data":if(n!=="object"){Fl(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ql(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&qe(t,n,"name",c.name,c,null),qe(t,n,"formEncType",c.formEncType,c,null),qe(t,n,"formMethod",c.formMethod,c,null),qe(t,n,"formTarget",c.formTarget,c,null)):(qe(t,n,"encType",c.encType,c,null),qe(t,n,"method",c.method,c,null),qe(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ql(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=zo);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ql(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),aa(t,"popover",l);break;case"xlinkActuate":si(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":si(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":si(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":si(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":si(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":si(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":si(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":si(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":si(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":aa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cS.get(a)||a,aa(t,a,l))}}function Vf(t,n,a,l,c,d){switch(a){case"style":cm(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?la(t,l):(typeof l=="number"||typeof l=="bigint")&&la(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=zo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_r.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),d=t[he]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,c),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):aa(t,a,l)}}}function kt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,c=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:qe(t,n,d,g,a,null)}}c&&qe(t,n,"srcSet",a.srcSet,a,null),l&&qe(t,n,"src",a.src,a,null);return;case"input":xe("invalid",t);var _=d=g=c=null,b=null,R=null;for(l in a)if(a.hasOwnProperty(l)){var z=a[l];if(z!=null)switch(l){case"name":c=z;break;case"type":g=z;break;case"checked":b=z;break;case"defaultChecked":R=z;break;case"value":d=z;break;case"defaultValue":_=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:qe(t,n,l,z,a,null)}}sm(t,d,_,b,R,g,c,!1),Gl(t);return;case"select":xe("invalid",t),l=g=d=null;for(c in a)if(a.hasOwnProperty(c)&&(_=a[c],_!=null))switch(c){case"value":d=_;break;case"defaultValue":g=_;break;case"multiple":l=_;default:qe(t,n,c,_,a,null)}n=d,a=g,t.multiple=!!l,n!=null?sa(t,!!l,n,!1):a!=null&&sa(t,!!l,a,!0);return;case"textarea":xe("invalid",t),d=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(_=a[g],_!=null))switch(g){case"value":l=_;break;case"defaultValue":c=_;break;case"children":d=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:qe(t,n,g,_,a,null)}om(t,l,c,d),Gl(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:qe(t,n,b,l,a,null)}return;case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<Hs.length;l++)xe(Hs[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:qe(t,n,R,l,a,null)}return;default:if(ic(n)){for(z in a)a.hasOwnProperty(z)&&(l=a[z],l!==void 0&&Vf(t,n,z,l,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(l=a[_],l!=null&&qe(t,n,_,l,a,null))}function k0(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,g=null,_=null,b=null,R=null,z=null;for(k in a){var V=a[k];if(a.hasOwnProperty(k)&&V!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":b=V;default:l.hasOwnProperty(k)||qe(t,n,k,null,l,V)}}for(var I in l){var k=l[I];if(V=a[I],l.hasOwnProperty(I)&&(k!=null||V!=null))switch(I){case"type":d=k;break;case"name":c=k;break;case"checked":R=k;break;case"defaultChecked":z=k;break;case"value":g=k;break;case"defaultValue":_=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:k!==V&&qe(t,n,I,k,l,V)}}tc(t,g,_,b,R,z,d,c);return;case"select":k=g=_=I=null;for(d in a)if(b=a[d],a.hasOwnProperty(d)&&b!=null)switch(d){case"value":break;case"multiple":k=b;default:l.hasOwnProperty(d)||qe(t,n,d,null,l,b)}for(c in l)if(d=l[c],b=a[c],l.hasOwnProperty(c)&&(d!=null||b!=null))switch(c){case"value":I=d;break;case"defaultValue":_=d;break;case"multiple":g=d;default:d!==b&&qe(t,n,c,d,l,b)}n=_,a=g,l=k,I!=null?sa(t,!!a,I,!1):!!l!=!!a&&(n!=null?sa(t,!!a,n,!0):sa(t,!!a,a?[]:"",!1));return;case"textarea":k=I=null;for(_ in a)if(c=a[_],a.hasOwnProperty(_)&&c!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:qe(t,n,_,null,l,c)}for(g in l)if(c=l[g],d=a[g],l.hasOwnProperty(g)&&(c!=null||d!=null))switch(g){case"value":I=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==d&&qe(t,n,g,c,l,d)}lm(t,I,k);return;case"option":for(var le in a)if(I=a[le],a.hasOwnProperty(le)&&I!=null&&!l.hasOwnProperty(le))switch(le){case"selected":t.selected=!1;break;default:qe(t,n,le,null,l,I)}for(b in l)if(I=l[b],k=a[b],l.hasOwnProperty(b)&&I!==k&&(I!=null||k!=null))switch(b){case"selected":t.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:qe(t,n,b,I,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)I=a[Ee],a.hasOwnProperty(Ee)&&I!=null&&!l.hasOwnProperty(Ee)&&qe(t,n,Ee,null,l,I);for(R in l)if(I=l[R],k=a[R],l.hasOwnProperty(R)&&I!==k&&(I!=null||k!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,n));break;default:qe(t,n,R,I,l,k)}return;default:if(ic(n)){for(var ft in a)I=a[ft],a.hasOwnProperty(ft)&&I!==void 0&&!l.hasOwnProperty(ft)&&Vf(t,n,ft,void 0,l,I);for(z in l)I=l[z],k=a[z],!l.hasOwnProperty(z)||I===k||I===void 0&&k===void 0||Vf(t,n,z,I,l,k);return}}for(var D in a)I=a[D],a.hasOwnProperty(D)&&I!=null&&!l.hasOwnProperty(D)&&qe(t,n,D,null,l,I);for(V in l)I=l[V],k=a[V],!l.hasOwnProperty(V)||I===k||I==null&&k==null||qe(t,n,V,I,l,k)}var qf=null,Ff=null;function Ho(t){return t.nodeType===9?t:t.ownerDocument}function t_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Gf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Yf=null;function z0(){var t=window.event;return t&&t.type==="popstate"?t===Yf?!1:(Yf=t,!0):(Yf=null,!1)}var i_=typeof setTimeout=="function"?setTimeout:void 0,H0=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,P0=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(t){return r_.resolve(null).then(t).catch(B0)}:i_;function B0(t){setTimeout(function(){throw t})}function Qf(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(l===0){t.removeChild(c),Qs(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=c}while(a);Qs(n)}function Kf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kf(a),ii(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function j0(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[cn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function V0(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=xn(t.nextSibling),t===null))return null;return t}function xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function a_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function s_(t,n,a){switch(n=Ho(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Tn=new Map,l_=new Set;function Po(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var bi=$.d;$.d={f:q0,r:F0,D:G0,C:Y0,L:Q0,m:K0,X:$0,S:X0,M:W0};function q0(){var t=bi.f(),n=xo();return t||n}function F0(t){var n=It(t);n!==null&&n.tag===5&&n.type==="form"?Lp(n):bi.r(t)}var La=typeof document>"u"?null:document;function o_(t,n,a){var l=La;if(l&&typeof n=="string"&&n){var c=hn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),l_.has(c)||(l_.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),kt(n,"link",t),Ke(n),l.head.appendChild(n)))}}function G0(t){bi.D(t),o_("dns-prefetch",t,null)}function Y0(t,n){bi.C(t,n),o_("preconnect",t,n)}function Q0(t,n,a){bi.L(t,n,a);var l=La;if(l&&t&&n){var c='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+hn(a.imageSizes)+'"]')):c+='[href="'+hn(t)+'"]';var d=c;switch(n){case"style":d=Ua(t);break;case"script":d=ka(t)}Tn.has(d)||(t=ue({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Tn.set(d,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Bs(d))||n==="script"&&l.querySelector(js(d))||(n=l.createElement("link"),kt(n,"link",t),Ke(n),l.head.appendChild(n)))}}function K0(t,n){bi.m(t,n);var a=La;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(t)+'"]',d=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ka(t)}if(!Tn.has(d)&&(t=ue({rel:"modulepreload",href:t},n),Tn.set(d,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(js(d)))return}l=a.createElement("link"),kt(l,"link",t),Ke(l),a.head.appendChild(l)}}}function X0(t,n,a){bi.S(t,n,a);var l=La;if(l&&t){var c=fn(l).hoistableStyles,d=Ua(t);n=n||"default";var g=c.get(d);if(!g){var _={loading:0,preload:null};if(g=l.querySelector(Bs(d)))_.loading=5;else{t=ue({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Tn.get(d))&&Xf(t,a);var b=g=l.createElement("link");Ke(b),kt(b,"link",t),b._p=new Promise(function(R,z){b.onload=R,b.onerror=z}),b.addEventListener("load",function(){_.loading|=1}),b.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Bo(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:_},c.set(d,g)}}}function $0(t,n){bi.X(t,n);var a=La;if(a&&t){var l=fn(a).hoistableScripts,c=ka(t),d=l.get(c);d||(d=a.querySelector(js(c)),d||(t=ue({src:t,async:!0},n),(n=Tn.get(c))&&$f(t,n),d=a.createElement("script"),Ke(d),kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function W0(t,n){bi.M(t,n);var a=La;if(a&&t){var l=fn(a).hoistableScripts,c=ka(t),d=l.get(c);d||(d=a.querySelector(js(c)),d||(t=ue({src:t,async:!0,type:"module"},n),(n=Tn.get(c))&&$f(t,n),d=a.createElement("script"),Ke(d),kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function u_(t,n,a,l){var c=(c=Pn.current)?Po(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ua(a.href),a=fn(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ua(a.href);var d=fn(c).hoistableStyles,g=d.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,g),(d=c.querySelector(Bs(t)))&&!d._p&&(g.instance=d,g.state.loading=5),Tn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Tn.set(t,a),d||Z0(c,t,a,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(a),a=fn(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ua(t){return'href="'+hn(t)+'"'}function Bs(t){return'link[rel="stylesheet"]['+t+"]"}function c_(t){return ue({},t,{"data-precedence":t.precedence,precedence:null})}function Z0(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),kt(n,"link",a),Ke(n),t.head.appendChild(n))}function ka(t){return'[src="'+hn(t)+'"]'}function js(t){return"script[async]"+t}function f_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+hn(a.href)+'"]');if(l)return n.instance=l,Ke(l),l;var c=ue({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ke(l),kt(l,"style",c),Bo(l,a.precedence,t),n.instance=l;case"stylesheet":c=Ua(a.href);var d=t.querySelector(Bs(c));if(d)return n.state.loading|=4,n.instance=d,Ke(d),d;l=c_(a),(c=Tn.get(c))&&Xf(l,c),d=(t.ownerDocument||t).createElement("link"),Ke(d);var g=d;return g._p=new Promise(function(_,b){g.onload=_,g.onerror=b}),kt(d,"link",l),n.state.loading|=4,Bo(d,a.precedence,t),n.instance=d;case"script":return d=ka(a.src),(c=t.querySelector(js(d)))?(n.instance=c,Ke(c),c):(l=a,(c=Tn.get(d))&&(l=ue({},a),$f(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Ke(c),kt(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,Bo(l,a.precedence,t));return n.instance}function Bo(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,d=c,g=0;g<l.length;g++){var _=l[g];if(_.dataset.precedence===n)d=_;else if(d!==c)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function $f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var jo=null;function d_(t,n,a){if(jo===null){var l=new Map,c=jo=new Map;c.set(a,l)}else c=jo,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var d=a[c];if(!(d[cn]||d[se]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(n)||"";g=t+g;var _=l.get(g);_?_.push(d):l.set(g,[d])}}return l}function h_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function J0(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function m_(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Vs=null;function eT(){}function tT(t,n,a){if(Vs===null)throw Error(s(475));var l=Vs;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var c=Ua(a.href),d=t.querySelector(Bs(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Vo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=d,Ke(d);return}d=t.ownerDocument||t,a=c_(a),(c=Tn.get(c))&&Xf(a,c),d=d.createElement("link"),Ke(d);var g=d;g._p=new Promise(function(_,b){g.onload=_,g.onerror=b}),kt(d,"link",a),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=Vo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function nT(){if(Vs===null)throw Error(s(475));var t=Vs;return t.stylesheets&&t.count===0&&Wf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Wf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Vo(){if(this.count--,this.count===0){if(this.stylesheets)Wf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var qo=null;function Wf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,qo=new Map,n.forEach(iT,t),qo=null,Vo.call(t))}function iT(t,n){if(!(n.state.loading&4)){var a=qo.get(t);if(a)var l=a.get(null);else{a=new Map,qo.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var g=c[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),d=a.get(g)||l,d===l&&a.set(null,c),a.set(g,c),this.count++,l=Vo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),d?d.parentNode.insertBefore(c,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var qs={$$typeof:S,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function rT(t,n,a,l,c,d,g,_){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=O(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O(0),this.hiddenUpdates=O(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function p_(t,n,a,l,c,d,g,_,b,R,z,V){return t=new rT(t,n,a,g,_,b,R,V),n=1,d===!0&&(n|=24),d=bn(3,null,null,n),t.current=d,d.stateNode=t,n=Nc(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},uf(d),t}function g_(t){return t?(t=ma,t):ma}function __(t,n,a,l,c,d){c=g_(c),l.context===null?l.context=c:l.pendingContext=c,l=Pi(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Bi(t,l,n),a!==null&&(qt(a,t,n),Rs(a,t,n))}function y_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Zf(t,n){y_(t,n),(t=t.alternate)&&y_(t,n)}function v_(t){if(t.tag===13){var n=Mi(t,67108864);n!==null&&qt(n,t,67108864),Zf(t,67108864)}}var Fo=!0;function aT(t,n,a,l){var c=F.T;F.T=null;var d=$.p;try{$.p=2,Jf(t,n,a,l)}finally{$.p=d,F.T=c}}function sT(t,n,a,l){var c=F.T;F.T=null;var d=$.p;try{$.p=8,Jf(t,n,a,l)}finally{$.p=d,F.T=c}}function Jf(t,n,a,l){if(Fo){var c=ed(l);if(c===null)jf(t,n,l,Go,a),b_(t,l);else if(oT(c,t,n,a,l))l.stopPropagation();else if(b_(t,l),n&4&&-1<lT.indexOf(t)){for(;c!==null;){var d=It(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=jn(d.pendingLanes);if(g!==0){var _=d;for(_.pendingLanes|=2,_.entangledLanes|=2;g;){var b=1<<31-Ct(g);_.entanglements[1]|=b,g&=~b}Qn(d),!(rt&6)&&(No=Jt()+500,zs(0))}}break;case 13:_=Mi(d,2),_!==null&&qt(_,d,2),xo(),Zf(d,2)}if(d=ed(l),d===null&&jf(t,n,l,Go,a),d===c)break;c=d}c!==null&&l.stopPropagation()}else jf(t,n,l,null,a)}}function ed(t){return t=ac(t),td(t)}var Go=null;function td(t){if(Go=null,t=Mt(t),t!==null){var n=te(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=Oe(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Go=t,null}function E_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(es()){case Rn:return 2;case un:return 8;case mr:case ts:return 32;case Pl:return 268435456;default:return 32}default:return 32}}var nd=!1,Qi=null,Ki=null,Xi=null,Fs=new Map,Gs=new Map,$i=[],lT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(t,n){switch(t){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":Fs.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gs.delete(n.pointerId)}}function Ys(t,n,a,l,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},n!==null&&(n=It(n),n!==null&&v_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function oT(t,n,a,l,c){switch(n){case"focusin":return Qi=Ys(Qi,t,n,a,l,c),!0;case"dragenter":return Ki=Ys(Ki,t,n,a,l,c),!0;case"mouseover":return Xi=Ys(Xi,t,n,a,l,c),!0;case"pointerover":var d=c.pointerId;return Fs.set(d,Ys(Fs.get(d)||null,t,n,a,l,c)),!0;case"gotpointercapture":return d=c.pointerId,Gs.set(d,Ys(Gs.get(d)||null,t,n,a,l,c)),!0}return!1}function S_(t){var n=Mt(t.target);if(n!==null){var a=te(n);if(a!==null){if(n=a.tag,n===13){if(n=Oe(a),n!==null){t.blockedOn=n,ae(t.priority,function(){if(a.tag===13){var l=an(),c=Mi(a,l);c!==null&&qt(c,a,l),Zf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=ed(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);rc=l,a.target.dispatchEvent(l),rc=null}else return n=It(a),n!==null&&v_(n),t.blockedOn=a,!1;n.shift()}return!0}function T_(t,n,a){Yo(t)&&a.delete(n)}function uT(){nd=!1,Qi!==null&&Yo(Qi)&&(Qi=null),Ki!==null&&Yo(Ki)&&(Ki=null),Xi!==null&&Yo(Xi)&&(Xi=null),Fs.forEach(T_),Gs.forEach(T_)}function Qo(t,n){t.blockedOn===n&&(t.blockedOn=null,nd||(nd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,uT)))}var Ko=null;function C_(t){Ko!==t&&(Ko=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ko===t&&(Ko=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(td(l||a)===null)continue;break}var d=It(a);d!==null&&(t.splice(n,3),n-=3,Fc(d,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Qs(t){function n(b){return Qo(b,t)}Qi!==null&&Qo(Qi,t),Ki!==null&&Qo(Ki,t),Xi!==null&&Qo(Xi,t),Fs.forEach(n),Gs.forEach(n);for(var a=0;a<$i.length;a++){var l=$i[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<$i.length&&(a=$i[0],a.blockedOn===null);)S_(a),a.blockedOn===null&&$i.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],d=a[l+1],g=c[he]||null;if(typeof d=="function")g||C_(a);else if(g){var _=null;if(d&&d.hasAttribute("formAction")){if(c=d,g=d[he]||null)_=g.formAction;else if(td(c)!==null)continue}else _=g.action;typeof _=="function"?a[l+1]=_:(a.splice(l,3),l-=3),C_(a)}}}function id(t){this._internalRoot=t}Xo.prototype.render=id.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=an();__(a,l,t,n,null,null)},Xo.prototype.unmount=id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&xa(),__(t.current,2,null,t,null,null),xo(),n[Pe]=null}};function Xo(t){this._internalRoot=t}Xo.prototype.unstable_scheduleHydration=function(t){if(t){var n=ne();t={blockedOn:null,target:t,priority:n};for(var a=0;a<$i.length&&n!==0&&n<$i[a].priority;a++);$i.splice(a,0,t),a===0&&S_(t)}};var w_=e.version;if(w_!=="19.0.0")throw Error(s(527,w_,"19.0.0"));$.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=U(n),t=t!==null?re(t):null,t=t===null?null:t.stateNode,t};var cT={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:F,findFiberByHostInstance:Mt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$o.isDisabled&&$o.supportsFiber)try{Oi=$o.inject(cT),Ht=$o}catch{}}return Xs.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=Vp,d=qp,g=Fp,_=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=p_(t,1,!1,null,null,a,l,c,d,g,_,null),t[Pe]=n.current,Bf(t.nodeType===8?t.parentNode:t),new id(n)},Xs.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",d=Vp,g=qp,_=Fp,b=null,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(R=a.formState)),n=p_(t,1,!0,n,a??null,l,c,d,g,_,b,R),n.context=g_(null),a=n.current,l=an(),c=Pi(l),c.callback=null,Bi(a,c,l),n.current.lanes=l,L(n,l),Qn(n),t[Pe]=n.current,Bf(t),new Xo(n)},Xs.version="19.0.0",Xs}var U_;function ET(){if(U_)return sd.exports;U_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),sd.exports=vT(),sd.exports}var bT=ET();const ST=dT(bT);var $s={},k_;function TT(){if(k_)return $s;k_=1,Object.defineProperty($s,"__esModule",{value:!0}),$s.parse=f,$s.serialize=p;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function f(E,S){const A=new u,P=E.length;if(P<2)return A;const H=(S==null?void 0:S.decode)||y;let B=0;do{const G=E.indexOf("=",B);if(G===-1)break;const Z=E.indexOf(";",B),de=Z===-1?P:Z;if(G>de){B=E.lastIndexOf(";",G-1)+1;continue}const W=h(E,B,G),x=m(E,G,W),ge=E.slice(W,x);if(A[ge]===void 0){let ve=h(E,G+1,de),F=m(E,de,ve);const ue=H(E.slice(ve,F));A[ge]=ue}B=de+1}while(B<P);return A}function h(E,S,A){do{const P=E.charCodeAt(S);if(P!==32&&P!==9)return S}while(++S<A);return A}function m(E,S,A){for(;S>A;){const P=E.charCodeAt(--S);if(P!==32&&P!==9)return S+1}return A}function p(E,S,A){const P=(A==null?void 0:A.encode)||encodeURIComponent;if(!i.test(E))throw new TypeError(`argument name is invalid: ${E}`);const H=P(S);if(!e.test(H))throw new TypeError(`argument val is invalid: ${S}`);let B=E+"="+H;if(!A)return B;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);B+="; Max-Age="+A.maxAge}if(A.domain){if(!r.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);B+="; Domain="+A.domain}if(A.path){if(!s.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);B+="; Path="+A.path}if(A.expires){if(!v(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);B+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(B+="; HttpOnly"),A.secure&&(B+="; Secure"),A.partitioned&&(B+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return B}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return o.call(E)==="[object Date]"}return $s}TT();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var z_="popstate";function CT(i={}){function e(s,o){let{pathname:u,search:f,hash:h}=s.location;return pl("",{pathname:u,search:f,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){return typeof o=="string"?o:lr(o)}return RT(e,r,null,i)}function Me(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function zt(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wT(){return Math.random().toString(36).substring(2,10)}function H_(i,e){return{usr:i.state,key:i.key,idx:e}}function pl(i,e,r=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?dr(e):e,state:r,key:e&&e.key||s||wT()}}function lr({pathname:i="/",search:e="",hash:r=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function dr(i){let e={};if(i){let r=i.indexOf("#");r>=0&&(e.hash=i.substring(r),i=i.substring(0,r));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function RT(i,e,r,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,h="POP",m=null,p=y();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function y(){return(f.state||{idx:null}).idx}function v(){h="POP";let H=y(),B=H==null?null:H-p;p=H,m&&m({action:h,location:P.location,delta:B})}function E(H,B){h="PUSH";let G=pl(P.location,H,B);p=y()+1;let Z=H_(G,p),de=P.createHref(G);try{f.pushState(Z,"",de)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;o.location.assign(de)}u&&m&&m({action:h,location:P.location,delta:1})}function S(H,B){h="REPLACE";let G=pl(P.location,H,B);p=y();let Z=H_(G,p),de=P.createHref(G);f.replaceState(Z,"",de),u&&m&&m({action:h,location:P.location,delta:0})}function A(H){let B=o.location.origin!=="null"?o.location.origin:o.location.href,G=typeof H=="string"?H:lr(H);return G=G.replace(/ $/,"%20"),Me(B,`No window.location.(origin|href) available to create URL for href: ${G}`),new URL(G,B)}let P={get action(){return h},get location(){return i(o,f)},listen(H){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(z_,v),m=H,()=>{o.removeEventListener(z_,v),m=null}},createHref(H){return e(o,H)},createURL:A,encodeLocation(H){let B=A(H);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:E,replace:S,go(H){return f.go(H)}};return P}var AT=new Set(["lazy","caseSensitive","path","id","index","children"]);function NT(i){return i.index===!0}function ou(i,e,r=[],s={}){return i.map((o,u)=>{let f=[...r,String(u)],h=typeof o.id=="string"?o.id:f.join("-");if(Me(o.index!==!0||!o.children,"Cannot specify children on an index route"),Me(!s[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),NT(o)){let m={...o,...e(o),id:h};return s[h]=m,m}else{let m={...o,...e(o),id:h,children:void 0};return s[h]=m,o.children&&(m.children=ou(o.children,e,f,s)),m}})}function er(i,e,r="/"){return nu(i,e,r,!1)}function nu(i,e,r,s){let o=typeof e=="string"?dr(e):e,u=zn(o.pathname||"/",r);if(u==null)return null;let f=yv(i);OT(f);let h=null;for(let m=0;h==null&&m<f.length;++m){let p=jT(u);h=PT(f[m],p,s)}return h}function DT(i,e){let{route:r,pathname:s,params:o}=i;return{id:r.id,pathname:s,params:o,data:e[r.id],handle:r.handle}}function yv(i,e=[],r=[],s=""){let o=(u,f,h)=>{let m={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(Me(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let p=Kn([s,m.relativePath]),y=r.concat(m);u.children&&u.children.length>0&&(Me(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),yv(u.children,e,y,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:zT(p,u.index),routesMeta:y})};return i.forEach((u,f)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))o(u,f);else for(let m of vv(u.path))o(u,f,m)}),e}function vv(i){let e=i.split("/");if(e.length===0)return[];let[r,...s]=e,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=vv(s.join("/")),h=[];return h.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&h.push(...f),h.map(m=>i.startsWith("/")&&m===""?"/":m)}function OT(i){i.sort((e,r)=>e.score!==r.score?r.score-e.score:HT(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var xT=/^:[\w-]+$/,MT=3,IT=2,LT=1,UT=10,kT=-2,P_=i=>i==="*";function zT(i,e){let r=i.split("/"),s=r.length;return r.some(P_)&&(s+=kT),e&&(s+=IT),r.filter(o=>!P_(o)).reduce((o,u)=>o+(xT.test(u)?MT:u===""?LT:UT),s)}function HT(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function PT(i,e,r=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let h=0;h<s.length;++h){let m=s[h],p=h===s.length-1,y=u==="/"?e:e.slice(u.length)||"/",v=uu({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!v&&p&&r&&!s[s.length-1].route.index&&(v=uu({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),f.push({params:o,pathname:Kn([u,v.pathname]),pathnameBase:FT(Kn([u,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(u=Kn([u,v.pathnameBase]))}return f}function uu(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,s]=BT(i.path,i.caseSensitive,i.end),o=e.match(r);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:v},E)=>{if(y==="*"){let A=h[E]||"";f=u.slice(0,u.length-A.length).replace(/(.)\/+$/,"$1")}const S=h[E];return v&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:i}}function BT(i,e=!1,r=!0){zt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,m)=>(s.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function jT(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function zn(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=i.charAt(r);return s&&s!=="/"?null:i.slice(r)||"/"}function VT(i,e="/"){let{pathname:r,search:s="",hash:o=""}=typeof i=="string"?dr(i):i;return{pathname:r?r.startsWith("/")?r:qT(r,e):e,search:GT(s),hash:YT(o)}}function qT(i,e){let r=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function cd(i,e,r,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ev(i){return i.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function nh(i){let e=Ev(i);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function ih(i,e,r,s=!1){let o;typeof i=="string"?o=dr(i):(o={...i},Me(!o.pathname||!o.pathname.includes("?"),cd("?","pathname","search",o)),Me(!o.pathname||!o.pathname.includes("#"),cd("#","pathname","hash",o)),Me(!o.search||!o.search.includes("#"),cd("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,h;if(f==null)h=r;else{let v=e.length-1;if(!s&&f.startsWith("..")){let E=f.split("/");for(;E[0]==="..";)E.shift(),v-=1;o.pathname=E.join("/")}h=v>=0?e[v]:"/"}let m=VT(o,h),p=f&&f!=="/"&&f.endsWith("/"),y=(u||f===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Kn=i=>i.join("/").replace(/\/\/+/g,"/"),FT=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),GT=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,YT=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,cu=class{constructor(i,e,r,s=!1){this.status=i,this.statusText=e||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function gl(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var bv=["POST","PUT","PATCH","DELETE"],QT=new Set(bv),KT=["GET",...bv],XT=new Set(KT),$T=new Set([301,302,303,307,308]),WT=new Set([307,308]),fd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ZT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ws={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},rh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JT=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),Sv="remix-router-transitions",Tv=Symbol("ResetLoaderData");function eC(i){const e=i.window?i.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Me(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=i.mapRouteProperties||JT,o={},u=ou(i.routes,s,void 0,o),f,h=i.basename||"/",m=i.dataStrategy||aC,p=i.patchRoutesOnNavigation,y={...i.future},v=null,E=new Set,S=null,A=null,P=null,H=i.hydrationData!=null,B=er(u,i.history.location,h),G=!1,Z=null;if(B==null&&!p){let C=Cn(404,{pathname:i.history.location.pathname}),{matches:O,route:L}=$_(u);B=O,Z={[L.id]:C}}B&&!i.hydrationData&&ni(B,u,i.history.location.pathname).active&&(B=null);let de;if(B)if(B.some(C=>C.route.lazy))de=!1;else if(!B.some(C=>C.route.loader))de=!0;else{let C=i.hydrationData?i.hydrationData.loaderData:null,O=i.hydrationData?i.hydrationData.errors:null;if(O){let L=B.findIndex(q=>O[q.route.id]!==void 0);de=B.slice(0,L+1).every(q=>!Md(q.route,C,O))}else de=B.every(L=>!Md(L.route,C,O))}else{de=!1,B=[];let C=ni(null,u,i.history.location.pathname);C.active&&C.matches&&(G=!0,B=C.matches)}let W,x={historyAction:i.history.action,location:i.history.location,matches:B,initialized:de,navigation:fd,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||Z,fetchers:new Map,blockers:new Map},ge="POP",ve=!1,F,ue=!1,je=new Map,_t=null,Tt=!1,yt=!1,et=new Set,Y=new Map,ce=0,te=-1,Oe=new Map,T=new Set,U=new Map,re=new Map,J=new Set,$=new Map,be,me=null;function st(){if(v=i.history.listen(({action:C,location:O,delta:L})=>{if(be){be(),be=void 0;return}zt($.size===0||L!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let q=jl({currentLocation:x.location,nextLocation:O,historyAction:C});if(q&&L!=null){let ee=new Promise(oe=>{be=oe});i.history.go(L*-1),Ct(q,{state:"blocked",location:O,proceed(){Ct(q,{state:"proceeding",proceed:void 0,reset:void 0,location:O}),ee.then(()=>i.history.go(L))},reset(){let oe=new Map(x.blockers);oe.set(q,Ws),Te({blockers:oe})}});return}return on(C,O)}),r){gC(e,je);let C=()=>_C(e,je);e.addEventListener("pagehide",C),_t=()=>e.removeEventListener("pagehide",C)}return x.initialized||on("POP",x.location,{initialHydration:!0}),W}function Ue(){v&&v(),_t&&_t(),E.clear(),F&&F.abort(),x.fetchers.forEach((C,O)=>ts(O)),x.blockers.forEach((C,O)=>An(O))}function lt(C){return E.add(C),()=>E.delete(C)}function Te(C,O={}){x={...x,...C};let L=[],q=[];x.fetchers.forEach((ee,oe)=>{ee.state==="idle"&&(J.has(oe)?L.push(oe):q.push(oe))}),J.forEach(ee=>{!x.fetchers.has(ee)&&!Y.has(ee)&&L.push(ee)}),[...E].forEach(ee=>ee(x,{deletedFetchers:L,viewTransitionOpts:O.viewTransitionOpts,flushSync:O.flushSync===!0})),L.forEach(ee=>ts(ee)),q.forEach(ee=>x.fetchers.delete(ee))}function xt(C,O,{flushSync:L}={}){var X,se;let q=x.actionData!=null&&x.navigation.formMethod!=null&&Mn(x.navigation.formMethod)&&x.navigation.state==="loading"&&((X=C.state)==null?void 0:X._isRedirect)!==!0,ee;O.actionData?Object.keys(O.actionData).length>0?ee=O.actionData:ee=null:q?ee=x.actionData:ee=null;let oe=O.loaderData?K_(x.loaderData,O.loaderData,O.matches||[],O.errors):x.loaderData,ye=x.blockers;ye.size>0&&(ye=new Map(ye),ye.forEach((he,Pe)=>ye.set(Pe,Ws)));let ne=ve===!0||x.navigation.formMethod!=null&&Mn(x.navigation.formMethod)&&((se=C.state)==null?void 0:se._isRedirect)!==!0;f&&(u=f,f=void 0),Tt||ge==="POP"||(ge==="PUSH"?i.history.push(C,C.state):ge==="REPLACE"&&i.history.replace(C,C.state));let ae;if(ge==="POP"){let he=je.get(x.location.pathname);he&&he.has(C.pathname)?ae={currentLocation:x.location,nextLocation:C}:je.has(C.pathname)&&(ae={currentLocation:C,nextLocation:x.location})}else if(ue){let he=je.get(x.location.pathname);he?he.add(C.pathname):(he=new Set([C.pathname]),je.set(x.location.pathname,he)),ae={currentLocation:x.location,nextLocation:C}}Te({...O,actionData:ee,loaderData:oe,historyAction:ge,location:C,initialized:!0,navigation:fd,revalidation:"idle",restoreScrollPosition:jn(C,O.matches||x.matches),preventScrollReset:ne,blockers:ye},{viewTransitionOpts:ae,flushSync:L===!0}),ge="POP",ve=!1,ue=!1,Tt=!1,yt=!1,me==null||me.resolve(),me=null}async function Ni(C,O){if(typeof C=="number"){i.history.go(C);return}let L=xd(x.location,x.matches,h,C,O==null?void 0:O.fromRouteId,O==null?void 0:O.relative),{path:q,submission:ee,error:oe}=B_(!1,L,O),ye=x.location,ne=pl(x.location,q,O&&O.state);ne={...ne,...i.history.encodeLocation(ne)};let ae=O&&O.replace!=null?O.replace:void 0,X="PUSH";ae===!0?X="REPLACE":ae===!1||ee!=null&&Mn(ee.formMethod)&&ee.formAction===x.location.pathname+x.location.search&&(X="REPLACE");let se=O&&"preventScrollReset"in O?O.preventScrollReset===!0:void 0,he=(O&&O.flushSync)===!0,Pe=jl({currentLocation:ye,nextLocation:ne,historyAction:X});if(Pe){Ct(Pe,{state:"blocked",location:ne,proceed(){Ct(Pe,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),Ni(C,O)},reset(){let dt=new Map(x.blockers);dt.set(Pe,Ws),Te({blockers:dt})}});return}await on(X,ne,{submission:ee,pendingError:oe,preventScrollReset:se,replace:O&&O.replace,enableViewTransition:O&&O.viewTransition,flushSync:he})}function Pn(){me||(me=yC()),es(),Te({revalidation:"loading"});let C=me.promise;return x.navigation.state==="submitting"?C:x.navigation.state==="idle"?(on(x.historyAction,x.location,{startUninterruptedRevalidation:!0}),C):(on(ge||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:ue===!0}),C)}async function on(C,O,L){F&&F.abort(),F=null,ge=C,Tt=(L&&L.startUninterruptedRevalidation)===!0,ra(x.location,x.matches),ve=(L&&L.preventScrollReset)===!0,ue=(L&&L.enableViewTransition)===!0;let q=f||u,ee=L&&L.overrideNavigation,oe=L!=null&&L.initialHydration&&x.matches&&x.matches.length>0&&!G?x.matches:er(q,O,h),ye=(L&&L.flushSync)===!0;if(oe&&x.initialized&&!yt&&fC(x.location,O)&&!(L&&L.submission&&Mn(L.submission.formMethod))){xt(O,{matches:oe},{flushSync:ye});return}let ne=ni(oe,q,O.pathname);if(ne.active&&ne.matches&&(oe=ne.matches),!oe){let{error:Ze,notFoundMatches:Ge,route:ot}=ns(O.pathname);xt(O,{matches:Ge,loaderData:{},errors:{[ot.id]:Ze}},{flushSync:ye});return}F=new AbortController;let ae=za(i.history,O,F.signal,L&&L.submission),X;if(L&&L.pendingError)X=[Br(oe).route.id,{type:"error",error:L.pendingError}];else if(L&&L.submission&&Mn(L.submission.formMethod)){let Ze=await ta(ae,O,L.submission,oe,ne.active,{replace:L.replace,flushSync:ye});if(Ze.shortCircuited)return;if(Ze.pendingActionResult){let[Ge,ot]=Ze.pendingActionResult;if(sn(ot)&&gl(ot.error)&&ot.error.status===404){F=null,xt(O,{matches:Ze.matches,loaderData:{},errors:{[Ge]:ot.error}});return}}oe=Ze.matches||oe,X=Ze.pendingActionResult,ee=dd(O,L.submission),ye=!1,ne.active=!1,ae=za(i.history,ae.url,ae.signal)}let{shortCircuited:se,matches:he,loaderData:Pe,errors:dt}=await Di(ae,O,oe,ne.active,ee,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,L&&L.initialHydration===!0,ye,X);se||(F=null,xt(O,{matches:he||oe,...X_(X),loaderData:Pe,errors:dt}))}async function ta(C,O,L,q,ee,oe={}){es();let ye=mC(O,L);if(Te({navigation:ye},{flushSync:oe.flushSync===!0}),ee){let X=await Vn(q,O.pathname,C.signal);if(X.type==="aborted")return{shortCircuited:!0};if(X.type==="error"){let se=Br(X.partialMatches).route.id;return{matches:X.partialMatches,pendingActionResult:[se,{type:"error",error:X.error}]}}else if(X.matches)q=X.matches;else{let{notFoundMatches:se,error:he,route:Pe}=ns(O.pathname);return{matches:se,pendingActionResult:[Pe.id,{type:"error",error:he}]}}}let ne,ae=rl(q,O);if(!ae.route.action&&!ae.route.lazy)ne={type:"error",error:Cn(405,{method:C.method,pathname:O.pathname,routeId:ae.route.id})};else if(ne=(await hr("action",x,C,[ae],q,null))[ae.route.id],C.signal.aborted)return{shortCircuited:!0};if(jr(ne)){let X;return oe&&oe.replace!=null?X=oe.replace:X=G_(ne.response.headers.get("Location"),new URL(C.url),h)===x.location.pathname+x.location.search,await ti(C,ne,!0,{submission:L,replace:X}),{shortCircuited:!0}}if(sn(ne)){let X=Br(q,ae.route.id);return(oe&&oe.replace)!==!0&&(ge="PUSH"),{matches:q,pendingActionResult:[X.route.id,ne]}}return{matches:q,pendingActionResult:[ae.route.id,ne]}}async function Di(C,O,L,q,ee,oe,ye,ne,ae,X,se){let he=ee||dd(O,oe),Pe=oe||ye||Z_(he),dt=!Tt&&!ae;if(q){if(dt){let tt=na(se);Te({navigation:he,...tt!==void 0?{actionData:tt}:{}},{flushSync:X})}let Ie=await Vn(L,O.pathname,C.signal);if(Ie.type==="aborted")return{shortCircuited:!0};if(Ie.type==="error"){let tt=Br(Ie.partialMatches).route.id;return{matches:Ie.partialMatches,loaderData:{},errors:{[tt]:Ie.error}}}else if(Ie.matches)L=Ie.matches;else{let{error:tt,notFoundMatches:Gt,route:yr}=ns(O.pathname);return{matches:Gt,loaderData:{},errors:{[yr.id]:tt}}}}let Ze=f||u,[Ge,ot]=V_(i.history,x,L,Pe,O,ae===!0,yt,et,J,U,T,Ze,h,se);if(te=++ce,Ge.length===0&&ot.length===0){let Ie=Oi();return xt(O,{matches:L,loaderData:{},errors:se&&sn(se[1])?{[se[0]]:se[1].error}:null,...X_(se),...Ie?{fetchers:new Map(x.fetchers)}:{}},{flushSync:X}),{shortCircuited:!0}}if(dt){let Ie={};if(!q){Ie.navigation=he;let tt=na(se);tt!==void 0&&(Ie.actionData=tt)}ot.length>0&&(Ie.fetchers=ia(ot)),Te(Ie,{flushSync:X})}ot.forEach(Ie=>{Bn(Ie.key),Ie.controller&&Y.set(Ie.key,Ie.controller)});let cn=()=>ot.forEach(Ie=>Bn(Ie.key));F&&F.signal.addEventListener("abort",cn);let{loaderResults:ii,fetcherResults:Mt}=await Jt(x,L,Ge,ot,C);if(C.signal.aborted)return{shortCircuited:!0};F&&F.signal.removeEventListener("abort",cn),ot.forEach(Ie=>Y.delete(Ie.key));let It=Wo(ii);if(It)return await ti(C,It.result,!0,{replace:ne}),{shortCircuited:!0};if(It=Wo(Mt),It)return T.add(It.key),await ti(C,It.result,!0,{replace:ne}),{shortCircuited:!0};let{loaderData:ri,errors:fn}=Q_(x,L,ii,se,ot,Mt);ae&&x.errors&&(fn={...x.errors,...fn});let Ke=Oi(),gr=Ht(te),_r=Ke||gr||ot.length>0;return{matches:L,loaderData:ri,errors:fn,..._r?{fetchers:new Map(x.fetchers)}:{}}}function na(C){if(C&&!sn(C[1]))return{[C[0]]:C[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function ia(C){return C.forEach(O=>{let L=x.fetchers.get(O.key),q=Zs(void 0,L?L.data:void 0);x.fetchers.set(O.key,q)}),new Map(x.fetchers)}async function Wa(C,O,L,q){Bn(C);let ee=(q&&q.flushSync)===!0,oe=f||u,ye=xd(x.location,x.matches,h,L,O,q==null?void 0:q.relative),ne=er(oe,ye,h),ae=ni(ne,oe,ye);if(ae.active&&ae.matches&&(ne=ae.matches),!ne){un(C,O,Cn(404,{pathname:ye}),{flushSync:ee});return}let{path:X,submission:se,error:he}=B_(!0,ye,q);if(he){un(C,O,he,{flushSync:ee});return}let Pe=rl(ne,X),dt=(q&&q.preventScrollReset)===!0;if(se&&Mn(se.formMethod)){await Za(C,O,X,Pe,ne,ae.active,ee,dt,se);return}U.set(C,{routeId:O,path:X}),await Ja(C,O,X,Pe,ne,ae.active,ee,dt,se)}async function Za(C,O,L,q,ee,oe,ye,ne,ae){es(),U.delete(C);function X(nt){if(!nt.route.action&&!nt.route.lazy){let ai=Cn(405,{method:ae.formMethod,pathname:L,routeId:O});return un(C,O,ai,{flushSync:ye}),!0}return!1}if(!oe&&X(q))return;let se=x.fetchers.get(C);Rn(C,pC(ae,se),{flushSync:ye});let he=new AbortController,Pe=za(i.history,L,he.signal,ae);if(oe){let nt=await Vn(ee,L,Pe.signal);if(nt.type==="aborted")return;if(nt.type==="error"){un(C,O,nt.error,{flushSync:ye});return}else if(nt.matches){if(ee=nt.matches,q=rl(ee,L),X(q))return}else{un(C,O,Cn(404,{pathname:L}),{flushSync:ye});return}}Y.set(C,he);let dt=ce,Ge=(await hr("action",x,Pe,[q],ee,C))[q.route.id];if(Pe.signal.aborted){Y.get(C)===he&&Y.delete(C);return}if(J.has(C)){if(jr(Ge)||sn(Ge)){Rn(C,Ji(void 0));return}}else{if(jr(Ge))if(Y.delete(C),te>dt){Rn(C,Ji(void 0));return}else return T.add(C),Rn(C,Zs(ae)),ti(Pe,Ge,!1,{fetcherSubmission:ae,preventScrollReset:ne});if(sn(Ge)){un(C,O,Ge.error);return}}let ot=x.navigation.location||x.location,cn=za(i.history,ot,he.signal),ii=f||u,Mt=x.navigation.state!=="idle"?er(ii,x.navigation.location,h):x.matches;Me(Mt,"Didn't find any matches after fetcher action");let It=++ce;Oe.set(C,It);let ri=Zs(ae,Ge.data);x.fetchers.set(C,ri);let[fn,Ke]=V_(i.history,x,Mt,ae,ot,!1,yt,et,J,U,T,ii,h,[q.route.id,Ge]);Ke.filter(nt=>nt.key!==C).forEach(nt=>{let ai=nt.key,ql=x.fetchers.get(ai),aa=Zs(void 0,ql?ql.data:void 0);x.fetchers.set(ai,aa),Bn(ai),nt.controller&&Y.set(ai,nt.controller)}),Te({fetchers:new Map(x.fetchers)});let gr=()=>Ke.forEach(nt=>Bn(nt.key));he.signal.addEventListener("abort",gr);let{loaderResults:_r,fetcherResults:Ie}=await Jt(x,Mt,fn,Ke,cn);if(he.signal.aborted)return;he.signal.removeEventListener("abort",gr),Oe.delete(C),Y.delete(C),Ke.forEach(nt=>Y.delete(nt.key));let tt=Wo(_r);if(tt)return ti(cn,tt.result,!1,{preventScrollReset:ne});if(tt=Wo(Ie),tt)return T.add(tt.key),ti(cn,tt.result,!1,{preventScrollReset:ne});let{loaderData:Gt,errors:yr}=Q_(x,Mt,_r,void 0,Ke,Ie);if(x.fetchers.has(C)){let nt=Ji(Ge.data);x.fetchers.set(C,nt)}Ht(It),x.navigation.state==="loading"&&It>te?(Me(ge,"Expected pending action"),F&&F.abort(),xt(x.navigation.location,{matches:Mt,loaderData:Gt,errors:yr,fetchers:new Map(x.fetchers)})):(Te({errors:yr,loaderData:K_(x.loaderData,Gt,Mt,yr),fetchers:new Map(x.fetchers)}),yt=!1)}async function Ja(C,O,L,q,ee,oe,ye,ne,ae){let X=x.fetchers.get(C);Rn(C,Zs(ae,X?X.data:void 0),{flushSync:ye});let se=new AbortController,he=za(i.history,L,se.signal);if(oe){let Ge=await Vn(ee,L,he.signal);if(Ge.type==="aborted")return;if(Ge.type==="error"){un(C,O,Ge.error,{flushSync:ye});return}else if(Ge.matches)ee=Ge.matches,q=rl(ee,L);else{un(C,O,Cn(404,{pathname:L}),{flushSync:ye});return}}Y.set(C,se);let Pe=ce,Ze=(await hr("loader",x,he,[q],ee,C))[q.route.id];if(Y.get(C)===se&&Y.delete(C),!he.signal.aborted){if(J.has(C)){Rn(C,Ji(void 0));return}if(jr(Ze))if(te>Pe){Rn(C,Ji(void 0));return}else{T.add(C),await ti(he,Ze,!1,{preventScrollReset:ne});return}if(sn(Ze)){un(C,O,Ze.error);return}Rn(C,Ji(Ze.data))}}async function ti(C,O,L,{submission:q,fetcherSubmission:ee,preventScrollReset:oe,replace:ye}={}){O.response.headers.has("X-Remix-Revalidate")&&(yt=!0);let ne=O.response.headers.get("Location");Me(ne,"Expected a Location header on the redirect Response"),ne=G_(ne,new URL(C.url),h);let ae=pl(x.location,ne,{_isRedirect:!0});if(r){let Ze=!1;if(O.response.headers.has("X-Remix-Reload-Document"))Ze=!0;else if(rh.test(ne)){const Ge=i.history.createURL(ne);Ze=Ge.origin!==e.location.origin||zn(Ge.pathname,h)==null}if(Ze){ye?e.location.replace(ne):e.location.assign(ne);return}}F=null;let X=ye===!0||O.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:se,formAction:he,formEncType:Pe}=x.navigation;!q&&!ee&&se&&he&&Pe&&(q=Z_(x.navigation));let dt=q||ee;if(WT.has(O.response.status)&&dt&&Mn(dt.formMethod))await on(X,ae,{submission:{...dt,formAction:ne},preventScrollReset:oe||ve,enableViewTransition:L?ue:void 0});else{let Ze=dd(ae,q);await on(X,ae,{overrideNavigation:Ze,fetcherSubmission:ee,preventScrollReset:oe||ve,enableViewTransition:L?ue:void 0})}}async function hr(C,O,L,q,ee,oe){let ye,ne={};try{ye=await sC(m,C,O,L,q,ee,oe,o,s)}catch(ae){return q.forEach(X=>{ne[X.route.id]={type:"error",error:ae}}),ne}for(let[ae,X]of Object.entries(ye))if(dC(X)){let se=X.result;ne[ae]={type:"redirect",response:uC(se,L,ae,ee,h)}}else ne[ae]=await oC(X);return ne}async function Jt(C,O,L,q,ee){let oe=hr("loader",C,ee,L,O,null),ye=Promise.all(q.map(async X=>{if(X.matches&&X.match&&X.controller){let he=(await hr("loader",C,za(i.history,X.path,X.controller.signal),[X.match],X.matches,X.key))[X.match.route.id];return{[X.key]:he}}else return Promise.resolve({[X.key]:{type:"error",error:Cn(404,{pathname:X.path})}})})),ne=await oe,ae=(await ye).reduce((X,se)=>Object.assign(X,se),{});return{loaderResults:ne,fetcherResults:ae}}function es(){yt=!0,U.forEach((C,O)=>{Y.has(O)&&et.add(O),Bn(O)})}function Rn(C,O,L={}){x.fetchers.set(C,O),Te({fetchers:new Map(x.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function un(C,O,L,q={}){let ee=Br(x.matches,O);ts(C),Te({errors:{[ee.route.id]:L},fetchers:new Map(x.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function mr(C){return re.set(C,(re.get(C)||0)+1),J.has(C)&&J.delete(C),x.fetchers.get(C)||ZT}function ts(C){let O=x.fetchers.get(C);Y.has(C)&&!(O&&O.state==="loading"&&Oe.has(C))&&Bn(C),U.delete(C),Oe.delete(C),T.delete(C),J.delete(C),et.delete(C),x.fetchers.delete(C)}function Pl(C){let O=(re.get(C)||0)-1;O<=0?(re.delete(C),J.add(C)):re.set(C,O),Te({fetchers:new Map(x.fetchers)})}function Bn(C){let O=Y.get(C);O&&(O.abort(),Y.delete(C))}function Bl(C){for(let O of C){let L=mr(O),q=Ji(L.data);x.fetchers.set(O,q)}}function Oi(){let C=[],O=!1;for(let L of T){let q=x.fetchers.get(L);Me(q,`Expected fetcher: ${L}`),q.state==="loading"&&(T.delete(L),C.push(L),O=!0)}return Bl(C),O}function Ht(C){let O=[];for(let[L,q]of Oe)if(q<C){let ee=x.fetchers.get(L);Me(ee,`Expected fetcher: ${L}`),ee.state==="loading"&&(Bn(L),Oe.delete(L),O.push(L))}return Bl(O),O.length>0}function Zu(C,O){let L=x.blockers.get(C)||Ws;return $.get(C)!==O&&$.set(C,O),L}function An(C){x.blockers.delete(C),$.delete(C)}function Ct(C,O){let L=x.blockers.get(C)||Ws;Me(L.state==="unblocked"&&O.state==="blocked"||L.state==="blocked"&&O.state==="blocked"||L.state==="blocked"&&O.state==="proceeding"||L.state==="blocked"&&O.state==="unblocked"||L.state==="proceeding"&&O.state==="unblocked",`Invalid blocker state transition: ${L.state} -> ${O.state}`);let q=new Map(x.blockers);q.set(C,O),Te({blockers:q})}function jl({currentLocation:C,nextLocation:O,historyAction:L}){if($.size===0)return;$.size>1&&zt(!1,"A router only supports one blocker at a time");let q=Array.from($.entries()),[ee,oe]=q[q.length-1],ye=x.blockers.get(ee);if(!(ye&&ye.state==="proceeding")&&oe({currentLocation:C,nextLocation:O,historyAction:L}))return ee}function ns(C){let O=Cn(404,{pathname:C}),L=f||u,{matches:q,route:ee}=$_(L);return{notFoundMatches:q,route:ee,error:O}}function Ju(C,O,L){if(S=C,P=O,A=L||null,!H&&x.navigation===fd){H=!0;let q=jn(x.location,x.matches);q!=null&&Te({restoreScrollPosition:q})}return()=>{S=null,P=null,A=null}}function pr(C,O){return A&&A(C,O.map(q=>DT(q,x.loaderData)))||C.key}function ra(C,O){if(S&&P){let L=pr(C,O);S[L]=P()}}function jn(C,O){if(S){let L=pr(C,O),q=S[L];if(typeof q=="number")return q}return null}function ni(C,O,L){if(p)if(C){if(Object.keys(C[0].params).length>0)return{active:!0,matches:nu(O,L,h,!0)}}else return{active:!0,matches:nu(O,L,h,!0)||[]};return{active:!1,matches:null}}async function Vn(C,O,L){if(!p)return{type:"success",matches:C};let q=C;for(;;){let ee=f==null,oe=f||u,ye=o;try{await p({path:O,matches:q,patch:(X,se)=>{L.aborted||F_(X,se,oe,ye,s)}})}catch(X){return{type:"error",error:X,partialMatches:q}}finally{ee&&!L.aborted&&(u=[...u])}if(L.aborted)return{type:"aborted"};let ne=er(oe,O,h);if(ne)return{type:"success",matches:ne};let ae=nu(oe,O,h,!0);if(!ae||q.length===ae.length&&q.every((X,se)=>X.route.id===ae[se].route.id))return{type:"success",matches:null};q=ae}}function ec(C){o={},f=ou(C,s,void 0,o)}function Vl(C,O){let L=f==null;F_(C,O,f||u,o,s),L&&(u=[...u],Te({}))}return W={get basename(){return h},get future(){return y},get state(){return x},get routes(){return u},get window(){return e},initialize:st,subscribe:lt,enableScrollRestoration:Ju,navigate:Ni,fetch:Wa,revalidate:Pn,createHref:C=>i.history.createHref(C),encodeLocation:C=>i.history.encodeLocation(C),getFetcher:mr,deleteFetcher:Pl,dispose:Ue,getBlocker:Zu,deleteBlocker:An,patchRoutes:Vl,_internalFetchControllers:Y,_internalSetRoutes:ec},W}function tC(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function xd(i,e,r,s,o,u){let f,h;if(o){f=[];for(let p of e)if(f.push(p),p.route.id===o){h=p;break}}else f=e,h=e[e.length-1];let m=ih(s||".",nh(f),zn(i.pathname,r)||i.pathname,u==="path");if(s==null&&(m.search=i.search,m.hash=i.hash),(s==null||s===""||s===".")&&h){let p=ah(m.search);if(h.route.index&&!p)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&p){let y=new URLSearchParams(m.search),v=y.getAll("index");y.delete("index"),v.filter(S=>S).forEach(S=>y.append("index",S));let E=y.toString();m.search=E?`?${E}`:""}}return r!=="/"&&(m.pathname=m.pathname==="/"?r:Kn([r,m.pathname])),lr(m)}function B_(i,e,r){if(!r||!tC(r))return{path:e};if(r.formMethod&&!hC(r.formMethod))return{path:e,error:Cn(405,{method:r.formMethod})};let s=()=>({path:e,error:Cn(400,{type:"invalid-body"})}),u=(r.formMethod||"get").toUpperCase(),f=wv(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Mn(u))return s();let v=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((E,[S,A])=>`${E}${S}=${A}
`,""):String(r.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:r.formEncType,formData:void 0,json:void 0,text:v}}}else if(r.formEncType==="application/json"){if(!Mn(u))return s();try{let v=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:r.formEncType,formData:void 0,json:v,text:void 0}}}catch{return s()}}}Me(typeof FormData=="function","FormData is not available in this environment");let h,m;if(r.formData)h=Id(r.formData),m=r.formData;else if(r.body instanceof FormData)h=Id(r.body),m=r.body;else if(r.body instanceof URLSearchParams)h=r.body,m=Y_(h);else if(r.body==null)h=new URLSearchParams,m=new FormData;else try{h=new URLSearchParams(r.body),m=Y_(h)}catch{return s()}let p={formMethod:u,formAction:f,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(Mn(p.formMethod))return{path:e,submission:p};let y=dr(e);return i&&y.search&&ah(y.search)&&h.append("index",""),y.search=`?${h}`,{path:lr(y),submission:p}}function j_(i,e,r=!1){let s=i.findIndex(o=>o.route.id===e);return s>=0?i.slice(0,r?s+1:s):i}function V_(i,e,r,s,o,u,f,h,m,p,y,v,E,S){let A=S?sn(S[1])?S[1].error:S[1].data:void 0,P=i.createURL(e.location),H=i.createURL(o),B=r;u&&e.errors?B=j_(r,Object.keys(e.errors)[0],!0):S&&sn(S[1])&&(B=j_(r,S[0]));let G=S?S[1].statusCode:void 0,Z=G&&G>=400,de=B.filter((x,ge)=>{let{route:ve}=x;if(ve.lazy)return!0;if(ve.loader==null)return!1;if(u)return Md(ve,e.loaderData,e.errors);if(nC(e.loaderData,e.matches[ge],x))return!0;let F=e.matches[ge],ue=x;return q_(x,{currentUrl:P,currentParams:F.params,nextUrl:H,nextParams:ue.params,...s,actionResult:A,actionStatus:G,defaultShouldRevalidate:Z?!1:f||P.pathname+P.search===H.pathname+H.search||P.search!==H.search||iC(F,ue)})}),W=[];return p.forEach((x,ge)=>{if(u||!r.some(_t=>_t.route.id===x.routeId)||m.has(ge))return;let ve=er(v,x.path,E);if(!ve){W.push({key:ge,routeId:x.routeId,path:x.path,matches:null,match:null,controller:null});return}let F=e.fetchers.get(ge),ue=rl(ve,x.path),je=!1;y.has(ge)?je=!1:h.has(ge)?(h.delete(ge),je=!0):F&&F.state!=="idle"&&F.data===void 0?je=f:je=q_(ue,{currentUrl:P,currentParams:e.matches[e.matches.length-1].params,nextUrl:H,nextParams:r[r.length-1].params,...s,actionResult:A,actionStatus:G,defaultShouldRevalidate:Z?!1:f}),je&&W.push({key:ge,routeId:x.routeId,path:x.path,matches:ve,match:ue,controller:new AbortController})}),[de,W]}function Md(i,e,r){if(i.lazy)return!0;if(!i.loader)return!1;let s=e!=null&&e[i.id]!==void 0,o=r!=null&&r[i.id]!==void 0;return!s&&o?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!s&&!o}function nC(i,e,r){let s=!e||r.route.id!==e.route.id,o=!i.hasOwnProperty(r.route.id);return s||o}function iC(i,e){let r=i.route.path;return i.pathname!==e.pathname||r!=null&&r.endsWith("*")&&i.params["*"]!==e.params["*"]}function q_(i,e){if(i.route.shouldRevalidate){let r=i.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function F_(i,e,r,s,o){let u;if(i){let m=s[i];Me(m,`No route found to patch children into: routeId = ${i}`),m.children||(m.children=[]),u=m.children}else u=r;let f=e.filter(m=>!u.some(p=>Cv(m,p))),h=ou(f,o,[i||"_","patch",String((u==null?void 0:u.length)||"0")],s);u.push(...h)}function Cv(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((r,s)=>{var o;return(o=e.children)==null?void 0:o.some(u=>Cv(r,u))}):!1}async function rC(i,e,r){if(!i.lazy)return;let s=await i.lazy();if(!i.lazy)return;let o=r[i.id];Me(o,"No route found in manifest");let u={};for(let f in s){let m=o[f]!==void 0&&f!=="hasErrorBoundary";zt(!m,`Route "${o.id}" has a static property "${f}" defined but its lazy function is also returning a value for this property. The lazy route property "${f}" will be ignored.`),!m&&!AT.has(f)&&(u[f]=s[f])}Object.assign(o,u),Object.assign(o,{...e(o),lazy:void 0})}async function aC({matches:i}){let e=i.filter(s=>s.shouldLoad);return(await Promise.all(e.map(s=>s.resolve()))).reduce((s,o,u)=>Object.assign(s,{[e[u].route.id]:o}),{})}async function sC(i,e,r,s,o,u,f,h,m,p){let y=u.map(S=>S.route.lazy?rC(S.route,m,h):void 0),v=u.map((S,A)=>{let P=y[A],H=o.some(G=>G.route.id===S.route.id);return{...S,shouldLoad:H,resolve:async G=>(G&&s.method==="GET"&&(S.route.lazy||S.route.loader)&&(H=!0),H?lC(e,s,S,P,G,p):Promise.resolve({type:"data",result:void 0}))}}),E=await i({matches:v,request:s,params:u[0].params,fetcherKey:f,context:p});try{await Promise.all(y)}catch{}return E}async function lC(i,e,r,s,o,u){let f,h,m=p=>{let y,v=new Promise((A,P)=>y=P);h=()=>y(),e.signal.addEventListener("abort",h);let E=A=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${i}" [routeId: ${r.route.id}]`)):p({request:e,params:r.params,context:u},...A!==void 0?[A]:[]),S=(async()=>{try{return{type:"data",result:await(o?o(P=>E(P)):E())}}catch(A){return{type:"error",result:A}}})();return Promise.race([S,v])};try{let p=r.route[i];if(s)if(p){let y,[v]=await Promise.all([m(p).catch(E=>{y=E}),s]);if(y!==void 0)throw y;f=v}else if(await s,p=r.route[i],p)f=await m(p);else if(i==="action"){let y=new URL(e.url),v=y.pathname+y.search;throw Cn(405,{method:e.method,pathname:v,routeId:r.route.id})}else return{type:"data",result:void 0};else if(p)f=await m(p);else{let y=new URL(e.url),v=y.pathname+y.search;throw Cn(404,{pathname:v})}}catch(p){return{type:"error",result:p}}finally{h&&e.signal.removeEventListener("abort",h)}return f}async function oC(i){var s,o,u,f,h,m;let{result:e,type:r}=i;if(Rv(e)){let p;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(y){return{type:"error",error:y}}return r==="error"?{type:"error",error:new cu(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return r==="error"?W_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new cu(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:gl(e)?e.status:void 0,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:gl(e)?e.status:void 0}:W_(e)?{type:"data",data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(m=e.init)!=null&&m.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function uC(i,e,r,s,o){let u=i.headers.get("Location");if(Me(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!rh.test(u)){let f=s.slice(0,s.findIndex(h=>h.route.id===r)+1);u=xd(new URL(e.url),f,o,u),i.headers.set("Location",u)}return i}function G_(i,e,r){if(rh.test(i)){let s=i,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),u=zn(o.pathname,r)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return i}function za(i,e,r,s){let o=i.createURL(wv(e)).toString(),u={signal:r};if(s&&Mn(s.formMethod)){let{formMethod:f,formEncType:h}=s;u.method=f.toUpperCase(),h==="application/json"?(u.headers=new Headers({"Content-Type":h}),u.body=JSON.stringify(s.json)):h==="text/plain"?u.body=s.text:h==="application/x-www-form-urlencoded"&&s.formData?u.body=Id(s.formData):u.body=s.formData}return new Request(o,u)}function Id(i){let e=new URLSearchParams;for(let[r,s]of i.entries())e.append(r,typeof s=="string"?s:s.name);return e}function Y_(i){let e=new FormData;for(let[r,s]of i.entries())e.append(r,s);return e}function cC(i,e,r,s=!1,o=!1){let u={},f=null,h,m=!1,p={},y=r&&sn(r[1])?r[1].error:void 0;return i.forEach(v=>{if(!(v.route.id in e))return;let E=v.route.id,S=e[E];if(Me(!jr(S),"Cannot handle redirect results in processLoaderData"),sn(S)){let A=S.error;if(y!==void 0&&(A=y,y=void 0),f=f||{},o)f[E]=A;else{let P=Br(i,E);f[P.route.id]==null&&(f[P.route.id]=A)}s||(u[E]=Tv),m||(m=!0,h=gl(S.error)?S.error.status:500),S.headers&&(p[E]=S.headers)}else u[E]=S.data,S.statusCode&&S.statusCode!==200&&!m&&(h=S.statusCode),S.headers&&(p[E]=S.headers)}),y!==void 0&&r&&(f={[r[0]]:y},u[r[0]]=void 0),{loaderData:u,errors:f,statusCode:h||200,loaderHeaders:p}}function Q_(i,e,r,s,o,u){let{loaderData:f,errors:h}=cC(e,r,s);return o.forEach(m=>{let{key:p,match:y,controller:v}=m,E=u[p];if(Me(E,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(sn(E)){let S=Br(i.matches,y==null?void 0:y.route.id);h&&h[S.route.id]||(h={...h,[S.route.id]:E.error}),i.fetchers.delete(p)}else if(jr(E))Me(!1,"Unhandled fetcher revalidation redirect");else{let S=Ji(E.data);i.fetchers.set(p,S)}}),{loaderData:f,errors:h}}function K_(i,e,r,s){let o=Object.entries(e).filter(([,u])=>u!==Tv).reduce((u,[f,h])=>(u[f]=h,u),{});for(let u of r){let f=u.route.id;if(!e.hasOwnProperty(f)&&i.hasOwnProperty(f)&&u.route.loader&&(o[f]=i[f]),s&&s.hasOwnProperty(f))break}return o}function X_(i){return i?sn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function Br(i,e){return(e?i.slice(0,i.findIndex(s=>s.route.id===e)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function $_(i){let e=i.length===1?i[0]:i.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Cn(i,{pathname:e,routeId:r,method:s,type:o,message:u}={}){let f="Unknown Server Error",h="Unknown @remix-run/router error";return i===400?(f="Bad Request",s&&e&&r?h=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:o==="invalid-body"&&(h="Unable to encode submission body")):i===403?(f="Forbidden",h=`Route "${r}" does not match URL "${e}"`):i===404?(f="Not Found",h=`No route matches URL "${e}"`):i===405&&(f="Method Not Allowed",s&&e&&r?h=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:s&&(h=`Invalid request method "${s.toUpperCase()}"`)),new cu(i||500,f,new Error(h),!0)}function Wo(i){let e=Object.entries(i);for(let r=e.length-1;r>=0;r--){let[s,o]=e[r];if(jr(o))return{key:s,result:o}}}function wv(i){let e=typeof i=="string"?dr(i):i;return lr({...e,hash:""})}function fC(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function dC(i){return Rv(i.result)&&$T.has(i.result.status)}function sn(i){return i.type==="error"}function jr(i){return(i&&i.type)==="redirect"}function W_(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function Rv(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function hC(i){return XT.has(i.toUpperCase())}function Mn(i){return QT.has(i.toUpperCase())}function ah(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function rl(i,e){let r=typeof e=="string"?dr(e).search:e.search;if(i[i.length-1].route.index&&ah(r||""))return i[i.length-1];let s=Ev(i);return s[s.length-1]}function Z_(i){let{formMethod:e,formAction:r,formEncType:s,text:o,formData:u,json:f}=i;if(!(!e||!r||!s)){if(o!=null)return{formMethod:e,formAction:r,formEncType:s,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:r,formEncType:s,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:r,formEncType:s,formData:void 0,json:f,text:void 0}}}function dd(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function mC(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Zs(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function pC(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function Ji(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function gC(i,e){try{let r=i.sessionStorage.getItem(Sv);if(r){let s=JSON.parse(r);for(let[o,u]of Object.entries(s||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function _C(i,e){if(e.size>0){let r={};for(let[s,o]of e)r[s]=[...o];try{i.sessionStorage.setItem(Sv,JSON.stringify(r))}catch(s){zt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function yC(){let i,e,r=new Promise((s,o)=>{i=async u=>{s(u);try{await r}catch{}},e=async u=>{o(u);try{await r}catch{}}});return{promise:r,resolve:i,reject:e}}var Wr=N.createContext(null);Wr.displayName="DataRouter";var Nl=N.createContext(null);Nl.displayName="DataRouterState";var sh=N.createContext({isTransitioning:!1});sh.displayName="ViewTransition";var Av=N.createContext(new Map);Av.displayName="Fetchers";var vC=N.createContext(null);vC.displayName="Await";var Zn=N.createContext(null);Zn.displayName="Navigation";var Lu=N.createContext(null);Lu.displayName="Location";var Jn=N.createContext({outlet:null,matches:[],isDataRoute:!1});Jn.displayName="Route";var lh=N.createContext(null);lh.displayName="RouteError";function EC(i,{relative:e}={}){Me(Dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=N.useContext(Zn),{hash:o,pathname:u,search:f}=Ol(i,{relative:e}),h=u;return r!=="/"&&(h=u==="/"?r:Kn([r,u])),s.createHref({pathname:h,search:f,hash:o})}function Dl(){return N.useContext(Lu)!=null}function Zr(){return Me(Dl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Lu).location}var Nv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dv(i){N.useContext(Zn).static||N.useLayoutEffect(i)}function bC(){let{isDataRoute:i}=N.useContext(Jn);return i?kC():SC()}function SC(){Me(Dl(),"useNavigate() may be used only in the context of a <Router> component.");let i=N.useContext(Wr),{basename:e,navigator:r}=N.useContext(Zn),{matches:s}=N.useContext(Jn),{pathname:o}=Zr(),u=JSON.stringify(nh(s)),f=N.useRef(!1);return Dv(()=>{f.current=!0}),N.useCallback((m,p={})=>{if(zt(f.current,Nv),!f.current)return;if(typeof m=="number"){r.go(m);return}let y=ih(m,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Kn([e,y.pathname])),(p.replace?r.replace:r.push)(y,p.state,p)},[e,r,u,o,i])}var TC=N.createContext(null);function CC(i){let e=N.useContext(Jn).outlet;return e&&N.createElement(TC.Provider,{value:i},e)}function Ol(i,{relative:e}={}){let{matches:r}=N.useContext(Jn),{pathname:s}=Zr(),o=JSON.stringify(nh(r));return N.useMemo(()=>ih(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function wC(i,e,r,s){Me(Dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=N.useContext(Zn),{matches:f}=N.useContext(Jn),h=f[f.length-1],m=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let G=v&&v.path||"";Ov(p,!v||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let E=Zr(),S;S=E;let A=S.pathname||"/",P=A;if(y!=="/"){let G=y.replace(/^\//,"").split("/");P="/"+A.replace(/^\//,"").split("/").slice(G.length).join("/")}let H=!u&&r&&r.matches&&r.matches.length>0?r.matches:er(i,{pathname:P});return zt(v||H!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),zt(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),OC(H&&H.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:Kn([y,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?y:Kn([y,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),f,r,s)}function RC(){let i=UC(),e=gl(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:u},"ErrorBoundary")," or"," ",N.createElement("code",{style:u},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),r?N.createElement("pre",{style:o},r):null,f)}var AC=N.createElement(RC,null),NC=class extends N.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?N.createElement(Jn.Provider,{value:this.props.routeContext},N.createElement(lh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DC({routeContext:i,match:e,children:r}){let s=N.useContext(Wr);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Jn.Provider,{value:i},r)}function OC(i,e=[],r=null,s=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let o=i,u=r==null?void 0:r.errors;if(u!=null){let m=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);Me(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,h=-1;if(r)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:y,errors:v}=r,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||E){f=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((m,p,y)=>{let v,E=!1,S=null,A=null;r&&(v=u&&p.route.id?u[p.route.id]:void 0,S=p.route.errorElement||AC,f&&(h<0&&y===0?(Ov("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):h===y&&(E=!0,A=p.route.hydrateFallbackElement||null)));let P=e.concat(o.slice(0,y+1)),H=()=>{let B;return v?B=S:E?B=A:p.route.Component?B=N.createElement(p.route.Component,null):p.route.element?B=p.route.element:B=m,N.createElement(DC,{match:p,routeContext:{outlet:m,matches:P,isDataRoute:r!=null},children:B})};return r&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?N.createElement(NC,{location:r.location,revalidation:r.revalidation,component:S,error:v,children:H(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):H()},null)}function oh(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xC(i){let e=N.useContext(Wr);return Me(e,oh(i)),e}function MC(i){let e=N.useContext(Nl);return Me(e,oh(i)),e}function IC(i){let e=N.useContext(Jn);return Me(e,oh(i)),e}function uh(i){let e=IC(i),r=e.matches[e.matches.length-1];return Me(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function LC(){return uh("useRouteId")}function UC(){var s;let i=N.useContext(lh),e=MC("useRouteError"),r=uh("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[r]}function kC(){let{router:i}=xC("useNavigate"),e=uh("useNavigate"),r=N.useRef(!1);return Dv(()=>{r.current=!0}),N.useCallback(async(o,u={})=>{zt(r.current,Nv),r.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var J_={};function Ov(i,e,r){!e&&!J_[i]&&(J_[i]=!0,zt(!1,r))}var ey={};function ty(i,e){!i&&!ey[e]&&(ey[e]=!0,console.warn(e))}function zC(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&zt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:N.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&zt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:N.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&zt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:N.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var HC=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",r(s))}})}};function PC({router:i,flushSync:e}){let[r,s]=N.useState(i.state),[o,u]=N.useState(),[f,h]=N.useState({isTransitioning:!1}),[m,p]=N.useState(),[y,v]=N.useState(),[E,S]=N.useState(),A=N.useRef(new Map),P=N.useCallback((Z,{deletedFetchers:de,flushSync:W,viewTransitionOpts:x})=>{Z.fetchers.forEach((ve,F)=>{ve.data!==void 0&&A.current.set(F,ve.data)}),de.forEach(ve=>A.current.delete(ve)),ty(W===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ge=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(ty(x==null||ge,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!x||!ge){e&&W?e(()=>s(Z)):N.startTransition(()=>s(Z));return}if(e&&W){e(()=>{y&&(m&&m.resolve(),y.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:x.currentLocation,nextLocation:x.nextLocation})});let ve=i.window.document.startViewTransition(()=>{e(()=>s(Z))});ve.finished.finally(()=>{e(()=>{p(void 0),v(void 0),u(void 0),h({isTransitioning:!1})})}),e(()=>v(ve));return}y?(m&&m.resolve(),y.skipTransition(),S({state:Z,currentLocation:x.currentLocation,nextLocation:x.nextLocation})):(u(Z),h({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}))},[i.window,e,y,m]);N.useLayoutEffect(()=>i.subscribe(P),[i,P]),N.useEffect(()=>{f.isTransitioning&&!f.flushSync&&p(new HC)},[f]),N.useEffect(()=>{if(m&&o&&i.window){let Z=o,de=m.promise,W=i.window.document.startViewTransition(async()=>{N.startTransition(()=>s(Z)),await de});W.finished.finally(()=>{p(void 0),v(void 0),u(void 0),h({isTransitioning:!1})}),v(W)}},[o,m,i.window]),N.useEffect(()=>{m&&o&&r.location.key===o.location.key&&m.resolve()},[m,y,r.location,o]),N.useEffect(()=>{!f.isTransitioning&&E&&(u(E.state),h({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),S(void 0))},[f.isTransitioning,E]);let H=N.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:Z=>i.navigate(Z),push:(Z,de,W)=>i.navigate(Z,{state:de,preventScrollReset:W==null?void 0:W.preventScrollReset}),replace:(Z,de,W)=>i.navigate(Z,{replace:!0,state:de,preventScrollReset:W==null?void 0:W.preventScrollReset})}),[i]),B=i.basename||"/",G=N.useMemo(()=>({router:i,navigator:H,static:!1,basename:B}),[i,H,B]);return N.createElement(N.Fragment,null,N.createElement(Wr.Provider,{value:G},N.createElement(Nl.Provider,{value:r},N.createElement(Av.Provider,{value:A.current},N.createElement(sh.Provider,{value:f},N.createElement(qC,{basename:B,location:r.location,navigationType:r.historyAction,navigator:H},N.createElement(BC,{routes:i.routes,future:i.future,state:r})))))),null)}var BC=N.memo(jC);function jC({routes:i,future:e,state:r}){return wC(i,void 0,r,e)}function VC(i){return CC(i.context)}function qC({basename:i="/",children:e=null,location:r,navigationType:s="POP",navigator:o,static:u=!1}){Me(!Dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof r=="string"&&(r=dr(r));let{pathname:m="/",search:p="",hash:y="",state:v=null,key:E="default"}=r,S=N.useMemo(()=>{let A=zn(m,f);return A==null?null:{location:{pathname:A,search:p,hash:y,state:v,key:E},navigationType:s}},[f,m,p,y,v,E,s]);return zt(S!=null,`<Router basename="${f}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:N.createElement(Zn.Provider,{value:h},N.createElement(Lu.Provider,{children:e,value:S}))}var iu="get",ru="application/x-www-form-urlencoded";function Uu(i){return i!=null&&typeof i.tagName=="string"}function FC(i){return Uu(i)&&i.tagName.toLowerCase()==="button"}function GC(i){return Uu(i)&&i.tagName.toLowerCase()==="form"}function YC(i){return Uu(i)&&i.tagName.toLowerCase()==="input"}function QC(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function KC(i,e){return i.button===0&&(!e||e==="_self")&&!QC(i)}var Zo=null;function XC(){if(Zo===null)try{new FormData(document.createElement("form"),0),Zo=!1}catch{Zo=!0}return Zo}var $C=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hd(i){return i!=null&&!$C.has(i)?(zt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ru}"`),null):i}function WC(i,e){let r,s,o,u,f;if(GC(i)){let h=i.getAttribute("action");s=h?zn(h,e):null,r=i.getAttribute("method")||iu,o=hd(i.getAttribute("enctype"))||ru,u=new FormData(i)}else if(FC(i)||YC(i)&&(i.type==="submit"||i.type==="image")){let h=i.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||h.getAttribute("action");if(s=m?zn(m,e):null,r=i.getAttribute("formmethod")||h.getAttribute("method")||iu,o=hd(i.getAttribute("formenctype"))||hd(h.getAttribute("enctype"))||ru,u=new FormData(h,i),!XC()){let{name:p,type:y,value:v}=i;if(y==="image"){let E=p?`${p}.`:"";u.append(`${E}x`,"0"),u.append(`${E}y`,"0")}else p&&u.append(p,v)}}else{if(Uu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=iu,s=null,o=ru,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:u,body:f}}function ch(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function ZC(i,e){if(i.id in e)return e[i.id];try{let r=await import(i.module);return e[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JC(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function ew(i,e,r){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await ZC(u,r);return f.links?f.links():[]}return[]}));return rw(s.flat(1).filter(JC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ny(i,e,r,s,o,u){let f=(m,p)=>r[p]?m.route.id!==r[p].route.id:!0,h=(m,p)=>{var y;return r[p].pathname!==m.pathname||((y=r[p].route.path)==null?void 0:y.endsWith("*"))&&r[p].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,p)=>f(m,p)||h(m,p)):u==="data"?e.filter((m,p)=>{var v;let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(f(m,p)||h(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=r[0])==null?void 0:v.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function tw(i,e){return nw(i.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function nw(i){return[...new Set(i)]}function iw(i){let e={},r=Object.keys(i).sort();for(let s of r)e[s]=i[s];return e}function rw(i,e){let r=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(iw(o));return r.has(u)||(r.add(u),s.push({key:u,link:o})),s},[])}function aw(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function sw(){let i=N.useContext(Wr);return ch(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function lw(){let i=N.useContext(Nl);return ch(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var fh=N.createContext(void 0);fh.displayName="FrameworkContext";function xv(){let i=N.useContext(fh);return ch(i,"You must render this element inside a <HydratedRouter> element"),i}function ow(i,e){let r=N.useContext(fh),[s,o]=N.useState(!1),[u,f]=N.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,E=N.useRef(null);N.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let P=B=>{B.forEach(G=>{f(G.isIntersecting)})},H=new IntersectionObserver(P,{threshold:.5});return E.current&&H.observe(E.current),()=>{H.disconnect()}}},[i]),N.useEffect(()=>{if(s){let P=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(P)}}},[s]);let S=()=>{o(!0)},A=()=>{o(!1),f(!1)};return r?i!=="intent"?[u,E,{}]:[u,E,{onFocus:Js(h,S),onBlur:Js(m,A),onMouseEnter:Js(p,S),onMouseLeave:Js(y,A),onTouchStart:Js(v,S)}]:[!1,E,{}]}function Js(i,e){return r=>{i&&i(r),r.defaultPrevented||e(r)}}function uw({page:i,...e}){let{router:r}=sw(),s=N.useMemo(()=>er(r.routes,i,r.basename),[r.routes,i,r.basename]);return s?N.createElement(fw,{page:i,matches:s,...e}):null}function cw(i){let{manifest:e,routeModules:r}=xv(),[s,o]=N.useState([]);return N.useEffect(()=>{let u=!1;return ew(i,e,r).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,r]),s}function fw({page:i,matches:e,...r}){let s=Zr(),{manifest:o,routeModules:u}=xv(),{loaderData:f,matches:h}=lw(),m=N.useMemo(()=>ny(i,e,h,o,s,"data"),[i,e,h,o,s]),p=N.useMemo(()=>ny(i,e,h,o,s,"assets"),[i,e,h,o,s]),y=N.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let S=new Set,A=!1;if(e.forEach(H=>{var G;let B=o.routes[H.route.id];!B||!B.hasLoader||(!m.some(Z=>Z.route.id===H.route.id)&&H.route.id in f&&((G=u[H.route.id])!=null&&G.shouldRevalidate)||B.hasClientLoader?A=!0:S.add(H.route.id))}),S.size===0)return[];let P=aw(i);return A&&S.size>0&&P.searchParams.set("_routes",e.filter(H=>S.has(H.route.id)).map(H=>H.route.id).join(",")),[P.pathname+P.search]},[f,s,o,m,e,i,u]),v=N.useMemo(()=>tw(p,o),[p,o]),E=cw(p);return N.createElement(N.Fragment,null,y.map(S=>N.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),v.map(S=>N.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),E.map(({key:S,link:A})=>N.createElement("link",{key:S,...A})))}function dw(...i){return e=>{i.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Mv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Mv&&(window.__reactRouterVersion="7.1.5")}catch{}function hw(i,e){return eC({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:CT({window:e==null?void 0:e.window}),hydrationData:mw(),routes:i,mapRouteProperties:zC,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function mw(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:pw(i.errors)}),i}function pw(i){if(!i)return null;let e=Object.entries(i),r={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")r[s]=new cu(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let f=new u(o.message);f.stack="",r[s]=f}catch{}}if(r[s]==null){let u=new Error(o.message);u.stack="",r[s]=u}}else r[s]=o;return r}var Iv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sl=N.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:h,target:m,to:p,preventScrollReset:y,viewTransition:v,...E},S){let{basename:A}=N.useContext(Zn),P=typeof p=="string"&&Iv.test(p),H,B=!1;if(typeof p=="string"&&P&&(H=p,Mv))try{let F=new URL(window.location.href),ue=p.startsWith("//")?new URL(F.protocol+p):new URL(p),je=zn(ue.pathname,A);ue.origin===F.origin&&je!=null?p=je+ue.search+ue.hash:B=!0}catch{zt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=EC(p,{relative:o}),[Z,de,W]=ow(s,E),x=vw(p,{replace:f,state:h,target:m,preventScrollReset:y,relative:o,viewTransition:v});function ge(F){e&&e(F),F.defaultPrevented||x(F)}let ve=N.createElement("a",{...E,...W,href:H||G,onClick:B||u?e:ge,ref:dw(S,de),target:m,"data-discover":!P&&r==="render"?"true":void 0});return Z&&!P?N.createElement(N.Fragment,null,ve,N.createElement(uw,{page:G})):ve});sl.displayName="Link";var gw=N.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:h,children:m,...p},y){let v=Ol(f,{relative:p.relative}),E=Zr(),S=N.useContext(Nl),{navigator:A,basename:P}=N.useContext(Zn),H=S!=null&&Cw(v)&&h===!0,B=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,G=E.pathname,Z=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;r||(G=G.toLowerCase(),Z=Z?Z.toLowerCase():null,B=B.toLowerCase()),Z&&P&&(Z=zn(Z,P)||Z);const de=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let W=G===B||!o&&G.startsWith(B)&&G.charAt(de)==="/",x=Z!=null&&(Z===B||!o&&Z.startsWith(B)&&Z.charAt(B.length)==="/"),ge={isActive:W,isPending:x,isTransitioning:H},ve=W?e:void 0,F;typeof s=="function"?F=s(ge):F=[s,W?"active":null,x?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let ue=typeof u=="function"?u(ge):u;return N.createElement(sl,{...p,"aria-current":ve,className:F,ref:y,style:ue,to:f,viewTransition:h},typeof m=="function"?m(ge):m)});gw.displayName="NavLink";var _w=N.forwardRef(({discover:i="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:o,state:u,method:f=iu,action:h,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:v,...E},S)=>{let A=Sw(),P=Tw(h,{relative:p}),H=f.toLowerCase()==="get"?"get":"post",B=typeof h=="string"&&Iv.test(h),G=Z=>{if(m&&m(Z),Z.defaultPrevented)return;Z.preventDefault();let de=Z.nativeEvent.submitter,W=(de==null?void 0:de.getAttribute("formmethod"))||f;A(de||Z.currentTarget,{fetcherKey:e,method:W,navigate:r,replace:o,state:u,relative:p,preventScrollReset:y,viewTransition:v})};return N.createElement("form",{ref:S,method:H,action:P,onSubmit:s?m:G,...E,"data-discover":!B&&i==="render"?"true":void 0})});_w.displayName="Form";function yw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lv(i){let e=N.useContext(Wr);return Me(e,yw(i)),e}function vw(i,{target:e,replace:r,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let h=bC(),m=Zr(),p=Ol(i,{relative:u});return N.useCallback(y=>{if(KC(y,e)){y.preventDefault();let v=r!==void 0?r:lr(m)===lr(p);h(i,{replace:v,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[m,h,p,r,s,e,i,o,u,f])}var Ew=0,bw=()=>`__${String(++Ew)}__`;function Sw(){let{router:i}=Lv("useSubmit"),{basename:e}=N.useContext(Zn),r=LC();return N.useCallback(async(s,o={})=>{let{action:u,method:f,encType:h,formData:m,body:p}=WC(s,e);if(o.navigate===!1){let y=o.fetcherKey||bw();await i.fetch(y,r,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||f,formEncType:o.encType||h,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||f,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,r])}function Tw(i,{relative:e}={}){let{basename:r}=N.useContext(Zn),s=N.useContext(Jn);Me(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Ol(i||".",{relative:e})},f=Zr();if(i==null){u.search=f.search;let h=new URLSearchParams(u.search),m=h.getAll("index");if(m.some(y=>y==="")){h.delete("index"),m.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();u.search=y?`?${y}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Kn([r,u.pathname])),lr(u)}function Cw(i,e={}){let r=N.useContext(sh);Me(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Lv("useViewTransitionState"),o=Ol(i,{relative:e.relative});if(!r.isTransitioning)return!1;let u=zn(r.currentLocation.pathname,s)||r.currentLocation.pathname,f=zn(r.nextLocation.pathname,s)||r.nextLocation.pathname;return uu(o.pathname,f)!=null||uu(o.pathname,u)!=null}new TextEncoder;var ww=_v();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rw(i){return N.createElement(PC,{flushSync:ww.flushSync,...i})}const Ld=N.createContext(),Uv=N.createContext(),kv=N.createContext(),zv=N.createContext(),Aw=({children:i})=>{console.log("✅ ScoreProvider is rendering!");const[e,r]=N.useState(0);return console.log("🎯 ScoreProvider Value:",{score:e,setScore:r}),Q.jsx(Ld.Provider,{value:{score:e,setScore:r},children:i})},Nw=({children:i})=>{const[e,r]=N.useState(!0);return Q.jsx(Uv.Provider,{value:{isRunning:e,setIsRunning:r},children:i})},Dw=({children:i})=>{const[e,r]=N.useState(50);return Q.jsx(kv.Provider,{value:{volume:e,setVolume:r},children:i})},Ow=({children:i})=>{const[e,r]=N.useState(1),s=()=>{r(o=>o%3+1)};return Q.jsx(zv.Provider,{value:{level:e,nextLevel:s},children:i})},dh=()=>{console.log("🔍 Checking useScoreContext()..."),console.log("🎯 Current ScoreContext Reference:",Ld);const i=N.useContext(Ld);if(!i)throw console.trace("❌ useScoreContext() was used outside of ScoreProvider!"),new Error("❌ useScoreContext() was used outside of ScoreProvider!");return i},Hv=()=>{console.log("🔍 Checking useGameContext()");const i=N.useContext(Uv);return i||console.error("❌ useGameContext() was used outside of GameProvider!"),i},hh=()=>{console.log("🔍 Checking useVolumeContext()");const i=N.useContext(kv);return i||console.error("❌ useVolumeContext() was used outside of VolumeProvider!"),i},mh=()=>{console.log("🔍 Checking useLevelContext()");const i=N.useContext(zv);if(!i)throw console.trace("❌ useLevelContext() was used outside of LevelProvider!"),new Error("❌ useLevelContext() was used outside of LevelProvider!");return i},Pv=({isPlaying:i})=>{const{volume:e}=hh(),r=N.useRef(null);return N.useEffect(()=>{r.current&&(r.current.volume=e/100)},[e]),N.useEffect(()=>{const s=r.current;s&&(i?(async()=>{try{await s.play()}catch(u){console.log("❌ Autoplay blocked, retrying on user interaction:",u)}})():(s.pause(),s.currentTime=0))},[i]),Q.jsx("audio",{ref:r,src:"/static/TTD_01.mp3",preload:"auto",loop:!0})};console.log("✅ Navbar is mounting!");const xw=()=>{console.log("🔍 Navbar: Checking Contexts...");try{const{score:i}=dh(),{volume:e,setVolume:r}=hh();return console.log("✅ Navbar: Contexts loaded correctly."),Q.jsxs("nav",{className:"navbar navbar-expand-lg",children:[Q.jsxs("div",{className:"container-fluid",children:[Q.jsx(sl,{className:"sigmar-regular displayfont-text",to:"/",children:"Dino Dash"}),Q.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Q.jsx("span",{className:"navbar-toggler-icon"})}),Q.jsx("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Q.jsxs("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0 d-flex align-items-center",children:[Q.jsx("div",{className:"navBarDivider"}),Q.jsx("li",{className:"nav-item",children:Q.jsx(sl,{className:"nav-link","aria-current":"page",to:"/",children:"Home"})}),Q.jsx("div",{className:"navBarDivider"}),Q.jsx("li",{className:"nav-item",children:Q.jsx(sl,{className:"nav-link",to:"/highscorespage",children:"High Scores"})})]})}),Q.jsxs("div",{className:"navbar-rightside me-auto mb-2 mb-lg-0 d-flex justify-content-center align-items-center",children:[Q.jsxs("div",{className:"nav-score",children:["Score: ",i]}),Q.jsxs("div",{className:"volume-control d-flex align-items-center",children:[Q.jsx("label",{htmlFor:"volume",children:"Volume:"}),Q.jsx("div",{className:"custom-slider",children:Q.jsx("input",{id:"volume",type:"range",min:"0",max:"100",value:e,onChange:s=>r(s.target.value)})})]})]})]}),Q.jsx(Pv,{volume:e})]})}catch(i){return console.error("❌ Navbar failed to load context:",i),Q.jsx("h1",{children:"Navbar Error"})}};console.log("✅ Layout is mounting!");const Mw=()=>Q.jsxs(Q.Fragment,{children:[Q.jsx(xw,{})," ",Q.jsx("div",{className:"container-fluid",children:Q.jsx(VC,{})})]});var iy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K=function(i,e){if(!i)throw Ya(e)},Ya=function(i){return new Error("Firebase Database ("+Bv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=function(i){const e=[];let r=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},Iw=function(i){const e=[];let r=0,s=0;for(;r<i.length;){const o=i[r++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[r++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[r++],f=i[r++],h=i[r++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=i[r++],f=i[r++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},ph={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,h=f?i[o+1]:0,m=o+2<i.length,p=m?i[o+2]:0,y=u>>2,v=(u&3)<<4|h>>4;let E=(h&15)<<2|p>>6,S=p&63;m||(S=64,f||(E=64)),s.push(r[y],r[v],r[E],r[S])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(jv(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Iw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=r[i.charAt(o++)],h=o<i.length?r[i.charAt(o)]:0;++o;const p=o<i.length?r[i.charAt(o)]:64;++o;const v=o<i.length?r[i.charAt(o)]:64;if(++o,u==null||h==null||p==null||v==null)throw new Lw;const E=u<<2|h>>4;if(s.push(E),p!==64){const S=h<<4&240|p>>2;if(s.push(S),v!==64){const A=p<<6&192|v;s.push(A)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Lw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vv=function(i){const e=jv(i);return ph.encodeByteArray(e,!0)},fu=function(i){return Vv(i).replace(/\./g,"")},du=function(i){try{return ph.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(i){return qv(void 0,i)}function qv(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!kw(r)||(i[r]=qv(i[r],e[r]));return i}function kw(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=()=>zw().__FIREBASE_DEFAULTS__,Pw=()=>{if(typeof process>"u"||typeof iy>"u")return;const i=iy.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Bw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&du(i[1]);return e&&JSON.parse(e)},gh=()=>{try{return Hw()||Pw()||Bw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},jw=i=>{var e,r;return(r=(e=gh())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[i]},Vw=i=>{const e=jw(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},Fv=()=>{var i;return(i=gh())===null||i===void 0?void 0:i.config},qw=i=>{var e;return(e=gh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[fu(JSON.stringify(r)),fu(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _h(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xn())}function Gw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gv(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Yv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yw(){return Bv.NODE_ADMIN===!0}function Qv(){try{return typeof indexedDB=="object"}catch{return!1}}function Kv(){return new Promise((i,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){e(r)}})}function Qw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="FirebaseError";class Ri extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=Kw,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jr.prototype.create)}}class Jr{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Xw(u,s):"Error",h=`${this.serviceName}: ${f} (${o}).`;return new Ri(o,h,s)}}function Xw(i,e){return i.replace($w,(r,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const $w=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(i){return JSON.parse(i)}function bt(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=function(i){let e={},r={},s={},o="";try{const u=i.split(".");e=_l(du(u[0])||""),r=_l(du(u[1])||""),o=u[2],s=r.d||{},delete r.d}catch{}return{header:e,claims:r,data:s,signature:o}},Ww=function(i){const e=Xv(i),r=e.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},Zw=function(i){const e=Xv(i).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function qa(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function ry(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function hu(i,e,r){const s={};for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=e.call(r,i[o],o,i));return s}function mu(i,e){if(i===e)return!0;const r=Object.keys(i),s=Object.keys(e);for(const o of r){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(ay(u)&&ay(f)){if(!mu(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!r.includes(o))return!1;return!0}function ay(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(i){const e=[];for(const[r,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,r){r||(r=0);const s=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)s[v]=e.charCodeAt(r)<<24|e.charCodeAt(r+1)<<16|e.charCodeAt(r+2)<<8|e.charCodeAt(r+3),r+=4;else for(let v=0;v<16;v++)s[v]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r+=4;for(let v=16;v<80;v++){const E=s[v-3]^s[v-8]^s[v-14]^s[v-16];s[v]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],f=this.chain_[2],h=this.chain_[3],m=this.chain_[4],p,y;for(let v=0;v<80;v++){v<40?v<20?(p=h^u&(f^h),y=1518500249):(p=u^f^h,y=1859775393):v<60?(p=u&f|h&(u|f),y=2400959708):(p=u^f^h,y=3395469782);const E=(o<<5|o>>>27)+p+m+y+s[v]&4294967295;m=h,h=f,f=(u<<30|u>>>2)&4294967295,u=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,r){if(e==null)return;r===void 0&&(r=e.length);const s=r-this.blockSize;let o=0;const u=this.buf_;let f=this.inbuf_;for(;o<r;){if(f===0)for(;o<=s;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<r;)if(u[f]=e.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}else for(;o<r;)if(u[f]=e[o],++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=r}digest(){const e=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=r&255,r/=256;this.compress_(this.buf_);let s=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[o]>>u&255,++s;return e}}function eR(i,e){const r=new tR(i,e);return r.subscribe.bind(r)}class tR{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,s){let o;if(e===void 0&&r===void 0&&s===void 0)throw new Error("Missing Observer.");nR(e,["next","error","complete"])?o=e:o={next:e,error:r,complete:s},o.next===void 0&&(o.next=md),o.error===void 0&&(o.error=md),o.complete===void 0&&(o.complete=md);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nR(i,e){if(typeof i!="object"||i===null)return!1;for(const r of e)if(r in i&&typeof i[r]=="function")return!0;return!1}function md(){}function vh(i,e){return`${i} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=function(i){const e=[];let r=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);if(o>=55296&&o<=56319){const u=o-55296;s++,K(s<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(s)-56320;o=65536+(u<<10)+f}o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):o<65536?(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},zu=function(i){let e=0;for(let r=0;r<i.length;r++){const s=i.charCodeAt(r);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,r++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=1e3,aR=2,sR=4*60*60*1e3,lR=.5;function sy(i,e=rR,r=aR){const s=e*Math.pow(r,i),o=Math.round(lR*s*(Math.random()-.5)*2);return Math.min(sR,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(i){return i&&i._delegate?i._delegate:i}class Hn{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new ku;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cR(e))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hr){return this.instances.has(e)}getOptions(e=Hr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[u,f]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);s===h&&f.resolve(o)}return o}onInit(e,r){var s;const o=this.normalizeInstanceIdentifier(r),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const o of s)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:uR(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hr){return this.component?this.component.multipleInstances?e:Hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uR(i){return i===Hr?void 0:i}function cR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new oR(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Fe||(Fe={}));const dR={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},hR=Fe.INFO,mR={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},pR=(i,e,...r)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=mR[e];if(o)console[o](`[${s}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hu{constructor(e){this.name=e,this._logLevel=hR,this._logHandler=pR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const gR=(i,e)=>e.some(r=>i instanceof r);let ly,oy;function _R(){return ly||(ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yR(){return oy||(oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $v=new WeakMap,Ud=new WeakMap,Wv=new WeakMap,pd=new WeakMap,Eh=new WeakMap;function vR(i){const e=new Promise((r,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{r(nr(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(r=>{r instanceof IDBCursor&&$v.set(r,i)}).catch(()=>{}),Eh.set(e,i),e}function ER(i){if(Ud.has(i))return;const e=new Promise((r,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{r(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Ud.set(i,e)}let kd={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return Ud.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Wv.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return nr(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function bR(i){kd=i(kd)}function SR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=i.call(gd(this),e,...r);return Wv.set(s,e.sort?e.sort():[e]),nr(s)}:yR().includes(i)?function(...e){return i.apply(gd(this),e),nr($v.get(this))}:function(...e){return nr(i.apply(gd(this),e))}}function TR(i){return typeof i=="function"?SR(i):(i instanceof IDBTransaction&&ER(i),gR(i,_R())?new Proxy(i,kd):i)}function nr(i){if(i instanceof IDBRequest)return vR(i);if(pd.has(i))return pd.get(i);const e=TR(i);return e!==i&&(pd.set(i,e),Eh.set(e,i)),e}const gd=i=>Eh.get(i);function Zv(i,e,{blocked:r,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),h=nr(f);return s&&f.addEventListener("upgradeneeded",m=>{s(nr(f.result),m.oldVersion,m.newVersion,nr(f.transaction),m)}),r&&f.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),h.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const CR=["get","getKey","getAll","getAllKeys","count"],wR=["put","add","delete","clear"],_d=new Map;function uy(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(_d.get(e))return _d.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,o=wR.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(o||CR.includes(r)))return;const u=async function(f,...h){const m=this.transaction(f,o?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(h.shift())),(await Promise.all([p[r](...h),o&&m.done]))[0]};return _d.set(e,u),u}bR(i=>({...i,get:(e,r,s)=>uy(e,r)||i.get(e,r,s),has:(e,r)=>!!uy(e,r)||i.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(AR(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function AR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zd="@firebase/app",cy="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new Hu("@firebase/app"),NR="@firebase/app-compat",DR="@firebase/analytics-compat",OR="@firebase/analytics",xR="@firebase/app-check-compat",MR="@firebase/app-check",IR="@firebase/auth",LR="@firebase/auth-compat",UR="@firebase/database",kR="@firebase/data-connect",zR="@firebase/database-compat",HR="@firebase/functions",PR="@firebase/functions-compat",BR="@firebase/installations",jR="@firebase/installations-compat",VR="@firebase/messaging",qR="@firebase/messaging-compat",FR="@firebase/performance",GR="@firebase/performance-compat",YR="@firebase/remote-config",QR="@firebase/remote-config-compat",KR="@firebase/storage",XR="@firebase/storage-compat",$R="@firebase/firestore",WR="@firebase/vertexai",ZR="@firebase/firestore-compat",JR="firebase",eA="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="[DEFAULT]",tA={[zd]:"fire-core",[NR]:"fire-core-compat",[OR]:"fire-analytics",[DR]:"fire-analytics-compat",[MR]:"fire-app-check",[xR]:"fire-app-check-compat",[IR]:"fire-auth",[LR]:"fire-auth-compat",[UR]:"fire-rtdb",[kR]:"fire-data-connect",[zR]:"fire-rtdb-compat",[HR]:"fire-fn",[PR]:"fire-fn-compat",[BR]:"fire-iid",[jR]:"fire-iid-compat",[VR]:"fire-fcm",[qR]:"fire-fcm-compat",[FR]:"fire-perf",[GR]:"fire-perf-compat",[YR]:"fire-rc",[QR]:"fire-rc-compat",[KR]:"fire-gcs",[XR]:"fire-gcs-compat",[$R]:"fire-fst",[ZR]:"fire-fst-compat",[WR]:"fire-vertex","fire-js":"fire-js",[JR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new Map,nA=new Map,Pd=new Map;function fy(i,e){try{i.container.addComponent(e)}catch(r){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function $n(i){const e=i.name;if(Pd.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;Pd.set(e,i);for(const r of pu.values())fy(r,i);for(const r of nA.values())fy(r,i);return!0}function xl(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}function al(i){return i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new Jr("app","Firebase",iA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,r,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=eA;function Jv(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Hd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ir.create("bad-app-name",{appName:String(o)});if(r||(r=Fv()),!r)throw ir.create("no-options");const u=pu.get(o);if(u){if(mu(r,u.options)&&mu(s,u.config))return u;throw ir.create("duplicate-app",{appName:o})}const f=new fR(o);for(const m of Pd.values())f.addComponent(m);const h=new rA(r,s,f);return pu.set(o,h),h}function eE(i=Hd){const e=pu.get(i);if(!e&&i===Hd&&Fv())return Jv();if(!e)throw ir.create("no-app",{appName:i});return e}function wn(i,e,r){var s;let o=(s=tA[i])!==null&&s!==void 0?s:i;r&&(o+=`-${r}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const h=[`Unable to register library "${o}" with version "${e}":`];u&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&h.push("and"),f&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(h.join(" "));return}$n(new Hn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="firebase-heartbeat-database",sA=1,yl="firebase-heartbeat-store";let yd=null;function tE(){return yd||(yd=Zv(aA,sA,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(yl)}catch(r){console.warn(r)}}}}).catch(i=>{throw ir.create("idb-open",{originalErrorMessage:i.message})})),yd}async function lA(i){try{const r=(await tE()).transaction(yl),s=await r.objectStore(yl).get(nE(i));return await r.done,s}catch(e){if(e instanceof Ri)Ci.warn(e.message);else{const r=ir.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ci.warn(r.message)}}}async function dy(i,e){try{const s=(await tE()).transaction(yl,"readwrite");await s.objectStore(yl).put(e,nE(i)),await s.done}catch(r){if(r instanceof Ri)Ci.warn(r.message);else{const s=ir.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ci.warn(s.message)}}}function nE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=1024,uA=30*24*60*60*1e3;class cA{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new dA(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=hy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const h=new Date(f.date).valueOf();return Date.now()-h<=uA}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Ci.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=hy(),{heartbeatsToSend:s,unsentEntries:o}=fA(this._heartbeatsCache.heartbeats),u=fu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return Ci.warn(r),""}}}function hy(){return new Date().toISOString().substring(0,10)}function fA(i,e=oA){const r=[];let s=i.slice();for(const o of i){const u=r.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),my(r)>e){u.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),my(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class dA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qv()?Kv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await lA(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return dy(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return dy(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function my(i){return fu(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(i){$n(new Hn("platform-logger",e=>new RR(e),"PRIVATE")),$n(new Hn("heartbeat",e=>new cA(e),"PRIVATE")),wn(zd,cy,i),wn(zd,cy,"esm2017"),wn("fire-js","")}hA("");var mA="firebase",pA="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn(mA,pA,"app");const iE="@firebase/installations",bh="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=1e4,aE=`w:${bh}`,sE="FIS_v2",gA="https://firebaseinstallations.googleapis.com/v1",_A=60*60*1e3,yA="installations",vA="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Yr=new Jr(yA,vA,EA);function lE(i){return i instanceof Ri&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE({projectId:i}){return`${gA}/projects/${i}/installations`}function uE(i){return{token:i.token,requestStatus:2,expiresIn:SA(i.expiresIn),creationTime:Date.now()}}async function cE(i,e){const s=(await e.json()).error;return Yr.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function fE({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function bA(i,{refreshToken:e}){const r=fE(i);return r.append("Authorization",TA(e)),r}async function dE(i){const e=await i();return e.status>=500&&e.status<600?i():e}function SA(i){return Number(i.replace("s","000"))}function TA(i){return`${sE} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA({appConfig:i,heartbeatServiceProvider:e},{fid:r}){const s=oE(i),o=fE(i),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const f={fid:r,authVersion:sE,appId:i.appId,sdkVersion:aE},h={method:"POST",headers:o,body:JSON.stringify(f)},m=await dE(()=>fetch(s,h));if(m.ok){const p=await m.json();return{fid:p.fid||r,registrationStatus:2,refreshToken:p.refreshToken,authToken:uE(p.authToken)}}else throw await cE("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=/^[cdef][\w-]{21}$/,Bd="";function AA(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const r=NA(i);return RA.test(r)?r:Bd}catch{return Bd}}function NA(i){return wA(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=new Map;function pE(i,e){const r=Bu(i);gE(r,e),DA(r,e)}function gE(i,e){const r=mE.get(i);if(r)for(const s of r)s(e)}function DA(i,e){const r=OA();r&&r.postMessage({key:i,fid:e}),xA()}let Vr=null;function OA(){return!Vr&&"BroadcastChannel"in self&&(Vr=new BroadcastChannel("[Firebase] FID Change"),Vr.onmessage=i=>{gE(i.data.key,i.data.fid)}),Vr}function xA(){mE.size===0&&Vr&&(Vr.close(),Vr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="firebase-installations-database",IA=1,Qr="firebase-installations-store";let vd=null;function Sh(){return vd||(vd=Zv(MA,IA,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Qr)}}})),vd}async function gu(i,e){const r=Bu(i),o=(await Sh()).transaction(Qr,"readwrite"),u=o.objectStore(Qr),f=await u.get(r);return await u.put(e,r),await o.done,(!f||f.fid!==e.fid)&&pE(i,e.fid),e}async function _E(i){const e=Bu(i),s=(await Sh()).transaction(Qr,"readwrite");await s.objectStore(Qr).delete(e),await s.done}async function ju(i,e){const r=Bu(i),o=(await Sh()).transaction(Qr,"readwrite"),u=o.objectStore(Qr),f=await u.get(r),h=e(f);return h===void 0?await u.delete(r):await u.put(h,r),await o.done,h&&(!f||f.fid!==h.fid)&&pE(i,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(i){let e;const r=await ju(i.appConfig,s=>{const o=LA(s),u=UA(i,o);return e=u.registrationPromise,u.installationEntry});return r.fid===Bd?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function LA(i){const e=i||{fid:AA(),registrationStatus:0};return yE(e)}function UA(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Yr.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=kA(i,r);return{installationEntry:r,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:zA(i)}:{installationEntry:e}}async function kA(i,e){try{const r=await CA(i,e);return gu(i.appConfig,r)}catch(r){throw lE(r)&&r.customData.serverCode===409?await _E(i.appConfig):await gu(i.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function zA(i){let e=await py(i.appConfig);for(;e.registrationStatus===1;)await hE(100),e=await py(i.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:s}=await Th(i);return s||r}return e}function py(i){return ju(i,e=>{if(!e)throw Yr.create("installation-not-found");return yE(e)})}function yE(i){return HA(i)?{fid:i.fid,registrationStatus:0}:i}function HA(i){return i.registrationStatus===1&&i.registrationTime+rE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA({appConfig:i,heartbeatServiceProvider:e},r){const s=BA(i,r),o=bA(i,r),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const f={installation:{sdkVersion:aE,appId:i.appId}},h={method:"POST",headers:o,body:JSON.stringify(f)},m=await dE(()=>fetch(s,h));if(m.ok){const p=await m.json();return uE(p)}else throw await cE("Generate Auth Token",m)}function BA(i,{fid:e}){return`${oE(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(i,e=!1){let r;const s=await ju(i.appConfig,u=>{if(!vE(u))throw Yr.create("not-registered");const f=u.authToken;if(!e&&qA(f))return u;if(f.requestStatus===1)return r=jA(i,e),u;{if(!navigator.onLine)throw Yr.create("app-offline");const h=GA(u);return r=VA(i,h),h}});return r?await r:s.authToken}async function jA(i,e){let r=await gy(i.appConfig);for(;r.authToken.requestStatus===1;)await hE(100),r=await gy(i.appConfig);const s=r.authToken;return s.requestStatus===0?Ch(i,e):s}function gy(i){return ju(i,e=>{if(!vE(e))throw Yr.create("not-registered");const r=e.authToken;return YA(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function VA(i,e){try{const r=await PA(i,e),s=Object.assign(Object.assign({},e),{authToken:r});return await gu(i.appConfig,s),r}catch(r){if(lE(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await _E(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await gu(i.appConfig,s)}throw r}}function vE(i){return i!==void 0&&i.registrationStatus===2}function qA(i){return i.requestStatus===2&&!FA(i)}function FA(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+_A}function GA(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function YA(i){return i.requestStatus===1&&i.requestTime+rE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QA(i){const e=i,{installationEntry:r,registrationPromise:s}=await Th(e);return s?s.catch(console.error):Ch(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KA(i,e=!1){const r=i;return await XA(r),(await Ch(r,e)).token}async function XA(i){const{registrationPromise:e}=await Th(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(i){if(!i||!i.options)throw Ed("App Configuration");if(!i.name)throw Ed("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!i.options[r])throw Ed(r);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Ed(i){return Yr.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="installations",WA="installations-internal",ZA=i=>{const e=i.getProvider("app").getImmediate(),r=$A(e),s=xl(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},JA=i=>{const e=i.getProvider("app").getImmediate(),r=xl(e,EE).getImmediate();return{getId:()=>QA(r),getToken:o=>KA(r,o)}};function e1(){$n(new Hn(EE,ZA,"PUBLIC")),$n(new Hn(WA,JA,"PRIVATE"))}e1();wn(iE,bh);wn(iE,bh,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u="analytics",t1="firebase_id",n1="origin",i1=60*1e3,r1="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wh="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt=new Hu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ln=new Jr("analytics","Analytics",a1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(i){if(!i.startsWith(wh)){const e=ln.create("invalid-gtag-resource",{gtagURL:i});return Xt.warn(e.message),""}return i}function bE(i){return Promise.all(i.map(e=>e.catch(r=>r)))}function l1(i,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(i,e)),r}function o1(i,e){const r=l1("firebase-js-sdk-policy",{createScriptURL:s1}),s=document.createElement("script"),o=`${wh}?l=${i}&id=${e}`;s.src=r?r==null?void 0:r.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function u1(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function c1(i,e,r,s,o,u){const f=s[o];try{if(f)await e[f];else{const m=(await bE(r)).find(p=>p.measurementId===o);m&&await e[m.appId]}}catch(h){Xt.error(h)}i("config",o,u)}async function f1(i,e,r,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const h=await bE(r);for(const m of f){const p=h.find(v=>v.measurementId===m),y=p&&e[p.appId];if(y)u.push(y);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){Xt.error(u)}}function d1(i,e,r,s){async function o(u,...f){try{if(u==="event"){const[h,m]=f;await f1(i,e,r,h,m)}else if(u==="config"){const[h,m]=f;await c1(i,e,r,s,h,m)}else if(u==="consent"){const[h,m]=f;i("consent",h,m)}else if(u==="get"){const[h,m,p]=f;i("get",h,m,p)}else if(u==="set"){const[h]=f;i("set",h)}else i(u,...f)}catch(h){Xt.error(h)}}return o}function h1(i,e,r,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=d1(u,i,e,r),{gtagCore:u,wrappedGtag:window[o]}}function m1(i){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(wh)&&r.src.includes(i))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=30,g1=1e3;class _1{constructor(e={},r=g1){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const SE=new _1;function y1(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function v1(i){var e;const{appId:r,apiKey:s}=i,o={method:"GET",headers:y1(s)},u=r1.replace("{app-id}",r),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let h="";try{const m=await f.json();!((e=m.error)===null||e===void 0)&&e.message&&(h=m.error.message)}catch{}throw ln.create("config-fetch-failed",{httpStatus:f.status,responseMessage:h})}return f.json()}async function E1(i,e=SE,r){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw ln.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw ln.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new T1;return setTimeout(async()=>{h.abort()},i1),TE({appId:s,apiKey:o,measurementId:u},f,h,e)}async function TE(i,{throttleEndTimeMillis:e,backoffCount:r},s,o=SE){var u;const{appId:f,measurementId:h}=i;try{await b1(s,e)}catch(m){if(h)return Xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:f,measurementId:h};throw m}try{const m=await v1(i);return o.deleteThrottleMetadata(f),m}catch(m){const p=m;if(!S1(p)){if(o.deleteThrottleMetadata(f),h)return Xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:h};throw m}const y=Number((u=p==null?void 0:p.customData)===null||u===void 0?void 0:u.httpStatus)===503?sy(r,o.intervalMillis,p1):sy(r,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+y,backoffCount:r+1};return o.setThrottleMetadata(f,v),Xt.debug(`Calling attemptFetch again in ${y} millis`),TE(i,v,s,o)}}function b1(i,e){return new Promise((r,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(r,o);i.addEventListener(()=>{clearTimeout(u),s(ln.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function S1(i){if(!(i instanceof Ri)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class T1{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function C1(i,e,r,s,o){if(o&&o.global){i("event",r,s);return}else{const u=await e,f=Object.assign(Object.assign({},s),{send_to:u});i("event",r,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w1(){if(Qv())try{await Kv()}catch(i){return Xt.warn(ln.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return Xt.warn(ln.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function R1(i,e,r,s,o,u,f){var h;const m=E1(i);m.then(S=>{r[S.measurementId]=S.appId,i.options.measurementId&&S.measurementId!==i.options.measurementId&&Xt.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>Xt.error(S)),e.push(m);const p=w1().then(S=>{if(S)return s.getId()}),[y,v]=await Promise.all([m,p]);m1(u)||o1(u,y.measurementId),o("js",new Date);const E=(h=f==null?void 0:f.config)!==null&&h!==void 0?h:{};return E[n1]="firebase",E.update=!0,v!=null&&(E[t1]=v),o("config",y.measurementId,E),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.app=e}_delete(){return delete ll[this.app.options.appId],Promise.resolve()}}let ll={},_y=[];const yy={};let bd="dataLayer",N1="gtag",vy,CE,Ey=!1;function D1(){const i=[];if(Gv()&&i.push("This is a browser extension environment."),Qw()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),r=ln.create("invalid-analytics-context",{errorInfo:e});Xt.warn(r.message)}}function O1(i,e,r){D1();const s=i.options.appId;if(!s)throw ln.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)Xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ln.create("no-api-key");if(ll[s]!=null)throw ln.create("already-exists",{id:s});if(!Ey){u1(bd);const{wrappedGtag:u,gtagCore:f}=h1(ll,_y,yy,bd,N1);CE=u,vy=f,Ey=!0}return ll[s]=R1(i,_y,yy,e,vy,bd,r),new A1(i)}function x1(i=eE()){i=Zt(i);const e=xl(i,_u);return e.isInitialized()?e.getImmediate():M1(i)}function M1(i,e={}){const r=xl(i,_u);if(r.isInitialized()){const o=r.getImmediate();if(mu(e,r.getOptions()))return o;throw ln.create("already-initialized")}return r.initialize({options:e})}function I1(i,e,r,s){i=Zt(i),C1(CE,ll[i.app.options.appId],e,r,s).catch(o=>Xt.error(o))}const by="@firebase/analytics",Sy="0.10.11";function L1(){$n(new Hn(_u,(e,{options:r})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return O1(s,o,r)},"PUBLIC")),$n(new Hn("analytics-internal",i,"PRIVATE")),wn(by,Sy),wn(by,Sy,"esm2017");function i(e){try{const r=e.getProvider(_u).getImmediate();return{logEvent:(s,o,u)=>I1(r,s,o,u)}}catch(r){throw ln.create("interop-component-reg-failed",{reason:r})}}}L1();var Ty={};const Cy="@firebase/database",wy="1.0.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wE="";function U1(i){wE=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,r){r==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),bt(r))}get(e){const r=this.domStorage_.getItem(this.prefixedName_(e));return r==null?null:_l(r)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,r){r==null?delete this.cache_[e]:this.cache_[e]=r}get(e){return ei(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new k1(e)}}catch{}return new z1},qr=RE("localStorage"),H1=RE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new Hu("@firebase/database"),P1=function(){let i=1;return function(){return i++}}(),AE=function(i){const e=iR(i),r=new Jw;r.update(e);const s=r.digest();return ph.encodeByteArray(s)},Ml=function(...i){let e="";for(let r=0;r<i.length;r++){const s=i[r];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Ml.apply(null,s):typeof s=="object"?e+=bt(s):e+=s,e+=" "}return e};let ol=null,Ry=!0;const B1=function(i,e){K(!0,"Can't turn on custom loggers persistently."),Ba.logLevel=Fe.VERBOSE,ol=Ba.log.bind(Ba)},jt=function(...i){if(Ry===!0&&(Ry=!1,ol===null&&H1.get("logging_enabled")===!0&&B1()),ol){const e=Ml.apply(null,i);ol(e)}},Il=function(i){return function(...e){jt(i,...e)}},jd=function(...i){const e="FIREBASE INTERNAL ERROR: "+Ml(...i);Ba.error(e)},wi=function(...i){const e=`FIREBASE FATAL ERROR: ${Ml(...i)}`;throw Ba.error(e),new Error(e)},$t=function(...i){const e="FIREBASE WARNING: "+Ml(...i);Ba.warn(e)},j1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&$t("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Rh=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},V1=function(i){if(document.readyState==="complete")i();else{let e=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Kr="[MIN_NAME]",or="[MAX_NAME]",Qa=function(i,e){if(i===e)return 0;if(i===Kr||e===or)return-1;if(e===Kr||i===or)return 1;{const r=Ay(i),s=Ay(e);return r!==null?s!==null?r-s===0?i.length-e.length:r-s:-1:s!==null?1:i<e?-1:1}},q1=function(i,e){return i===e?0:i<e?-1:1},el=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+bt(e))},Ah=function(i){if(typeof i!="object"||i===null)return bt(i);const e=[];for(const s in i)e.push(s);e.sort();let r="{";for(let s=0;s<e.length;s++)s!==0&&(r+=","),r+=bt(e[s]),r+=":",r+=Ah(i[e[s]]);return r+="}",r},NE=function(i,e){const r=i.length;if(r<=e)return[i];const s=[];for(let o=0;o<r;o+=e)o+e>r?s.push(i.substring(o,r)):s.push(i.substring(o,o+e));return s};function Wt(i,e){for(const r in i)i.hasOwnProperty(r)&&e(r,i[r])}const DE=function(i){K(!Rh(i),"Invalid JSON number");const e=11,r=52,s=(1<<e-1)-1;let o,u,f,h,m;i===0?(u=0,f=0,o=1/i===-1/0?1:0):(o=i<0,i=Math.abs(i),i>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),s),u=h+s,f=Math.round(i*Math.pow(2,r-h)-Math.pow(2,r))):(u=0,f=Math.round(i/Math.pow(2,1-s-r))));const p=[];for(m=r;m;m-=1)p.push(f%2?1:0),f=Math.floor(f/2);for(m=e;m;m-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(o?1:0),p.reverse();const y=p.join("");let v="";for(m=0;m<64;m+=8){let E=parseInt(y.substr(m,8),2).toString(16);E.length===1&&(E="0"+E),v=v+E}return v.toLowerCase()},F1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},G1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Y1(i,e){let r="Unknown Error";i==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?r="Client doesn't have permission to access the desired data.":i==="unavailable"&&(r="The service is unavailable");const s=new Error(i+" at "+e._path.toString()+": "+r);return s.code=i.toUpperCase(),s}const Q1=new RegExp("^-?(0*)\\d{1,10}$"),K1=-2147483648,X1=2147483647,Ay=function(i){if(Q1.test(i)){const e=Number(i);if(e>=K1&&e<=X1)return e}return null},Ka=function(i){try{i()}catch(e){setTimeout(()=>{const r=e.stack||"";throw $t("Exception was thrown by user callback.",r),e},Math.floor(0))}},$1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ul=function(i,e){const r=setTimeout(i,e);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,r){this.appName_=e,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((r,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(r,s):r(null)},0)})}addTokenChangeListener(e){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){$t(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,r,s){this.appName_=e,this.firebaseOptions_=r,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(r=>r&&r.code==="auth/token-not-initialized"?(jt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(r,s):r(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(r=>r.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(r=>r.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$t(e)}}class au{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}au.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="5",OE="v",xE="s",ME="r",IE="f",LE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,UE="ls",kE="p",Vd="ac",zE="websocket",HE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,r,s,o,u=!1,f="",h=!1,m=!1){this.secure=r,this.namespace=s,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=qr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&qr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${r}`}}function J1(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function BE(i,e,r){K(typeof e=="string","typeof type must == string"),K(typeof r=="object","typeof params must == object");let s;if(e===zE)s=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===HE)s=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);J1(i)&&(r.ns=i.namespace);const o=[];return Wt(r,(u,f)=>{o.push(u+"="+f)}),s+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.counters_={}}incrementCounter(e,r=1){ei(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=r}get(){return Uw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd={},Td={};function Dh(i){const e=i.toString();return Sd[e]||(Sd[e]=new eN),Sd[e]}function tN(i,e){const r=i.toString();return Td[r]||(Td[r]=e()),Td[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,r){this.closeAfterResponse=e,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,r){for(this.pendingResponses[e]=r;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<s.length;++o)s[o]&&Ka(()=>{this.onMessage_(s[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="start",iN="close",rN="pLPCommand",aN="pRTLPCB",jE="id",VE="pw",qE="ser",sN="cb",lN="seg",oN="ts",uN="d",cN="dframe",FE=1870,GE=30,fN=FE-GE,dN=25e3,hN=3e4;class Pa{constructor(e,r,s,o,u,f,h){this.connId=e,this.repoInfo=r,this.applicationId=s,this.appCheckToken=o,this.authToken=u,this.transportSessionId=f,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Il(e),this.stats_=Dh(r),this.urlFn=m=>(this.appCheckToken&&(m[Vd]=this.appCheckToken),BE(r,HE,m))}open(e,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new nN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(hN)),V1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Oh((...u)=>{const[f,h,m,p,y]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Ny)this.id=h,this.password=m;else if(f===iN)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[Ny]="t",s[qE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[sN]=this.scriptTagHolder.uniqueCallbackIdentifier),s[OE]=Nh,this.transportSessionId&&(s[xE]=this.transportSessionId),this.lastSessionId&&(s[UE]=this.lastSessionId),this.applicationId&&(s[kE]=this.applicationId),this.appCheckToken&&(s[Vd]=this.appCheckToken),typeof location<"u"&&location.hostname&&LE.test(location.hostname)&&(s[ME]=IE);const o=this.urlFn(s);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Pa.forceAllow_=!0}static forceDisallow(){Pa.forceDisallow_=!0}static isAvailable(){return Pa.forceAllow_?!0:!Pa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!F1()&&!G1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const r=bt(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=Vv(r),o=NE(s,fN);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,r){this.myDisconnFrame=document.createElement("iframe");const s={};s[cN]="t",s[jE]=e,s[VE]=r,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const r=bt(e).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Oh{constructor(e,r,s,o){this.onDisconnect=s,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=P1(),window[rN+this.uniqueCallbackIdentifier]=e,window[aN+this.uniqueCallbackIdentifier]=r,this.myIFrame=Oh.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(h){jt("frame writing exception"),h.stack&&jt(h.stack),jt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||jt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,r){for(this.myID=e,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[jE]=this.myID,e[VE]=this.myPW,e[qE]=this.currentSerial;let r=this.urlFn(e),s="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+GE+s.length<=FE;){const f=this.pendingSegs.shift();s=s+"&"+lN+o+"="+f.seg+"&"+oN+o+"="+f.ts+"&"+uN+o+"="+f.d,o++}return r=r+s,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(e,r,s){this.pendingSegs.push({seg:e,ts:r,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,r){this.outstandingRequests.add(r);const s=()=>{this.outstandingRequests.delete(r),this.newRequest_()},o=setTimeout(s,Math.floor(dN)),u=()=>{clearTimeout(o),s()};this.addTag(e,u)}addTag(e,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const o=s.readyState;(!o||o==="loaded"||o==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),r())},s.onerror=()=>{jt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=16384,pN=45e3;let yu=null;typeof MozWebSocket<"u"?yu=MozWebSocket:typeof WebSocket<"u"&&(yu=WebSocket);class In{constructor(e,r,s,o,u,f,h){this.connId=e,this.applicationId=s,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Il(this.connId),this.stats_=Dh(r),this.connURL=In.connectionURL_(r,f,h,o,s),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,s,o,u){const f={};return f[OE]=Nh,typeof location<"u"&&location.hostname&&LE.test(location.hostname)&&(f[ME]=IE),r&&(f[xE]=r),s&&(f[UE]=s),o&&(f[Vd]=o),u&&(f[kE]=u),BE(e,zE,f)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,qr.set("previous_websocket_failure",!0);try{let s;Yw(),this.mySock=new yu(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){In.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(r);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&yu!==null&&!In.forceDisallow_}static previouslyFailed(){return qr.isInMemoryStorage||qr.get("previous_websocket_failure")===!0}markConnectionHealthy(){qr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const s=_l(r);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(K(this.frames===null,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const s=this.extractFrameCount_(r);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const r=bt(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=NE(r,mN);s.length>1&&this.sendString_(String(s.length));for(let o=0;o<s.length;o++)this.sendString_(s[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(pN))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}In.responsesRequiredToBeHealthy=2;In.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{static get ALL_TRANSPORTS(){return[Pa,In]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const r=In&&In.isAvailable();let s=r&&!In.previouslyFailed();if(e.webSocketOnly&&(r||$t("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[In];else{const o=this.transports_=[];for(const u of vl.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);vl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}vl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=6e4,_N=5e3,yN=10*1024,vN=100*1024,Cd="t",Dy="d",EN="s",Oy="r",bN="e",xy="o",My="a",Iy="n",Ly="p",SN="h";class TN{constructor(e,r,s,o,u,f,h,m,p,y){this.id=e,this.repoInfo_=r,this.applicationId_=s,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=f,this.onReady_=h,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Il("c:"+this.id+":"),this.transportManager_=new vl(r),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,s)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=ul(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>vN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>yN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return r=>{e===this.conn_?this.onConnectionLost_(r):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return r=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(r):e===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(e){const r={t:"d",d:e};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Cd in e){const r=e[Cd];r===My?this.upgradeIfSecondaryHealthy_():r===Oy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===xy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const r=el("t",e),s=el("d",e);if(r==="c")this.onSecondaryControl_(s);else if(r==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ly,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:My,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Iy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const r=el("t",e),s=el("d",e);r==="c"?this.onControl_(s):r==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const r=el(Cd,e);if(Dy in e){const s=e[Dy];if(r===SN){const o=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(r===Iy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===EN?this.onConnectionShutdown_(s):r===Oy?this.onReset_(s):r===bN?jd("Server Error: "+s):r===xy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jd("Unknown control packet command: "+r)}}onHandshake_(e){const r=e.ts,s=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Nh!==s&&$t("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,s),ul(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(gN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,r){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ul(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(_N))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ly,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(qr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{put(e,r,s,o){}merge(e,r,s,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,r,s){}onDisconnectMerge(e,r,s){}onDisconnectCancel(e,r){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e){this.allowedEvents_=e,this.listeners_={},K(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...r){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let o=0;o<s.length;o++)s[o].callback.apply(s[o].context,r)}}on(e,r,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:r,context:s});const o=this.getInitialEvent(e);o&&r.apply(s,o)}off(e,r,s){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===r&&(!s||s===o[u].context)){o.splice(u,1);return}}validateEventType_(e){K(this.allowedEvents_.find(r=>r===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends QE{static getInstance(){return new vu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!_h()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return K(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=32,ky=768;class Qe{constructor(e,r){if(r===void 0){this.pieces_=e.split("/");let s=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[s]=this.pieces_[o],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=r}toString(){let e="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(e+="/"+this.pieces_[r]);return e||"/"}}function He(){return new Qe("")}function De(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function ur(i){return i.pieces_.length-i.pieceNum_}function We(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new Qe(i.pieces_,e)}function KE(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function CN(i){let e="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[r])));return e||"/"}function XE(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function $E(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)e.push(i.pieces_[r]);return new Qe(e,0)}function St(i,e){const r=[];for(let s=i.pieceNum_;s<i.pieces_.length;s++)r.push(i.pieces_[s]);if(e instanceof Qe)for(let s=e.pieceNum_;s<e.pieces_.length;s++)r.push(e.pieces_[s]);else{const s=e.split("/");for(let o=0;o<s.length;o++)s[o].length>0&&r.push(s[o])}return new Qe(r,0)}function Ne(i){return i.pieceNum_>=i.pieces_.length}function Ft(i,e){const r=De(i),s=De(e);if(r===null)return e;if(r===s)return Ft(We(i),We(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function WE(i,e){if(ur(i)!==ur(e))return!1;for(let r=i.pieceNum_,s=e.pieceNum_;r<=i.pieces_.length;r++,s++)if(i.pieces_[r]!==e.pieces_[s])return!1;return!0}function Ln(i,e){let r=i.pieceNum_,s=e.pieceNum_;if(ur(i)>ur(e))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==e.pieces_[s])return!1;++r,++s}return!0}class wN{constructor(e,r){this.errorPrefix_=r,this.parts_=XE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=zu(this.parts_[s]);ZE(this)}}function RN(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=zu(e),ZE(i)}function AN(i){const e=i.parts_.pop();i.byteLength_-=zu(e),i.parts_.length>0&&(i.byteLength_-=1)}function ZE(i){if(i.byteLength_>ky)throw new Error(i.errorPrefix_+"has a key path longer than "+ky+" bytes ("+i.byteLength_+").");if(i.parts_.length>Uy)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Uy+") or object contains a cycle "+Pr(i))}function Pr(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends QE{static getInstance(){return new xh}constructor(){super(["visible"]);let e,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return K(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=1e3,NN=60*5*1e3,zy=30*1e3,DN=1.3,ON=3e4,xN="server_kill",Hy=3;class Ti extends YE{constructor(e,r,s,o,u,f,h,m){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=s,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=Ti.nextPersistentConnectionId_++,this.log_=Il("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=tl,this.maxReconnectDelay_=NN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&vu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,s){const o=++this.requestNumber_,u={r:o,a:e,b:r};this.log_(bt(u)),K(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[o]=s)}get(e){this.initConnection_();const r=new ku,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const h=f.d;f.s==="ok"?r.resolve(h):r.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),r.promise}listen(e,r,s,o){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),K(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:r,query:e,tag:s};this.listens.get(f).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(s)})}sendListen_(e){const r=e.query,s=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+s+" for "+o);const u={p:s},f="q";e.tag&&(u.q=r._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,h=>{const m=h.d,p=h.s;Ti.warnOnListenWarnings_(m,r),(this.listens.get(s)&&this.listens.get(s).get(o))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(s,o),e.onComplete&&e.onComplete(p,m))})}static warnOnListenWarnings_(e,r){if(e&&typeof e=="object"&&ei(e,"w")){const s=qa(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();$t(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Zw(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zy)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=Ww(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(r,s,o=>{const u=o.s,f=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,s=e.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,s)})}unlisten(e,r){const s=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+o),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,o)&&this.connected_&&this.sendUnlisten_(s,o,e._queryObject,r)}sendUnlisten_(e,r,s,o){this.log_("Unlisten on "+e+" for "+r);const u={p:e},f="n";o&&(u.q=s,u.t=o),this.sendRequest(f,u)}onDisconnectPut(e,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:s})}onDisconnectMerge(e,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:s})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,s,o){const u={p:r,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(e,r,s,o){this.putInternal("p",e,r,s,o)}merge(e,r,s,o){this.putInternal("m",e,r,s,o)}putInternal(e,r,s,o,u){this.initConnection_();const f={p:r,d:s};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,s,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+bt(e));const r=e.r,s=this.requestCBHash_[r];s&&(delete this.requestCBHash_[r],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),e==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):e==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):e==="c"?this.onListenRevoked_(r.p,r.q):e==="ac"?this.onAuthRevoked_(r.s,r.d):e==="apc"?this.onAppCheckRevoked_(r.s,r.d):e==="sd"?this.onSecurityDebugPacket_(r):jd("Unrecognized action received from server: "+bt(e)+`
Are you using the latest client?`)}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){K(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=tl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=tl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ON&&(this.reconnectDelay_=tl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*DN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Ti.nextConnectionId_++,u=this.lastSessionId;let f=!1,h=null;const m=function(){h?h.close():(f=!0,s())},p=function(v){K(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(v)};this.realtime_={close:m,sendRequest:p};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,E]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);f?jt("getToken() completed but was canceled"):(jt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=E&&E.token,h=new TN(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,r,s,S=>{$t(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(xN)},u))}catch(v){this.log_("Failed to get token: "+v),f||(this.repoInfo_.nodeAdmin&&$t(v),m())}}}interrupt(e){jt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){jt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ry(this.interruptReasons_)&&(this.reconnectDelay_=tl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let s;r?s=r.map(u=>Ah(u)).join("$"):s="default";const o=this.removeListen_(e,s);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,r){const s=new Qe(e).toString();let o;if(this.listens.has(s)){const u=this.listens.get(s);o=u.get(r),u.delete(r),u.size===0&&this.listens.delete(s)}else o=void 0;return o}onAuthRevoked_(e,r){jt("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Hy&&(this.reconnectDelay_=zy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){jt("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Hy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";e["sdk."+r+"."+wE.replace(/\./g,"-")]=1,_h()?e["framework.cordova"]=1:Yv()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=vu.getInstance().currentlyOnline();return ry(this.interruptReasons_)&&e}}Ti.nextPersistentConnectionId_=0;Ti.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,r){this.name=e,this.node=r}static Wrap(e,r){return new Re(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,r){const s=new Re(Kr,e),o=new Re(Kr,r);return this.compare(s,o)!==0}minPost(){return Re.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo;class JE extends Vu{static get __EMPTY_NODE(){return Jo}static set __EMPTY_NODE(e){Jo=e}compare(e,r){return Qa(e.name,r.name)}isDefinedOn(e){throw Ya("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,r){return!1}minPost(){return Re.MIN}maxPost(){return new Re(or,Jo)}makePost(e,r){return K(typeof e=="string","KeyIndex indexValue must always be a string."),new Re(e,Jo)}toString(){return".key"}}const rr=new JE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,r,s,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=r?s(e.key,r):1,o&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(e.key,e.value):r={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Dt{constructor(e,r,s,o,u){this.key=e,this.value=r,this.color=s??Dt.RED,this.left=o??Kt.EMPTY_NODE,this.right=u??Kt.EMPTY_NODE}copy(e,r,s,o,u){return new Dt(e??this.key,r??this.value,s??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let o=this;const u=s(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,r,s),null):u===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,r,s)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Kt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let s,o;if(s=this,r(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),r(e,s.key)===0){if(s.right.isEmpty())return Kt.EMPTY_NODE;o=s.right.min_(),s=s.copy(o.key,o.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Dt.RED=!0;Dt.BLACK=!1;class MN{copy(e,r,s,o,u){return this}insert(e,r,s){return new Dt(e,r,null)}remove(e,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Kt{constructor(e,r=Kt.EMPTY_NODE){this.comparator_=e,this.root_=r}insert(e,r){return new Kt(this.comparator_,this.root_.insert(e,r,this.comparator_).copy(null,null,Dt.BLACK,null,null))}remove(e){return new Kt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Dt.BLACK,null,null))}get(e){let r,s=this.root_;for(;!s.isEmpty();){if(r=this.comparator_(e,s.key),r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}getPredecessorKey(e){let r,s=this.root_,o=null;for(;!s.isEmpty();)if(r=this.comparator_(e,s.key),r===0){if(s.left.isEmpty())return o?o.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else r<0?s=s.left:r>0&&(o=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new eu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,r){return new eu(this.root_,e,this.comparator_,!1,r)}getReverseIteratorFrom(e,r){return new eu(this.root_,e,this.comparator_,!0,r)}getReverseIterator(e){return new eu(this.root_,null,this.comparator_,!0,e)}}Kt.EMPTY_NODE=new MN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(i,e){return Qa(i.name,e.name)}function Mh(i,e){return Qa(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qd;function LN(i){qd=i}const eb=function(i){return typeof i=="number"?"number:"+DE(i):"string:"+i},tb=function(i){if(i.isLeafNode()){const e=i.val();K(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ei(e,".sv"),"Priority must be a string or number.")}else K(i===qd||i.isEmpty(),"priority of unexpected type.");K(i===qd||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Py;class Nt{static set __childrenNodeConstructor(e){Py=e}static get __childrenNodeConstructor(){return Py}constructor(e,r=Nt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,K(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),tb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Nt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Nt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ne(e)?this:De(e)===".priority"?this.priorityNode_:Nt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return e===".priority"?this.updatePriority(r):r.isEmpty()&&e!==".priority"?this:Nt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const s=De(e);return s===null?r:r.isEmpty()&&s!==".priority"?this:(K(s!==".priority"||ur(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Nt.__childrenNodeConstructor.EMPTY_NODE.updateChild(We(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+eb(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",r==="number"?e+=DE(this.value_):e+=this.value_,this.lazyHash_=AE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Nt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Nt.__childrenNodeConstructor?-1:(K(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,s=typeof this.value_,o=Nt.VALUE_TYPE_ORDER.indexOf(r),u=Nt.VALUE_TYPE_ORDER.indexOf(s);return K(o>=0,"Unknown leaf type: "+r),K(u>=0,"Unknown leaf type: "+s),o===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Nt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nb,ib;function UN(i){nb=i}function kN(i){ib=i}class zN extends Vu{compare(e,r){const s=e.node.getPriority(),o=r.node.getPriority(),u=s.compareTo(o);return u===0?Qa(e.name,r.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,r){return!e.getPriority().equals(r.getPriority())}minPost(){return Re.MIN}maxPost(){return new Re(or,new Nt("[PRIORITY-POST]",ib))}makePost(e,r){const s=nb(e);return new Re(r,new Nt("[PRIORITY-POST]",s))}toString(){return".priority"}}const at=new zN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=Math.log(2);class PN{constructor(e){const r=u=>parseInt(Math.log(u)/HN,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=r(e+1),this.current_=this.count-1;const o=s(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Eu=function(i,e,r,s){i.sort(e);const o=function(m,p){const y=p-m;let v,E;if(y===0)return null;if(y===1)return v=i[m],E=r?r(v):v,new Dt(E,v.node,Dt.BLACK,null,null);{const S=parseInt(y/2,10)+m,A=o(m,S),P=o(S+1,p);return v=i[S],E=r?r(v):v,new Dt(E,v.node,Dt.BLACK,A,P)}},u=function(m){let p=null,y=null,v=i.length;const E=function(A,P){const H=v-A,B=v;v-=A;const G=o(H+1,B),Z=i[H],de=r?r(Z):Z;S(new Dt(de,Z.node,P,null,G))},S=function(A){p?(p.left=A,p=A):(y=A,p=A)};for(let A=0;A<m.count;++A){const P=m.nextBitIsOne(),H=Math.pow(2,m.count-(A+1));P?E(H,Dt.BLACK):(E(H,Dt.BLACK),E(H,Dt.RED))}return y},f=new PN(i.length),h=u(f);return new Kt(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd;const Ha={};class Si{static get Default(){return K(Ha&&at,"ChildrenNode.ts has not been loaded"),wd=wd||new Si({".priority":Ha},{".priority":at}),wd}constructor(e,r){this.indexes_=e,this.indexSet_=r}get(e){const r=qa(this.indexes_,e);if(!r)throw new Error("No index defined for "+e);return r instanceof Kt?r:null}hasIndex(e){return ei(this.indexSet_,e.toString())}addIndex(e,r){K(e!==rr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let o=!1;const u=r.getIterator(Re.Wrap);let f=u.getNext();for(;f;)o=o||e.isDefinedOn(f.node),s.push(f),f=u.getNext();let h;o?h=Eu(s,e.getCompare()):h=Ha;const m=e.toString(),p=Object.assign({},this.indexSet_);p[m]=e;const y=Object.assign({},this.indexes_);return y[m]=h,new Si(y,p)}addToIndexes(e,r){const s=hu(this.indexes_,(o,u)=>{const f=qa(this.indexSet_,u);if(K(f,"Missing index implementation for "+u),o===Ha)if(f.isDefinedOn(e.node)){const h=[],m=r.getIterator(Re.Wrap);let p=m.getNext();for(;p;)p.name!==e.name&&h.push(p),p=m.getNext();return h.push(e),Eu(h,f.getCompare())}else return Ha;else{const h=r.get(e.name);let m=o;return h&&(m=m.remove(new Re(e.name,h))),m.insert(e,e.node)}});return new Si(s,this.indexSet_)}removeFromIndexes(e,r){const s=hu(this.indexes_,o=>{if(o===Ha)return o;{const u=r.get(e.name);return u?o.remove(new Re(e.name,u)):o}});return new Si(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl;class _e{static get EMPTY_NODE(){return nl||(nl=new _e(new Kt(Mh),null,Si.Default))}constructor(e,r,s){this.children_=e,this.priorityNode_=r,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&tb(this.priorityNode_),this.children_.isEmpty()&&K(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||nl}updatePriority(e){return this.children_.isEmpty()?this:new _e(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const r=this.children_.get(e);return r===null?nl:r}}getChild(e){const r=De(e);return r===null?this:this.getImmediateChild(r).getChild(We(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,r){if(K(r,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(r);{const s=new Re(e,r);let o,u;r.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(o=this.children_.insert(e,r),u=this.indexMap_.addToIndexes(s,this.children_));const f=o.isEmpty()?nl:this.priorityNode_;return new _e(o,f,u)}}updateChild(e,r){const s=De(e);if(s===null)return r;{K(De(e)!==".priority"||ur(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(s).updateChild(We(e),r);return this.updateImmediateChild(s,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let s=0,o=0,u=!0;if(this.forEachChild(at,(f,h)=>{r[f]=h.val(e),s++,u&&_e.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):u=!1}),!e&&u&&o<2*s){const f=[];for(const h in r)f[h]=r[h];return f}else return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+eb(this.getPriority().val())+":"),this.forEachChild(at,(r,s)=>{const o=s.hash();o!==""&&(e+=":"+r+":"+o)}),this.lazyHash_=e===""?"":AE(e)}return this.lazyHash_}getPredecessorChildName(e,r,s){const o=this.resolveIndex_(s);if(o){const u=o.getPredecessorKey(new Re(e,r));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const s=r.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new Re(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const s=r.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new Re(r,this.children_.get(r)):null}forEachChild(e,r){const s=this.resolveIndex_(e);return s?s.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const s=this.resolveIndex_(r);if(s)return s.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,Re.Wrap);let u=o.peek();for(;u!=null&&r.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const s=this.resolveIndex_(r);if(s)return s.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,Re.Wrap);let u=o.peek();for(;u!=null&&r.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ll?-1:0}withIndex(e){if(e===rr||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new _e(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===rr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const s=this.getIterator(at),o=r.getIterator(at);let u=s.getNext(),f=o.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=s.getNext(),f=o.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===rr?null:this.indexMap_.get(e.toString())}}_e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class BN extends _e{constructor(){super(new Kt(Mh),_e.EMPTY_NODE,Si.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return _e.EMPTY_NODE}isEmpty(){return!1}}const Ll=new BN;Object.defineProperties(Re,{MIN:{value:new Re(Kr,_e.EMPTY_NODE)},MAX:{value:new Re(or,Ll)}});JE.__EMPTY_NODE=_e.EMPTY_NODE;Nt.__childrenNodeConstructor=_e;LN(Ll);kN(Ll);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=!0;function Ot(i,e=null){if(i===null)return _e.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),K(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new Nt(r,Ot(e))}if(!(i instanceof Array)&&jN){const r=[];let s=!1;if(Wt(i,(f,h)=>{if(f.substring(0,1)!=="."){const m=Ot(h);m.isEmpty()||(s=s||!m.getPriority().isEmpty(),r.push(new Re(f,m)))}}),r.length===0)return _e.EMPTY_NODE;const u=Eu(r,IN,f=>f.name,Mh);if(s){const f=Eu(r,at.getCompare());return new _e(u,Ot(e),new Si({".priority":f},{".priority":at}))}else return new _e(u,Ot(e),Si.Default)}else{let r=_e.EMPTY_NODE;return Wt(i,(s,o)=>{if(ei(i,s)&&s.substring(0,1)!=="."){const u=Ot(o);(u.isLeafNode()||!u.isEmpty())&&(r=r.updateImmediateChild(s,u))}}),r.updatePriority(Ot(e))}}UN(Ot);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb extends Vu{constructor(e){super(),this.indexPath_=e,K(!Ne(e)&&De(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,r){const s=this.extractChild(e.node),o=this.extractChild(r.node),u=s.compareTo(o);return u===0?Qa(e.name,r.name):u}makePost(e,r){const s=Ot(e),o=_e.EMPTY_NODE.updateChild(this.indexPath_,s);return new Re(r,o)}maxPost(){const e=_e.EMPTY_NODE.updateChild(this.indexPath_,Ll);return new Re(or,e)}toString(){return XE(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN extends Vu{compare(e,r){const s=e.node.compareTo(r.node);return s===0?Qa(e.name,r.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,r){return!e.equals(r)}minPost(){return Re.MIN}maxPost(){return Re.MAX}makePost(e,r){const s=Ot(e);return new Re(r,s)}toString(){return".value"}}const ab=new VN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(i){return{type:"value",snapshotNode:i}}function Fa(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function El(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function bl(i,e,r){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:r}}function qN(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e){this.index_=e}updateChild(e,r,s,o,u,f){K(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(r);return h.getChild(o).equals(s.getChild(o))&&h.isEmpty()===s.isEmpty()||(f!=null&&(s.isEmpty()?e.hasChild(r)?f.trackChildChange(El(r,h)):K(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?f.trackChildChange(Fa(r,s)):f.trackChildChange(bl(r,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(r,s).withIndex(this.index_)}updateFullNode(e,r,s){return s!=null&&(e.isLeafNode()||e.forEachChild(at,(o,u)=>{r.hasChild(o)||s.trackChildChange(El(o,u))}),r.isLeafNode()||r.forEachChild(at,(o,u)=>{if(e.hasChild(o)){const f=e.getImmediateChild(o);f.equals(u)||s.trackChildChange(bl(o,u,f))}else s.trackChildChange(Fa(o,u))})),r.withIndex(this.index_)}updatePriority(e,r){return e.isEmpty()?_e.EMPTY_NODE:e.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this.indexedFilter_=new Ih(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Sl.getStartPost_(e),this.endPost_=Sl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return r&&s}updateChild(e,r,s,o,u,f){return this.matches(new Re(r,s))||(s=_e.EMPTY_NODE),this.indexedFilter_.updateChild(e,r,s,o,u,f)}updateFullNode(e,r,s){r.isLeafNode()&&(r=_e.EMPTY_NODE);let o=r.withIndex(this.index_);o=o.updatePriority(_e.EMPTY_NODE);const u=this;return r.forEachChild(at,(f,h)=>{u.matches(new Re(f,h))||(o=o.updateImmediateChild(f,_e.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,s)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const r=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),r)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const r=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),r)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=r=>{const s=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Sl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,r,s,o,u,f){return this.rangedFilter_.matches(new Re(r,s))||(s=_e.EMPTY_NODE),e.getImmediateChild(r).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,r,s,o,u,f):this.fullLimitUpdateChild_(e,r,s,u,f)}updateFullNode(e,r,s){let o;if(r.isLeafNode()||r.isEmpty())o=_e.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){o=_e.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),f++;else break;else continue}}else{o=r.withIndex(this.index_),o=o.updatePriority(_e.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let f=0;for(;u.hasNext();){const h=u.getNext();f<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?f++:o=o.updateImmediateChild(h.name,_e.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,s)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,r,s,o,u){let f;if(this.reverse_){const v=this.index_.getCompare();f=(E,S)=>v(S,E)}else f=this.index_.getCompare();const h=e;K(h.numChildren()===this.limit_,"");const m=new Re(r,s),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),y=this.rangedFilter_.matches(m);if(h.hasChild(r)){const v=h.getImmediateChild(r);let E=o.getChildAfterChild(this.index_,p,this.reverse_);for(;E!=null&&(E.name===r||h.hasChild(E.name));)E=o.getChildAfterChild(this.index_,E,this.reverse_);const S=E==null?1:f(E,m);if(y&&!s.isEmpty()&&S>=0)return u!=null&&u.trackChildChange(bl(r,s,v)),h.updateImmediateChild(r,s);{u!=null&&u.trackChildChange(El(r,v));const P=h.updateImmediateChild(r,_e.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(u!=null&&u.trackChildChange(Fa(E.name,E.node)),P.updateImmediateChild(E.name,E.node)):P}}else return s.isEmpty()?e:y&&f(p,m)>=0?(u!=null&&(u.trackChildChange(El(p.name,p.node)),u.trackChildChange(Fa(r,s))),h.updateImmediateChild(r,s).updateImmediateChild(p.name,_e.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=at}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return K(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return K(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Kr}hasEnd(){return this.endSet_}getIndexEndValue(){return K(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return K(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:or}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return K(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===at}copy(){const e=new Lh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function GN(i){return i.loadsAllData()?new Ih(i.getIndex()):i.hasLimit()?new FN(i):new Sl(i)}function YN(i,e){const r=i.copy();return r.limitSet_=!0,r.limit_=e,r.viewFrom_="l",r}function QN(i,e,r){const s=i.copy();return s.startSet_=!0,e===void 0&&(e=null),s.indexStartValue_=e,r!=null?(s.startNameSet_=!0,s.indexStartName_=r):(s.startNameSet_=!1,s.indexStartName_=""),s}function KN(i,e){const r=i.copy();return r.index_=e,r}function By(i){const e={};if(i.isDefault())return e;let r;if(i.index_===at?r="$priority":i.index_===ab?r="$value":i.index_===rr?r="$key":(K(i.index_ instanceof rb,"Unrecognized index type!"),r=i.index_.toString()),e.orderBy=bt(r),i.startSet_){const s=i.startAfterSet_?"startAfter":"startAt";e[s]=bt(i.indexStartValue_),i.startNameSet_&&(e[s]+=","+bt(i.indexStartName_))}if(i.endSet_){const s=i.endBeforeSet_?"endBefore":"endAt";e[s]=bt(i.indexEndValue_),i.endNameSet_&&(e[s]+=","+bt(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function jy(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),e.vf=r}return i.index_!==at&&(e.i=i.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends YE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,r){return r!==void 0?"tag$"+r:(K(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,r,s,o){super(),this.repoInfo_=e,this.onDataUpdate_=r,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.log_=Il("p:rest:"),this.listens_={}}listen(e,r,s,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=bu.getListenId_(e,s),h={};this.listens_[f]=h;const m=By(e._queryParams);this.restRequest_(u+".json",m,(p,y)=>{let v=y;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(u,v,!1,s),qa(this.listens_,f)===h){let E;p?p===401?E="permission_denied":E="rest_error:"+p:E="ok",o(E,null)}})}unlisten(e,r){const s=bu.getListenId_(e,r);delete this.listens_[s]}get(e){const r=By(e._queryParams),s=e._path.toString(),o=new ku;return this.restRequest_(s+".json",r,(u,f)=>{let h=f;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(s,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,r={},s){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(r.auth=o.accessToken),u&&u.token&&(r.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+yh(r);this.log_("Sending REST request for "+f);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=_l(h.responseText)}catch{$t("Failed to parse JSON response for "+f+": "+h.responseText)}s(null,m)}else h.status!==401&&h.status!==404&&$t("Got unsuccessful REST response for "+f+" Status: "+h.status),s(h.status);s=null}},h.open("GET",f,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.rootNode_=_e.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,r){this.rootNode_=this.rootNode_.updateChild(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(){return{value:null,children:new Map}}function lb(i,e,r){if(Ne(e))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,r);else{const s=De(e);i.children.has(s)||i.children.set(s,Su());const o=i.children.get(s);e=We(e),lb(o,e,r)}}function Fd(i,e,r){i.value!==null?r(e,i.value):$N(i,(s,o)=>{const u=new Qe(e.toString()+"/"+s);Fd(o,u,r)})}function $N(i,e){i.children.forEach((r,s)=>{e(s,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),r=Object.assign({},e);return this.last_&&Wt(this.last_,(s,o)=>{r[s]=r[s]-o}),this.last_=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=10*1e3,ZN=30*1e3,JN=5*60*1e3;class eD{constructor(e,r){this.server_=r,this.statsToReport_={},this.statsListener_=new WN(e);const s=Vy+(ZN-Vy)*Math.random();ul(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),r={};let s=!1;Wt(e,(o,u)=>{u>0&&ei(this.statsToReport_,o)&&(r[o]=u,s=!0)}),s&&this.server_.reportStats(r),ul(this.reportStats_.bind(this),Math.floor(Math.random()*2*JN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Un||(Un={}));function ob(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Uh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function kh(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,r,s){this.path=e,this.affectedTree=r,this.revert=s,this.type=Un.ACK_USER_WRITE,this.source=ob()}operationForChild(e){if(Ne(this.path)){if(this.affectedTree.value!=null)return K(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new Qe(e));return new Tu(He(),r,this.revert)}}else return K(De(this.path)===e,"operationForChild called for unrelated child."),new Tu(We(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,r){this.source=e,this.path=r,this.type=Un.LISTEN_COMPLETE}operationForChild(e){return Ne(this.path)?new Tl(this.source,He()):new Tl(this.source,We(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,r,s){this.source=e,this.path=r,this.snap=s,this.type=Un.OVERWRITE}operationForChild(e){return Ne(this.path)?new Xr(this.source,He(),this.snap.getImmediateChild(e)):new Xr(this.source,We(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,r,s){this.source=e,this.path=r,this.children=s,this.type=Un.MERGE}operationForChild(e){if(Ne(this.path)){const r=this.children.subtree(new Qe(e));return r.isEmpty()?null:r.value?new Xr(this.source,He(),r.value):new Cl(this.source,He(),r)}else return K(De(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Cl(this.source,We(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,r,s){this.node_=e,this.fullyInitialized_=r,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ne(e))return this.isFullyInitialized()&&!this.filtered_;const r=De(e);return this.isCompleteForChild(r)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function nD(i,e,r,s){const o=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(qN(f.childName,f.snapshotNode))}),il(i,o,"child_removed",e,s,r),il(i,o,"child_added",e,s,r),il(i,o,"child_moved",u,s,r),il(i,o,"child_changed",e,s,r),il(i,o,"value",e,s,r),o}function il(i,e,r,s,o,u){const f=s.filter(h=>h.type===r);f.sort((h,m)=>rD(i,h,m)),f.forEach(h=>{const m=iD(i,h,u);o.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(m,i.query_))})})}function iD(i,e,r){return e.type==="value"||e.type==="child_removed"||(e.prevName=r.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function rD(i,e,r){if(e.childName==null||r.childName==null)throw Ya("Should only compare child_ events.");const s=new Re(e.childName,e.snapshotNode),o=new Re(r.childName,r.snapshotNode);return i.index_.compare(s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(i,e){return{eventCache:i,serverCache:e}}function cl(i,e,r,s){return qu(new cr(e,r,s),i.serverCache)}function ub(i,e,r,s){return qu(i.eventCache,new cr(e,r,s))}function Cu(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function $r(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd;const aD=()=>(Rd||(Rd=new Kt(q1)),Rd);class Je{static fromObject(e){let r=new Je(null);return Wt(e,(s,o)=>{r=r.set(new Qe(s),o)}),r}constructor(e,r=aD()){this.value=e,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,r){if(this.value!=null&&r(this.value))return{path:He(),value:this.value};if(Ne(e))return null;{const s=De(e),o=this.children.get(s);if(o!==null){const u=o.findRootMostMatchingPathAndValue(We(e),r);return u!=null?{path:St(new Qe(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ne(e))return this;{const r=De(e),s=this.children.get(r);return s!==null?s.subtree(We(e)):new Je(null)}}set(e,r){if(Ne(e))return new Je(r,this.children);{const s=De(e),u=(this.children.get(s)||new Je(null)).set(We(e),r),f=this.children.insert(s,u);return new Je(this.value,f)}}remove(e){if(Ne(e))return this.children.isEmpty()?new Je(null):new Je(null,this.children);{const r=De(e),s=this.children.get(r);if(s){const o=s.remove(We(e));let u;return o.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,o),this.value===null&&u.isEmpty()?new Je(null):new Je(this.value,u)}else return this}}get(e){if(Ne(e))return this.value;{const r=De(e),s=this.children.get(r);return s?s.get(We(e)):null}}setTree(e,r){if(Ne(e))return r;{const s=De(e),u=(this.children.get(s)||new Je(null)).setTree(We(e),r);let f;return u.isEmpty()?f=this.children.remove(s):f=this.children.insert(s,u),new Je(this.value,f)}}fold(e){return this.fold_(He(),e)}fold_(e,r){const s={};return this.children.inorderTraversal((o,u)=>{s[o]=u.fold_(St(e,o),r)}),r(e,this.value,s)}findOnPath(e,r){return this.findOnPath_(e,He(),r)}findOnPath_(e,r,s){const o=this.value?s(r,this.value):!1;if(o)return o;if(Ne(e))return null;{const u=De(e),f=this.children.get(u);return f?f.findOnPath_(We(e),St(r,u),s):null}}foreachOnPath(e,r){return this.foreachOnPath_(e,He(),r)}foreachOnPath_(e,r,s){if(Ne(e))return this;{this.value&&s(r,this.value);const o=De(e),u=this.children.get(o);return u?u.foreachOnPath_(We(e),St(r,o),s):new Je(null)}}foreach(e){this.foreach_(He(),e)}foreach_(e,r){this.children.inorderTraversal((s,o)=>{o.foreach_(St(e,s),r)}),this.value&&r(e,this.value)}foreachChild(e){this.children.inorderTraversal((r,s)=>{s.value&&e(r,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.writeTree_=e}static empty(){return new kn(new Je(null))}}function fl(i,e,r){if(Ne(e))return new kn(new Je(r));{const s=i.writeTree_.findRootMostValueAndPath(e);if(s!=null){const o=s.path;let u=s.value;const f=Ft(o,e);return u=u.updateChild(f,r),new kn(i.writeTree_.set(o,u))}else{const o=new Je(r),u=i.writeTree_.setTree(e,o);return new kn(u)}}}function qy(i,e,r){let s=i;return Wt(r,(o,u)=>{s=fl(s,St(e,o),u)}),s}function Fy(i,e){if(Ne(e))return kn.empty();{const r=i.writeTree_.setTree(e,new Je(null));return new kn(r)}}function Gd(i,e){return ea(i,e)!=null}function ea(i,e){const r=i.writeTree_.findRootMostValueAndPath(e);return r!=null?i.writeTree_.get(r.path).getChild(Ft(r.path,e)):null}function Gy(i){const e=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(at,(s,o)=>{e.push(new Re(s,o))}):i.writeTree_.children.inorderTraversal((s,o)=>{o.value!=null&&e.push(new Re(s,o.value))}),e}function ar(i,e){if(Ne(e))return i;{const r=ea(i,e);return r!=null?new kn(new Je(r)):new kn(i.writeTree_.subtree(e))}}function Yd(i){return i.writeTree_.isEmpty()}function Ga(i,e){return cb(He(),i.writeTree_,e)}function cb(i,e,r){if(e.value!=null)return r.updateChild(i,e.value);{let s=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(K(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):r=cb(St(i,o),u,r)}),!r.getChild(i).isEmpty()&&s!==null&&(r=r.updateChild(St(i,".priority"),s)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(i,e){return mb(e,i)}function sD(i,e,r,s,o){K(s>i.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),i.allWrites.push({path:e,snap:r,writeId:s,visible:o}),o&&(i.visibleWrites=fl(i.visibleWrites,e,r)),i.lastWriteId=s}function lD(i,e){for(let r=0;r<i.allWrites.length;r++){const s=i.allWrites[r];if(s.writeId===e)return s}return null}function oD(i,e){const r=i.allWrites.findIndex(h=>h.writeId===e);K(r>=0,"removeWrite called with nonexistent writeId.");const s=i.allWrites[r];i.allWrites.splice(r,1);let o=s.visible,u=!1,f=i.allWrites.length-1;for(;o&&f>=0;){const h=i.allWrites[f];h.visible&&(f>=r&&uD(h,s.path)?o=!1:Ln(s.path,h.path)&&(u=!0)),f--}if(o){if(u)return cD(i),!0;if(s.snap)i.visibleWrites=Fy(i.visibleWrites,s.path);else{const h=s.children;Wt(h,m=>{i.visibleWrites=Fy(i.visibleWrites,St(s.path,m))})}return!0}else return!1}function uD(i,e){if(i.snap)return Ln(i.path,e);for(const r in i.children)if(i.children.hasOwnProperty(r)&&Ln(St(i.path,r),e))return!0;return!1}function cD(i){i.visibleWrites=fb(i.allWrites,fD,He()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function fD(i){return i.visible}function fb(i,e,r){let s=kn.empty();for(let o=0;o<i.length;++o){const u=i[o];if(e(u)){const f=u.path;let h;if(u.snap)Ln(r,f)?(h=Ft(r,f),s=fl(s,h,u.snap)):Ln(f,r)&&(h=Ft(f,r),s=fl(s,He(),u.snap.getChild(h)));else if(u.children){if(Ln(r,f))h=Ft(r,f),s=qy(s,h,u.children);else if(Ln(f,r))if(h=Ft(f,r),Ne(h))s=qy(s,He(),u.children);else{const m=qa(u.children,De(h));if(m){const p=m.getChild(We(h));s=fl(s,He(),p)}}}else throw Ya("WriteRecord should have .snap or .children")}}return s}function db(i,e,r,s,o){if(!s&&!o){const u=ea(i.visibleWrites,e);if(u!=null)return u;{const f=ar(i.visibleWrites,e);if(Yd(f))return r;if(r==null&&!Gd(f,He()))return null;{const h=r||_e.EMPTY_NODE;return Ga(f,h)}}}else{const u=ar(i.visibleWrites,e);if(!o&&Yd(u))return r;if(!o&&r==null&&!Gd(u,He()))return null;{const f=function(p){return(p.visible||o)&&(!s||!~s.indexOf(p.writeId))&&(Ln(p.path,e)||Ln(e,p.path))},h=fb(i.allWrites,f,e),m=r||_e.EMPTY_NODE;return Ga(h,m)}}}function dD(i,e,r){let s=_e.EMPTY_NODE;const o=ea(i.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(at,(u,f)=>{s=s.updateImmediateChild(u,f)}),s;if(r){const u=ar(i.visibleWrites,e);return r.forEachChild(at,(f,h)=>{const m=Ga(ar(u,new Qe(f)),h);s=s.updateImmediateChild(f,m)}),Gy(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}else{const u=ar(i.visibleWrites,e);return Gy(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}}function hD(i,e,r,s,o){K(s||o,"Either existingEventSnap or existingServerSnap must exist");const u=St(e,r);if(Gd(i.visibleWrites,u))return null;{const f=ar(i.visibleWrites,u);return Yd(f)?o.getChild(r):Ga(f,o.getChild(r))}}function mD(i,e,r,s){const o=St(e,r),u=ea(i.visibleWrites,o);if(u!=null)return u;if(s.isCompleteForChild(r)){const f=ar(i.visibleWrites,o);return Ga(f,s.getNode().getImmediateChild(r))}else return null}function pD(i,e){return ea(i.visibleWrites,e)}function gD(i,e,r,s,o,u,f){let h;const m=ar(i.visibleWrites,e),p=ea(m,He());if(p!=null)h=p;else if(r!=null)h=Ga(m,r);else return[];if(h=h.withIndex(f),!h.isEmpty()&&!h.isLeafNode()){const y=[],v=f.getCompare(),E=u?h.getReverseIteratorFrom(s,f):h.getIteratorFrom(s,f);let S=E.getNext();for(;S&&y.length<o;)v(S,s)!==0&&y.push(S),S=E.getNext();return y}else return[]}function _D(){return{visibleWrites:kn.empty(),allWrites:[],lastWriteId:-1}}function wu(i,e,r,s){return db(i.writeTree,i.treePath,e,r,s)}function zh(i,e){return dD(i.writeTree,i.treePath,e)}function Yy(i,e,r,s){return hD(i.writeTree,i.treePath,e,r,s)}function Ru(i,e){return pD(i.writeTree,St(i.treePath,e))}function yD(i,e,r,s,o,u){return gD(i.writeTree,i.treePath,e,r,s,o,u)}function Hh(i,e,r){return mD(i.writeTree,i.treePath,e,r)}function hb(i,e){return mb(St(i.treePath,e),i.writeTree)}function mb(i,e){return{treePath:i,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.changeMap=new Map}trackChildChange(e){const r=e.type,s=e.childName;K(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),K(s!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(s);if(o){const u=o.type;if(r==="child_added"&&u==="child_removed")this.changeMap.set(s,bl(s,e.snapshotNode,o.snapshotNode));else if(r==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(r==="child_removed"&&u==="child_changed")this.changeMap.set(s,El(s,o.oldSnap));else if(r==="child_changed"&&u==="child_added")this.changeMap.set(s,Fa(s,e.snapshotNode));else if(r==="child_changed"&&u==="child_changed")this.changeMap.set(s,bl(s,e.snapshotNode,o.oldSnap));else throw Ya("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{getCompleteChild(e){return null}getChildAfterChild(e,r,s){return null}}const pb=new ED;class Ph{constructor(e,r,s=null){this.writes_=e,this.viewCache_=r,this.optCompleteServerCache_=s}getCompleteChild(e){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(e))return r.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new cr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Hh(this.writes_,e,s)}}getChildAfterChild(e,r,s){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:$r(this.viewCache_),u=yD(this.writes_,o,r,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(i){return{filter:i}}function SD(i,e){K(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),K(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function TD(i,e,r,s,o){const u=new vD;let f,h;if(r.type===Un.OVERWRITE){const p=r;p.source.fromUser?f=Qd(i,e,p.path,p.snap,s,o,u):(K(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!Ne(p.path),f=Au(i,e,p.path,p.snap,s,o,h,u))}else if(r.type===Un.MERGE){const p=r;p.source.fromUser?f=wD(i,e,p.path,p.children,s,o,u):(K(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),f=Kd(i,e,p.path,p.children,s,o,h,u))}else if(r.type===Un.ACK_USER_WRITE){const p=r;p.revert?f=ND(i,e,p.path,s,o,u):f=RD(i,e,p.path,p.affectedTree,s,o,u)}else if(r.type===Un.LISTEN_COMPLETE)f=AD(i,e,r.path,s,u);else throw Ya("Unknown operation type: "+r.type);const m=u.getChanges();return CD(e,f,m),{viewCache:f,changes:m}}function CD(i,e,r){const s=e.eventCache;if(s.isFullyInitialized()){const o=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=Cu(i);(r.length>0||!i.eventCache.isFullyInitialized()||o&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&r.push(sb(Cu(e)))}}function gb(i,e,r,s,o,u){const f=e.eventCache;if(Ru(s,r)!=null)return e;{let h,m;if(Ne(r))if(K(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=$r(e),y=p instanceof _e?p:_e.EMPTY_NODE,v=zh(s,y);h=i.filter.updateFullNode(e.eventCache.getNode(),v,u)}else{const p=wu(s,$r(e));h=i.filter.updateFullNode(e.eventCache.getNode(),p,u)}else{const p=De(r);if(p===".priority"){K(ur(r)===1,"Can't have a priority with additional path components");const y=f.getNode();m=e.serverCache.getNode();const v=Yy(s,r,y,m);v!=null?h=i.filter.updatePriority(y,v):h=f.getNode()}else{const y=We(r);let v;if(f.isCompleteForChild(p)){m=e.serverCache.getNode();const E=Yy(s,r,f.getNode(),m);E!=null?v=f.getNode().getImmediateChild(p).updateChild(y,E):v=f.getNode().getImmediateChild(p)}else v=Hh(s,p,e.serverCache);v!=null?h=i.filter.updateChild(f.getNode(),p,v,y,o,u):h=f.getNode()}}return cl(e,h,f.isFullyInitialized()||Ne(r),i.filter.filtersNodes())}}function Au(i,e,r,s,o,u,f,h){const m=e.serverCache;let p;const y=f?i.filter:i.filter.getIndexedFilter();if(Ne(r))p=y.updateFullNode(m.getNode(),s,null);else if(y.filtersNodes()&&!m.isFiltered()){const S=m.getNode().updateChild(r,s);p=y.updateFullNode(m.getNode(),S,null)}else{const S=De(r);if(!m.isCompleteForPath(r)&&ur(r)>1)return e;const A=We(r),H=m.getNode().getImmediateChild(S).updateChild(A,s);S===".priority"?p=y.updatePriority(m.getNode(),H):p=y.updateChild(m.getNode(),S,H,A,pb,null)}const v=ub(e,p,m.isFullyInitialized()||Ne(r),y.filtersNodes()),E=new Ph(o,v,u);return gb(i,v,r,o,E,h)}function Qd(i,e,r,s,o,u,f){const h=e.eventCache;let m,p;const y=new Ph(o,e,u);if(Ne(r))p=i.filter.updateFullNode(e.eventCache.getNode(),s,f),m=cl(e,p,!0,i.filter.filtersNodes());else{const v=De(r);if(v===".priority")p=i.filter.updatePriority(e.eventCache.getNode(),s),m=cl(e,p,h.isFullyInitialized(),h.isFiltered());else{const E=We(r),S=h.getNode().getImmediateChild(v);let A;if(Ne(E))A=s;else{const P=y.getCompleteChild(v);P!=null?KE(E)===".priority"&&P.getChild($E(E)).isEmpty()?A=P:A=P.updateChild(E,s):A=_e.EMPTY_NODE}if(S.equals(A))m=e;else{const P=i.filter.updateChild(h.getNode(),v,A,E,y,f);m=cl(e,P,h.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function Qy(i,e){return i.eventCache.isCompleteForChild(e)}function wD(i,e,r,s,o,u,f){let h=e;return s.foreach((m,p)=>{const y=St(r,m);Qy(e,De(y))&&(h=Qd(i,h,y,p,o,u,f))}),s.foreach((m,p)=>{const y=St(r,m);Qy(e,De(y))||(h=Qd(i,h,y,p,o,u,f))}),h}function Ky(i,e,r){return r.foreach((s,o)=>{e=e.updateChild(s,o)}),e}function Kd(i,e,r,s,o,u,f,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,p;Ne(r)?p=s:p=new Je(null).setTree(r,s);const y=e.serverCache.getNode();return p.children.inorderTraversal((v,E)=>{if(y.hasChild(v)){const S=e.serverCache.getNode().getImmediateChild(v),A=Ky(i,S,E);m=Au(i,m,new Qe(v),A,o,u,f,h)}}),p.children.inorderTraversal((v,E)=>{const S=!e.serverCache.isCompleteForChild(v)&&E.value===null;if(!y.hasChild(v)&&!S){const A=e.serverCache.getNode().getImmediateChild(v),P=Ky(i,A,E);m=Au(i,m,new Qe(v),P,o,u,f,h)}}),m}function RD(i,e,r,s,o,u,f){if(Ru(o,r)!=null)return e;const h=e.serverCache.isFiltered(),m=e.serverCache;if(s.value!=null){if(Ne(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return Au(i,e,r,m.getNode().getChild(r),o,u,h,f);if(Ne(r)){let p=new Je(null);return m.getNode().forEachChild(rr,(y,v)=>{p=p.set(new Qe(y),v)}),Kd(i,e,r,p,o,u,h,f)}else return e}else{let p=new Je(null);return s.foreach((y,v)=>{const E=St(r,y);m.isCompleteForPath(E)&&(p=p.set(y,m.getNode().getChild(E)))}),Kd(i,e,r,p,o,u,h,f)}}function AD(i,e,r,s,o){const u=e.serverCache,f=ub(e,u.getNode(),u.isFullyInitialized()||Ne(r),u.isFiltered());return gb(i,f,r,s,pb,o)}function ND(i,e,r,s,o,u){let f;if(Ru(s,r)!=null)return e;{const h=new Ph(s,e,o),m=e.eventCache.getNode();let p;if(Ne(r)||De(r)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=wu(s,$r(e));else{const v=e.serverCache.getNode();K(v instanceof _e,"serverChildren would be complete if leaf node"),y=zh(s,v)}y=y,p=i.filter.updateFullNode(m,y,u)}else{const y=De(r);let v=Hh(s,y,e.serverCache);v==null&&e.serverCache.isCompleteForChild(y)&&(v=m.getImmediateChild(y)),v!=null?p=i.filter.updateChild(m,y,v,We(r),h,u):e.eventCache.getNode().hasChild(y)?p=i.filter.updateChild(m,y,_e.EMPTY_NODE,We(r),h,u):p=m,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=wu(s,$r(e)),f.isLeafNode()&&(p=i.filter.updateFullNode(p,f,u)))}return f=e.serverCache.isFullyInitialized()||Ru(s,He())!=null,cl(e,p,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,r){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,o=new Ih(s.getIndex()),u=GN(s);this.processor_=bD(u);const f=r.serverCache,h=r.eventCache,m=o.updateFullNode(_e.EMPTY_NODE,f.getNode(),null),p=u.updateFullNode(_e.EMPTY_NODE,h.getNode(),null),y=new cr(m,f.isFullyInitialized(),o.filtersNodes()),v=new cr(p,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=qu(v,y),this.eventGenerator_=new tD(this.query_)}get query(){return this.query_}}function OD(i){return i.viewCache_.serverCache.getNode()}function xD(i){return Cu(i.viewCache_)}function MD(i,e){const r=$r(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!Ne(e)&&!r.getImmediateChild(De(e)).isEmpty())?r.getChild(e):null}function Xy(i){return i.eventRegistrations_.length===0}function ID(i,e){i.eventRegistrations_.push(e)}function $y(i,e,r){const s=[];if(r){K(e==null,"A cancel should cancel all event registrations.");const o=i.query._path;i.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(r,o);f&&s.push(f)})}if(e){let o=[];for(let u=0;u<i.eventRegistrations_.length;++u){const f=i.eventRegistrations_[u];if(!f.matches(e))o.push(f);else if(e.hasAnyCallback()){o=o.concat(i.eventRegistrations_.slice(u+1));break}}i.eventRegistrations_=o}else i.eventRegistrations_=[];return s}function Wy(i,e,r,s){e.type===Un.MERGE&&e.source.queryId!==null&&(K($r(i.viewCache_),"We should always have a full cache before handling merges"),K(Cu(i.viewCache_),"Missing event cache, even though we have a server cache"));const o=i.viewCache_,u=TD(i.processor_,o,e,r,s);return SD(i.processor_,u.viewCache),K(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=u.viewCache,_b(i,u.changes,u.viewCache.eventCache.getNode(),null)}function LD(i,e){const r=i.viewCache_.eventCache,s=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(at,(u,f)=>{s.push(Fa(u,f))}),r.isFullyInitialized()&&s.push(sb(r.getNode())),_b(i,s,r.getNode(),e)}function _b(i,e,r,s){const o=s?[s]:i.eventRegistrations_;return nD(i.eventGenerator_,e,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu;class yb{constructor(){this.views=new Map}}function UD(i){K(!Nu,"__referenceConstructor has already been defined"),Nu=i}function kD(){return K(Nu,"Reference.ts has not been loaded"),Nu}function zD(i){return i.views.size===0}function Bh(i,e,r,s){const o=e.source.queryId;if(o!==null){const u=i.views.get(o);return K(u!=null,"SyncTree gave us an op for an invalid query."),Wy(u,e,r,s)}else{let u=[];for(const f of i.views.values())u=u.concat(Wy(f,e,r,s));return u}}function vb(i,e,r,s,o){const u=e._queryIdentifier,f=i.views.get(u);if(!f){let h=wu(r,o?s:null),m=!1;h?m=!0:s instanceof _e?(h=zh(r,s),m=!1):(h=_e.EMPTY_NODE,m=!1);const p=qu(new cr(h,m,!1),new cr(s,o,!1));return new DD(e,p)}return f}function HD(i,e,r,s,o,u){const f=vb(i,e,s,o,u);return i.views.has(e._queryIdentifier)||i.views.set(e._queryIdentifier,f),ID(f,r),LD(f,r)}function PD(i,e,r,s){const o=e._queryIdentifier,u=[];let f=[];const h=fr(i);if(o==="default")for(const[m,p]of i.views.entries())f=f.concat($y(p,r,s)),Xy(p)&&(i.views.delete(m),p.query._queryParams.loadsAllData()||u.push(p.query));else{const m=i.views.get(o);m&&(f=f.concat($y(m,r,s)),Xy(m)&&(i.views.delete(o),m.query._queryParams.loadsAllData()||u.push(m.query)))}return h&&!fr(i)&&u.push(new(kD())(e._repo,e._path)),{removed:u,events:f}}function Eb(i){const e=[];for(const r of i.views.values())r.query._queryParams.loadsAllData()||e.push(r);return e}function sr(i,e){let r=null;for(const s of i.views.values())r=r||MD(s,e);return r}function bb(i,e){if(e._queryParams.loadsAllData())return Gu(i);{const s=e._queryIdentifier;return i.views.get(s)}}function Sb(i,e){return bb(i,e)!=null}function fr(i){return Gu(i)!=null}function Gu(i){for(const e of i.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du;function BD(i){K(!Du,"__referenceConstructor has already been defined"),Du=i}function jD(){return K(Du,"Reference.ts has not been loaded"),Du}let VD=1;class Zy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Je(null),this.pendingWriteTree_=_D(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Tb(i,e,r,s,o){return sD(i.pendingWriteTree_,e,r,s,o),o?kl(i,new Xr(ob(),e,r)):[]}function Fr(i,e,r=!1){const s=lD(i.pendingWriteTree_,e);if(oD(i.pendingWriteTree_,e)){let u=new Je(null);return s.snap!=null?u=u.set(He(),!0):Wt(s.children,f=>{u=u.set(new Qe(f),!0)}),kl(i,new Tu(s.path,u,r))}else return[]}function Ul(i,e,r){return kl(i,new Xr(Uh(),e,r))}function qD(i,e,r){const s=Je.fromObject(r);return kl(i,new Cl(Uh(),e,s))}function FD(i,e){return kl(i,new Tl(Uh(),e))}function GD(i,e,r){const s=Vh(i,r);if(s){const o=qh(s),u=o.path,f=o.queryId,h=Ft(u,e),m=new Tl(kh(f),h);return Fh(i,u,m)}else return[]}function Cb(i,e,r,s,o=!1){const u=e._path,f=i.syncPointTree_.get(u);let h=[];if(f&&(e._queryIdentifier==="default"||Sb(f,e))){const m=PD(f,e,r,s);zD(f)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const p=m.removed;if(h=m.events,!o){const y=p.findIndex(E=>E._queryParams.loadsAllData())!==-1,v=i.syncPointTree_.findOnPath(u,(E,S)=>fr(S));if(y&&!v){const E=i.syncPointTree_.subtree(u);if(!E.isEmpty()){const S=XD(E);for(let A=0;A<S.length;++A){const P=S[A],H=P.query,B=Nb(i,P);i.listenProvider_.startListening(dl(H),wl(i,H),B.hashFn,B.onComplete)}}}!v&&p.length>0&&!s&&(y?i.listenProvider_.stopListening(dl(e),null):p.forEach(E=>{const S=i.queryToTagMap.get(Yu(E));i.listenProvider_.stopListening(dl(E),S)}))}$D(i,p)}return h}function wb(i,e,r,s){const o=Vh(i,s);if(o!=null){const u=qh(o),f=u.path,h=u.queryId,m=Ft(f,e),p=new Xr(kh(h),m,r);return Fh(i,f,p)}else return[]}function YD(i,e,r,s){const o=Vh(i,s);if(o){const u=qh(o),f=u.path,h=u.queryId,m=Ft(f,e),p=Je.fromObject(r),y=new Cl(kh(h),m,p);return Fh(i,f,y)}else return[]}function QD(i,e,r,s=!1){const o=e._path;let u=null,f=!1;i.syncPointTree_.foreachOnPath(o,(E,S)=>{const A=Ft(E,o);u=u||sr(S,A),f=f||fr(S)});let h=i.syncPointTree_.get(o);h?(f=f||fr(h),u=u||sr(h,He())):(h=new yb,i.syncPointTree_=i.syncPointTree_.set(o,h));let m;u!=null?m=!0:(m=!1,u=_e.EMPTY_NODE,i.syncPointTree_.subtree(o).foreachChild((S,A)=>{const P=sr(A,He());P&&(u=u.updateImmediateChild(S,P))}));const p=Sb(h,e);if(!p&&!e._queryParams.loadsAllData()){const E=Yu(e);K(!i.queryToTagMap.has(E),"View does not exist, but we have a tag");const S=WD();i.queryToTagMap.set(E,S),i.tagToQueryMap.set(S,E)}const y=Fu(i.pendingWriteTree_,o);let v=HD(h,e,r,y,u,m);if(!p&&!f&&!s){const E=bb(h,e);v=v.concat(ZD(i,e,E))}return v}function jh(i,e,r){const o=i.pendingWriteTree_,u=i.syncPointTree_.findOnPath(e,(f,h)=>{const m=Ft(f,e),p=sr(h,m);if(p)return p});return db(o,e,u,r,!0)}function KD(i,e){const r=e._path;let s=null;i.syncPointTree_.foreachOnPath(r,(p,y)=>{const v=Ft(p,r);s=s||sr(y,v)});let o=i.syncPointTree_.get(r);o?s=s||sr(o,He()):(o=new yb,i.syncPointTree_=i.syncPointTree_.set(r,o));const u=s!=null,f=u?new cr(s,!0,!1):null,h=Fu(i.pendingWriteTree_,e._path),m=vb(o,e,h,u?f.getNode():_e.EMPTY_NODE,u);return xD(m)}function kl(i,e){return Rb(e,i.syncPointTree_,null,Fu(i.pendingWriteTree_,He()))}function Rb(i,e,r,s){if(Ne(i.path))return Ab(i,e,r,s);{const o=e.get(He());r==null&&o!=null&&(r=sr(o,He()));let u=[];const f=De(i.path),h=i.operationForChild(f),m=e.children.get(f);if(m&&h){const p=r?r.getImmediateChild(f):null,y=hb(s,f);u=u.concat(Rb(h,m,p,y))}return o&&(u=u.concat(Bh(o,i,s,r))),u}}function Ab(i,e,r,s){const o=e.get(He());r==null&&o!=null&&(r=sr(o,He()));let u=[];return e.children.inorderTraversal((f,h)=>{const m=r?r.getImmediateChild(f):null,p=hb(s,f),y=i.operationForChild(f);y&&(u=u.concat(Ab(y,h,m,p)))}),o&&(u=u.concat(Bh(o,i,s,r))),u}function Nb(i,e){const r=e.query,s=wl(i,r);return{hashFn:()=>(OD(e)||_e.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return s?GD(i,r._path,s):FD(i,r._path);{const u=Y1(o,r);return Cb(i,r,null,u)}}}}function wl(i,e){const r=Yu(e);return i.queryToTagMap.get(r)}function Yu(i){return i._path.toString()+"$"+i._queryIdentifier}function Vh(i,e){return i.tagToQueryMap.get(e)}function qh(i){const e=i.indexOf("$");return K(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new Qe(i.substr(0,e))}}function Fh(i,e,r){const s=i.syncPointTree_.get(e);K(s,"Missing sync point for query tag that we're tracking");const o=Fu(i.pendingWriteTree_,e);return Bh(s,r,o,null)}function XD(i){return i.fold((e,r,s)=>{if(r&&fr(r))return[Gu(r)];{let o=[];return r&&(o=Eb(r)),Wt(s,(u,f)=>{o=o.concat(f)}),o}})}function dl(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(jD())(i._repo,i._path):i}function $D(i,e){for(let r=0;r<e.length;++r){const s=e[r];if(!s._queryParams.loadsAllData()){const o=Yu(s),u=i.queryToTagMap.get(o);i.queryToTagMap.delete(o),i.tagToQueryMap.delete(u)}}}function WD(){return VD++}function ZD(i,e,r){const s=e._path,o=wl(i,e),u=Nb(i,r),f=i.listenProvider_.startListening(dl(e),o,u.hashFn,u.onComplete),h=i.syncPointTree_.subtree(s);if(o)K(!fr(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((p,y,v)=>{if(!Ne(p)&&y&&fr(y))return[Gu(y).query];{let E=[];return y&&(E=E.concat(Eb(y).map(S=>S.query))),Wt(v,(S,A)=>{E=E.concat(A)}),E}});for(let p=0;p<m.length;++p){const y=m[p];i.listenProvider_.stopListening(dl(y),wl(i,y))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.node_=e}getImmediateChild(e){const r=this.node_.getImmediateChild(e);return new Gh(r)}node(){return this.node_}}class Yh{constructor(e,r){this.syncTree_=e,this.path_=r}getImmediateChild(e){const r=St(this.path_,e);return new Yh(this.syncTree_,r)}node(){return jh(this.syncTree_,this.path_)}}const JD=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Jy=function(i,e,r){if(!i||typeof i!="object")return i;if(K(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return eO(i[".sv"],e,r);if(typeof i[".sv"]=="object")return tO(i[".sv"],e);K(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},eO=function(i,e,r){switch(i){case"timestamp":return r.timestamp;default:K(!1,"Unexpected server value: "+i)}},tO=function(i,e,r){i.hasOwnProperty("increment")||K(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const s=i.increment;typeof s!="number"&&K(!1,"Unexpected increment value: "+s);const o=e.node();if(K(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return s;const f=o.getValue();return typeof f!="number"?s:f+s},nO=function(i,e,r,s){return Qh(e,new Yh(r,i),s)},Db=function(i,e,r){return Qh(i,new Gh(e),r)};function Qh(i,e,r){const s=i.getPriority().val(),o=Jy(s,e.getImmediateChild(".priority"),r);let u;if(i.isLeafNode()){const f=i,h=Jy(f.getValue(),e,r);return h!==f.getValue()||o!==f.getPriority().val()?new Nt(h,Ot(o)):i}else{const f=i;return u=f,o!==f.getPriority().val()&&(u=u.updatePriority(new Nt(o))),f.forEachChild(at,(h,m)=>{const p=Qh(m,e.getImmediateChild(h),r);p!==m&&(u=u.updateImmediateChild(h,p))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e="",r=null,s={children:{},childCount:0}){this.name=e,this.parent=r,this.node=s}}function Xh(i,e){let r=e instanceof Qe?e:new Qe(e),s=i,o=De(r);for(;o!==null;){const u=qa(s.node.children,o)||{children:{},childCount:0};s=new Kh(o,s,u),r=We(r),o=De(r)}return s}function Xa(i){return i.node.value}function Ob(i,e){i.node.value=e,Xd(i)}function xb(i){return i.node.childCount>0}function iO(i){return Xa(i)===void 0&&!xb(i)}function Qu(i,e){Wt(i.node.children,(r,s)=>{e(new Kh(r,i,s))})}function Mb(i,e,r,s){r&&e(i),Qu(i,o=>{Mb(o,e,!0)})}function rO(i,e,r){let s=i.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function zl(i){return new Qe(i.parent===null?i.name:zl(i.parent)+"/"+i.name)}function Xd(i){i.parent!==null&&aO(i.parent,i.name,i)}function aO(i,e,r){const s=iO(r),o=ei(i.node.children,e);s&&o?(delete i.node.children[e],i.node.childCount--,Xd(i)):!s&&!o&&(i.node.children[e]=r.node,i.node.childCount++,Xd(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=/[\[\].#$\/\u0000-\u001F\u007F]/,lO=/[\[\].#$\u0000-\u001F\u007F]/,Ad=10*1024*1024,Ib=function(i){return typeof i=="string"&&i.length!==0&&!sO.test(i)},Lb=function(i){return typeof i=="string"&&i.length!==0&&!lO.test(i)},oO=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Lb(i)},ev=function(i){return i===null||typeof i=="string"||typeof i=="number"&&!Rh(i)||i&&typeof i=="object"&&ei(i,".sv")},$h=function(i,e,r,s){s&&e===void 0||Wh(vh(i,"value"),e,r)},Wh=function(i,e,r){const s=r instanceof Qe?new wN(r,i):r;if(e===void 0)throw new Error(i+"contains undefined "+Pr(s));if(typeof e=="function")throw new Error(i+"contains a function "+Pr(s)+" with contents = "+e.toString());if(Rh(e))throw new Error(i+"contains "+e.toString()+" "+Pr(s));if(typeof e=="string"&&e.length>Ad/3&&zu(e)>Ad)throw new Error(i+"contains a string greater than "+Ad+" utf8 bytes "+Pr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(Wt(e,(f,h)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!Ib(f)))throw new Error(i+" contains an invalid key ("+f+") "+Pr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);RN(s,f),Wh(i,h,s),AN(s)}),o&&u)throw new Error(i+' contains ".value" child '+Pr(s)+" in addition to actual children.")}},Ub=function(i,e,r,s){if(!Lb(r))throw new Error(vh(i,e)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},uO=function(i,e,r,s){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Ub(i,e,r)},kb=function(i,e){if(De(e)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},cO=function(i,e){const r=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Ib(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!oO(r))throw new Error(vh(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function zb(i,e){let r=null;for(let s=0;s<e.length;s++){const o=e[s],u=o.getPath();r!==null&&!WE(u,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:u}),r.events.push(o)}r&&i.eventLists_.push(r)}function Wn(i,e,r){zb(i,r),dO(i,s=>Ln(s,e)||Ln(e,s))}function dO(i,e){i.recursionDepth_++;let r=!0;for(let s=0;s<i.eventLists_.length;s++){const o=i.eventLists_[s];if(o){const u=o.path;e(u)?(hO(i.eventLists_[s]),i.eventLists_[s]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function hO(i){for(let e=0;e<i.events.length;e++){const r=i.events[e];if(r!==null){i.events[e]=null;const s=r.getEventRunner();ol&&jt("event: "+r.toString()),Ka(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="repo_interrupt",pO=25;class gO{constructor(e,r,s,o){this.repoInfo_=e,this.forceRestClient_=r,this.authTokenProvider_=s,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Su(),this.transactionQueueTree_=new Kh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function _O(i,e,r){if(i.stats_=Dh(i.repoInfo_),i.forceRestClient_||$1())i.server_=new bu(i.repoInfo_,(s,o,u,f)=>{tv(i,s,o,u,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>nv(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{bt(r)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}i.persistentConnection_=new Ti(i.repoInfo_,e,(s,o,u,f)=>{tv(i,s,o,u,f)},s=>{nv(i,s)},s=>{yO(i,s)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(s=>{i.server_.refreshAuthToken(s)}),i.appCheckProvider_.addTokenChangeListener(s=>{i.server_.refreshAppCheckToken(s.token)}),i.statsReporter_=tN(i.repoInfo_,()=>new eD(i.stats_,i.server_)),i.infoData_=new XN,i.infoSyncTree_=new Zy({startListening:(s,o,u,f)=>{let h=[];const m=i.infoData_.getNode(s._path);return m.isEmpty()||(h=Ul(i.infoSyncTree_,s._path,m),setTimeout(()=>{f("ok")},0)),h},stopListening:()=>{}}),Jh(i,"connected",!1),i.serverSyncTree_=new Zy({startListening:(s,o,u,f)=>(i.server_.listen(s,u,o,(h,m)=>{const p=f(h,m);Wn(i.eventQueue_,s._path,p)}),[]),stopListening:(s,o)=>{i.server_.unlisten(s,o)}})}function Hb(i){const r=i.infoData_.getNode(new Qe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function Zh(i){return JD({timestamp:Hb(i)})}function tv(i,e,r,s,o){i.dataUpdateCount++;const u=new Qe(e);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,r):r;let f=[];if(o)if(s){const m=hu(r,p=>Ot(p));f=YD(i.serverSyncTree_,u,m,o)}else{const m=Ot(r);f=wb(i.serverSyncTree_,u,m,o)}else if(s){const m=hu(r,p=>Ot(p));f=qD(i.serverSyncTree_,u,m)}else{const m=Ot(r);f=Ul(i.serverSyncTree_,u,m)}let h=u;f.length>0&&(h=Xu(i,u)),Wn(i.eventQueue_,h,f)}function nv(i,e){Jh(i,"connected",e),e===!1&&bO(i)}function yO(i,e){Wt(e,(r,s)=>{Jh(i,r,s)})}function Jh(i,e,r){const s=new Qe("/.info/"+e),o=Ot(r);i.infoData_.updateSnapshot(s,o);const u=Ul(i.infoSyncTree_,s,o);Wn(i.eventQueue_,s,u)}function Pb(i){return i.nextWriteId_++}function vO(i,e,r){const s=KD(i.serverSyncTree_,e);return s!=null?Promise.resolve(s):i.server_.get(e).then(o=>{const u=Ot(o).withIndex(e._queryParams.getIndex());QD(i.serverSyncTree_,e,r,!0);let f;if(e._queryParams.loadsAllData())f=Ul(i.serverSyncTree_,e._path,u);else{const h=wl(i.serverSyncTree_,e);f=wb(i.serverSyncTree_,e._path,u,h)}return Wn(i.eventQueue_,e._path,f),Cb(i.serverSyncTree_,e,r,null,!0),u},o=>(Ku(i,"get for query "+bt(e)+" failed: "+o),Promise.reject(new Error(o))))}function EO(i,e,r,s,o){Ku(i,"set",{path:e.toString(),value:r,priority:s});const u=Zh(i),f=Ot(r,s),h=jh(i.serverSyncTree_,e),m=Db(f,h,u),p=Pb(i),y=Tb(i.serverSyncTree_,e,m,p,!0);zb(i.eventQueue_,y),i.server_.put(e.toString(),f.val(!0),(E,S)=>{const A=E==="ok";A||$t("set at "+e+" failed: "+E);const P=Fr(i.serverSyncTree_,p,!A);Wn(i.eventQueue_,e,P),TO(i,o,E,S)});const v=Fb(i,e);Xu(i,v),Wn(i.eventQueue_,v,[])}function bO(i){Ku(i,"onDisconnectEvents");const e=Zh(i),r=Su();Fd(i.onDisconnect_,He(),(o,u)=>{const f=nO(o,u,i.serverSyncTree_,e);lb(r,o,f)});let s=[];Fd(r,He(),(o,u)=>{s=s.concat(Ul(i.serverSyncTree_,o,u));const f=Fb(i,o);Xu(i,f)}),i.onDisconnect_=Su(),Wn(i.eventQueue_,He(),s)}function SO(i){i.persistentConnection_&&i.persistentConnection_.interrupt(mO)}function Ku(i,...e){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),jt(r,...e)}function TO(i,e,r,s){e&&Ka(()=>{if(r==="ok")e(null);else{const o=(r||"error").toUpperCase();let u=o;s&&(u+=": "+s);const f=new Error(u);f.code=o,e(f)}})}function Bb(i,e,r){return jh(i.serverSyncTree_,e,r)||_e.EMPTY_NODE}function em(i,e=i.transactionQueueTree_){if(e||$u(i,e),Xa(e)){const r=Vb(i,e);K(r.length>0,"Sending zero length transaction queue"),r.every(o=>o.status===0)&&CO(i,zl(e),r)}else xb(e)&&Qu(e,r=>{em(i,r)})}function CO(i,e,r){const s=r.map(p=>p.currentWriteId),o=Bb(i,e,s);let u=o;const f=o.hash();for(let p=0;p<r.length;p++){const y=r[p];K(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const v=Ft(e,y.path);u=u.updateChild(v,y.currentOutputSnapshotRaw)}const h=u.val(!0),m=e;i.server_.put(m.toString(),h,p=>{Ku(i,"transaction put response",{path:m.toString(),status:p});let y=[];if(p==="ok"){const v=[];for(let E=0;E<r.length;E++)r[E].status=2,y=y.concat(Fr(i.serverSyncTree_,r[E].currentWriteId)),r[E].onComplete&&v.push(()=>r[E].onComplete(null,!0,r[E].currentOutputSnapshotResolved)),r[E].unwatcher();$u(i,Xh(i.transactionQueueTree_,e)),em(i,i.transactionQueueTree_),Wn(i.eventQueue_,e,y);for(let E=0;E<v.length;E++)Ka(v[E])}else{if(p==="datastale")for(let v=0;v<r.length;v++)r[v].status===3?r[v].status=4:r[v].status=0;else{$t("transaction at "+m.toString()+" failed: "+p);for(let v=0;v<r.length;v++)r[v].status=4,r[v].abortReason=p}Xu(i,e)}},f)}function Xu(i,e){const r=jb(i,e),s=zl(r),o=Vb(i,r);return wO(i,o,s),s}function wO(i,e,r){if(e.length===0)return;const s=[];let o=[];const f=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const m=e[h],p=Ft(r,m.path);let y=!1,v;if(K(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)y=!0,v=m.abortReason,o=o.concat(Fr(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=pO)y=!0,v="maxretry",o=o.concat(Fr(i.serverSyncTree_,m.currentWriteId,!0));else{const E=Bb(i,m.path,f);m.currentInputSnapshot=E;const S=e[h].update(E.val());if(S!==void 0){Wh("transaction failed: Data returned ",S,m.path);let A=Ot(S);typeof S=="object"&&S!=null&&ei(S,".priority")||(A=A.updatePriority(E.getPriority()));const H=m.currentWriteId,B=Zh(i),G=Db(A,E,B);m.currentOutputSnapshotRaw=A,m.currentOutputSnapshotResolved=G,m.currentWriteId=Pb(i),f.splice(f.indexOf(H),1),o=o.concat(Tb(i.serverSyncTree_,m.path,G,m.currentWriteId,m.applyLocally)),o=o.concat(Fr(i.serverSyncTree_,H,!0))}else y=!0,v="nodata",o=o.concat(Fr(i.serverSyncTree_,m.currentWriteId,!0))}Wn(i.eventQueue_,r,o),o=[],y&&(e[h].status=2,function(E){setTimeout(E,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(v==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(v),!1,null))))}$u(i,i.transactionQueueTree_);for(let h=0;h<s.length;h++)Ka(s[h]);em(i,i.transactionQueueTree_)}function jb(i,e){let r,s=i.transactionQueueTree_;for(r=De(e);r!==null&&Xa(s)===void 0;)s=Xh(s,r),e=We(e),r=De(e);return s}function Vb(i,e){const r=[];return qb(i,e,r),r.sort((s,o)=>s.order-o.order),r}function qb(i,e,r){const s=Xa(e);if(s)for(let o=0;o<s.length;o++)r.push(s[o]);Qu(e,o=>{qb(i,o,r)})}function $u(i,e){const r=Xa(e);if(r){let s=0;for(let o=0;o<r.length;o++)r[o].status!==2&&(r[s]=r[o],s++);r.length=s,Ob(e,r.length>0?r:void 0)}Qu(e,s=>{$u(i,s)})}function Fb(i,e){const r=zl(jb(i,e)),s=Xh(i.transactionQueueTree_,e);return rO(s,o=>{Nd(i,o)}),Nd(i,s),Mb(s,o=>{Nd(i,o)}),r}function Nd(i,e){const r=Xa(e);if(r){const s=[];let o=[],u=-1;for(let f=0;f<r.length;f++)r[f].status===3||(r[f].status===1?(K(u===f-1,"All SENT items should be at beginning of queue."),u=f,r[f].status=3,r[f].abortReason="set"):(K(r[f].status===0,"Unexpected transaction status in abort"),r[f].unwatcher(),o=o.concat(Fr(i.serverSyncTree_,r[f].currentWriteId,!0)),r[f].onComplete&&s.push(r[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?Ob(e,void 0):r.length=u+1,Wn(i.eventQueue_,zl(e),o);for(let f=0;f<s.length;f++)Ka(s[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(i){let e="";const r=i.split("/");for(let s=0;s<r.length;s++)if(r[s].length>0){let o=r[s];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function AO(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const s=r.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):$t(`Invalid query segment '${r}' in query '${i}'`)}return e}const iv=function(i,e){const r=NO(i),s=r.namespace;r.domain==="firebase.com"&&wi(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&r.domain!=="localhost"&&wi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||j1();const o=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new PE(r.host,r.secure,s,o,e,"",s!==r.subdomain),path:new Qe(r.pathString)}},NO=function(i){let e="",r="",s="",o="",u="",f=!0,h="https",m=443;if(typeof i=="string"){let p=i.indexOf("//");p>=0&&(h=i.substring(0,p-1),i=i.substring(p+2));let y=i.indexOf("/");y===-1&&(y=i.length);let v=i.indexOf("?");v===-1&&(v=i.length),e=i.substring(0,Math.min(y,v)),y<v&&(o=RO(i.substring(y,v)));const E=AO(i.substring(Math.min(i.length,v)));p=e.indexOf(":"),p>=0?(f=h==="https"||h==="wss",m=parseInt(e.substring(p+1),10)):p=e.length;const S=e.slice(0,p);if(S.toLowerCase()==="localhost")r="localhost";else if(S.split(".").length<=2)r=S;else{const A=e.indexOf(".");s=e.substring(0,A).toLowerCase(),r=e.substring(A+1),u=s}"ns"in E&&(u=E.ns)}return{host:e,port:m,domain:r,subdomain:s,secure:f,scheme:h,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",DO=function(){let i=0;const e=[];return function(r){const s=r===i;i=r;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=rv.charAt(r%64),r=Math.floor(r/64);K(r===0,"Cannot push at time == 0");let f=u.join("");if(s){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)f+=rv.charAt(e[o]);return K(f.length===20,"nextPushId: Length should be 20."),f}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,r,s,o){this.eventType=e,this.eventRegistration=r,this.snapshot=s,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+bt(this.snapshot.exportVal())}}class xO{constructor(e,r,s){this.eventRegistration=e,this.error=r,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,r){this.snapshotCallback=e,this.cancelCallback=r}onValue(e,r){this.snapshotCallback.call(null,e,r)}onCancel(e){return K(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,r,s,o){this._repo=e,this._path=r,this._queryParams=s,this._orderByCalled=o}get key(){return Ne(this._path)?null:KE(this._path)}get ref(){return new Ai(this._repo,this._path)}get _queryIdentifier(){const e=jy(this._queryParams),r=Ah(e);return r==="{}"?"default":r}get _queryObject(){return jy(this._queryParams)}isEqual(e){if(e=Zt(e),!(e instanceof $a))return!1;const r=this._repo===e._repo,s=WE(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return r&&s&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+CN(this._path)}}function IO(i,e){if(i._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Gb(i){let e=null,r=null;if(i.hasStart()&&(e=i.getIndexStartValue()),i.hasEnd()&&(r=i.getIndexEndValue()),i.getIndex()===rr){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(i.hasStart()){if(i.getIndexStartName()!==Kr)throw new Error(s);if(typeof e!="string")throw new Error(o)}if(i.hasEnd()){if(i.getIndexEndName()!==or)throw new Error(s);if(typeof r!="string")throw new Error(o)}}else if(i.getIndex()===at){if(e!=null&&!ev(e)||r!=null&&!ev(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(K(i.getIndex()instanceof rb||i.getIndex()===ab,"unknown index type."),e!=null&&typeof e=="object"||r!=null&&typeof r=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function LO(i){if(i.hasStart()&&i.hasEnd()&&i.hasLimit()&&!i.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ai extends $a{constructor(e,r){super(e,r,new Lh,!1)}get parent(){const e=$E(this._path);return e===null?null:new Ai(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Rl{constructor(e,r,s){this._node=e,this.ref=r,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const r=new Qe(e),s=Al(this.ref,e);return new Rl(this._node.getChild(r),s,at)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,o)=>e(new Rl(o,Al(this.ref,s),at)))}hasChild(e){const r=new Qe(e);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function $d(i,e){return i=Zt(i),i._checkNotDeleted("ref"),e!==void 0?Al(i._root,e):i._root}function Al(i,e){return i=Zt(i),De(i._path)===null?uO("child","path",e):Ub("child","path",e),new Ai(i._repo,St(i._path,e))}function UO(i,e){i=Zt(i),kb("push",i._path),$h("push",e,i._path,!0);const r=Hb(i._repo),s=DO(r),o=Al(i,s),u=Al(i,s);let f;return e!=null?f=kO(u,e).then(()=>u):f=Promise.resolve(u),o.then=f.then.bind(f),o.catch=f.then.bind(f,void 0),o}function kO(i,e){i=Zt(i),kb("set",i._path),$h("set",e,i._path,!1);const r=new ku;return EO(i._repo,i._path,e,null,r.wrapCallback(()=>{})),r.promise}function zO(i){i=Zt(i);const e=new MO(()=>{}),r=new tm(e);return vO(i._repo,i,r).then(s=>new Rl(s,new Ai(i._repo,i._path),i._queryParams.getIndex()))}class tm{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,r){const s=r._queryParams.getIndex();return new OO("value",this,new Rl(e.snapshotNode,new Ai(r._repo,r._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,r){return this.callbackContext.hasCancelCallback?new xO(this,e,r):null}matches(e){return e instanceof tm?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class nm{}class HO extends nm{constructor(e,r){super(),this._value=e,this._key=r,this.type="startAt"}_apply(e){$h("startAt",this._value,e._path,!0);const r=QN(e._queryParams,this._value,this._key);if(LO(r),Gb(r),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new $a(e._repo,e._path,r,e._orderByCalled)}}function PO(i=null,e){return new HO(i,e)}class BO extends nm{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new $a(e._repo,e._path,YN(e._queryParams,this._limit),e._orderByCalled)}}function av(i){if(Math.floor(i)!==i||i<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new BO(i)}class jO extends nm{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){IO(e,"orderByKey");const r=KN(e._queryParams,rr);return Gb(r),new $a(e._repo,e._path,r,!0)}}function sv(){return new jO}function lv(i,...e){let r=Zt(i);for(const s of e)r=s._apply(r);return r}UD(Ai);BD(Ai);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="FIREBASE_DATABASE_EMULATOR_HOST",Wd={};let qO=!1;function FO(i,e,r,s){i.repoInfo_=new PE(`${e}:${r}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),s&&(i.authTokenProvider_=s)}function GO(i,e,r,s,o){let u=s||i.options.databaseURL;u===void 0&&(i.options.projectId||wi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),jt("Using default host for project ",i.options.projectId),u=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=iv(u,o),h=f.repoInfo,m;typeof process<"u"&&Ty&&(m=Ty[VO]),m?(u=`http://${m}?ns=${h.namespace}`,f=iv(u,o),h=f.repoInfo):f.repoInfo.secure;const p=new Z1(i.name,i.options,e);cO("Invalid Firebase Database URL",f),Ne(f.path)||wi("Database URL must point to the root of a Firebase Database (not including a child path).");const y=QO(h,i,p,new W1(i.name,r));return new KO(y,i)}function YO(i,e){const r=Wd[e];(!r||r[i.key]!==i)&&wi(`Database ${e}(${i.repoInfo_}) has already been deleted.`),SO(i),delete r[i.key]}function QO(i,e,r,s){let o=Wd[e.name];o||(o={},Wd[e.name]=o);let u=o[i.toURLString()];return u&&wi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new gO(i,qO,r,s),o[i.toURLString()]=u,u}class KO{constructor(e,r){this._repoInternal=e,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(_O(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ai(this._repo,He())),this._rootInternal}_delete(){return this._rootInternal!==null&&(YO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&wi("Cannot call "+e+" on a deleted database.")}}function XO(i=eE(),e){const r=xl(i,"database").getImmediate({identifier:e});if(!r._instanceStarted){const s=Vw("database");s&&$O(r,...s)}return r}function $O(i,e,r,s={}){i=Zt(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&wi("Cannot call useEmulator() after instance has already been initialized.");const o=i._repoInternal;let u;if(o.repoInfo_.nodeAdmin)s.mockUserToken&&wi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new au(au.OWNER);else if(s.mockUserToken){const f=typeof s.mockUserToken=="string"?s.mockUserToken:Fw(s.mockUserToken,i.app.options.projectId);u=new au(f)}FO(o,e,r,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(i){U1(Pu),$n(new Hn("database",(e,{instanceIdentifier:r})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return GO(s,o,u,r)},"PUBLIC").setMultipleInstances(!0)),wn(Cy,wy,i),wn(Cy,wy,"esm2017")}Ti.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};Ti.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};WO();const ZO={apiKey:"AIzaSyA87k59Y0yvzptwjS0CB5jqQR80igso3sw",authDomain:"dino-dash-66723.firebaseapp.com",databaseURL:"https://dino-dash-66723-default-rtdb.europe-west1.firebasedatabase.app",projectId:"dino-dash-66723",storageBucket:"dino-dash-66723.firebasestorage.app",messagingSenderId:"456959919434",appId:"1:456959919434:web:fde2e8ba634046c8642db3",measurementId:"G-5LXYMB5NEH"},Yb=Jv(ZO);x1(Yb);const Ou=XO(Yb),Zd="highscores";console.log("🔥 Firebase DB Instance:",Ou);const JO=async(i,e)=>{try{const r=$d(Ou,`${Zd}/${i}`);await UO(r,{score:e,timestamp:new Date().toISOString()}),console.log("High score submitted successfully")}catch(r){console.error("Error submitting high score: ",r)}},ex=async(i,e)=>{try{console.log(`🔍 Fetching scores. Last Key: ${i||"None (First Page)"}`);let r;i?r=lv($d(Ou,Zd),sv(),PO(i),av(e+1)):r=lv($d(Ou,Zd),sv(),av(e+1));const s=await zO(r);if(!s.exists())return console.warn("⚠️ No high scores found!"),{scores:[],lastKey:null,hasNext:!1};let o=[],u=null;s.forEach(h=>{const m=h.key,p=h.val();Object.entries(p).forEach(([y,v])=>{typeof v=="object"&&v.score!==void 0&&o.push({id:y,username:m,score:v.score,timestamp:v.timestamp||null})}),u=h.key});const f=o.length>e;return f&&o.pop(),console.log(`✅ Retrieved ${o.length} scores. More pages? ${f}`),{scores:o,lastKey:u,hasNext:f}}catch(r){return console.error("❌ Error retrieving paginated scores:",r),{scores:[],lastKey:null,hasNext:!1}}},tx=()=>{const[i,e]=N.useState(0);return N.useEffect(()=>{const r=setInterval(()=>{e(s=>s===-15?15:-15)},1e3);return()=>clearInterval(r)},[]),i},nx=()=>{const{isRunning:i}=Hv(),{level:e}=mh(),[r,s]=N.useState(0);return N.useEffect(()=>{if(!i)return;const o=setInterval(()=>{s(u=>(u-1)%window.innerWidth)},20);return()=>clearInterval(o)},[i]),Q.jsxs("div",{className:"background-container",children:[Q.jsx("div",{className:`background-layer Background-lvl${e}-sky-1`}),Q.jsx("div",{className:`background-layer Background-lvl${e}-outline-2`}),Q.jsx("div",{className:`background-layer Background-lvl${e}-desert-3`,style:{backgroundPositionX:`${r}px`}}),Q.jsx("div",{className:`background-layer Background-lvl${e}-decor-4`,style:{backgroundPositionX:`${r}px`}}),Q.jsx("div",{className:`background-layer Background-lvl${e}-foreground-5`,style:{backgroundPositionX:`${r*4.5}px`}})]})},ix=()=>{const{score:o,setScore:u}=dh(),{isRunning:f,setIsRunning:h}=Hv(),{volume:m}=hh(),{level:p}=mh(),y=450,v=p===1?8:p===2?11:13,E=40,S=40,A="/static/jump_1.mp3",P=p===1?10:p===2?12:15,[H,B]=N.useState(P),[G,Z]=N.useState(window.innerWidth),[de,W]=N.useState(E),[x,ge]=N.useState(!1),[ve,F]=N.useState(!1),[ue,je]=N.useState(0),[_t,Tt]=N.useState(""),[yt,et]=N.useState(!1),Y=tx(),ce=N.useRef(null),te=N.useRef(null),Oe=()=>{clearInterval(ce.current),clearInterval(te.current),F(!1),h(!0),et(!0),Z(window.innerWidth),W(E),u(0),ge(!1),Tt(""),B(P),ce.current=setInterval(()=>{Z(U=>U<=-50?window.innerWidth:U-H)},20),te.current=setInterval(()=>{u(U=>U+1)},100)};N.useEffect(()=>{if(f){const U=new Audio(A);U.volume=m/100,U.play()}},[f,m]),N.useEffect(()=>{if(!(!f||ve))return clearInterval(ce.current),ce.current=setInterval(()=>{Z(U=>U<=-50?window.innerWidth:U-H)},20),()=>{clearInterval(ce.current)}},[u,H]),N.useEffect(()=>{if(!(ve||!f))return clearInterval(te.current),te.current=setInterval(()=>{u(U=>U+1)},100),()=>clearInterval(te.current)},[f,ve]),N.useEffect(()=>{const U=re=>{if(re.code==="Space"&&!x&&f){ge(!0);let J=de;const $=new Audio(A);$.volume=m/100,$.play();const be=setInterval(()=>{if(J>=y){clearInterval(be);const me=setInterval(()=>{J<=E?(clearInterval(me),W(E),ge(!1)):(J-=v,W(J))},20)}else J+=v,W(J)},20)}};return f&&document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[x,f]),N.useEffect(()=>{if(!ve)return clearInterval(ce.current),clearInterval(te.current),ce.current=setInterval(()=>{Z(st=>st<=-50?window.innerWidth:st-H);const U=100,re=de,J=G,$=S,be=J<U+150&&J+150>U,me=$<re+150&&$+170>re;be&&me&&(F(!0),h(!1),et(!1),clearInterval(ce.current),clearInterval(te.current),te.current=null,je(st=>Math.max(st,o)))},20),te.current=setInterval(()=>{u(U=>U+1)},100),()=>{clearInterval(ce.current),clearInterval(te.current)}},[f,ve,H,de,o]);const T=()=>{_t.trim()!==""&&JO(_t,o)};return N.useEffect(()=>{const U=()=>{et(!0),window.removeEventListener("click",U),window.removeEventListener("keydown",U)};return window.addEventListener("click",U),window.addEventListener("keydown",U),()=>{window.removeEventListener("click",U),window.removeEventListener("keydown",U)}},[]),Q.jsxs("div",{className:"game-container",children:[Q.jsx(nx,{}),Q.jsx(Pv,{isPlaying:yt,volume:m}),ve&&Q.jsx("div",{className:"game-over-overlay",children:Q.jsxs("div",{className:"game-over-menu",children:[Q.jsx("p",{children:"Seems you have hugged a cactus. Ouch."}),Q.jsxs("p",{children:["High Score: ",ue]}),Q.jsx("input",{type:"text",placeholder:"Enter your name",value:_t,onChange:U=>Tt(U.target.value)}),Q.jsx("button",{onClick:T,children:"Submit Score"}),Q.jsx("button",{onClick:Oe,children:"Restart"})]})}),Q.jsxs("div",{className:"game-entities",children:[Q.jsx("div",{className:"dino",style:{bottom:`${de}px`,left:"100px",transform:`rotate(${Y}deg)`,transition:"transform 1s ease-in-out"}}),Q.jsx("div",{className:"cactus",style:{left:`${G}px`}})]})]})},rx=()=>{const[i,e]=N.useState(!1),[r,s]=N.useState(!0),{setScore:o}=dh(),{level:u,nextLevel:f}=mh(),h=()=>{e(!0),s(!0),o(0)},m=()=>{s(!1)},p=()=>{s(!0)};return Q.jsx("div",{className:"homepage-container",children:i?Q.jsxs(Q.Fragment,{children:[Q.jsx(ix,{isRunning:r,onPause:m}),!r&&Q.jsx("div",{className:"pause-overlay",children:Q.jsxs("div",{className:"pause-menu",children:[Q.jsx("h2",{children:"Game Paused"}),Q.jsx("button",{onClick:p,className:"resume-btn",children:"Resume Game"})]})})]}):Q.jsx("div",{className:"container text-center mt-5",children:Q.jsxs("div",{className:"main-menu-container d-flex flex-column align-items-center justify-content-center",children:[Q.jsxs("div",{className:"menu-container d-flex justify-content-center",onClick:h,children:[Q.jsx("img",{src:"/static/Elements/Wooden_Button_1.svg",alt:"Wooden Button"}),Q.jsx("div",{className:"text-Centered-In-Image",children:"Start game"})]}),Q.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-center",children:[Q.jsx("p",{className:"me-3 mb-0",children:"Select level:"}),Q.jsxs("button",{className:"btn btn-secondary",onClick:f,children:["Level ",u]}),Q.jsx("p",{children:"Different levels have different areas!"}),Q.jsx("p",{children:"Level 1 is speed 5"}),Q.jsx("p",{children:"Level 2 is speed 10"}),Q.jsx("p",{children:"Level 3 is speed 15"}),Q.jsxs("div",{className:"mt-5",children:[Q.jsx("p",{children:"Use SPACE to jump."}),Q.jsx("p",{children:"Beware! Your score only increases while you are not jumping!"})]})]})]})})})},ax=()=>{const[i,e]=N.useState([]),[r,s]=N.useState(1),o=10,[u,f]=N.useState(null),[h,m]=N.useState(!0),[p,y]=N.useState(!1);N.useEffect(()=>{v()},[r]);const v=async()=>{try{y(!0),console.log(`⏳ Fetching scores for Page ${r}...`);const{scores:E,lastKey:S,hasNext:A}=await ex(u,o);E.length>0?(e(E),f(S),m(A),console.log(`✅ Page ${r}: ${E.length} scores loaded.`)):console.warn("⚠️ No more scores available.")}catch(E){console.error("❌ Error fetching scores:",E)}finally{y(!1)}};return Q.jsxs("div",{className:"high-score-container",children:[Q.jsx("div",{className:"Highscore-title d-flex align-items-center justify-content-center",children:Q.jsx("h2",{children:"High Scores"})}),p?Q.jsx("p",{children:"Loading..."}):null,Q.jsx("ul",{className:"ListedScores d-flex flex-column align-items-center justify-content-center",children:i.length>0?i.map((E,S)=>Q.jsxs("li",{children:[S+1+(r-1)*o,". Score: ",E.score,", Username: ",E.username]},E.id)):Q.jsx("p",{children:"No scores available"})}),Q.jsxs("div",{className:"pagination",children:[r>1&&Q.jsx("button",{onClick:()=>{s(r-1),f(null)},children:"Previous"}),h&&Q.jsx("button",{onClick:()=>{s(r+1)},children:"Next"})]})]})};function Qb(i,e){var r={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(r[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(r[s[o]]=i[s[o]]);return r}function Kb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sx=Kb,Xb=new Jr("auth","Firebase",Kb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=new Hu("@firebase/auth");function lx(i,...e){xu.logLevel<=Fe.WARN&&xu.warn(`Auth (${Pu}): ${i}`,...e)}function su(i,...e){xu.logLevel<=Fe.ERROR&&xu.error(`Auth (${Pu}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(i,...e){throw im(i,...e)}function $b(i,...e){return im(i,...e)}function Wb(i,e,r){const s=Object.assign(Object.assign({},sx()),{[e]:r});return new Jr("auth","Firebase",s).create(e,{appName:i.name})}function lu(i){return Wb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function im(i,...e){if(typeof i!="string"){const r=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(r,...s)}return Xb.create(i,...e)}function Be(i,e,...r){if(!i)throw im(e,...r)}function hl(i){const e="INTERNAL ASSERTION FAILED: "+i;throw su(e),new Error(e)}function Mu(i,e){i||hl(e)}function ox(){return uv()==="http:"||uv()==="https:"}function uv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ox()||Gv()||"connection"in navigator)?navigator.onLine:!0}function cx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,r){this.shortDelay=e,this.longDelay=r,Mu(r>e,"Short delay should be less than long delay!"),this.isMobile=_h()||Yv()}get(){return ux()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(i,e){Mu(i.emulator,"Emulator should always be set here");const{url:r}=i.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{static initialize(e,r,s){this.fetchImpl=e,r&&(this.headersImpl=r),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=new Hl(3e4,6e4);function Jb(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Wu(i,e,r,s,o={}){return eS(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const h=yh(Object.assign({key:i.config.apiKey},f)).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const p=Object.assign({method:e,headers:m},u);return Gw()||(p.referrerPolicy="no-referrer"),Zb.fetch()(tS(i,i.config.apiHost,r,h),p)})}async function eS(i,e,r){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},dx),e);try{const o=new mx(i),u=await Promise.race([r(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw tu(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const h=u.ok?f.errorMessage:f.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw tu(i,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw tu(i,"email-already-in-use",f);if(m==="USER_DISABLED")throw tu(i,"user-disabled",f);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Wb(i,y,p);ov(i,y)}}catch(o){if(o instanceof Ri)throw o;ov(i,"network-request-failed",{message:String(o)})}}function tS(i,e,r,s){const o=`${e}${r}?${s}`;return i.config.emulator?fx(i.config,o):`${i.config.apiScheme}://${o}`}class mx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,s)=>{this.timer=setTimeout(()=>s($b(this.auth,"network-request-failed")),hx.get())})}}function tu(i,e,r){const s={appName:i.name};r.email&&(s.email=r.email),r.phoneNumber&&(s.phoneNumber=r.phoneNumber);const o=$b(i,e,s);return o.customData._tokenResponse=r,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(i,e){return Wu(i,"POST","/v1/accounts:delete",e)}async function nS(i,e){return Wu(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gx(i,e=!1){const r=Zt(i),s=await r.getIdToken(e),o=iS(s);Be(o&&o.exp&&o.auth_time&&o.iat,r.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:ml(Dd(o.auth_time)),issuedAtTime:ml(Dd(o.iat)),expirationTime:ml(Dd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Dd(i){return Number(i)*1e3}function iS(i){const[e,r,s]=i.split(".");if(e===void 0||r===void 0||s===void 0)return su("JWT malformed, contained fewer than 3 sections"),null;try{const o=du(r);return o?JSON.parse(o):(su("Failed to decode base64 JWT payload"),null)}catch(o){return su("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function cv(i){const e=iS(i);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jd(i,e,r=!1){if(r)return e;try{return await e}catch(s){throw s instanceof Ri&&_x(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function _x({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=ml(this.lastLoginAt),this.creationTime=ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iu(i){var e;const r=i.auth,s=await i.getIdToken(),o=await Jd(i,nS(r,{idToken:s}));Be(o==null?void 0:o.users.length,r,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?rS(u.providerUserInfo):[],h=Ex(i.providerData,f),m=i.isAnonymous,p=!(i.email&&u.passwordHash)&&!(h!=null&&h.length),y=m?p:!1,v={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new eh(u.createdAt,u.lastLoginAt),isAnonymous:y};Object.assign(i,v)}async function vx(i){const e=Zt(i);await Iu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ex(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function rS(i){return i.map(e=>{var{providerId:r}=e,s=Qb(e,["providerId"]);return{providerId:r,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bx(i,e){const r=await eS(i,{},async()=>{const s=yh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=tS(i,o,"/v1/token",`key=${u}`),h=await i._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Zb.fetch()(f,{method:"POST",headers:h,body:s})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Sx(i,e){return Wu(i,"POST","/v2/accounts:revokeToken",Jb(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const r=cv(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:s,refreshToken:o,expiresIn:u}=await bx(e,r);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,r,s){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,r){const{refreshToken:s,accessToken:o,expirationTime:u}=r,f=new ja;return s&&(Be(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return hl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(i,e){Be(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class tr{constructor(e){var{uid:r,auth:s,stsTokenManager:o}=e,u=Qb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new eh(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const r=await Jd(this,this.stsTokenManager.getToken(this.auth,e));return Be(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return gx(this,e)}reload(){return vx(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),r&&await Iu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(al(this.auth.app))return Promise.reject(lu(this.auth));const e=await this.getIdToken();return await Jd(this,px(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var s,o,u,f,h,m,p,y;const v=(s=r.displayName)!==null&&s!==void 0?s:void 0,E=(o=r.email)!==null&&o!==void 0?o:void 0,S=(u=r.phoneNumber)!==null&&u!==void 0?u:void 0,A=(f=r.photoURL)!==null&&f!==void 0?f:void 0,P=(h=r.tenantId)!==null&&h!==void 0?h:void 0,H=(m=r._redirectEventId)!==null&&m!==void 0?m:void 0,B=(p=r.createdAt)!==null&&p!==void 0?p:void 0,G=(y=r.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:Z,emailVerified:de,isAnonymous:W,providerData:x,stsTokenManager:ge}=r;Be(Z&&ge,e,"internal-error");const ve=ja.fromJSON(this.name,ge);Be(typeof Z=="string",e,"internal-error"),Zi(v,e.name),Zi(E,e.name),Be(typeof de=="boolean",e,"internal-error"),Be(typeof W=="boolean",e,"internal-error"),Zi(S,e.name),Zi(A,e.name),Zi(P,e.name),Zi(H,e.name),Zi(B,e.name),Zi(G,e.name);const F=new tr({uid:Z,auth:e,email:E,emailVerified:de,displayName:v,isAnonymous:W,photoURL:A,phoneNumber:S,tenantId:P,stsTokenManager:ve,createdAt:B,lastLoginAt:G});return x&&Array.isArray(x)&&(F.providerData=x.map(ue=>Object.assign({},ue))),H&&(F._redirectEventId=H),F}static async _fromIdTokenResponse(e,r,s=!1){const o=new ja;o.updateFromServerResponse(r);const u=new tr({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Iu(u),u}static async _fromGetAccountInfoResponse(e,r,s){const o=r.users[0];Be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?rS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),h=new ja;h.updateFromIdToken(s);const m=new tr({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new eh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=new Map;function Gr(i){Mu(i instanceof Function,"Expected a class definition");let e=fv.get(i);return e?(Mu(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,fv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}aS.type="NONE";const dv=aS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(i,e,r){return`firebase:${i}:${e}:${r}`}class Va{constructor(e,r,s){this.persistence=e,this.auth=r,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Od(this.userKey,o.apiKey,u),this.fullPersistenceKey=Od("persistence",o.apiKey,u),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?tr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,s="authUser"){if(!r.length)return new Va(Gr(dv),e,s);const o=(await Promise.all(r.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Gr(dv);const f=Od(s,e.config.apiKey,e.name);let h=null;for(const p of r)try{const y=await p._get(f);if(y){const v=tr._fromJSON(e,y);p!==u&&(h=v),u=p;break}}catch{}const m=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Va(u,e,s):(u=m[0],h&&await u._set(f,h.toJSON()),await Promise.all(r.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new Va(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Rx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Tx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Nx(e))return"Blackberry";if(Dx(e))return"Webos";if(Cx(e))return"Safari";if((e.includes("chrome/")||wx(e))&&!e.includes("edge/"))return"Chrome";if(Ax(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(r);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Tx(i=Xn()){return/firefox\//i.test(i)}function Cx(i=Xn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wx(i=Xn()){return/crios\//i.test(i)}function Rx(i=Xn()){return/iemobile/i.test(i)}function Ax(i=Xn()){return/android/i.test(i)}function Nx(i=Xn()){return/blackberry/i.test(i)}function Dx(i=Xn()){return/webos/i.test(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(i,e=[]){let r;switch(i){case"Browser":r=hv(Xn());break;case"Worker":r=`${hv(Xn())}-${i}`;break;default:r=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Pu}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const s=u=>new Promise((f,h)=>{try{const m=e(u);f(m)}catch(m){h(m)}});s.onAbort=r,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const s of this.queue)await s(e),s.onAbort&&r.push(s.onAbort)}catch(s){r.reverse();for(const o of r)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xx(i,e={}){return Wu(i,"GET","/v2/passwordPolicy",Jb(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=6;class Ix{constructor(e){var r,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=f.minPasswordLength)!==null&&r!==void 0?r:Mx,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,s,o,u,f,h;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(r=m.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNumericCharacter)!==null&&f!==void 0?f:!0),m.isValid&&(m.isValid=(h=m.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),m}validatePasswordLengthOptions(e,r){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(r.meetsMinPasswordLength=e.length>=s),o&&(r.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(r,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,r,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,r,s,o){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mv(this),this.idTokenSubscription=new mv(this),this.beforeStateQueue=new Ox(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Gr(r)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Va.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await nS(this,{idToken:e}),s=await tr._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(s)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(al(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(h,h))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,h=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!f||f===h)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Iu(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(al(this.app))return Promise.reject(lu(this));const r=e?Zt(e):null;return r&&Be(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return al(this.app)?Promise.reject(lu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return al(this.app)?Promise.reject(lu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xx(this),r=new Ix(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jr("auth","Firebase",e())}onAuthStateChanged(e,r,s){return this.registerStateListener(this.authStateSubscription,e,r,s)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,s){return this.registerStateListener(this.idTokenSubscription,e,r,s)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(s.tenantId=this.tenantId),await Sx(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const s=await this.getOrInitRedirectPersistenceManager(r);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Gr(e)||this._popupRedirectResolver;Be(r,this,"argument-error"),this.redirectPersistenceManager=await Va.create(this,[Gr(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,s;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,s,o){if(this._deleted)return()=>{};const u=typeof r=="function"?r:r.next.bind(r);let f=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(h,this,"internal-error"),h.then(()=>{f||u(this.currentUser)}),typeof r=="function"){const m=e.addObserver(r,s,o);return()=>{f=!0,m()}}else{const m=e.addObserver(r);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(r["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&lx(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Ux(i){return Zt(i)}class mv{constructor(e){this.auth=e,this.observer=null,this.addObserver=eR(r=>this.observer=r)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function kx(i,e){const r=(e==null?void 0:e.persistence)||[],s=(Array.isArray(r)?r:[r]).map(Gr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}new Hl(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Hl(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Hl(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Hl(5e3,15e3);var pv="@firebase/auth",gv="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Px(i){$n(new Hn("auth",(e,{options:r})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:h}=s.options;Be(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:f,authDomain:h,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sS(i)},p=new Lx(s,o,u,m);return kx(p,r),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,s)=>{e.getProvider("auth-internal").initialize()})),$n(new Hn("auth-internal",e=>{const r=Ux(e.getProvider("auth").getImmediate());return(s=>new zx(s))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),wn(pv,gv,Hx(i)),wn(pv,gv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=5*60;qw("authIdTokenMaxAge");Px("Browser");const jx=hw([{path:"/",element:Q.jsx(Mw,{}),children:[{index:!0,element:Q.jsx(rx,{})},{path:"highscorespage",element:Q.jsx(ax,{})}]}]),Vx=()=>{console.log("AppRouter is mounting!");try{return Q.jsx(Rw,{router:jx})}catch(i){return console.error("❌ RouterProvider failed to mount:",i),Q.jsx("div",{children:"Router failed to load"})}};console.log("✅ Main.jsx is running!");ST.createRoot(document.getElementById("root")).render(Q.jsx(N.StrictMode,{children:Q.jsx(Aw,{children:Q.jsx(Nw,{children:Q.jsx(Dw,{children:Q.jsxs(Ow,{children:[Q.jsx(Vx,{})," "]})})})})}));
