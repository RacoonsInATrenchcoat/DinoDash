function _v(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var rd={exports:{}},Ks={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function _T(){if(R_)return Ks;R_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ks.Fragment=e,Ks.jsx=r,Ks.jsxs=r,Ks}var A_;function yT(){return A_||(A_=1,rd.exports=_T()),rd.exports}var V=yT(),ad={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function vT(){if(N_)return we;N_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function E(T){return T===null||typeof T!="object"?null:(T=v&&T[v]||T["@@iterator"],typeof T=="function"?T:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,H={};function z(T,q,ie){this.props=T,this.context=q,this.refs=H,this.updater=ie||S}z.prototype.isReactComponent={},z.prototype.setState=function(T,q){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,q,"setState")},z.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function P(){}P.prototype=z.prototype;function Q(T,q,ie){this.props=T,this.context=q,this.refs=H,this.updater=ie||S}var Z=Q.prototype=new P;Z.constructor=Q,N(Z,z.prototype),Z.isPureReactComponent=!0;var de=Array.isArray,W={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function _e(T,q,ie,ee,X,Te){return ie=Te.ref,{$$typeof:i,type:T,key:q,ref:ie!==void 0?ie:null,props:Te}}function be(T,q){return _e(T.type,q,void 0,void 0,void 0,T.props)}function G(T){return typeof T=="object"&&T!==null&&T.$$typeof===i}function se(T){var q={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(ie){return q[ie]})}var Le=/\/+/g;function dt(T,q){return typeof T=="object"&&T!==null&&T.key!=null?se(""+T.key):q.toString(36)}function Ct(){}function ht(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Ct,Ct):(T.status="pending",T.then(function(q){T.status==="pending"&&(T.status="fulfilled",T.value=q)},function(q){T.status==="pending"&&(T.status="rejected",T.reason=q)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function Fe(T,q,ie,ee,X){var Te=typeof T;(Te==="undefined"||Te==="boolean")&&(T=null);var pe=!1;if(T===null)pe=!0;else switch(Te){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(T.$$typeof){case i:case e:pe=!0;break;case y:return pe=T._init,Fe(pe(T._payload),q,ie,ee,X)}}if(pe)return X=X(T),pe=ee===""?"."+dt(T,0):ee,de(X)?(ie="",pe!=null&&(ie=pe.replace(Le,"$&/")+"/"),Fe(X,q,ie,"",function(Se){return Se})):X!=null&&(G(X)&&(X=be(X,ie+(X.key==null||T&&T.key===X.key?"":(""+X.key).replace(Le,"$&/")+"/")+pe)),q.push(X)),1;pe=0;var vt=ee===""?".":ee+":";if(de(T))for(var Ue=0;Ue<T.length;Ue++)ee=T[Ue],Te=vt+dt(ee,Ue),pe+=Fe(ee,q,ie,Te,X);else if(Ue=E(T),typeof Ue=="function")for(T=Ue.call(T),Ue=0;!(ee=T.next()).done;)ee=ee.value,Te=vt+dt(ee,Ue++),pe+=Fe(ee,q,ie,Te,X);else if(Te==="object"){if(typeof T.then=="function")return Fe(ht(T),q,ie,ee,X);throw q=String(T),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return pe}function Y(T,q,ie){if(T==null)return T;var ee=[],X=0;return Fe(T,ee,"","",function(Te){return q.call(ie,Te,X++)}),ee}function me(T){if(T._status===-1){var q=T._result;q=q(),q.then(function(ie){(T._status===0||T._status===-1)&&(T._status=1,T._result=ie)},function(ie){(T._status===0||T._status===-1)&&(T._status=2,T._result=ie)}),T._status===-1&&(T._status=0,T._result=q)}if(T._status===1)return T._result.default;throw T._result}var ue=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function Ne(){}return we.Children={map:Y,forEach:function(T,q,ie){Y(T,function(){q.apply(this,arguments)},ie)},count:function(T){var q=0;return Y(T,function(){q++}),q},toArray:function(T){return Y(T,function(q){return q})||[]},only:function(T){if(!G(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},we.Component=z,we.Fragment=r,we.Profiler=o,we.PureComponent=Q,we.StrictMode=s,we.Suspense=m,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,we.act=function(){throw Error("act(...) is not supported in production builds of React.")},we.cache=function(T){return function(){return T.apply(null,arguments)}},we.cloneElement=function(T,q,ie){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var ee=N({},T.props),X=T.key,Te=void 0;if(q!=null)for(pe in q.ref!==void 0&&(Te=void 0),q.key!==void 0&&(X=""+q.key),q)!M.call(q,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&q.ref===void 0||(ee[pe]=q[pe]);var pe=arguments.length-2;if(pe===1)ee.children=ie;else if(1<pe){for(var vt=Array(pe),Ue=0;Ue<pe;Ue++)vt[Ue]=arguments[Ue+2];ee.children=vt}return _e(T.type,X,void 0,void 0,Te,ee)},we.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},we.createElement=function(T,q,ie){var ee,X={},Te=null;if(q!=null)for(ee in q.key!==void 0&&(Te=""+q.key),q)M.call(q,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(X[ee]=q[ee]);var pe=arguments.length-2;if(pe===1)X.children=ie;else if(1<pe){for(var vt=Array(pe),Ue=0;Ue<pe;Ue++)vt[Ue]=arguments[Ue+2];X.children=vt}if(T&&T.defaultProps)for(ee in pe=T.defaultProps,pe)X[ee]===void 0&&(X[ee]=pe[ee]);return _e(T,Te,void 0,void 0,null,X)},we.createRef=function(){return{current:null}},we.forwardRef=function(T){return{$$typeof:h,render:T}},we.isValidElement=G,we.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:me}},we.memo=function(T,q){return{$$typeof:p,type:T,compare:q===void 0?null:q}},we.startTransition=function(T){var q=W.T,ie={};W.T=ie;try{var ee=T(),X=W.S;X!==null&&X(ie,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Ne,ue)}catch(Te){ue(Te)}finally{W.T=q}},we.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},we.use=function(T){return W.H.use(T)},we.useActionState=function(T,q,ie){return W.H.useActionState(T,q,ie)},we.useCallback=function(T,q){return W.H.useCallback(T,q)},we.useContext=function(T){return W.H.useContext(T)},we.useDebugValue=function(){},we.useDeferredValue=function(T,q){return W.H.useDeferredValue(T,q)},we.useEffect=function(T,q){return W.H.useEffect(T,q)},we.useId=function(){return W.H.useId()},we.useImperativeHandle=function(T,q,ie){return W.H.useImperativeHandle(T,q,ie)},we.useInsertionEffect=function(T,q){return W.H.useInsertionEffect(T,q)},we.useLayoutEffect=function(T,q){return W.H.useLayoutEffect(T,q)},we.useMemo=function(T,q){return W.H.useMemo(T,q)},we.useOptimistic=function(T,q){return W.H.useOptimistic(T,q)},we.useReducer=function(T,q,ie){return W.H.useReducer(T,q,ie)},we.useRef=function(T){return W.H.useRef(T)},we.useState=function(T){return W.H.useState(T)},we.useSyncExternalStore=function(T,q,ie){return W.H.useSyncExternalStore(T,q,ie)},we.useTransition=function(){return W.H.useTransition()},we.version="19.0.0",we}var D_;function nh(){return D_||(D_=1,ad.exports=vT()),ad.exports}var A=nh();const ET=_v(A);var sd={exports:{}},Xs={},ld={exports:{}},od={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function bT(){return O_||(O_=1,function(i){function e(Y,me){var ue=Y.length;Y.push(me);e:for(;0<ue;){var Ne=ue-1>>>1,T=Y[Ne];if(0<o(T,me))Y[Ne]=me,Y[ue]=T,ue=Ne;else break e}}function r(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var me=Y[0],ue=Y.pop();if(ue!==me){Y[0]=ue;e:for(var Ne=0,T=Y.length,q=T>>>1;Ne<q;){var ie=2*(Ne+1)-1,ee=Y[ie],X=ie+1,Te=Y[X];if(0>o(ee,ue))X<T&&0>o(Te,ee)?(Y[Ne]=Te,Y[X]=ue,Ne=X):(Y[Ne]=ee,Y[ie]=ue,Ne=ie);else if(X<T&&0>o(Te,ue))Y[Ne]=Te,Y[X]=ue,Ne=X;else break e}}return me}function o(Y,me){var ue=Y.sortIndex-me.sortIndex;return ue!==0?ue:Y.id-me.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();i.unstable_now=function(){return f.now()-h}}var m=[],p=[],y=1,v=null,E=3,S=!1,N=!1,H=!1,z=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function Z(Y){for(var me=r(p);me!==null;){if(me.callback===null)s(p);else if(me.startTime<=Y)s(p),me.sortIndex=me.expirationTime,e(m,me);else break;me=r(p)}}function de(Y){if(H=!1,Z(Y),!N)if(r(m)!==null)N=!0,ht();else{var me=r(p);me!==null&&Fe(de,me.startTime-Y)}}var W=!1,M=-1,_e=5,be=-1;function G(){return!(i.unstable_now()-be<_e)}function se(){if(W){var Y=i.unstable_now();be=Y;var me=!0;try{e:{N=!1,H&&(H=!1,P(M),M=-1),S=!0;var ue=E;try{t:{for(Z(Y),v=r(m);v!==null&&!(v.expirationTime>Y&&G());){var Ne=v.callback;if(typeof Ne=="function"){v.callback=null,E=v.priorityLevel;var T=Ne(v.expirationTime<=Y);if(Y=i.unstable_now(),typeof T=="function"){v.callback=T,Z(Y),me=!0;break t}v===r(m)&&s(m),Z(Y)}else s(m);v=r(m)}if(v!==null)me=!0;else{var q=r(p);q!==null&&Fe(de,q.startTime-Y),me=!1}}break e}finally{v=null,E=ue,S=!1}me=void 0}}finally{me?Le():W=!1}}}var Le;if(typeof Q=="function")Le=function(){Q(se)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,Ct=dt.port2;dt.port1.onmessage=se,Le=function(){Ct.postMessage(null)}}else Le=function(){z(se,0)};function ht(){W||(W=!0,Le())}function Fe(Y,me){M=z(function(){Y(i.unstable_now())},me)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_continueExecution=function(){N||S||(N=!0,ht())},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_e=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_getFirstCallbackNode=function(){return r(m)},i.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var ue=E;E=me;try{return Y()}finally{E=ue}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Y,me){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ue=E;E=Y;try{return me()}finally{E=ue}},i.unstable_scheduleCallback=function(Y,me,ue){var Ne=i.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ne+ue:Ne):ue=Ne,Y){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=ue+T,Y={id:y++,callback:me,priorityLevel:Y,startTime:ue,expirationTime:T,sortIndex:-1},ue>Ne?(Y.sortIndex=ue,e(p,Y),r(m)===null&&Y===r(p)&&(H?(P(M),M=-1):H=!0,Fe(de,ue-Ne))):(Y.sortIndex=T,e(m,Y),N||S||(N=!0,ht())),Y},i.unstable_shouldYield=G,i.unstable_wrapCallback=function(Y){var me=E;return function(){var ue=E;E=me;try{return Y.apply(this,arguments)}finally{E=ue}}}}(od)),od}var M_;function ST(){return M_||(M_=1,ld.exports=bT()),ld.exports}var ud={exports:{}},Vt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function TT(){if(x_)return Vt;x_=1;var i=nh();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Vt.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(m,p,null,y)},Vt.flushSync=function(m){var p=f.T,y=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=p,s.p=y,s.d.f()}},Vt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},Vt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Vt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:S}):y==="script"&&s.d.X(m,{crossOrigin:v,integrity:E,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Vt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},Vt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Vt.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=h(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},Vt.requestFormReset=function(m){s.d.r(m)},Vt.unstable_batchedUpdates=function(m,p){return m(p)},Vt.useFormState=function(m,p,y){return f.H.useFormState(m,p,y)},Vt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Vt.version="19.0.0",Vt}var I_;function yv(){if(I_)return ud.exports;I_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ud.exports=TT(),ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function wT(){if(L_)return Xs;L_=1;var i=ST(),e=nh(),r=yv();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),S=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),de=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=W&&t[W]||t["@@iterator"],typeof t=="function"?t:null)}var _e=Symbol.for("react.client.reference");function be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===_e?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case m:return"Fragment";case h:return"Portal";case y:return"Profiler";case p:return"StrictMode";case H:return"Suspense";case z:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case S:return(t.displayName||"Context")+".Provider";case E:return(t._context.displayName||"Context")+".Consumer";case N:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return n=t.displayName||null,n!==null?n:be(t.type)||"Memo";case Q:n=t._payload,t=t._init;try{return be(t(n))}catch{}}return null}var G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=Object.assign,Le,dt;function Ct(t){if(Le===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Le=n&&n[1]||"",dt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Le+t+dt}var ht=!1;function Fe(t,n){if(!t||ht)return"";ht=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(U){var I=U}Reflect.construct(t,[],j)}else{try{j.call()}catch(U){I=U}t.call(j.prototype)}}else{try{throw Error()}catch(U){I=U}(j=t())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(U){if(U&&I&&typeof U.stack=="string")return[U.stack,I.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),g=d[0],_=d[1];if(g&&_){var b=g.split(`
`),R=_.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===R.length)for(l=b.length-1,c=R.length-1;1<=l&&0<=c&&b[l]!==R[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==R[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==R[c]){var k=`
`+b[l].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=l&&0<=c);break}}}finally{ht=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ct(a):""}function Y(t){switch(t.tag){case 26:case 27:case 5:return Ct(t.type);case 16:return Ct("Lazy");case 13:return Ct("Suspense");case 19:return Ct("SuspenseList");case 0:case 15:return t=Fe(t.type,!1),t;case 11:return t=Fe(t.type.render,!1),t;case 1:return t=Fe(t.type,!0),t;default:return""}}function me(t){try{var n="";do n+=Y(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ue(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function Ne(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function T(t){if(ue(t)!==t)throw Error(s(188))}function q(t){var n=t.alternate;if(!n){if(n=ue(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===a)return T(c),t;if(d===l)return T(c),n;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=d;else{for(var g=!1,_=c.child;_;){if(_===a){g=!0,a=c,l=d;break}if(_===l){g=!0,l=c,a=d;break}_=_.sibling}if(!g){for(_=d.child;_;){if(_===a){g=!0,a=d,l=c;break}if(_===l){g=!0,l=d,a=c;break}_=_.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function ie(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ie(t),n!==null)return n;t=t.sibling}return null}var ee=Array.isArray,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},pe=[],vt=-1;function Ue(t){return{current:t}}function Se(t){0>vt||(t.current=pe[vt],pe[vt]=null,vt--)}function ve(t,n){vt++,pe[vt]=t.current,t.current=n}var $e=Ue(null),Rt=Ue(null),Et=Ue(null),At=Ue(null);function $t(t,n){switch(ve(Et,n),ve(Rt,t),ve($e,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?t_(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=t_(t),n=n_(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Se($e),ve($e,n)}function Yt(){Se($e),Se(Rt),Se(Et)}function hn(t){t.memoizedState!==null&&ve(At,t);var n=$e.current,a=n_(n,t.type);n!==a&&(ve(Rt,t),ve($e,a))}function oi(t){Rt.current===t&&(Se($e),Se(Rt)),At.current===t&&(Se(At),Fs._currentValue=Te)}var Ui=Object.prototype.hasOwnProperty,ki=i.unstable_scheduleCallback,xn=i.unstable_cancelCallback,mn=i.unstable_shouldYield,Yn=i.unstable_requestPaint,jt=i.unstable_now,Er=i.unstable_getCurrentPriorityLevel,In=i.unstable_ImmediatePriority,pn=i.unstable_UserBlockingPriority,br=i.unstable_NormalPriority,ts=i.unstable_LowPriority,Hl=i.unstable_IdlePriority,Qn=i.log,Pl=i.unstable_setDisableYieldValue,zi=null,qt=null;function Zu(t){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(zi,t,void 0,(t.current.flags&128)===128)}catch{}}function Ln(t){if(typeof Qn=="function"&&Pl(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(zi,t)}catch{}}var Nt=Math.clz32?Math.clz32:Ju,Bl=Math.log,ns=Math.LN2;function Ju(t){return t>>>=0,t===0?32:31-(Bl(t)/ns|0)|0}var Sr=128,oa=4194304;function Kn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ui(t,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,c=t.suspendedLanes,d=t.pingedLanes,g=t.warmLanes;t=t.finishedLanes!==0;var _=a&134217727;return _!==0?(a=_&~c,a!==0?l=Kn(a):(d&=_,d!==0?l=Kn(d):t||(g=_&~g,g!==0&&(l=Kn(g))))):(_=a&~c,_!==0?l=Kn(_):d!==0?l=Kn(d):t||(g=a&~g,g!==0&&(l=Kn(g)))),l===0?0:n!==0&&n!==l&&!(n&c)&&(c=l&-l,g=n&-n,c>=g||c===32&&(g&4194176)!==0)?n:l}function Xn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ec(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jl(){var t=Sr;return Sr<<=1,!(Sr&4194176)&&(Sr=128),t}function w(){var t=oa;return oa<<=1,!(oa&62914560)&&(oa=4194304),t}function O(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function L(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function F(t,n,a,l,c,d){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var _=t.entanglements,b=t.expirationTimes,R=t.hiddenUpdates;for(a=g&~a;0<a;){var k=31-Nt(a),j=1<<k;_[k]=0,b[k]=-1;var I=R[k];if(I!==null)for(R[k]=null,k=0;k<I.length;k++){var U=I[k];U!==null&&(U.lane&=-536870913)}a&=~j}l!==0&&J(t,l,0),d!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=d&~(g&~n))}function J(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Nt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function oe(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Nt(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function ye(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function te(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:E_(t.type))}function re(t,n){var a=X.p;try{return X.p=t,n()}finally{X.p=a}}var $=Math.random().toString(36).slice(2),ae="__reactFiber$"+$,fe="__reactProps$"+$,je="__reactContainer$"+$,mt="__reactEvents$"+$,tt="__reactListeners$"+$,Qe="__reactHandles$"+$,ot="__reactResources$"+$,gn="__reactMarker$"+$;function ci(t){delete t[ae],delete t[fe],delete t[mt],delete t[tt],delete t[Qe]}function Ut(t){var n=t[ae];if(n)return n;for(var a=t.parentNode;a;){if(n=a[je]||a[ae]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=a_(t);t!==null;){if(a=t[ae])return a;t=a_(t)}return n}t=a,a=t.parentNode}return null}function kt(t){if(t=t[ae]||t[je]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function fi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function _n(t){var n=t[ot];return n||(n=t[ot]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function We(t){t[gn]=!0}var Tr=new Set,wr={};function ke(t,n){it(t,n),it(t+"Capture",n)}function it(t,n){for(wr[t]=n,t=0;t<n.length;t++)Tr.add(n[t])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rt={},di={};function ql(t){return Ui.call(di,t)?!0:Ui.call(rt,t)?!1:Cr.test(t)?di[t]=!0:(rt[t]=!0,!1)}function ua(t,n,a){if(ql(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Fl(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function hi(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function yn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rm(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function dS(t){var n=rm(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,d=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){l=""+g,d.call(this,g)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Vl(t){t._valueTracker||(t._valueTracker=dS(t))}function am(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=rm(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Gl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var hS=/[\n"\\]/g;function vn(t){return t.replace(hS,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function tc(t,n,a,l,c,d,g,_){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+yn(n)):t.value!==""+yn(n)&&(t.value=""+yn(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?nc(t,g,yn(n)):a!=null?nc(t,g,yn(a)):l!=null&&t.removeAttribute("value"),c==null&&d!=null&&(t.defaultChecked=!!d),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+yn(_):t.removeAttribute("name")}function sm(t,n,a,l,c,d,g,_){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+yn(a):"",n=n!=null?""+yn(n):a,_||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=_?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function nc(t,n,a){n==="number"&&Gl(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ca(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+yn(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function lm(t,n,a){if(n!=null&&(n=""+yn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+yn(a):""}function om(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ee(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=yn(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function fa(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var mS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function um(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||mS.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function cm(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&um(t,c,l)}else for(var d in n)n.hasOwnProperty(d)&&um(t,d,n[d])}function ic(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yl(t){return gS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var rc=null;function ac(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var da=null,ha=null;function fm(t){var n=kt(t);if(n&&(t=n.stateNode)){var a=t[fe]||null;e:switch(t=n.stateNode,n.type){case"input":if(tc(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[fe]||null;if(!c)throw Error(s(90));tc(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&am(l)}break e;case"textarea":lm(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&ca(t,!!a.multiple,n,!1)}}}var sc=!1;function dm(t,n,a){if(sc)return t(n,a);sc=!0;try{var l=t(n);return l}finally{if(sc=!1,(da!==null||ha!==null)&&(Oo(),da&&(n=da,t=ha,ha=da=null,fm(n),t)))for(n=0;n<t.length;n++)fm(t[n])}}function is(t,n){var a=t.stateNode;if(a===null)return null;var l=a[fe]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var lc=!1;if(Wt)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){lc=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{lc=!1}var Hi=null,oc=null,Ql=null;function hm(){if(Ql)return Ql;var t,n=oc,a=n.length,l,c="value"in Hi?Hi.value:Hi.textContent,d=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[d-l];l++);return Ql=c.slice(t,1<l?1-l:void 0)}function Kl(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xl(){return!0}function mm(){return!1}function Zt(t){function n(a,l,c,d,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(a=t[_],this[_]=a?a(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xl:mm,this.isPropagationStopped=mm,this}return se(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),n}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$l=Zt(Rr),as=se({},Rr,{view:0,detail:0}),_S=Zt(as),uc,cc,ss,Wl=se({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ss&&(ss&&t.type==="mousemove"?(uc=t.screenX-ss.screenX,cc=t.screenY-ss.screenY):cc=uc=0,ss=t),uc)},movementY:function(t){return"movementY"in t?t.movementY:cc}}),pm=Zt(Wl),yS=se({},Wl,{dataTransfer:0}),vS=Zt(yS),ES=se({},as,{relatedTarget:0}),fc=Zt(ES),bS=se({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),SS=Zt(bS),TS=se({},Rr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wS=Zt(TS),CS=se({},Rr,{data:0}),gm=Zt(CS),RS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DS(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=NS[t])?!!n[t]:!1}function dc(){return DS}var OS=se({},as,{key:function(t){if(t.key){var n=RS[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Kl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?AS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dc,charCode:function(t){return t.type==="keypress"?Kl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),MS=Zt(OS),xS=se({},Wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_m=Zt(xS),IS=se({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dc}),LS=Zt(IS),US=se({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),kS=Zt(US),zS=se({},Wl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),HS=Zt(zS),PS=se({},Rr,{newState:0,oldState:0}),BS=Zt(PS),jS=[9,13,27,32],hc=Wt&&"CompositionEvent"in window,ls=null;Wt&&"documentMode"in document&&(ls=document.documentMode);var qS=Wt&&"TextEvent"in window&&!ls,ym=Wt&&(!hc||ls&&8<ls&&11>=ls),vm=" ",Em=!1;function bm(t,n){switch(t){case"keyup":return jS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ma=!1;function FS(t,n){switch(t){case"compositionend":return Sm(n);case"keypress":return n.which!==32?null:(Em=!0,vm);case"textInput":return t=n.data,t===vm&&Em?null:t;default:return null}}function VS(t,n){if(ma)return t==="compositionend"||!hc&&bm(t,n)?(t=hm(),Ql=oc=Hi=null,ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ym&&n.locale!=="ko"?null:n.data;default:return null}}var GS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!GS[t.type]:n==="textarea"}function wm(t,n,a,l){da?ha?ha.push(l):ha=[l]:da=l,n=Uo(n,"onChange"),0<n.length&&(a=new $l("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var os=null,us=null;function YS(t){$g(t,0)}function Zl(t){var n=fi(t);if(am(n))return t}function Cm(t,n){if(t==="change")return n}var Rm=!1;if(Wt){var mc;if(Wt){var pc="oninput"in document;if(!pc){var Am=document.createElement("div");Am.setAttribute("oninput","return;"),pc=typeof Am.oninput=="function"}mc=pc}else mc=!1;Rm=mc&&(!document.documentMode||9<document.documentMode)}function Nm(){os&&(os.detachEvent("onpropertychange",Dm),us=os=null)}function Dm(t){if(t.propertyName==="value"&&Zl(us)){var n=[];wm(n,us,t,ac(t)),dm(YS,n)}}function QS(t,n,a){t==="focusin"?(Nm(),os=n,us=a,os.attachEvent("onpropertychange",Dm)):t==="focusout"&&Nm()}function KS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zl(us)}function XS(t,n){if(t==="click")return Zl(n)}function $S(t,n){if(t==="input"||t==="change")return Zl(n)}function WS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:WS;function cs(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Ui.call(n,c)||!sn(t[c],n[c]))return!1}return!0}function Om(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mm(t,n){var a=Om(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Om(a)}}function xm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?xm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Im(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Gl(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Gl(t.document)}return n}function gc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function ZS(t,n){var a=Im(n);n=t.focusedElem;var l=t.selectionRange;if(a!==n&&n&&n.ownerDocument&&xm(n.ownerDocument.documentElement,n)){if(l!==null&&gc(n)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(a,n.value.length);else if(a=(t=n.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var c=n.textContent.length,d=Math.min(l.start,c);l=l.end===void 0?d:Math.min(l.end,c),!a.extend&&d>l&&(c=l,l=d,d=c),c=Mm(n,d);var g=Mm(n,l);c&&g&&(a.rangeCount!==1||a.anchorNode!==c.node||a.anchorOffset!==c.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),a.addRange(t)))}}for(t=[],a=n;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)a=t[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var JS=Wt&&"documentMode"in document&&11>=document.documentMode,pa=null,_c=null,fs=null,yc=!1;function Lm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yc||pa==null||pa!==Gl(l)||(l=pa,"selectionStart"in l&&gc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fs&&cs(fs,l)||(fs=l,l=Uo(_c,"onSelect"),0<l.length&&(n=new $l("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=pa)))}function Ar(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ga={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionrun:Ar("Transition","TransitionRun"),transitionstart:Ar("Transition","TransitionStart"),transitioncancel:Ar("Transition","TransitionCancel"),transitionend:Ar("Transition","TransitionEnd")},vc={},Um={};Wt&&(Um=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Nr(t){if(vc[t])return vc[t];if(!ga[t])return t;var n=ga[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Um)return vc[t]=n[a];return t}var km=Nr("animationend"),zm=Nr("animationiteration"),Hm=Nr("animationstart"),e0=Nr("transitionrun"),t0=Nr("transitionstart"),n0=Nr("transitioncancel"),Pm=Nr("transitionend"),Bm=new Map,jm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Un(t,n){Bm.set(t,n),ke(n,[t])}var En=[],_a=0,Ec=0;function Jl(){for(var t=_a,n=Ec=_a=0;n<t;){var a=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var d=En[n];if(En[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}d!==0&&qm(a,c,d)}}function eo(t,n,a,l){En[_a++]=t,En[_a++]=n,En[_a++]=a,En[_a++]=l,Ec|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function bc(t,n,a,l){return eo(t,n,a,l),to(t)}function Pi(t,n){return eo(t,null,null,n),to(t)}function qm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(c=!0)),t=d,d=d.return;c&&n!==null&&t.tag===3&&(d=t.stateNode,c=31-Nt(a),d=d.hiddenUpdates,t=d[c],t===null?d[c]=[n]:t.push(n),n.lane=a|536870912)}function to(t){if(50<ks)throw ks=0,Nf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ya={},Fm=new WeakMap;function bn(t,n){if(typeof t=="object"&&t!==null){var a=Fm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:me(n)},Fm.set(t,n),n)}return{value:t,source:n,stack:me(n)}}var va=[],Ea=0,no=null,io=0,Sn=[],Tn=0,Dr=null,mi=1,pi="";function Or(t,n){va[Ea++]=io,va[Ea++]=no,no=t,io=n}function Vm(t,n,a){Sn[Tn++]=mi,Sn[Tn++]=pi,Sn[Tn++]=Dr,Dr=t;var l=mi;t=pi;var c=32-Nt(l)-1;l&=~(1<<c),a+=1;var d=32-Nt(n)+c;if(30<d){var g=c-c%5;d=(l&(1<<g)-1).toString(32),l>>=g,c-=g,mi=1<<32-Nt(n)+c|a<<c|l,pi=d+t}else mi=1<<d|a<<c|l,pi=t}function Sc(t){t.return!==null&&(Or(t,1),Vm(t,1,0))}function Tc(t){for(;t===no;)no=va[--Ea],va[Ea]=null,io=va[--Ea],va[Ea]=null;for(;t===Dr;)Dr=Sn[--Tn],Sn[Tn]=null,pi=Sn[--Tn],Sn[Tn]=null,mi=Sn[--Tn],Sn[Tn]=null}var Qt=null,zt=null,He=!1,kn=null,$n=!1,wc=Error(s(519));function Mr(t){var n=Error(s(418,""));throw ms(bn(n,t)),wc}function Gm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ae]=t,n[fe]=l,a){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(a=0;a<Hs.length;a++)xe(Hs[a],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":xe("invalid",n),sm(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Vl(n);break;case"select":xe("invalid",n);break;case"textarea":xe("invalid",n),om(n,l.value,l.defaultValue,l.children),Vl(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||e_(n.textContent,a)?(l.popover!=null&&(xe("beforetoggle",n),xe("toggle",n)),l.onScroll!=null&&xe("scroll",n),l.onScrollEnd!=null&&xe("scrollend",n),l.onClick!=null&&(n.onclick=ko),n=!0):n=!1,n||Mr(t)}function Ym(t){for(Qt=t.return;Qt;)switch(Qt.tag){case 3:case 27:$n=!0;return;case 5:case 13:$n=!1;return;default:Qt=Qt.return}}function ds(t){if(t!==Qt)return!1;if(!He)return Ym(t),He=!0,!1;var n=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Gf(t.type,t.memoizedProps)),a=!a),a&&(n=!0),n&&zt&&Mr(t),Ym(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){zt=Hn(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}zt=null}}else zt=Qt?Hn(t.stateNode.nextSibling):null;return!0}function hs(){zt=Qt=null,He=!1}function ms(t){kn===null?kn=[t]:kn.push(t)}var ps=Error(s(460)),Qm=Error(s(474)),Cc={then:function(){}};function Km(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ro(){}function Xm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ro,ro),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===ps?Error(s(483)):t;default:if(typeof n.status=="string")n.then(ro,ro);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===ps?Error(s(483)):t}throw gs=n,ps}}var gs=null;function $m(){if(gs===null)throw Error(s(459));var t=gs;return gs=null,t}var ba=null,_s=0;function ao(t){var n=_s;return _s+=1,ba===null&&(ba=[]),Xm(ba,t,n)}function ys(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function so(t,n){throw n.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Wm(t){var n=t._init;return n(t._payload)}function Zm(t){function n(D,C){if(t){var x=D.deletions;x===null?(D.deletions=[C],D.flags|=16):x.push(C)}}function a(D,C){if(!t)return null;for(;C!==null;)n(D,C),C=C.sibling;return null}function l(D){for(var C=new Map;D!==null;)D.key!==null?C.set(D.key,D):C.set(D.index,D),D=D.sibling;return C}function c(D,C){return D=Wi(D,C),D.index=0,D.sibling=null,D}function d(D,C,x){return D.index=x,t?(x=D.alternate,x!==null?(x=x.index,x<C?(D.flags|=33554434,C):x):(D.flags|=33554434,C)):(D.flags|=1048576,C)}function g(D){return t&&D.alternate===null&&(D.flags|=33554434),D}function _(D,C,x,B){return C===null||C.tag!==6?(C=Ef(x,D.mode,B),C.return=D,C):(C=c(C,x),C.return=D,C)}function b(D,C,x,B){var ne=x.type;return ne===m?k(D,C,x.props.children,B,x.key):C!==null&&(C.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Q&&Wm(ne)===C.type)?(C=c(C,x.props),ys(C,x),C.return=D,C):(C=Co(x.type,x.key,x.props,null,D.mode,B),ys(C,x),C.return=D,C)}function R(D,C,x,B){return C===null||C.tag!==4||C.stateNode.containerInfo!==x.containerInfo||C.stateNode.implementation!==x.implementation?(C=bf(x,D.mode,B),C.return=D,C):(C=c(C,x.children||[]),C.return=D,C)}function k(D,C,x,B,ne){return C===null||C.tag!==7?(C=jr(x,D.mode,B,ne),C.return=D,C):(C=c(C,x),C.return=D,C)}function j(D,C,x){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Ef(""+C,D.mode,x),C.return=D,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case f:return x=Co(C.type,C.key,C.props,null,D.mode,x),ys(x,C),x.return=D,x;case h:return C=bf(C,D.mode,x),C.return=D,C;case Q:var B=C._init;return C=B(C._payload),j(D,C,x)}if(ee(C)||M(C))return C=jr(C,D.mode,x,null),C.return=D,C;if(typeof C.then=="function")return j(D,ao(C),x);if(C.$$typeof===S)return j(D,So(D,C),x);so(D,C)}return null}function I(D,C,x,B){var ne=C!==null?C.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return ne!==null?null:_(D,C,""+x,B);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case f:return x.key===ne?b(D,C,x,B):null;case h:return x.key===ne?R(D,C,x,B):null;case Q:return ne=x._init,x=ne(x._payload),I(D,C,x,B)}if(ee(x)||M(x))return ne!==null?null:k(D,C,x,B,null);if(typeof x.then=="function")return I(D,C,ao(x),B);if(x.$$typeof===S)return I(D,C,So(D,x),B);so(D,x)}return null}function U(D,C,x,B,ne){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return D=D.get(x)||null,_(C,D,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return D=D.get(B.key===null?x:B.key)||null,b(C,D,B,ne);case h:return D=D.get(B.key===null?x:B.key)||null,R(C,D,B,ne);case Q:var Re=B._init;return B=Re(B._payload),U(D,C,x,B,ne)}if(ee(B)||M(B))return D=D.get(x)||null,k(C,D,B,ne,null);if(typeof B.then=="function")return U(D,C,x,ao(B),ne);if(B.$$typeof===S)return U(D,C,x,So(C,B),ne);so(C,B)}return null}function le(D,C,x,B){for(var ne=null,Re=null,ce=C,he=C=0,Mt=null;ce!==null&&he<x.length;he++){ce.index>he?(Mt=ce,ce=null):Mt=ce.sibling;var Pe=I(D,ce,x[he],B);if(Pe===null){ce===null&&(ce=Mt);break}t&&ce&&Pe.alternate===null&&n(D,ce),C=d(Pe,C,he),Re===null?ne=Pe:Re.sibling=Pe,Re=Pe,ce=Mt}if(he===x.length)return a(D,ce),He&&Or(D,he),ne;if(ce===null){for(;he<x.length;he++)ce=j(D,x[he],B),ce!==null&&(C=d(ce,C,he),Re===null?ne=ce:Re.sibling=ce,Re=ce);return He&&Or(D,he),ne}for(ce=l(ce);he<x.length;he++)Mt=U(ce,D,he,x[he],B),Mt!==null&&(t&&Mt.alternate!==null&&ce.delete(Mt.key===null?he:Mt.key),C=d(Mt,C,he),Re===null?ne=Mt:Re.sibling=Mt,Re=Mt);return t&&ce.forEach(function(rr){return n(D,rr)}),He&&Or(D,he),ne}function Ee(D,C,x,B){if(x==null)throw Error(s(151));for(var ne=null,Re=null,ce=C,he=C=0,Mt=null,Pe=x.next();ce!==null&&!Pe.done;he++,Pe=x.next()){ce.index>he?(Mt=ce,ce=null):Mt=ce.sibling;var rr=I(D,ce,Pe.value,B);if(rr===null){ce===null&&(ce=Mt);break}t&&ce&&rr.alternate===null&&n(D,ce),C=d(rr,C,he),Re===null?ne=rr:Re.sibling=rr,Re=rr,ce=Mt}if(Pe.done)return a(D,ce),He&&Or(D,he),ne;if(ce===null){for(;!Pe.done;he++,Pe=x.next())Pe=j(D,Pe.value,B),Pe!==null&&(C=d(Pe,C,he),Re===null?ne=Pe:Re.sibling=Pe,Re=Pe);return He&&Or(D,he),ne}for(ce=l(ce);!Pe.done;he++,Pe=x.next())Pe=U(ce,D,he,Pe.value,B),Pe!==null&&(t&&Pe.alternate!==null&&ce.delete(Pe.key===null?he:Pe.key),C=d(Pe,C,he),Re===null?ne=Pe:Re.sibling=Pe,Re=Pe);return t&&ce.forEach(function(gT){return n(D,gT)}),He&&Or(D,he),ne}function ft(D,C,x,B){if(typeof x=="object"&&x!==null&&x.type===m&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case f:e:{for(var ne=x.key;C!==null;){if(C.key===ne){if(ne=x.type,ne===m){if(C.tag===7){a(D,C.sibling),B=c(C,x.props.children),B.return=D,D=B;break e}}else if(C.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Q&&Wm(ne)===C.type){a(D,C.sibling),B=c(C,x.props),ys(B,x),B.return=D,D=B;break e}a(D,C);break}else n(D,C);C=C.sibling}x.type===m?(B=jr(x.props.children,D.mode,B,x.key),B.return=D,D=B):(B=Co(x.type,x.key,x.props,null,D.mode,B),ys(B,x),B.return=D,D=B)}return g(D);case h:e:{for(ne=x.key;C!==null;){if(C.key===ne)if(C.tag===4&&C.stateNode.containerInfo===x.containerInfo&&C.stateNode.implementation===x.implementation){a(D,C.sibling),B=c(C,x.children||[]),B.return=D,D=B;break e}else{a(D,C);break}else n(D,C);C=C.sibling}B=bf(x,D.mode,B),B.return=D,D=B}return g(D);case Q:return ne=x._init,x=ne(x._payload),ft(D,C,x,B)}if(ee(x))return le(D,C,x,B);if(M(x)){if(ne=M(x),typeof ne!="function")throw Error(s(150));return x=ne.call(x),Ee(D,C,x,B)}if(typeof x.then=="function")return ft(D,C,ao(x),B);if(x.$$typeof===S)return ft(D,C,So(D,x),B);so(D,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,C!==null&&C.tag===6?(a(D,C.sibling),B=c(C,x),B.return=D,D=B):(a(D,C),B=Ef(x,D.mode,B),B.return=D,D=B),g(D)):a(D,C)}return function(D,C,x,B){try{_s=0;var ne=ft(D,C,x,B);return ba=null,ne}catch(ce){if(ce===ps)throw ce;var Re=An(29,ce,null,D.mode);return Re.lanes=B,Re.return=D,Re}finally{}}}var xr=Zm(!0),Jm=Zm(!1),Sa=Ue(null),lo=Ue(0);function ep(t,n){t=Ri,ve(lo,t),ve(Sa,n),Ri=t|n.baseLanes}function Rc(){ve(lo,Ri),ve(Sa,Sa.current)}function Ac(){Ri=lo.current,Se(Sa),Se(lo)}var wn=Ue(null),Wn=null;function Bi(t){var n=t.alternate;ve(bt,bt.current&1),ve(wn,t),Wn===null&&(n===null||Sa.current!==null||n.memoizedState!==null)&&(Wn=t)}function tp(t){if(t.tag===22){if(ve(bt,bt.current),ve(wn,t),Wn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Wn=t)}}else ji()}function ji(){ve(bt,bt.current),ve(wn,wn.current)}function gi(t){Se(wn),Wn===t&&(Wn=null),Se(bt)}var bt=Ue(0);function oo(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var i0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},r0=i.unstable_scheduleCallback,a0=i.unstable_NormalPriority,St={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nc(){return{controller:new i0,data:new Map,refCount:0}}function vs(t){t.refCount--,t.refCount===0&&r0(a0,function(){t.controller.abort()})}var Es=null,Dc=0,Ta=0,wa=null;function s0(t,n){if(Es===null){var a=Es=[];Dc=0,Ta=kf(),wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Dc++,n.then(np,np),n}function np(){if(--Dc===0&&Es!==null){wa!==null&&(wa.status="fulfilled");var t=Es;Es=null,Ta=0,wa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function l0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var ip=G.S;G.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&s0(t,n),ip!==null&&ip(t,n)};var Ir=Ue(null);function Oc(){var t=Ir.current;return t!==null?t:Ze.pooledCache}function uo(t,n){n===null?ve(Ir,Ir.current):ve(Ir,n.pool)}function rp(){var t=Oc();return t===null?null:{parent:St._currentValue,pool:t}}var qi=0,Ce=null,Ve=null,gt=null,co=!1,Ca=!1,Lr=!1,fo=0,bs=0,Ra=null,o0=0;function pt(){throw Error(s(321))}function Mc(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!sn(t[a],n[a]))return!1;return!0}function xc(t,n,a,l,c,d){return qi=d,Ce=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Ur:Fi,Lr=!1,d=a(l,c),Lr=!1,Ca&&(d=sp(n,a,l,c)),ap(t),d}function ap(t){G.H=Zn;var n=Ve!==null&&Ve.next!==null;if(qi=0,gt=Ve=Ce=null,co=!1,bs=0,Ra=null,n)throw Error(s(300));t===null||Dt||(t=t.dependencies,t!==null&&bo(t)&&(Dt=!0))}function sp(t,n,a,l){Ce=t;var c=0;do{if(Ca&&(Ra=null),bs=0,Ca=!1,25<=c)throw Error(s(301));if(c+=1,gt=Ve=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=kr,d=n(a,l)}while(Ca);return d}function u0(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?Ss(n):n,t=t.useState()[0],(Ve!==null?Ve.memoizedState:null)!==t&&(Ce.flags|=1024),n}function Ic(){var t=fo!==0;return fo=0,t}function Lc(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Uc(t){if(co){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}co=!1}qi=0,gt=Ve=Ce=null,Ca=!1,bs=fo=0,Ra=null}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ce.memoizedState=gt=t:gt=gt.next=t,gt}function _t(){if(Ve===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var n=gt===null?Ce.memoizedState:gt.next;if(n!==null)gt=n,Ve=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},gt===null?Ce.memoizedState=gt=t:gt=gt.next=t}return gt}var ho;ho=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ss(t){var n=bs;return bs+=1,Ra===null&&(Ra=[]),t=Xm(Ra,t,n),n=Ce,(gt===null?n.memoizedState:gt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Ur:Fi),t}function mo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ss(t);if(t.$$typeof===S)return Ft(t)}throw Error(s(438,String(t)))}function kc(t){var n=null,a=Ce.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ho(),Ce.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=de;return n.index++,a}function _i(t,n){return typeof n=="function"?n(t):n}function po(t){var n=_t();return zc(n,Ve,t)}function zc(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,d=l.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}n.baseQueue=c=d,l.pending=null}if(d=t.baseState,c===null)t.memoizedState=d;else{n=c.next;var _=g=null,b=null,R=n,k=!1;do{var j=R.lane&-536870913;if(j!==R.lane?(ze&j)===j:(qi&j)===j){var I=R.revertLane;if(I===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),j===Ta&&(k=!0);else if((qi&I)===I){R=R.next,I===Ta&&(k=!0);continue}else j={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(_=b=j,g=d):b=b.next=j,Ce.lanes|=I,Zi|=I;j=R.action,Lr&&a(d,j),d=R.hasEagerState?R.eagerState:a(d,j)}else I={lane:j,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(_=b=I,g=d):b=b.next=I,Ce.lanes|=j,Zi|=j;R=R.next}while(R!==null&&R!==n);if(b===null?g=d:b.next=_,!sn(d,t.memoizedState)&&(Dt=!0,k&&(a=wa,a!==null)))throw a;t.memoizedState=d,t.baseState=g,t.baseQueue=b,l.lastRenderedState=d}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Hc(t){var n=_t(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,d=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do d=t(d,g.action),g=g.next;while(g!==c);sn(d,n.memoizedState)||(Dt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function lp(t,n,a){var l=Ce,c=_t(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!sn((Ve||c).memoizedState,a);if(g&&(c.memoizedState=a,Dt=!0),c=c.queue,jc(cp.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,Aa(9,up.bind(null,l,c,a,n),{destroy:void 0},null),Ze===null)throw Error(s(349));d||qi&60||op(l,n,a)}return a}function op(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ce.updateQueue,n===null?(n=ho(),Ce.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function up(t,n,a,l){n.value=a,n.getSnapshot=l,fp(n)&&dp(t)}function cp(t,n,a){return a(function(){fp(n)&&dp(t)})}function fp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!sn(t,a)}catch{return!0}}function dp(t){var n=Pi(t,2);n!==null&&Kt(n,t,2)}function Pc(t){var n=Jt();if(typeof t=="function"){var a=t;if(t=a(),Lr){Ln(!0);try{a()}finally{Ln(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},n}function hp(t,n,a,l){return t.baseState=a,zc(t,Ve,typeof l=="function"?l:_i)}function c0(t,n,a,l,c){if(yo(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,mp(n,d)):(d.next=a.next,n.pending=a.next=d)}}function mp(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var d=G.T,g={};G.T=g;try{var _=a(c,l),b=G.S;b!==null&&b(g,_),pp(t,n,_)}catch(R){Bc(t,n,R)}finally{G.T=d}}else try{d=a(c,l),pp(t,n,d)}catch(R){Bc(t,n,R)}}function pp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){gp(t,n,l)},function(l){return Bc(t,n,l)}):gp(t,n,a)}function gp(t,n,a){n.status="fulfilled",n.value=a,_p(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,mp(t,a)))}function Bc(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,_p(n),n=n.next;while(n!==l)}t.action=null}function _p(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function yp(t,n){return n}function vp(t,n){if(He){var a=Ze.formState;if(a!==null){e:{var l=Ce;if(He){if(zt){t:{for(var c=zt,d=$n;c.nodeType!==8;){if(!d){c=null;break t}if(c=Hn(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){zt=Hn(c.nextSibling),l=c.data==="F!";break e}}Mr(l)}l=!1}l&&(n=a[0])}}return a=Jt(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yp,lastRenderedState:n},a.queue=l,a=zp.bind(null,Ce,l),l.dispatch=a,l=Pc(!1),d=Yc.bind(null,Ce,!1,l.queue),l=Jt(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=c0.bind(null,Ce,c,d,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Ep(t){var n=_t();return bp(n,Ve,t)}function bp(t,n,a){n=zc(t,n,yp)[0],t=po(_i)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?Ss(n):n;var l=_t(),c=l.queue,d=c.dispatch;return a!==l.memoizedState&&(Ce.flags|=2048,Aa(9,f0.bind(null,c,a),{destroy:void 0},null)),[n,d,t]}function f0(t,n){t.action=n}function Sp(t){var n=_t(),a=Ve;if(a!==null)return bp(n,a,t);_t(),n=n.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Aa(t,n,a,l){return t={tag:t,create:n,inst:a,deps:l,next:null},n=Ce.updateQueue,n===null&&(n=ho(),Ce.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Tp(){return _t().memoizedState}function go(t,n,a,l){var c=Jt();Ce.flags|=t,c.memoizedState=Aa(1|n,a,{destroy:void 0},l===void 0?null:l)}function _o(t,n,a,l){var c=_t();l=l===void 0?null:l;var d=c.memoizedState.inst;Ve!==null&&l!==null&&Mc(l,Ve.memoizedState.deps)?c.memoizedState=Aa(n,a,d,l):(Ce.flags|=t,c.memoizedState=Aa(1|n,a,d,l))}function wp(t,n){go(8390656,8,t,n)}function jc(t,n){_o(2048,8,t,n)}function Cp(t,n){return _o(4,2,t,n)}function Rp(t,n){return _o(4,4,t,n)}function Ap(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Np(t,n,a){a=a!=null?a.concat([t]):null,_o(4,4,Ap.bind(null,n,t),a)}function qc(){}function Dp(t,n){var a=_t();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Mc(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Op(t,n){var a=_t();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Mc(n,l[1]))return l[0];if(l=t(),Lr){Ln(!0);try{t()}finally{Ln(!1)}}return a.memoizedState=[l,n],l}function Fc(t,n,a){return a===void 0||qi&1073741824?t.memoizedState=n:(t.memoizedState=a,t=xg(),Ce.lanes|=t,Zi|=t,a)}function Mp(t,n,a,l){return sn(a,n)?a:Sa.current!==null?(t=Fc(t,a,l),sn(t,n)||(Dt=!0),t):qi&42?(t=xg(),Ce.lanes|=t,Zi|=t,n):(Dt=!0,t.memoizedState=a)}function xp(t,n,a,l,c){var d=X.p;X.p=d!==0&&8>d?d:8;var g=G.T,_={};G.T=_,Yc(t,!1,n,a);try{var b=c(),R=G.S;if(R!==null&&R(_,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var k=l0(b,l);Ts(t,n,k,cn(t))}else Ts(t,n,l,cn(t))}catch(j){Ts(t,n,{then:function(){},status:"rejected",reason:j},cn())}finally{X.p=d,G.T=g}}function d0(){}function Vc(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=Ip(t).queue;xp(t,c,n,Te,a===null?d0:function(){return Lp(t),a(l)})}function Ip(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:Te},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Lp(t){var n=Ip(t).next.queue;Ts(t,n,{},cn())}function Gc(){return Ft(Fs)}function Up(){return _t().memoizedState}function kp(){return _t().memoizedState}function h0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=cn();t=Yi(a);var l=Qi(n,t,a);l!==null&&(Kt(l,n,a),Rs(l,n,a)),n={cache:Nc()},t.payload=n;return}n=n.return}}function m0(t,n,a){var l=cn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},yo(t)?Hp(n,a):(a=bc(t,n,a,l),a!==null&&(Kt(a,t,l),Pp(a,n,l)))}function zp(t,n,a){var l=cn();Ts(t,n,a,l)}function Ts(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(yo(t))Hp(n,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var g=n.lastRenderedState,_=d(g,a);if(c.hasEagerState=!0,c.eagerState=_,sn(_,g))return eo(t,n,c,0),Ze===null&&Jl(),!1}catch{}finally{}if(a=bc(t,n,c,l),a!==null)return Kt(a,t,l),Pp(a,n,l),!0}return!1}function Yc(t,n,a,l){if(l={lane:2,revertLane:kf(),action:l,hasEagerState:!1,eagerState:null,next:null},yo(t)){if(n)throw Error(s(479))}else n=bc(t,a,l,2),n!==null&&Kt(n,t,2)}function yo(t){var n=t.alternate;return t===Ce||n!==null&&n===Ce}function Hp(t,n){Ca=co=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Pp(t,n,a){if(a&4194176){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,oe(t,a)}}var Zn={readContext:Ft,use:mo,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt};Zn.useCacheRefresh=pt,Zn.useMemoCache=pt,Zn.useHostTransitionStatus=pt,Zn.useFormState=pt,Zn.useActionState=pt,Zn.useOptimistic=pt;var Ur={readContext:Ft,use:mo,useCallback:function(t,n){return Jt().memoizedState=[t,n===void 0?null:n],t},useContext:Ft,useEffect:wp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,go(4194308,4,Ap.bind(null,n,t),a)},useLayoutEffect:function(t,n){return go(4194308,4,t,n)},useInsertionEffect:function(t,n){go(4,2,t,n)},useMemo:function(t,n){var a=Jt();n=n===void 0?null:n;var l=t();if(Lr){Ln(!0);try{t()}finally{Ln(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Jt();if(a!==void 0){var c=a(n);if(Lr){Ln(!0);try{a(n)}finally{Ln(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=m0.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var n=Jt();return t={current:t},n.memoizedState=t},useState:function(t){t=Pc(t);var n=t.queue,a=zp.bind(null,Ce,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:qc,useDeferredValue:function(t,n){var a=Jt();return Fc(a,t,n)},useTransition:function(){var t=Pc(!1);return t=xp.bind(null,Ce,t.queue,!0,!1),Jt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ce,c=Jt();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Ze===null)throw Error(s(349));ze&60||op(l,n,a)}c.memoizedState=a;var d={value:a,getSnapshot:n};return c.queue=d,wp(cp.bind(null,l,d,t),[t]),l.flags|=2048,Aa(9,up.bind(null,l,d,a,n),{destroy:void 0},null),a},useId:function(){var t=Jt(),n=Ze.identifierPrefix;if(He){var a=pi,l=mi;a=(l&~(1<<32-Nt(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=fo++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=o0++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return Jt().memoizedState=h0.bind(null,Ce)}};Ur.useMemoCache=kc,Ur.useHostTransitionStatus=Gc,Ur.useFormState=vp,Ur.useActionState=vp,Ur.useOptimistic=function(t){var n=Jt();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Yc.bind(null,Ce,!0,a),a.dispatch=n,[t,n]};var Fi={readContext:Ft,use:mo,useCallback:Dp,useContext:Ft,useEffect:jc,useImperativeHandle:Np,useInsertionEffect:Cp,useLayoutEffect:Rp,useMemo:Op,useReducer:po,useRef:Tp,useState:function(){return po(_i)},useDebugValue:qc,useDeferredValue:function(t,n){var a=_t();return Mp(a,Ve.memoizedState,t,n)},useTransition:function(){var t=po(_i)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:Ss(t),n]},useSyncExternalStore:lp,useId:Up};Fi.useCacheRefresh=kp,Fi.useMemoCache=kc,Fi.useHostTransitionStatus=Gc,Fi.useFormState=Ep,Fi.useActionState=Ep,Fi.useOptimistic=function(t,n){var a=_t();return hp(a,Ve,t,n)};var kr={readContext:Ft,use:mo,useCallback:Dp,useContext:Ft,useEffect:jc,useImperativeHandle:Np,useInsertionEffect:Cp,useLayoutEffect:Rp,useMemo:Op,useReducer:Hc,useRef:Tp,useState:function(){return Hc(_i)},useDebugValue:qc,useDeferredValue:function(t,n){var a=_t();return Ve===null?Fc(a,t,n):Mp(a,Ve.memoizedState,t,n)},useTransition:function(){var t=Hc(_i)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:Ss(t),n]},useSyncExternalStore:lp,useId:Up};kr.useCacheRefresh=kp,kr.useMemoCache=kc,kr.useHostTransitionStatus=Gc,kr.useFormState=Sp,kr.useActionState=Sp,kr.useOptimistic=function(t,n){var a=_t();return Ve!==null?hp(a,Ve,t,n):(a.baseState=t,[t,a.queue.dispatch])};function Qc(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:se({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Kc={isMounted:function(t){return(t=t._reactInternals)?ue(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var l=cn(),c=Yi(l);c.payload=n,a!=null&&(c.callback=a),n=Qi(t,c,l),n!==null&&(Kt(n,t,l),Rs(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=cn(),c=Yi(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=Qi(t,c,l),n!==null&&(Kt(n,t,l),Rs(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=cn(),l=Yi(a);l.tag=2,n!=null&&(l.callback=n),n=Qi(t,l,a),n!==null&&(Kt(n,t,a),Rs(n,t,a))}};function Bp(t,n,a,l,c,d,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,g):n.prototype&&n.prototype.isPureReactComponent?!cs(a,l)||!cs(c,d):!0}function jp(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Kc.enqueueReplaceState(n,n.state,null)}function zr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=se({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var vo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function qp(t){vo(t)}function Fp(t){console.error(t)}function Vp(t){vo(t)}function Eo(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Gp(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Xc(t,n,a){return a=Yi(a),a.tag=3,a.payload={element:null},a.callback=function(){Eo(t,n)},a}function Yp(t){return t=Yi(t),t.tag=3,t}function Qp(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var d=l.value;t.payload=function(){return c(d)},t.callback=function(){Gp(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Gp(n,a,l),typeof c!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function p0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Cs(n,a,c,!0),a=wn.current,a!==null){switch(a.tag){case 13:return Wn===null?Mf():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Cc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),If(t,l,c)),!1;case 22:return a.flags|=65536,l===Cc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),If(t,l,c)),!1}throw Error(s(435,a.tag))}return If(t,l,c),Mf(),!1}if(He)return n=wn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==wc&&(t=Error(s(422),{cause:l}),ms(bn(t,a)))):(l!==wc&&(n=Error(s(423),{cause:l}),ms(bn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=bn(l,a),c=Xc(t.stateNode,l,c),ff(t,c),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=bn(d,a),Ls===null?Ls=[d]:Ls.push(d),ct!==4&&(ct=2),n===null)return!0;l=bn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Xc(a.stateNode,l,t),ff(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ji===null||!Ji.has(d))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Yp(c),Qp(c,t,a,l),ff(a,c),!1}a=a.return}while(a!==null);return!1}var Kp=Error(s(461)),Dt=!1;function Ht(t,n,a,l){n.child=t===null?Jm(n,null,a,l):xr(n,t.child,a,l)}function Xp(t,n,a,l,c){a=a.render;var d=n.ref;if("ref"in l){var g={};for(var _ in l)_!=="ref"&&(g[_]=l[_])}else g=l;return Pr(n),l=xc(t,n,a,g,d,c),_=Ic(),t!==null&&!Dt?(Lc(t,n,c),yi(t,n,c)):(He&&_&&Sc(n),n.flags|=1,Ht(t,n,l,c),n.child)}function $p(t,n,a,l,c){if(t===null){var d=a.type;return typeof d=="function"&&!vf(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,Wp(t,n,d,l,c)):(t=Co(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!af(t,c)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:cs,a(g,l)&&t.ref===n.ref)return yi(t,n,c)}return n.flags|=1,t=Wi(d,l),t.ref=n.ref,t.return=n,n.child=t}function Wp(t,n,a,l,c){if(t!==null){var d=t.memoizedProps;if(cs(d,l)&&t.ref===n.ref)if(Dt=!1,n.pendingProps=l=d,af(t,c))t.flags&131072&&(Dt=!0);else return n.lanes=t.lanes,yi(t,n,c)}return $c(t,n,a,l,c)}function Zp(t,n,a){var l=n.pendingProps,c=l.children,d=(n.stateNode._pendingVisibility&2)!==0,g=t!==null?t.memoizedState:null;if(ws(t,n),l.mode==="hidden"||d){if(n.flags&128){if(l=g!==null?g.baseLanes|a:a,t!==null){for(c=n.child=t.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return Jp(t,n,l,a)}if(a&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&uo(n,g!==null?g.cachePool:null),g!==null?ep(n,g):Rc(),tp(n);else return n.lanes=n.childLanes=536870912,Jp(t,n,g!==null?g.baseLanes|a:a,a)}else g!==null?(uo(n,g.cachePool),ep(n,g),ji(),n.memoizedState=null):(t!==null&&uo(n,null),Rc(),ji());return Ht(t,n,c,a),n.child}function Jp(t,n,a,l){var c=Oc();return c=c===null?null:{parent:St._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&uo(n,null),Rc(),tp(n),t!==null&&Cs(t,n,l,!0),null}function ws(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=2097664)}}function $c(t,n,a,l,c){return Pr(n),a=xc(t,n,a,l,void 0,c),l=Ic(),t!==null&&!Dt?(Lc(t,n,c),yi(t,n,c)):(He&&l&&Sc(n),n.flags|=1,Ht(t,n,a,c),n.child)}function eg(t,n,a,l,c,d){return Pr(n),n.updateQueue=null,a=sp(n,l,a,c),ap(t),l=Ic(),t!==null&&!Dt?(Lc(t,n,d),yi(t,n,d)):(He&&l&&Sc(n),n.flags|=1,Ht(t,n,a,d),n.child)}function tg(t,n,a,l,c){if(Pr(n),n.stateNode===null){var d=ya,g=a.contextType;typeof g=="object"&&g!==null&&(d=Ft(g)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Kc,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},uf(n),g=a.contextType,d.context=typeof g=="object"&&g!==null?Ft(g):ya,d.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Qc(n,a,g,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&Kc.enqueueReplaceState(d,d.state,null),Ns(n,l,d,c),As(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var _=n.memoizedProps,b=zr(a,_);d.props=b;var R=d.context,k=a.contextType;g=ya,typeof k=="object"&&k!==null&&(g=Ft(k));var j=a.getDerivedStateFromProps;k=typeof j=="function"||typeof d.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,k||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_||R!==g)&&jp(n,d,l,g),Gi=!1;var I=n.memoizedState;d.state=I,Ns(n,l,d,c),As(),R=n.memoizedState,_||I!==R||Gi?(typeof j=="function"&&(Qc(n,a,j,l),R=n.memoizedState),(b=Gi||Bp(n,a,b,l,I,R,g))?(k||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=R),d.props=l,d.state=R,d.context=g,l=b):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,cf(t,n),g=n.memoizedProps,k=zr(a,g),d.props=k,j=n.pendingProps,I=d.context,R=a.contextType,b=ya,typeof R=="object"&&R!==null&&(b=Ft(R)),_=a.getDerivedStateFromProps,(R=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==j||I!==b)&&jp(n,d,l,b),Gi=!1,I=n.memoizedState,d.state=I,Ns(n,l,d,c),As();var U=n.memoizedState;g!==j||I!==U||Gi||t!==null&&t.dependencies!==null&&bo(t.dependencies)?(typeof _=="function"&&(Qc(n,a,_,l),U=n.memoizedState),(k=Gi||Bp(n,a,k,l,I,U,b)||t!==null&&t.dependencies!==null&&bo(t.dependencies))?(R||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,U,b),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,U,b)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=U),d.props=l,d.state=U,d.context=b,l=k):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,ws(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=xr(n,t.child,null,c),n.child=xr(n,null,a,c)):Ht(t,n,a,c),n.memoizedState=d.state,t=n.child):t=yi(t,n,c),t}function ng(t,n,a,l){return hs(),n.flags|=256,Ht(t,n,a,l),n.child}var Wc={dehydrated:null,treeContext:null,retryLane:0};function Zc(t){return{baseLanes:t,cachePool:rp()}}function Jc(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Nn),t}function ig(t,n,a){var l=n.pendingProps,c=!1,d=(n.flags&128)!==0,g;if((g=d)||(g=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(He){if(c?Bi(n):ji(),He){var _=zt,b;if(b=_){e:{for(b=_,_=$n;b.nodeType!==8;){if(!_){_=null;break e}if(b=Hn(b.nextSibling),b===null){_=null;break e}}_=b}_!==null?(n.memoizedState={dehydrated:_,treeContext:Dr!==null?{id:mi,overflow:pi}:null,retryLane:536870912},b=An(18,null,null,0),b.stateNode=_,b.return=n,n.child=b,Qt=n,zt=null,b=!0):b=!1}b||Mr(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return _.data==="$!"?n.lanes=16:n.lanes=536870912,null;gi(n)}return _=l.children,l=l.fallback,c?(ji(),c=n.mode,_=tf({mode:"hidden",children:_},c),l=jr(l,c,a,null),_.return=n,l.return=n,_.sibling=l,n.child=_,c=n.child,c.memoizedState=Zc(a),c.childLanes=Jc(t,g,a),n.memoizedState=Wc,l):(Bi(n),ef(n,_))}if(b=t.memoizedState,b!==null&&(_=b.dehydrated,_!==null)){if(d)n.flags&256?(Bi(n),n.flags&=-257,n=nf(t,n,a)):n.memoizedState!==null?(ji(),n.child=t.child,n.flags|=128,n=null):(ji(),c=l.fallback,_=n.mode,l=tf({mode:"visible",children:l.children},_),c=jr(c,_,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,xr(n,t.child,null,a),l=n.child,l.memoizedState=Zc(a),l.childLanes=Jc(t,g,a),n.memoizedState=Wc,n=c);else if(Bi(n),_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var R=g.dgst;g=R,l=Error(s(419)),l.stack="",l.digest=g,ms({value:l,source:null,stack:null}),n=nf(t,n,a)}else if(Dt||Cs(t,n,a,!1),g=(a&t.childLanes)!==0,Dt||g){if(g=Ze,g!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(g.suspendedLanes|a)?0:l,l!==0&&l!==b.retryLane)throw b.retryLane=l,Pi(t,l),Kt(g,t,l),Kp}_.data==="$?"||Mf(),n=nf(t,n,a)}else _.data==="$?"?(n.flags|=128,n.child=t.child,n=O0.bind(null,t),_._reactRetry=n,n=null):(t=b.treeContext,zt=Hn(_.nextSibling),Qt=n,He=!0,kn=null,$n=!1,t!==null&&(Sn[Tn++]=mi,Sn[Tn++]=pi,Sn[Tn++]=Dr,mi=t.id,pi=t.overflow,Dr=n),n=ef(n,l.children),n.flags|=4096);return n}return c?(ji(),c=l.fallback,_=n.mode,b=t.child,R=b.sibling,l=Wi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&31457280,R!==null?c=Wi(R,c):(c=jr(c,_,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,_=t.child.memoizedState,_===null?_=Zc(a):(b=_.cachePool,b!==null?(R=St._currentValue,b=b.parent!==R?{parent:R,pool:R}:b):b=rp(),_={baseLanes:_.baseLanes|a,cachePool:b}),c.memoizedState=_,c.childLanes=Jc(t,g,a),n.memoizedState=Wc,l):(Bi(n),a=t.child,t=a.sibling,a=Wi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function ef(t,n){return n=tf({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function tf(t,n){return Dg(t,n,0,null)}function nf(t,n,a){return xr(n,t.child,null,a),t=ef(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function rg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),lf(t.return,n,a)}function rf(t,n,a,l,c){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=c)}function ag(t,n,a){var l=n.pendingProps,c=l.revealOrder,d=l.tail;if(Ht(t,n,l.children,a),l=bt.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rg(t,a,n);else if(t.tag===19)rg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ve(bt,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&oo(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),rf(n,!1,c,a,d);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&oo(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}rf(n,!0,a,null,d);break;case"together":rf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function yi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Zi|=n.lanes,!(a&n.childLanes))if(t!==null){if(Cs(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Wi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Wi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function af(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&bo(t)))}function g0(t,n,a){switch(n.tag){case 3:$t(n,n.stateNode.containerInfo),Vi(n,St,t.memoizedState.cache),hs();break;case 27:case 5:hn(n);break;case 4:$t(n,n.stateNode.containerInfo);break;case 10:Vi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Bi(n),n.flags|=128,null):a&n.child.childLanes?ig(t,n,a):(Bi(n),t=yi(t,n,a),t!==null?t.sibling:null);Bi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Cs(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return ag(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ve(bt,bt.current),l)break;return null;case 22:case 23:return n.lanes=0,Zp(t,n,a);case 24:Vi(n,St,t.memoizedState.cache)}return yi(t,n,a)}function sg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Dt=!0;else{if(!af(t,a)&&!(n.flags&128))return Dt=!1,g0(t,n,a);Dt=!!(t.flags&131072)}else Dt=!1,He&&n.flags&1048576&&Vm(n,io,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")vf(l)?(t=zr(l,t),n.tag=1,n=tg(null,n,l,t,a)):(n.tag=0,n=$c(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===N){n.tag=11,n=Xp(null,n,l,t,a);break e}else if(c===P){n.tag=14,n=$p(null,n,l,t,a);break e}}throw n=be(l)||l,Error(s(306,n,""))}}return n;case 0:return $c(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=zr(l,n.pendingProps),tg(t,n,l,c,a);case 3:e:{if($t(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var d=n.pendingProps;c=n.memoizedState,l=c.element,cf(t,n),Ns(n,d,null,a);var g=n.memoizedState;if(d=g.cache,Vi(n,St,d),d!==c.cache&&of(n,[St],a,!0),As(),d=g.element,c.isDehydrated)if(c={element:d,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=ng(t,n,d,a);break e}else if(d!==l){l=bn(Error(s(424)),n),ms(l),n=ng(t,n,d,a);break e}else for(zt=Hn(n.stateNode.containerInfo.firstChild),Qt=n,He=!0,kn=null,$n=!0,a=Jm(n,null,d,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(hs(),d===l){n=yi(t,n,a);break e}Ht(t,n,d,a)}n=n.child}return n;case 26:return ws(t,n),t===null?(a=u_(n.type,null,n.pendingProps,null))?n.memoizedState=a:He||(a=n.type,t=n.pendingProps,l=zo(Et.current).createElement(a),l[ae]=n,l[fe]=t,Pt(l,a,t),We(l),n.stateNode=l):n.memoizedState=u_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return hn(n),t===null&&He&&(l=n.stateNode=s_(n.type,n.pendingProps,Et.current),Qt=n,$n=!0,zt=Hn(l.firstChild)),l=n.pendingProps.children,t!==null||He?Ht(t,n,l,a):n.child=xr(n,null,l,a),ws(t,n),n.child;case 5:return t===null&&He&&((c=l=zt)&&(l=Y0(l,n.type,n.pendingProps,$n),l!==null?(n.stateNode=l,Qt=n,zt=Hn(l.firstChild),$n=!1,c=!0):c=!1),c||Mr(n)),hn(n),c=n.type,d=n.pendingProps,g=t!==null?t.memoizedProps:null,l=d.children,Gf(c,d)?l=null:g!==null&&Gf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=xc(t,n,u0,null,null,a),Fs._currentValue=c),ws(t,n),Ht(t,n,l,a),n.child;case 6:return t===null&&He&&((t=a=zt)&&(a=Q0(a,n.pendingProps,$n),a!==null?(n.stateNode=a,Qt=n,zt=null,t=!0):t=!1),t||Mr(n)),null;case 13:return ig(t,n,a);case 4:return $t(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=xr(n,null,l,a):Ht(t,n,l,a),n.child;case 11:return Xp(t,n,n.type,n.pendingProps,a);case 7:return Ht(t,n,n.pendingProps,a),n.child;case 8:return Ht(t,n,n.pendingProps.children,a),n.child;case 12:return Ht(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Vi(n,n.type,l.value),Ht(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Pr(n),c=Ft(c),l=l(c),n.flags|=1,Ht(t,n,l,a),n.child;case 14:return $p(t,n,n.type,n.pendingProps,a);case 15:return Wp(t,n,n.type,n.pendingProps,a);case 19:return ag(t,n,a);case 22:return Zp(t,n,a);case 24:return Pr(n),l=Ft(St),t===null?(c=Oc(),c===null&&(c=Ze,d=Nc(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=a),c=d),n.memoizedState={parent:l,cache:c},uf(n),Vi(n,St,c)):(t.lanes&a&&(cf(t,n),Ns(n,null,null,a),As()),c=t.memoizedState,d=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Vi(n,St,l)):(l=d.cache,Vi(n,St,l),l!==c.cache&&of(n,[St],a,!0))),Ht(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var sf=Ue(null),Hr=null,vi=null;function Vi(t,n,a){ve(sf,n._currentValue),n._currentValue=a}function Ei(t){t._currentValue=sf.current,Se(sf)}function lf(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function of(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var d=c.dependencies;if(d!==null){var g=c.child;d=d.firstContext;e:for(;d!==null;){var _=d;d=c;for(var b=0;b<n.length;b++)if(_.context===n[b]){d.lanes|=a,_=d.alternate,_!==null&&(_.lanes|=a),lf(d.return,a,t),l||(g=null);break e}d=_.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),lf(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Cs(t,n,a,l){t=null;for(var c=n,d=!1;c!==null;){if(!d){if(c.flags&524288)d=!0;else if(c.flags&262144)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var _=c.type;sn(c.pendingProps.value,g.value)||(t!==null?t.push(_):t=[_])}}else if(c===At.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Fs):t=[Fs])}c=c.return}t!==null&&of(n,t,a,l),n.flags|=262144}function bo(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Pr(t){Hr=t,vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return lg(Hr,t)}function So(t,n){return Hr===null&&Pr(t),lg(t,n)}function lg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},vi===null){if(t===null)throw Error(s(308));vi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else vi=vi.next=n;return a}var Gi=!1;function uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,st&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=to(t),qm(t,null,a),n}return eo(t,l,n,a),to(t)}function Rs(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,oe(t,a)}}function ff(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?c=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?c=d=n:d=d.next=n}else c=d=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var df=!1;function As(){if(df){var t=wa;if(t!==null)throw t}}function Ns(t,n,a,l){df=!1;var c=t.updateQueue;Gi=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var b=_,R=b.next;b.next=null,g===null?d=R:g.next=R,g=b;var k=t.alternate;k!==null&&(k=k.updateQueue,_=k.lastBaseUpdate,_!==g&&(_===null?k.firstBaseUpdate=R:_.next=R,k.lastBaseUpdate=b))}if(d!==null){var j=c.baseState;g=0,k=R=b=null,_=d;do{var I=_.lane&-536870913,U=I!==_.lane;if(U?(ze&I)===I:(l&I)===I){I!==0&&I===Ta&&(df=!0),k!==null&&(k=k.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var le=t,Ee=_;I=n;var ft=a;switch(Ee.tag){case 1:if(le=Ee.payload,typeof le=="function"){j=le.call(ft,j,I);break e}j=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=Ee.payload,I=typeof le=="function"?le.call(ft,j,I):le,I==null)break e;j=se({},j,I);break e;case 2:Gi=!0}}I=_.callback,I!==null&&(t.flags|=64,U&&(t.flags|=8192),U=c.callbacks,U===null?c.callbacks=[I]:U.push(I))}else U={lane:I,tag:_.tag,payload:_.payload,callback:_.callback,next:null},k===null?(R=k=U,b=j):k=k.next=U,g|=I;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;U=_,_=U.next,U.next=null,c.lastBaseUpdate=U,c.shared.pending=null}}while(!0);k===null&&(b=j),c.baseState=b,c.firstBaseUpdate=R,c.lastBaseUpdate=k,d===null&&(c.shared.lanes=0),Zi|=g,t.lanes=g,t.memoizedState=j}}function og(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function ug(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)og(a[t],n)}function Ds(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var d=a.create,g=a.inst;l=d(),g.destroy=l}a=a.next}while(a!==c)}}catch(_){Ke(n,n.return,_)}}function Ki(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&t)===t){var g=l.inst,_=g.destroy;if(_!==void 0){g.destroy=void 0,c=n;var b=a;try{_()}catch(R){Ke(c,b,R)}}}l=l.next}while(l!==d)}}catch(R){Ke(n,n.return,R)}}function cg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{ug(n,a)}catch(l){Ke(t,t.return,l)}}}function fg(t,n,a){a.props=zr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ke(t,n,l)}}function Br(t,n){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(d){Ke(t,n,d)}}function ln(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Ke(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ke(t,n,c)}else a.current=null}function dg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Ke(t,t.return,c)}}function hg(t,n,a){try{var l=t.stateNode;j0(l,t.type,a,n),l[fe]=n}catch(c){Ke(t,t.return,c)}}function mg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function hf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ko));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(mf(t,n,a),t=t.sibling;t!==null;)mf(t,n,a),t=t.sibling}function To(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(To(t,n,a),t=t.sibling;t!==null;)To(t,n,a),t=t.sibling}var bi=!1,ut=!1,pf=!1,pg=typeof WeakSet=="function"?WeakSet:Set,Ot=null,gg=!1;function _0(t,n){if(t=t.containerInfo,Ff=Fo,t=Im(t),gc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var g=0,_=-1,b=-1,R=0,k=0,j=t,I=null;t:for(;;){for(var U;j!==a||c!==0&&j.nodeType!==3||(_=g+c),j!==d||l!==0&&j.nodeType!==3||(b=g+l),j.nodeType===3&&(g+=j.nodeValue.length),(U=j.firstChild)!==null;)I=j,j=U;for(;;){if(j===t)break t;if(I===a&&++R===c&&(_=g),I===d&&++k===l&&(b=g),(U=j.nextSibling)!==null)break;j=I,I=j.parentNode}j=U}a=_===-1||b===-1?null:{start:_,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vf={focusedElem:t,selectionRange:a},Fo=!1,Ot=n;Ot!==null;)if(n=Ot,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ot=t;else for(;Ot!==null;){switch(n=Ot,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&d!==null){t=void 0,a=n,c=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var le=zr(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(le,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){Ke(a,a.return,Ee)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Kf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ot=t;break}Ot=n.return}return le=gg,gg=!1,le}function _g(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ti(t,a),l&4&&Ds(5,a);break;case 1:if(Ti(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){Ke(a,a.return,_)}else{var c=zr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ke(a,a.return,_)}}l&64&&cg(a),l&512&&Br(a,a.return);break;case 3:if(Ti(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{ug(l,t)}catch(_){Ke(a,a.return,_)}}break;case 26:Ti(t,a),l&512&&Br(a,a.return);break;case 27:case 5:Ti(t,a),n===null&&l&4&&dg(a),l&512&&Br(a,a.return);break;case 12:Ti(t,a);break;case 13:Ti(t,a),l&4&&Eg(t,a);break;case 22:if(c=a.memoizedState!==null||bi,!c){n=n!==null&&n.memoizedState!==null||ut;var d=bi,g=ut;bi=c,(ut=n)&&!g?Xi(t,a,(a.subtreeFlags&8772)!==0):Ti(t,a),bi=d,ut=g}l&512&&(a.memoizedProps.mode==="manual"?Br(a,a.return):ln(a,a.return));break;default:Ti(t,a)}}function yg(t){var n=t.alternate;n!==null&&(t.alternate=null,yg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ci(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,on=!1;function Si(t,n,a){for(a=a.child;a!==null;)vg(t,n,a),a=a.sibling}function vg(t,n,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(zi,a)}catch{}switch(a.tag){case 26:ut||ln(a,n),Si(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||ln(a,n);var l=yt,c=on;for(yt=a.stateNode,Si(t,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);ci(a),yt=l,on=c;break;case 5:ut||ln(a,n);case 6:c=yt;var d=on;if(yt=null,Si(t,n,a),yt=c,on=d,yt!==null)if(on)try{t=yt,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(g){Ke(a,n,g)}else try{yt.removeChild(a.stateNode)}catch(g){Ke(a,n,g)}break;case 18:yt!==null&&(on?(n=yt,a=a.stateNode,n.nodeType===8?Qf(n.parentNode,a):n.nodeType===1&&Qf(n,a),Qs(n)):Qf(yt,a.stateNode));break;case 4:l=yt,c=on,yt=a.stateNode.containerInfo,on=!0,Si(t,n,a),yt=l,on=c;break;case 0:case 11:case 14:case 15:ut||Ki(2,a,n),ut||Ki(4,a,n),Si(t,n,a);break;case 1:ut||(ln(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&fg(a,n,l)),Si(t,n,a);break;case 21:Si(t,n,a);break;case 22:ut||ln(a,n),ut=(l=ut)||a.memoizedState!==null,Si(t,n,a),ut=l;break;default:Si(t,n,a)}}function Eg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qs(t)}catch(a){Ke(n,n.return,a)}}function y0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new pg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new pg),n;default:throw Error(s(435,t.tag))}}function gf(t,n){var a=y0(t);n.forEach(function(l){var c=M0.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function Cn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],d=t,g=n,_=g;e:for(;_!==null;){switch(_.tag){case 27:case 5:yt=_.stateNode,on=!1;break e;case 3:yt=_.stateNode.containerInfo,on=!0;break e;case 4:yt=_.stateNode.containerInfo,on=!0;break e}_=_.return}if(yt===null)throw Error(s(160));vg(d,g,c),yt=null,on=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)bg(n,t),n=n.sibling}var zn=null;function bg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(n,t),Rn(t),l&4&&(Ki(3,t,t.return),Ds(3,t),Ki(5,t,t.return));break;case 1:Cn(n,t),Rn(t),l&512&&(ut||a===null||ln(a,a.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=zn;if(Cn(n,t),Rn(t),l&512&&(ut||a===null||ln(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":d=c.getElementsByTagName("title")[0],(!d||d[gn]||d[ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(l),c.head.insertBefore(d,c.querySelector("head > title"))),Pt(d,l,a),d[ae]=t,We(d),l=d;break e;case"link":var g=d_("link","href",c).get(l+(a.href||""));if(g){for(var _=0;_<g.length;_++)if(d=g[_],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(_,1);break t}}d=c.createElement(l),Pt(d,l,a),c.head.appendChild(d);break;case"meta":if(g=d_("meta","content",c).get(l+(a.content||""))){for(_=0;_<g.length;_++)if(d=g[_],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(_,1);break t}}d=c.createElement(l),Pt(d,l,a),c.head.appendChild(d);break;default:throw Error(s(468,l))}d[ae]=t,We(d),l=d}t.stateNode=l}else h_(c,t.type,t.stateNode);else t.stateNode=f_(c,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?h_(c,t.type,t.stateNode):f_(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&hg(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,d=t.memoizedProps;try{for(var b=c.firstChild;b;){var R=b.nextSibling,k=b.nodeName;b[gn]||k==="HEAD"||k==="BODY"||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=R}for(var j=t.type,I=c.attributes;I.length;)c.removeAttributeNode(I[0]);Pt(c,j,d),c[ae]=t,c[fe]=d}catch(le){Ke(t,t.return,le)}}case 5:if(Cn(n,t),Rn(t),l&512&&(ut||a===null||ln(a,a.return)),t.flags&32){c=t.stateNode;try{fa(c,"")}catch(le){Ke(t,t.return,le)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,hg(t,c,a!==null?a.memoizedProps:c)),l&1024&&(pf=!0);break;case 6:if(Cn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(le){Ke(t,t.return,le)}}break;case 3:if(Bo=null,c=zn,zn=Ho(n.containerInfo),Cn(n,t),zn=c,Rn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Qs(n.containerInfo)}catch(le){Ke(t,t.return,le)}pf&&(pf=!1,Sg(t));break;case 4:l=zn,zn=Ho(t.stateNode.containerInfo),Cn(n,t),Rn(t),zn=l;break;case 12:Cn(n,t),Rn(t);break;case 13:Cn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cf=jt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gf(t,l)));break;case 22:if(l&512&&(ut||a===null||ln(a,a.return)),b=t.memoizedState!==null,R=a!==null&&a.memoizedState!==null,k=bi,j=ut,bi=k||b,ut=j||R,Cn(n,t),ut=j,bi=k,Rn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=b?n._visibility&-2:n._visibility|1,b&&(n=bi||ut,a===null||R||n||Na(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){R=a=n;try{if(c=R.stateNode,b)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{g=R.stateNode,_=R.memoizedProps.style;var U=_!=null&&_.hasOwnProperty("display")?_.display:null;g.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(le){Ke(R,R.return,le)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=b?"":R.memoizedProps}catch(le){Ke(R,R.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gf(t,a))));break;case 19:Cn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gf(t,l)));break;case 21:break;default:Cn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(mg(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var c=l.stateNode,d=hf(t);To(t,d,c);break;case 5:var g=l.stateNode;l.flags&32&&(fa(g,""),l.flags&=-33);var _=hf(t);To(t,_,g);break;case 3:case 4:var b=l.stateNode.containerInfo,R=hf(t);mf(t,R,b);break;default:throw Error(s(161))}}}catch(k){Ke(t,t.return,k)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Sg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Sg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ti(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_g(t,n.alternate,n),n=n.sibling}function Na(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ki(4,n,n.return),Na(n);break;case 1:ln(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&fg(n,n.return,a),Na(n);break;case 26:case 27:case 5:ln(n,n.return),Na(n);break;case 22:ln(n,n.return),n.memoizedState===null&&Na(n);break;default:Na(n)}t=t.sibling}}function Xi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,d=n,g=d.flags;switch(d.tag){case 0:case 11:case 15:Xi(c,d,a),Ds(4,d);break;case 1:if(Xi(c,d,a),l=d,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(R){Ke(l,l.return,R)}if(l=d,c=l.updateQueue,c!==null){var _=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)og(b[c],_)}catch(R){Ke(l,l.return,R)}}a&&g&64&&cg(d),Br(d,d.return);break;case 26:case 27:case 5:Xi(c,d,a),a&&l===null&&g&4&&dg(d),Br(d,d.return);break;case 12:Xi(c,d,a);break;case 13:Xi(c,d,a),a&&g&4&&Eg(c,d);break;case 22:d.memoizedState===null&&Xi(c,d,a),Br(d,d.return);break;default:Xi(c,d,a)}n=n.sibling}}function _f(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&vs(a))}function yf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&vs(t))}function $i(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Tg(t,n,a,l),n=n.sibling}function Tg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:$i(t,n,a,l),c&2048&&Ds(9,n);break;case 3:$i(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&vs(t)));break;case 12:if(c&2048){$i(t,n,a,l),t=n.stateNode;try{var d=n.memoizedProps,g=d.id,_=d.onPostCommit;typeof _=="function"&&_(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Ke(n,n.return,b)}}else $i(t,n,a,l);break;case 23:break;case 22:d=n.stateNode,n.memoizedState!==null?d._visibility&4?$i(t,n,a,l):Os(t,n):d._visibility&4?$i(t,n,a,l):(d._visibility|=4,Da(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&_f(n.alternate,n);break;case 24:$i(t,n,a,l),c&2048&&yf(n.alternate,n);break;default:$i(t,n,a,l)}}function Da(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,g=n,_=a,b=l,R=g.flags;switch(g.tag){case 0:case 11:case 15:Da(d,g,_,b,c),Ds(8,g);break;case 23:break;case 22:var k=g.stateNode;g.memoizedState!==null?k._visibility&4?Da(d,g,_,b,c):Os(d,g):(k._visibility|=4,Da(d,g,_,b,c)),c&&R&2048&&_f(g.alternate,g);break;case 24:Da(d,g,_,b,c),c&&R&2048&&yf(g.alternate,g);break;default:Da(d,g,_,b,c)}n=n.sibling}}function Os(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Os(a,l),c&2048&&_f(l.alternate,l);break;case 24:Os(a,l),c&2048&&yf(l.alternate,l);break;default:Os(a,l)}n=n.sibling}}var Ms=8192;function Oa(t){if(t.subtreeFlags&Ms)for(t=t.child;t!==null;)wg(t),t=t.sibling}function wg(t){switch(t.tag){case 26:Oa(t),t.flags&Ms&&t.memoizedState!==null&&sT(zn,t.memoizedState,t.memoizedProps);break;case 5:Oa(t);break;case 3:case 4:var n=zn;zn=Ho(t.stateNode.containerInfo),Oa(t),zn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Ms,Ms=16777216,Oa(t),Ms=n):Oa(t));break;default:Oa(t)}}function Cg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function xs(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ot=l,Ag(l,t)}Cg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rg(t),t=t.sibling}function Rg(t){switch(t.tag){case 0:case 11:case 15:xs(t),t.flags&2048&&Ki(9,t,t.return);break;case 3:xs(t);break;case 12:xs(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,wo(t)):xs(t);break;default:xs(t)}}function wo(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ot=l,Ag(l,t)}Cg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ki(8,n,n.return),wo(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,wo(n));break;default:wo(n)}t=t.sibling}}function Ag(t,n){for(;Ot!==null;){var a=Ot;switch(a.tag){case 0:case 11:case 15:Ki(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vs(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ot=l;else e:for(a=t;Ot!==null;){l=Ot;var c=l.sibling,d=l.return;if(yg(l),l===a){Ot=null;break e}if(c!==null){c.return=d,Ot=c;break e}Ot=d}}}function v0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,n,a,l){return new v0(t,n,a,l)}function vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,n){var a=t.alternate;return a===null?(a=An(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ng(t,n){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Co(t,n,a,l,c,d){var g=0;if(l=t,typeof t=="function")vf(t)&&(g=1);else if(typeof t=="string")g=rT(t,a,$e.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case m:return jr(a.children,c,d,n);case p:g=8,c|=24;break;case y:return t=An(12,a,n,c|2),t.elementType=y,t.lanes=d,t;case H:return t=An(13,a,n,c),t.elementType=H,t.lanes=d,t;case z:return t=An(19,a,n,c),t.elementType=z,t.lanes=d,t;case Z:return Dg(a,c,d,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case v:case S:g=10;break e;case E:g=9;break e;case N:g=11;break e;case P:g=14;break e;case Q:g=16,l=null;break e}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=An(g,a,n,c),n.elementType=t,n.type=l,n.lanes=d,n}function jr(t,n,a,l){return t=An(7,t,l,n),t.lanes=a,t}function Dg(t,n,a,l){t=An(22,t,l,n),t.elementType=Z,t.lanes=a;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=c._current;if(d===null)throw Error(s(456));if(!(c._pendingVisibility&2)){var g=Pi(d,2);g!==null&&(c._pendingVisibility|=2,Kt(g,d,2))}},attach:function(){var d=c._current;if(d===null)throw Error(s(456));if(c._pendingVisibility&2){var g=Pi(d,2);g!==null&&(c._pendingVisibility&=-3,Kt(g,d,2))}}};return t.stateNode=c,t}function Ef(t,n,a){return t=An(6,t,null,n),t.lanes=a,t}function bf(t,n,a){return n=An(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function wi(t){t.flags|=4}function Og(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!m_(n)){if(n=wn.current,n!==null&&((ze&4194176)===ze?Wn!==null:(ze&62914560)!==ze&&!(ze&536870912)||n!==Wn))throw gs=Cc,Qm;t.flags|=8192}}function Ro(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?w():536870912,t.lanes|=n,xa|=n)}function Is(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function E0(t,n,a){var l=n.pendingProps;switch(Tc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(n),null;case 1:return at(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ei(St),Yt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ds(n)?wi(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,kn!==null&&(Df(kn),kn=null))),at(n),null;case 26:return a=n.memoizedState,t===null?(wi(n),a!==null?(at(n),Og(n,a)):(at(n),n.flags&=-16777217)):a?a!==t.memoizedState?(wi(n),at(n),Og(n,a)):(at(n),n.flags&=-16777217):(t.memoizedProps!==l&&wi(n),at(n),n.flags&=-16777217),null;case 27:oi(n),a=Et.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return at(n),null}t=$e.current,ds(n)?Gm(n):(t=s_(c,l,a),n.stateNode=t,wi(n))}return at(n),null;case 5:if(oi(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return at(n),null}if(t=$e.current,ds(n))Gm(n);else{switch(c=zo(Et.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[ae]=n,t[fe]=l;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;e:switch(Pt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&wi(n)}}return at(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Et.current,ds(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Qt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ae]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||e_(t.nodeValue,a)),t||Mr(n)}else t=zo(t).createTextNode(l),t[ae]=n,n.stateNode=t}return at(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ds(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ae]=n}else hs(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;at(n),c=!1}else kn!==null&&(Df(kn),kn=null),c=!0;if(!c)return n.flags&256?(gi(n),n):(gi(n),null)}if(gi(n),n.flags&128)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Ro(n,n.updateQueue),at(n),null;case 4:return Yt(),t===null&&Bf(n.stateNode.containerInfo),at(n),null;case 10:return Ei(n.type),at(n),null;case 19:if(Se(bt),c=n.memoizedState,c===null)return at(n),null;if(l=(n.flags&128)!==0,d=c.rendering,d===null)if(l)Is(c,!1);else{if(ct!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(d=oo(t),d!==null){for(n.flags|=128,Is(c,!1),t=d.updateQueue,n.updateQueue=t,Ro(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Ng(a,t),a=a.sibling;return ve(bt,bt.current&1|2),n.child}t=t.sibling}c.tail!==null&&jt()>Ao&&(n.flags|=128,l=!0,Is(c,!1),n.lanes=4194304)}else{if(!l)if(t=oo(d),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Ro(n,t),Is(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!He)return at(n),null}else 2*jt()-c.renderingStartTime>Ao&&a!==536870912&&(n.flags|=128,l=!0,Is(c,!1),n.lanes=4194304);c.isBackwards?(d.sibling=n.child,n.child=d):(t=c.last,t!==null?t.sibling=d:n.child=d,c.last=d)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=jt(),n.sibling=null,t=bt.current,ve(bt,l?t&1|2:t&1),n):(at(n),null);case 22:case 23:return gi(n),Ac(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?a&536870912&&!(n.flags&128)&&(at(n),n.subtreeFlags&6&&(n.flags|=8192)):at(n),a=n.updateQueue,a!==null&&Ro(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Se(Ir),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ei(St),at(n),null;case 25:return null}throw Error(s(156,n.tag))}function b0(t,n){switch(Tc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ei(St),Yt(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return oi(n),null;case 13:if(gi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));hs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Se(bt),null;case 4:return Yt(),null;case 10:return Ei(n.type),null;case 22:case 23:return gi(n),Ac(),t!==null&&Se(Ir),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ei(St),null;case 25:return null;default:return null}}function Mg(t,n){switch(Tc(n),n.tag){case 3:Ei(St),Yt();break;case 26:case 27:case 5:oi(n);break;case 4:Yt();break;case 13:gi(n);break;case 19:Se(bt);break;case 10:Ei(n.type);break;case 22:case 23:gi(n),Ac(),t!==null&&Se(Ir);break;case 24:Ei(St)}}var S0={getCacheForType:function(t){var n=Ft(St),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},T0=typeof WeakMap=="function"?WeakMap:Map,st=0,Ze=null,De=null,ze=0,Je=0,un=null,Ci=!1,Ma=!1,Sf=!1,Ri=0,ct=0,Zi=0,qr=0,Tf=0,Nn=0,xa=0,Ls=null,Jn=null,wf=!1,Cf=0,Ao=1/0,No=null,Ji=null,Do=!1,Fr=null,Us=0,Rf=0,Af=null,ks=0,Nf=null;function cn(){if(st&2&&ze!==0)return ze&-ze;if(G.T!==null){var t=Ta;return t!==0?t:kf()}return te()}function xg(){Nn===0&&(Nn=!(ze&536870912)||He?jl():536870912);var t=wn.current;return t!==null&&(t.flags|=32),Nn}function Kt(t,n,a){(t===Ze&&Je===2||t.cancelPendingCommit!==null)&&(Ia(t,0),Ai(t,ze,Nn,!1)),L(t,a),(!(st&2)||t!==Ze)&&(t===Ze&&(!(st&2)&&(qr|=a),ct===4&&Ai(t,ze,Nn,!1)),ei(t))}function Ig(t,n,a){if(st&6)throw Error(s(327));var l=!a&&(n&60)===0&&(n&t.expiredLanes)===0||Xn(t,n),c=l?R0(t,n):xf(t,n,!0),d=l;do{if(c===0){Ma&&!l&&Ai(t,n,0,!1);break}else if(c===6)Ai(t,n,0,!Ci);else{if(a=t.current.alternate,d&&!w0(a)){c=xf(t,n,!1),d=!1;continue}if(c===2){if(d=n,t.errorRecoveryDisabledLanes&d)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var _=t;c=Ls;var b=_.current.memoizedState.isDehydrated;if(b&&(Ia(_,g).flags|=256),g=xf(_,g,!1),g!==2){if(Sf&&!b){_.errorRecoveryDisabledLanes|=d,qr|=d,c=4;break e}d=Jn,Jn=c,d!==null&&Df(d)}c=g}if(d=!1,c!==2)continue}}if(c===1){Ia(t,0),Ai(t,n,0,!0);break}e:{switch(l=t,c){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Ai(l,n,Nn,!Ci);break e}break;case 2:Jn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=n,(n&62914560)===n&&(d=Cf+300-jt(),10<d)){if(Ai(l,n,Nn,!Ci),ui(l,0)!==0)break e;l.timeoutHandle=i_(Lg.bind(null,l,a,Jn,No,wf,n,Nn,qr,xa,Ci,2,-0,0),d);break e}Lg(l,a,Jn,No,wf,n,Nn,qr,xa,Ci,0,-0,0)}}break}while(!0);ei(t)}function Df(t){Jn===null?Jn=t:Jn.push.apply(Jn,t)}function Lg(t,n,a,l,c,d,g,_,b,R,k,j,I){var U=n.subtreeFlags;if((U&8192||(U&16785408)===16785408)&&(qs={stylesheets:null,count:0,unsuspend:aT},wg(n),n=lT(),n!==null)){t.cancelPendingCommit=n(jg.bind(null,t,a,l,c,g,_,b,1,j,I)),Ai(t,d,g,!R);return}jg(t,a,l,c,g,_,b,k,j,I)}function w0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],d=c.getSnapshot;c=c.value;try{if(!sn(d(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ai(t,n,a,l){n&=~Tf,n&=~qr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var d=31-Nt(c),g=1<<d;l[d]=-1,c&=~g}a!==0&&J(t,a,n)}function Oo(){return st&6?!0:(zs(0),!1)}function Of(){if(De!==null){if(Je===0)var t=De.return;else t=De,vi=Hr=null,Uc(t),ba=null,_s=0,t=De;for(;t!==null;)Mg(t.alternate,t),t=t.return;De=null}}function Ia(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,F0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Of(),Ze=t,De=a=Wi(t.current,null),ze=n,Je=0,un=null,Ci=!1,Ma=Xn(t,n),Sf=!1,xa=Nn=Tf=qr=Zi=ct=0,Jn=Ls=null,wf=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Nt(l),d=1<<c;n|=t[c],l&=~d}return Ri=n,Jl(),a}function Ug(t,n){Ce=null,G.H=Zn,n===ps?(n=$m(),Je=3):n===Qm?(n=$m(),Je=4):Je=n===Kp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,De===null&&(ct=1,Eo(t,bn(n,t.current)))}function kg(){var t=G.H;return G.H=Zn,t===null?Zn:t}function zg(){var t=G.A;return G.A=S0,t}function Mf(){ct=4,Ci||(ze&4194176)!==ze&&wn.current!==null||(Ma=!0),!(Zi&134217727)&&!(qr&134217727)||Ze===null||Ai(Ze,ze,Nn,!1)}function xf(t,n,a){var l=st;st|=2;var c=kg(),d=zg();(Ze!==t||ze!==n)&&(No=null,Ia(t,n)),n=!1;var g=ct;e:do try{if(Je!==0&&De!==null){var _=De,b=un;switch(Je){case 8:Of(),g=6;break e;case 3:case 2:case 6:wn.current===null&&(n=!0);var R=Je;if(Je=0,un=null,La(t,_,b,R),a&&Ma){g=0;break e}break;default:R=Je,Je=0,un=null,La(t,_,b,R)}}C0(),g=ct;break}catch(k){Ug(t,k)}while(!0);return n&&t.shellSuspendCounter++,vi=Hr=null,st=l,G.H=c,G.A=d,De===null&&(Ze=null,ze=0,Jl()),g}function C0(){for(;De!==null;)Hg(De)}function R0(t,n){var a=st;st|=2;var l=kg(),c=zg();Ze!==t||ze!==n?(No=null,Ao=jt()+500,Ia(t,n)):Ma=Xn(t,n);e:do try{if(Je!==0&&De!==null){n=De;var d=un;t:switch(Je){case 1:Je=0,un=null,La(t,n,d,1);break;case 2:if(Km(d)){Je=0,un=null,Pg(n);break}n=function(){Je===2&&Ze===t&&(Je=7),ei(t)},d.then(n,n);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Km(d)?(Je=0,un=null,Pg(n)):(Je=0,un=null,La(t,n,d,7));break;case 5:var g=null;switch(De.tag){case 26:g=De.memoizedState;case 5:case 27:var _=De;if(!g||m_(g)){Je=0,un=null;var b=_.sibling;if(b!==null)De=b;else{var R=_.return;R!==null?(De=R,Mo(R)):De=null}break t}}Je=0,un=null,La(t,n,d,5);break;case 6:Je=0,un=null,La(t,n,d,6);break;case 8:Of(),ct=6;break e;default:throw Error(s(462))}}A0();break}catch(k){Ug(t,k)}while(!0);return vi=Hr=null,G.H=l,G.A=c,st=a,De!==null?0:(Ze=null,ze=0,Jl(),ct)}function A0(){for(;De!==null&&!mn();)Hg(De)}function Hg(t){var n=sg(t.alternate,t,Ri);t.memoizedProps=t.pendingProps,n===null?Mo(t):De=n}function Pg(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=eg(a,n,n.pendingProps,n.type,void 0,ze);break;case 11:n=eg(a,n,n.pendingProps,n.type.render,n.ref,ze);break;case 5:Uc(n);default:Mg(a,n),n=De=Ng(n,Ri),n=sg(a,n,Ri)}t.memoizedProps=t.pendingProps,n===null?Mo(t):De=n}function La(t,n,a,l){vi=Hr=null,Uc(n),ba=null,_s=0;var c=n.return;try{if(p0(t,c,n,a,ze)){ct=1,Eo(t,bn(a,t.current)),De=null;return}}catch(d){if(c!==null)throw De=c,d;ct=1,Eo(t,bn(a,t.current)),De=null;return}n.flags&32768?(He||l===1?t=!0:Ma||ze&536870912?t=!1:(Ci=t=!0,(l===2||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Bg(n,t)):Mo(n)}function Mo(t){var n=t;do{if(n.flags&32768){Bg(n,Ci);return}t=n.return;var a=E0(n.alternate,n,Ri);if(a!==null){De=a;return}if(n=n.sibling,n!==null){De=n;return}De=n=t}while(n!==null);ct===0&&(ct=5)}function Bg(t,n){do{var a=b0(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ct=6,De=null}function jg(t,n,a,l,c,d,g,_,b,R){var k=G.T,j=X.p;try{X.p=2,G.T=null,N0(t,n,a,l,j,c,d,g,_,b,R)}finally{G.T=k,X.p=j}}function N0(t,n,a,l,c,d,g,_){do Ua();while(Fr!==null);if(st&6)throw Error(s(327));var b=t.finishedWork;if(l=t.finishedLanes,b===null)return null;if(t.finishedWork=null,t.finishedLanes=0,b===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var R=b.lanes|b.childLanes;if(R|=Ec,F(t,l,R,d,g,_),t===Ze&&(De=Ze=null,ze=0),!(b.subtreeFlags&10256)&&!(b.flags&10256)||Do||(Do=!0,Rf=R,Af=a,x0(br,function(){return Ua(),null})),a=(b.flags&15990)!==0,b.subtreeFlags&15990||a?(a=G.T,G.T=null,d=X.p,X.p=2,g=st,st|=4,_0(t,b),bg(b,t),ZS(Vf,t.containerInfo),Fo=!!Ff,Vf=Ff=null,t.current=b,_g(t,b.alternate,b),Yn(),st=g,X.p=d,G.T=a):t.current=b,Do?(Do=!1,Fr=t,Us=l):qg(t,R),R=t.pendingLanes,R===0&&(Ji=null),Zu(b.stateNode),ei(t),n!==null)for(c=t.onRecoverableError,b=0;b<n.length;b++)R=n[b],c(R.value,{componentStack:R.stack});return Us&3&&Ua(),R=t.pendingLanes,l&4194218&&R&42?t===Nf?ks++:(ks=0,Nf=t):ks=0,zs(0),null}function qg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,vs(n)))}function Ua(){if(Fr!==null){var t=Fr,n=Rf;Rf=0;var a=ye(Us),l=G.T,c=X.p;try{if(X.p=32>a?32:a,G.T=null,Fr===null)var d=!1;else{a=Af,Af=null;var g=Fr,_=Us;if(Fr=null,Us=0,st&6)throw Error(s(331));var b=st;if(st|=4,Rg(g.current),Tg(g,g.current,_,a),st=b,zs(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(zi,g)}catch{}d=!0}return d}finally{X.p=c,G.T=l,qg(t,n)}}return!1}function Fg(t,n,a){n=bn(a,n),n=Xc(t.stateNode,n,2),t=Qi(t,n,2),t!==null&&(L(t,2),ei(t))}function Ke(t,n,a){if(t.tag===3)Fg(t,t,a);else for(;n!==null;){if(n.tag===3){Fg(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ji===null||!Ji.has(l))){t=bn(a,t),a=Yp(2),l=Qi(n,a,2),l!==null&&(Qp(a,l,n,t),L(l,2),ei(l));break}}n=n.return}}function If(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new T0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Sf=!0,c.add(a),t=D0.bind(null,t,n,a),n.then(t,t))}function D0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(ze&a)===a&&(ct===4||ct===3&&(ze&62914560)===ze&&300>jt()-Cf?!(st&2)&&Ia(t,0):Tf|=a,xa===ze&&(xa=0)),ei(t)}function Vg(t,n){n===0&&(n=w()),t=Pi(t,n),t!==null&&(L(t,n),ei(t))}function O0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Vg(t,a)}function M0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Vg(t,a)}function x0(t,n){return ki(t,n)}var xo=null,ka=null,Lf=!1,Io=!1,Uf=!1,Vr=0;function ei(t){t!==ka&&t.next===null&&(ka===null?xo=ka=t:ka=ka.next=t),Io=!0,Lf||(Lf=!0,L0(I0))}function zs(t,n){if(!Uf&&Io){Uf=!0;do for(var a=!1,l=xo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var d=0;else{var g=l.suspendedLanes,_=l.pingedLanes;d=(1<<31-Nt(42|t)+1)-1,d&=c&~(g&~_),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Qg(l,d))}else d=ze,d=ui(l,l===Ze?d:0),!(d&3)||Xn(l,d)||(a=!0,Qg(l,d));l=l.next}while(a);Uf=!1}}function I0(){Io=Lf=!1;var t=0;Vr!==0&&(q0()&&(t=Vr),Vr=0);for(var n=jt(),a=null,l=xo;l!==null;){var c=l.next,d=Gg(l,n);d===0?(l.next=null,a===null?xo=c:a.next=c,c===null&&(ka=a)):(a=l,(t!==0||d&3)&&(Io=!0)),l=c}zs(t)}function Gg(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var g=31-Nt(d),_=1<<g,b=c[g];b===-1?(!(_&a)||_&l)&&(c[g]=ec(_,n)):b<=n&&(t.expiredLanes|=_),d&=~_}if(n=Ze,a=ze,a=ui(t,t===n?a:0),l=t.callbackNode,a===0||t===n&&Je===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&xn(l),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||Xn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&xn(l),ye(a)){case 2:case 8:a=pn;break;case 32:a=br;break;case 268435456:a=Hl;break;default:a=br}return l=Yg.bind(null,t),a=ki(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&xn(l),t.callbackPriority=2,t.callbackNode=null,2}function Yg(t,n){var a=t.callbackNode;if(Ua()&&t.callbackNode!==a)return null;var l=ze;return l=ui(t,t===Ze?l:0),l===0?null:(Ig(t,l,n),Gg(t,jt()),t.callbackNode!=null&&t.callbackNode===a?Yg.bind(null,t):null)}function Qg(t,n){if(Ua())return null;Ig(t,n,!0)}function L0(t){V0(function(){st&6?ki(In,t):t()})}function kf(){return Vr===0&&(Vr=jl()),Vr}function Kg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Yl(""+t)}function Xg(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function U0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var d=Kg((c[fe]||null).action),g=l.submitter;g&&(n=(n=g[fe]||null)?Kg(n.formAction):g.getAttribute("formAction"),n!==null&&(d=n,g=null));var _=new $l("action","action",null,l,c);t.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vr!==0){var b=g?Xg(c,g):new FormData(c);Vc(a,{pending:!0,data:b,method:c.method,action:d},null,b)}}else typeof d=="function"&&(_.preventDefault(),b=g?Xg(c,g):new FormData(c),Vc(a,{pending:!0,data:b,method:c.method,action:d},d,b))},currentTarget:c}]})}}for(var zf=0;zf<jm.length;zf++){var Hf=jm[zf],k0=Hf.toLowerCase(),z0=Hf[0].toUpperCase()+Hf.slice(1);Un(k0,"on"+z0)}Un(km,"onAnimationEnd"),Un(zm,"onAnimationIteration"),Un(Hm,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(e0,"onTransitionRun"),Un(t0,"onTransitionStart"),Un(n0,"onTransitionCancel"),Un(Pm,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hs));function $g(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var g=l.length-1;0<=g;g--){var _=l[g],b=_.instance,R=_.currentTarget;if(_=_.listener,b!==d&&c.isPropagationStopped())break e;d=_,c.currentTarget=R;try{d(c)}catch(k){vo(k)}c.currentTarget=null,d=b}else for(g=0;g<l.length;g++){if(_=l[g],b=_.instance,R=_.currentTarget,_=_.listener,b!==d&&c.isPropagationStopped())break e;d=_,c.currentTarget=R;try{d(c)}catch(k){vo(k)}c.currentTarget=null,d=b}}}}function xe(t,n){var a=n[mt];a===void 0&&(a=n[mt]=new Set);var l=t+"__bubble";a.has(l)||(Wg(n,t,2,!1),a.add(l))}function Pf(t,n,a){var l=0;n&&(l|=4),Wg(a,t,l,n)}var Lo="_reactListening"+Math.random().toString(36).slice(2);function Bf(t){if(!t[Lo]){t[Lo]=!0,Tr.forEach(function(a){a!=="selectionchange"&&(H0.has(a)||Pf(a,!1,t),Pf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Lo]||(n[Lo]=!0,Pf("selectionchange",!1,n))}}function Wg(t,n,a,l){switch(E_(n)){case 2:var c=cT;break;case 8:c=fT;break;default:c=Jf}a=c.bind(null,n,a,t),c=void 0,!lc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function jf(t,n,a,l,c){var d=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var _=l.stateNode.containerInfo;if(_===c||_.nodeType===8&&_.parentNode===c)break;if(g===4)for(g=l.return;g!==null;){var b=g.tag;if((b===3||b===4)&&(b=g.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;g=g.return}for(;_!==null;){if(g=Ut(_),g===null)return;if(b=g.tag,b===5||b===6||b===26||b===27){l=d=g;continue e}_=_.parentNode}}l=l.return}dm(function(){var R=d,k=ac(a),j=[];e:{var I=Bm.get(t);if(I!==void 0){var U=$l,le=t;switch(t){case"keypress":if(Kl(a)===0)break e;case"keydown":case"keyup":U=MS;break;case"focusin":le="focus",U=fc;break;case"focusout":le="blur",U=fc;break;case"beforeblur":case"afterblur":U=fc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=pm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=vS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=LS;break;case km:case zm:case Hm:U=SS;break;case Pm:U=kS;break;case"scroll":case"scrollend":U=_S;break;case"wheel":U=HS;break;case"copy":case"cut":case"paste":U=wS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=_m;break;case"toggle":case"beforetoggle":U=BS}var Ee=(n&4)!==0,ft=!Ee&&(t==="scroll"||t==="scrollend"),D=Ee?I!==null?I+"Capture":null:I;Ee=[];for(var C=R,x;C!==null;){var B=C;if(x=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||x===null||D===null||(B=is(C,D),B!=null&&Ee.push(Ps(C,B,x))),ft)break;C=C.return}0<Ee.length&&(I=new U(I,le,null,a,k),j.push({event:I,listeners:Ee}))}}if(!(n&7)){e:{if(I=t==="mouseover"||t==="pointerover",U=t==="mouseout"||t==="pointerout",I&&a!==rc&&(le=a.relatedTarget||a.fromElement)&&(Ut(le)||le[je]))break e;if((U||I)&&(I=k.window===k?k:(I=k.ownerDocument)?I.defaultView||I.parentWindow:window,U?(le=a.relatedTarget||a.toElement,U=R,le=le?Ut(le):null,le!==null&&(ft=ue(le),Ee=le.tag,le!==ft||Ee!==5&&Ee!==27&&Ee!==6)&&(le=null)):(U=null,le=R),U!==le)){if(Ee=pm,B="onMouseLeave",D="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=_m,B="onPointerLeave",D="onPointerEnter",C="pointer"),ft=U==null?I:fi(U),x=le==null?I:fi(le),I=new Ee(B,C+"leave",U,a,k),I.target=ft,I.relatedTarget=x,B=null,Ut(k)===R&&(Ee=new Ee(D,C+"enter",le,a,k),Ee.target=x,Ee.relatedTarget=ft,B=Ee),ft=B,U&&le)t:{for(Ee=U,D=le,C=0,x=Ee;x;x=za(x))C++;for(x=0,B=D;B;B=za(B))x++;for(;0<C-x;)Ee=za(Ee),C--;for(;0<x-C;)D=za(D),x--;for(;C--;){if(Ee===D||D!==null&&Ee===D.alternate)break t;Ee=za(Ee),D=za(D)}Ee=null}else Ee=null;U!==null&&Zg(j,I,U,Ee,!1),le!==null&&ft!==null&&Zg(j,ft,le,Ee,!0)}}e:{if(I=R?fi(R):window,U=I.nodeName&&I.nodeName.toLowerCase(),U==="select"||U==="input"&&I.type==="file")var ne=Cm;else if(Tm(I))if(Rm)ne=$S;else{ne=KS;var Re=QS}else U=I.nodeName,!U||U.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?R&&ic(R.elementType)&&(ne=Cm):ne=XS;if(ne&&(ne=ne(t,R))){wm(j,ne,a,k);break e}Re&&Re(t,I,R),t==="focusout"&&R&&I.type==="number"&&R.memoizedProps.value!=null&&nc(I,"number",I.value)}switch(Re=R?fi(R):window,t){case"focusin":(Tm(Re)||Re.contentEditable==="true")&&(pa=Re,_c=R,fs=null);break;case"focusout":fs=_c=pa=null;break;case"mousedown":yc=!0;break;case"contextmenu":case"mouseup":case"dragend":yc=!1,Lm(j,a,k);break;case"selectionchange":if(JS)break;case"keydown":case"keyup":Lm(j,a,k)}var ce;if(hc)e:{switch(t){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else ma?bm(t,a)&&(he="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(he="onCompositionStart");he&&(ym&&a.locale!=="ko"&&(ma||he!=="onCompositionStart"?he==="onCompositionEnd"&&ma&&(ce=hm()):(Hi=k,oc="value"in Hi?Hi.value:Hi.textContent,ma=!0)),Re=Uo(R,he),0<Re.length&&(he=new gm(he,t,null,a,k),j.push({event:he,listeners:Re}),ce?he.data=ce:(ce=Sm(a),ce!==null&&(he.data=ce)))),(ce=qS?FS(t,a):VS(t,a))&&(he=Uo(R,"onBeforeInput"),0<he.length&&(Re=new gm("onBeforeInput","beforeinput",null,a,k),j.push({event:Re,listeners:he}),Re.data=ce)),U0(j,t,R,a,k)}$g(j,n)})}function Ps(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Uo(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,d=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=is(t,a),c!=null&&l.unshift(Ps(t,c,d)),c=is(t,n),c!=null&&l.push(Ps(t,c,d))),t=t.return}return l}function za(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zg(t,n,a,l,c){for(var d=n._reactName,g=[];a!==null&&a!==l;){var _=a,b=_.alternate,R=_.stateNode;if(_=_.tag,b!==null&&b===l)break;_!==5&&_!==26&&_!==27||R===null||(b=R,c?(R=is(a,d),R!=null&&g.unshift(Ps(a,R,b))):c||(R=is(a,d),R!=null&&g.push(Ps(a,R,b)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var P0=/\r\n?/g,B0=/\u0000|\uFFFD/g;function Jg(t){return(typeof t=="string"?t:""+t).replace(P0,`
`).replace(B0,"")}function e_(t,n){return n=Jg(n),Jg(t)===n}function ko(){}function Ge(t,n,a,l,c,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||fa(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&fa(t,""+l);break;case"className":Fl(t,"class",l);break;case"tabIndex":Fl(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Fl(t,a,l);break;case"style":cm(t,l,d);break;case"data":if(n!=="object"){Fl(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Yl(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Ge(t,n,"name",c.name,c,null),Ge(t,n,"formEncType",c.formEncType,c,null),Ge(t,n,"formMethod",c.formMethod,c,null),Ge(t,n,"formTarget",c.formTarget,c,null)):(Ge(t,n,"encType",c.encType,c,null),Ge(t,n,"method",c.method,c,null),Ge(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Yl(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ko);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Yl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),ua(t,"popover",l);break;case"xlinkActuate":hi(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":hi(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":hi(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":hi(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":hi(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":hi(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":hi(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":hi(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":hi(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ua(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pS.get(a)||a,ua(t,a,l))}}function qf(t,n,a,l,c,d){switch(a){case"style":cm(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?fa(t,l):(typeof l=="number"||typeof l=="bigint")&&fa(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ko);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),d=t[fe]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,c),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ua(t,a,l)}}}function Pt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,c=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ge(t,n,d,g,a,null)}}c&&Ge(t,n,"srcSet",a.srcSet,a,null),l&&Ge(t,n,"src",a.src,a,null);return;case"input":xe("invalid",t);var _=d=g=c=null,b=null,R=null;for(l in a)if(a.hasOwnProperty(l)){var k=a[l];if(k!=null)switch(l){case"name":c=k;break;case"type":g=k;break;case"checked":b=k;break;case"defaultChecked":R=k;break;case"value":d=k;break;case"defaultValue":_=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Ge(t,n,l,k,a,null)}}sm(t,d,_,b,R,g,c,!1),Vl(t);return;case"select":xe("invalid",t),l=g=d=null;for(c in a)if(a.hasOwnProperty(c)&&(_=a[c],_!=null))switch(c){case"value":d=_;break;case"defaultValue":g=_;break;case"multiple":l=_;default:Ge(t,n,c,_,a,null)}n=d,a=g,t.multiple=!!l,n!=null?ca(t,!!l,n,!1):a!=null&&ca(t,!!l,a,!0);return;case"textarea":xe("invalid",t),d=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(_=a[g],_!=null))switch(g){case"value":l=_;break;case"defaultValue":c=_;break;case"children":d=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:Ge(t,n,g,_,a,null)}om(t,l,c,d),Vl(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ge(t,n,b,l,a,null)}return;case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<Hs.length;l++)xe(Hs[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ge(t,n,R,l,a,null)}return;default:if(ic(n)){for(k in a)a.hasOwnProperty(k)&&(l=a[k],l!==void 0&&qf(t,n,k,l,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(l=a[_],l!=null&&Ge(t,n,_,l,a,null))}function j0(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,g=null,_=null,b=null,R=null,k=null;for(U in a){var j=a[U];if(a.hasOwnProperty(U)&&j!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":b=j;default:l.hasOwnProperty(U)||Ge(t,n,U,null,l,j)}}for(var I in l){var U=l[I];if(j=a[I],l.hasOwnProperty(I)&&(U!=null||j!=null))switch(I){case"type":d=U;break;case"name":c=U;break;case"checked":R=U;break;case"defaultChecked":k=U;break;case"value":g=U;break;case"defaultValue":_=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,n));break;default:U!==j&&Ge(t,n,I,U,l,j)}}tc(t,g,_,b,R,k,d,c);return;case"select":U=g=_=I=null;for(d in a)if(b=a[d],a.hasOwnProperty(d)&&b!=null)switch(d){case"value":break;case"multiple":U=b;default:l.hasOwnProperty(d)||Ge(t,n,d,null,l,b)}for(c in l)if(d=l[c],b=a[c],l.hasOwnProperty(c)&&(d!=null||b!=null))switch(c){case"value":I=d;break;case"defaultValue":_=d;break;case"multiple":g=d;default:d!==b&&Ge(t,n,c,d,l,b)}n=_,a=g,l=U,I!=null?ca(t,!!a,I,!1):!!l!=!!a&&(n!=null?ca(t,!!a,n,!0):ca(t,!!a,a?[]:"",!1));return;case"textarea":U=I=null;for(_ in a)if(c=a[_],a.hasOwnProperty(_)&&c!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ge(t,n,_,null,l,c)}for(g in l)if(c=l[g],d=a[g],l.hasOwnProperty(g)&&(c!=null||d!=null))switch(g){case"value":I=c;break;case"defaultValue":U=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==d&&Ge(t,n,g,c,l,d)}lm(t,I,U);return;case"option":for(var le in a)if(I=a[le],a.hasOwnProperty(le)&&I!=null&&!l.hasOwnProperty(le))switch(le){case"selected":t.selected=!1;break;default:Ge(t,n,le,null,l,I)}for(b in l)if(I=l[b],U=a[b],l.hasOwnProperty(b)&&I!==U&&(I!=null||U!=null))switch(b){case"selected":t.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Ge(t,n,b,I,l,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)I=a[Ee],a.hasOwnProperty(Ee)&&I!=null&&!l.hasOwnProperty(Ee)&&Ge(t,n,Ee,null,l,I);for(R in l)if(I=l[R],U=a[R],l.hasOwnProperty(R)&&I!==U&&(I!=null||U!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,n));break;default:Ge(t,n,R,I,l,U)}return;default:if(ic(n)){for(var ft in a)I=a[ft],a.hasOwnProperty(ft)&&I!==void 0&&!l.hasOwnProperty(ft)&&qf(t,n,ft,void 0,l,I);for(k in l)I=l[k],U=a[k],!l.hasOwnProperty(k)||I===U||I===void 0&&U===void 0||qf(t,n,k,I,l,U);return}}for(var D in a)I=a[D],a.hasOwnProperty(D)&&I!=null&&!l.hasOwnProperty(D)&&Ge(t,n,D,null,l,I);for(j in l)I=l[j],U=a[j],!l.hasOwnProperty(j)||I===U||I==null&&U==null||Ge(t,n,j,I,l,U)}var Ff=null,Vf=null;function zo(t){return t.nodeType===9?t:t.ownerDocument}function t_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Gf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Yf=null;function q0(){var t=window.event;return t&&t.type==="popstate"?t===Yf?!1:(Yf=t,!0):(Yf=null,!1)}var i_=typeof setTimeout=="function"?setTimeout:void 0,F0=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,V0=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(t){return r_.resolve(null).then(t).catch(G0)}:i_;function G0(t){setTimeout(function(){throw t})}function Qf(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(l===0){t.removeChild(c),Qs(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=c}while(a);Qs(n)}function Kf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kf(a),ci(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Y0(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function Q0(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function Hn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function a_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function s_(t,n,a){switch(n=zo(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Dn=new Map,l_=new Set;function Ho(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ni=X.d;X.d={f:K0,r:X0,D:$0,C:W0,L:Z0,m:J0,X:tT,S:eT,M:nT};function K0(){var t=Ni.f(),n=Oo();return t||n}function X0(t){var n=kt(t);n!==null&&n.tag===5&&n.type==="form"?Lp(n):Ni.r(t)}var Ha=typeof document>"u"?null:document;function o_(t,n,a){var l=Ha;if(l&&typeof n=="string"&&n){var c=vn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),l_.has(c)||(l_.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pt(n,"link",t),We(n),l.head.appendChild(n)))}}function $0(t){Ni.D(t),o_("dns-prefetch",t,null)}function W0(t,n){Ni.C(t,n),o_("preconnect",t,n)}function Z0(t,n,a){Ni.L(t,n,a);var l=Ha;if(l&&t&&n){var c='link[rel="preload"][as="'+vn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+vn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+vn(a.imageSizes)+'"]')):c+='[href="'+vn(t)+'"]';var d=c;switch(n){case"style":d=Pa(t);break;case"script":d=Ba(t)}Dn.has(d)||(t=se({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Dn.set(d,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Bs(d))||n==="script"&&l.querySelector(js(d))||(n=l.createElement("link"),Pt(n,"link",t),We(n),l.head.appendChild(n)))}}function J0(t,n){Ni.m(t,n);var a=Ha;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+vn(l)+'"][href="'+vn(t)+'"]',d=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ba(t)}if(!Dn.has(d)&&(t=se({rel:"modulepreload",href:t},n),Dn.set(d,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(js(d)))return}l=a.createElement("link"),Pt(l,"link",t),We(l),a.head.appendChild(l)}}}function eT(t,n,a){Ni.S(t,n,a);var l=Ha;if(l&&t){var c=_n(l).hoistableStyles,d=Pa(t);n=n||"default";var g=c.get(d);if(!g){var _={loading:0,preload:null};if(g=l.querySelector(Bs(d)))_.loading=5;else{t=se({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Dn.get(d))&&Xf(t,a);var b=g=l.createElement("link");We(b),Pt(b,"link",t),b._p=new Promise(function(R,k){b.onload=R,b.onerror=k}),b.addEventListener("load",function(){_.loading|=1}),b.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Po(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:_},c.set(d,g)}}}function tT(t,n){Ni.X(t,n);var a=Ha;if(a&&t){var l=_n(a).hoistableScripts,c=Ba(t),d=l.get(c);d||(d=a.querySelector(js(c)),d||(t=se({src:t,async:!0},n),(n=Dn.get(c))&&$f(t,n),d=a.createElement("script"),We(d),Pt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function nT(t,n){Ni.M(t,n);var a=Ha;if(a&&t){var l=_n(a).hoistableScripts,c=Ba(t),d=l.get(c);d||(d=a.querySelector(js(c)),d||(t=se({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&$f(t,n),d=a.createElement("script"),We(d),Pt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function u_(t,n,a,l){var c=(c=Et.current)?Ho(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Pa(a.href),a=_n(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Pa(a.href);var d=_n(c).hoistableStyles,g=d.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,g),(d=c.querySelector(Bs(t)))&&!d._p&&(g.instance=d,g.state.loading=5),Dn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(t,a),d||iT(c,t,a,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ba(a),a=_n(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Pa(t){return'href="'+vn(t)+'"'}function Bs(t){return'link[rel="stylesheet"]['+t+"]"}function c_(t){return se({},t,{"data-precedence":t.precedence,precedence:null})}function iT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pt(n,"link",a),We(n),t.head.appendChild(n))}function Ba(t){return'[src="'+vn(t)+'"]'}function js(t){return"script[async]"+t}function f_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+vn(a.href)+'"]');if(l)return n.instance=l,We(l),l;var c=se({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),We(l),Pt(l,"style",c),Po(l,a.precedence,t),n.instance=l;case"stylesheet":c=Pa(a.href);var d=t.querySelector(Bs(c));if(d)return n.state.loading|=4,n.instance=d,We(d),d;l=c_(a),(c=Dn.get(c))&&Xf(l,c),d=(t.ownerDocument||t).createElement("link"),We(d);var g=d;return g._p=new Promise(function(_,b){g.onload=_,g.onerror=b}),Pt(d,"link",l),n.state.loading|=4,Po(d,a.precedence,t),n.instance=d;case"script":return d=Ba(a.src),(c=t.querySelector(js(d)))?(n.instance=c,We(c),c):(l=a,(c=Dn.get(d))&&(l=se({},a),$f(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),We(c),Pt(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,Po(l,a.precedence,t));return n.instance}function Po(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,d=c,g=0;g<l.length;g++){var _=l[g];if(_.dataset.precedence===n)d=_;else if(d!==c)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function $f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Bo=null;function d_(t,n,a){if(Bo===null){var l=new Map,c=Bo=new Map;c.set(a,l)}else c=Bo,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var d=a[c];if(!(d[gn]||d[ae]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(n)||"";g=t+g;var _=l.get(g);_?_.push(d):l.set(g,[d])}}return l}function h_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function rT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function m_(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var qs=null;function aT(){}function sT(t,n,a){if(qs===null)throw Error(s(475));var l=qs;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var c=Pa(a.href),d=t.querySelector(Bs(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=jo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=d,We(d);return}d=t.ownerDocument||t,a=c_(a),(c=Dn.get(c))&&Xf(a,c),d=d.createElement("link"),We(d);var g=d;g._p=new Promise(function(_,b){g.onload=_,g.onerror=b}),Pt(d,"link",a),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=jo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function lT(){if(qs===null)throw Error(s(475));var t=qs;return t.stylesheets&&t.count===0&&Wf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Wf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function jo(){if(this.count--,this.count===0){if(this.stylesheets)Wf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var qo=null;function Wf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,qo=new Map,n.forEach(oT,t),qo=null,jo.call(t))}function oT(t,n){if(!(n.state.loading&4)){var a=qo.get(t);if(a)var l=a.get(null);else{a=new Map,qo.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var g=c[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),d=a.get(g)||l,d===l&&a.set(null,c),a.set(g,c),this.count++,l=jo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),d?d.parentNode.insertBefore(c,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Fs={$$typeof:S,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function uT(t,n,a,l,c,d,g,_){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=O(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O(0),this.hiddenUpdates=O(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function p_(t,n,a,l,c,d,g,_,b,R,k,j){return t=new uT(t,n,a,g,_,b,R,j),n=1,d===!0&&(n|=24),d=An(3,null,null,n),t.current=d,d.stateNode=t,n=Nc(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},uf(d),t}function g_(t){return t?(t=ya,t):ya}function __(t,n,a,l,c,d){c=g_(c),l.context===null?l.context=c:l.pendingContext=c,l=Yi(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Qi(t,l,n),a!==null&&(Kt(a,t,n),Rs(a,t,n))}function y_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Zf(t,n){y_(t,n),(t=t.alternate)&&y_(t,n)}function v_(t){if(t.tag===13){var n=Pi(t,67108864);n!==null&&Kt(n,t,67108864),Zf(t,67108864)}}var Fo=!0;function cT(t,n,a,l){var c=G.T;G.T=null;var d=X.p;try{X.p=2,Jf(t,n,a,l)}finally{X.p=d,G.T=c}}function fT(t,n,a,l){var c=G.T;G.T=null;var d=X.p;try{X.p=8,Jf(t,n,a,l)}finally{X.p=d,G.T=c}}function Jf(t,n,a,l){if(Fo){var c=ed(l);if(c===null)jf(t,n,l,Vo,a),b_(t,l);else if(hT(c,t,n,a,l))l.stopPropagation();else if(b_(t,l),n&4&&-1<dT.indexOf(t)){for(;c!==null;){var d=kt(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=Kn(d.pendingLanes);if(g!==0){var _=d;for(_.pendingLanes|=2,_.entangledLanes|=2;g;){var b=1<<31-Nt(g);_.entanglements[1]|=b,g&=~b}ei(d),!(st&6)&&(Ao=jt()+500,zs(0))}}break;case 13:_=Pi(d,2),_!==null&&Kt(_,d,2),Oo(),Zf(d,2)}if(d=ed(l),d===null&&jf(t,n,l,Vo,a),d===c)break;c=d}c!==null&&l.stopPropagation()}else jf(t,n,l,null,a)}}function ed(t){return t=ac(t),td(t)}var Vo=null;function td(t){if(Vo=null,t=Ut(t),t!==null){var n=ue(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=Ne(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Vo=t,null}function E_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Er()){case In:return 2;case pn:return 8;case br:case ts:return 32;case Hl:return 268435456;default:return 32}default:return 32}}var nd=!1,er=null,tr=null,nr=null,Vs=new Map,Gs=new Map,ir=[],dT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(t,n){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":Vs.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gs.delete(n.pointerId)}}function Ys(t,n,a,l,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},n!==null&&(n=kt(n),n!==null&&v_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function hT(t,n,a,l,c){switch(n){case"focusin":return er=Ys(er,t,n,a,l,c),!0;case"dragenter":return tr=Ys(tr,t,n,a,l,c),!0;case"mouseover":return nr=Ys(nr,t,n,a,l,c),!0;case"pointerover":var d=c.pointerId;return Vs.set(d,Ys(Vs.get(d)||null,t,n,a,l,c)),!0;case"gotpointercapture":return d=c.pointerId,Gs.set(d,Ys(Gs.get(d)||null,t,n,a,l,c)),!0}return!1}function S_(t){var n=Ut(t.target);if(n!==null){var a=ue(n);if(a!==null){if(n=a.tag,n===13){if(n=Ne(a),n!==null){t.blockedOn=n,re(t.priority,function(){if(a.tag===13){var l=cn(),c=Pi(a,l);c!==null&&Kt(c,a,l),Zf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Go(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=ed(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);rc=l,a.target.dispatchEvent(l),rc=null}else return n=kt(a),n!==null&&v_(n),t.blockedOn=a,!1;n.shift()}return!0}function T_(t,n,a){Go(t)&&a.delete(n)}function mT(){nd=!1,er!==null&&Go(er)&&(er=null),tr!==null&&Go(tr)&&(tr=null),nr!==null&&Go(nr)&&(nr=null),Vs.forEach(T_),Gs.forEach(T_)}function Yo(t,n){t.blockedOn===n&&(t.blockedOn=null,nd||(nd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,mT)))}var Qo=null;function w_(t){Qo!==t&&(Qo=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Qo===t&&(Qo=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(td(l||a)===null)continue;break}var d=kt(a);d!==null&&(t.splice(n,3),n-=3,Vc(d,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Qs(t){function n(b){return Yo(b,t)}er!==null&&Yo(er,t),tr!==null&&Yo(tr,t),nr!==null&&Yo(nr,t),Vs.forEach(n),Gs.forEach(n);for(var a=0;a<ir.length;a++){var l=ir[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ir.length&&(a=ir[0],a.blockedOn===null);)S_(a),a.blockedOn===null&&ir.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],d=a[l+1],g=c[fe]||null;if(typeof d=="function")g||w_(a);else if(g){var _=null;if(d&&d.hasAttribute("formAction")){if(c=d,g=d[fe]||null)_=g.formAction;else if(td(c)!==null)continue}else _=g.action;typeof _=="function"?a[l+1]=_:(a.splice(l,3),l-=3),w_(a)}}}function id(t){this._internalRoot=t}Ko.prototype.render=id.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=cn();__(a,l,t,n,null,null)},Ko.prototype.unmount=id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&Ua(),__(t.current,2,null,t,null,null),Oo(),n[je]=null}};function Ko(t){this._internalRoot=t}Ko.prototype.unstable_scheduleHydration=function(t){if(t){var n=te();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ir.length&&n!==0&&n<ir[a].priority;a++);ir.splice(a,0,t),a===0&&S_(t)}};var C_=e.version;if(C_!=="19.0.0")throw Error(s(527,C_,"19.0.0"));X.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=q(n),t=t!==null?ie(t):null,t=t===null?null:t.stateNode,t};var pT={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:G,findFiberByHostInstance:Ut,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xo.isDisabled&&Xo.supportsFiber)try{zi=Xo.inject(pT),qt=Xo}catch{}}return Xs.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=qp,d=Fp,g=Vp,_=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=p_(t,1,!1,null,null,a,l,c,d,g,_,null),t[je]=n.current,Bf(t.nodeType===8?t.parentNode:t),new id(n)},Xs.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",d=qp,g=Fp,_=Vp,b=null,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(R=a.formState)),n=p_(t,1,!0,n,a??null,l,c,d,g,_,b,R),n.context=g_(null),a=n.current,l=cn(),c=Yi(l),c.callback=null,Qi(a,c,l),n.current.lanes=l,L(n,l),ei(n),t[je]=n.current,Bf(t),new Ko(n)},Xs.version="19.0.0",Xs}var U_;function CT(){if(U_)return sd.exports;U_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),sd.exports=wT(),sd.exports}var RT=CT();const AT=_v(RT);var $s={},k_;function NT(){if(k_)return $s;k_=1,Object.defineProperty($s,"__esModule",{value:!0}),$s.parse=f,$s.serialize=p;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function f(E,S){const N=new u,H=E.length;if(H<2)return N;const z=(S==null?void 0:S.decode)||y;let P=0;do{const Q=E.indexOf("=",P);if(Q===-1)break;const Z=E.indexOf(";",P),de=Z===-1?H:Z;if(Q>de){P=E.lastIndexOf(";",Q-1)+1;continue}const W=h(E,P,Q),M=m(E,Q,W),_e=E.slice(W,M);if(N[_e]===void 0){let be=h(E,Q+1,de),G=m(E,de,be);const se=z(E.slice(be,G));N[_e]=se}P=de+1}while(P<H);return N}function h(E,S,N){do{const H=E.charCodeAt(S);if(H!==32&&H!==9)return S}while(++S<N);return N}function m(E,S,N){for(;S>N;){const H=E.charCodeAt(--S);if(H!==32&&H!==9)return S+1}return N}function p(E,S,N){const H=(N==null?void 0:N.encode)||encodeURIComponent;if(!i.test(E))throw new TypeError(`argument name is invalid: ${E}`);const z=H(S);if(!e.test(z))throw new TypeError(`argument val is invalid: ${S}`);let P=E+"="+z;if(!N)return P;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);P+="; Max-Age="+N.maxAge}if(N.domain){if(!r.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);P+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);P+="; Path="+N.path}if(N.expires){if(!v(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);P+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(P+="; HttpOnly"),N.secure&&(P+="; Secure"),N.partitioned&&(P+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return P}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return o.call(E)==="[object Date]"}return $s}NT();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var z_="popstate";function DT(i={}){function e(s,o){let{pathname:u,search:f,hash:h}=s.location;return ml("",{pathname:u,search:f,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){return typeof o=="string"?o:mr(o)}return MT(e,r,null,i)}function Ie(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Bt(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OT(){return Math.random().toString(36).substring(2,10)}function H_(i,e){return{usr:i.state,key:i.key,idx:e}}function ml(i,e,r=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?vr(e):e,state:r,key:e&&e.key||s||OT()}}function mr({pathname:i="/",search:e="",hash:r=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function vr(i){let e={};if(i){let r=i.indexOf("#");r>=0&&(e.hash=i.substring(r),i=i.substring(0,r));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function MT(i,e,r,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,h="POP",m=null,p=y();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function y(){return(f.state||{idx:null}).idx}function v(){h="POP";let z=y(),P=z==null?null:z-p;p=z,m&&m({action:h,location:H.location,delta:P})}function E(z,P){h="PUSH";let Q=ml(H.location,z,P);p=y()+1;let Z=H_(Q,p),de=H.createHref(Q);try{f.pushState(Z,"",de)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;o.location.assign(de)}u&&m&&m({action:h,location:H.location,delta:1})}function S(z,P){h="REPLACE";let Q=ml(H.location,z,P);p=y();let Z=H_(Q,p),de=H.createHref(Q);f.replaceState(Z,"",de),u&&m&&m({action:h,location:H.location,delta:0})}function N(z){let P=o.location.origin!=="null"?o.location.origin:o.location.href,Q=typeof z=="string"?z:mr(z);return Q=Q.replace(/ $/,"%20"),Ie(P,`No window.location.(origin|href) available to create URL for href: ${Q}`),new URL(Q,P)}let H={get action(){return h},get location(){return i(o,f)},listen(z){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(z_,v),m=z,()=>{o.removeEventListener(z_,v),m=null}},createHref(z){return e(o,z)},createURL:N,encodeLocation(z){let P=N(z);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:E,replace:S,go(z){return f.go(z)}};return H}var xT=new Set(["lazy","caseSensitive","path","id","index","children"]);function IT(i){return i.index===!0}function lu(i,e,r=[],s={}){return i.map((o,u)=>{let f=[...r,String(u)],h=typeof o.id=="string"?o.id:f.join("-");if(Ie(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ie(!s[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),IT(o)){let m={...o,...e(o),id:h};return s[h]=m,m}else{let m={...o,...e(o),id:h,children:void 0};return s[h]=m,o.children&&(m.children=lu(o.children,e,f,s)),m}})}function lr(i,e,r="/"){return tu(i,e,r,!1)}function tu(i,e,r,s){let o=typeof e=="string"?vr(e):e,u=Vn(o.pathname||"/",r);if(u==null)return null;let f=vv(i);UT(f);let h=null;for(let m=0;h==null&&m<f.length;++m){let p=YT(u);h=VT(f[m],p,s)}return h}function LT(i,e){let{route:r,pathname:s,params:o}=i;return{id:r.id,pathname:s,params:o,data:e[r.id],handle:r.handle}}function vv(i,e=[],r=[],s=""){let o=(u,f,h)=>{let m={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(Ie(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let p=ti([s,m.relativePath]),y=r.concat(m);u.children&&u.children.length>0&&(Ie(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),vv(u.children,e,y,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:qT(p,u.index),routesMeta:y})};return i.forEach((u,f)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))o(u,f);else for(let m of Ev(u.path))o(u,f,m)}),e}function Ev(i){let e=i.split("/");if(e.length===0)return[];let[r,...s]=e,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=Ev(s.join("/")),h=[];return h.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&h.push(...f),h.map(m=>i.startsWith("/")&&m===""?"/":m)}function UT(i){i.sort((e,r)=>e.score!==r.score?r.score-e.score:FT(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var kT=/^:[\w-]+$/,zT=3,HT=2,PT=1,BT=10,jT=-2,P_=i=>i==="*";function qT(i,e){let r=i.split("/"),s=r.length;return r.some(P_)&&(s+=jT),e&&(s+=HT),r.filter(o=>!P_(o)).reduce((o,u)=>o+(kT.test(u)?zT:u===""?PT:BT),s)}function FT(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function VT(i,e,r=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let h=0;h<s.length;++h){let m=s[h],p=h===s.length-1,y=u==="/"?e:e.slice(u.length)||"/",v=ou({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!v&&p&&r&&!s[s.length-1].route.index&&(v=ou({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),f.push({params:o,pathname:ti([u,v.pathname]),pathnameBase:XT(ti([u,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(u=ti([u,v.pathnameBase]))}return f}function ou(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,s]=GT(i.path,i.caseSensitive,i.end),o=e.match(r);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:v},E)=>{if(y==="*"){let N=h[E]||"";f=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const S=h[E];return v&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:i}}function GT(i,e=!1,r=!0){Bt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,m)=>(s.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function YT(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Vn(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=i.charAt(r);return s&&s!=="/"?null:i.slice(r)||"/"}function QT(i,e="/"){let{pathname:r,search:s="",hash:o=""}=typeof i=="string"?vr(i):i;return{pathname:r?r.startsWith("/")?r:KT(r,e):e,search:$T(s),hash:WT(o)}}function KT(i,e){let r=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function cd(i,e,r,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bv(i){return i.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function ih(i){let e=bv(i);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function rh(i,e,r,s=!1){let o;typeof i=="string"?o=vr(i):(o={...i},Ie(!o.pathname||!o.pathname.includes("?"),cd("?","pathname","search",o)),Ie(!o.pathname||!o.pathname.includes("#"),cd("#","pathname","hash",o)),Ie(!o.search||!o.search.includes("#"),cd("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,h;if(f==null)h=r;else{let v=e.length-1;if(!s&&f.startsWith("..")){let E=f.split("/");for(;E[0]==="..";)E.shift(),v-=1;o.pathname=E.join("/")}h=v>=0?e[v]:"/"}let m=QT(o,h),p=f&&f!=="/"&&f.endsWith("/"),y=(u||f===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var ti=i=>i.join("/").replace(/\/\/+/g,"/"),XT=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),$T=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,WT=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,uu=class{constructor(i,e,r,s=!1){this.status=i,this.statusText=e||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function pl(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Sv=["POST","PUT","PATCH","DELETE"],ZT=new Set(Sv),JT=["GET",...Sv],ew=new Set(JT),tw=new Set([301,302,303,307,308]),nw=new Set([307,308]),fd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},iw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ws={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ah=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rw=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),Tv="remix-router-transitions",wv=Symbol("ResetLoaderData");function aw(i){const e=i.window?i.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ie(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=i.mapRouteProperties||rw,o={},u=lu(i.routes,s,void 0,o),f,h=i.basename||"/",m=i.dataStrategy||cw,p=i.patchRoutesOnNavigation,y={...i.future},v=null,E=new Set,S=null,N=null,H=null,z=i.hydrationData!=null,P=lr(u,i.history.location,h),Q=!1,Z=null;if(P==null&&!p){let w=On(404,{pathname:i.history.location.pathname}),{matches:O,route:L}=$_(u);P=O,Z={[L.id]:w}}P&&!i.hydrationData&&ui(P,u,i.history.location.pathname).active&&(P=null);let de;if(P)if(P.some(w=>w.route.lazy))de=!1;else if(!P.some(w=>w.route.loader))de=!0;else{let w=i.hydrationData?i.hydrationData.loaderData:null,O=i.hydrationData?i.hydrationData.errors:null;if(O){let L=P.findIndex(F=>O[F.route.id]!==void 0);de=P.slice(0,L+1).every(F=>!Id(F.route,w,O))}else de=P.every(L=>!Id(L.route,w,O))}else{de=!1,P=[];let w=ui(null,u,i.history.location.pathname);w.active&&w.matches&&(Q=!0,P=w.matches)}let W,M={historyAction:i.history.action,location:i.history.location,matches:P,initialized:de,navigation:fd,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||Z,fetchers:new Map,blockers:new Map},_e="POP",be=!1,G,se=!1,Le=new Map,dt=null,Ct=!1,ht=!1,Fe=new Set,Y=new Map,me=0,ue=-1,Ne=new Map,T=new Set,q=new Map,ie=new Map,ee=new Set,X=new Map,Te,pe=null;function vt(){if(v=i.history.listen(({action:w,location:O,delta:L})=>{if(Te){Te(),Te=void 0;return}Bt(X.size===0||L!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let F=Bl({currentLocation:M.location,nextLocation:O,historyAction:w});if(F&&L!=null){let J=new Promise(oe=>{Te=oe});i.history.go(L*-1),Nt(F,{state:"blocked",location:O,proceed(){Nt(F,{state:"proceeding",proceed:void 0,reset:void 0,location:O}),J.then(()=>i.history.go(L))},reset(){let oe=new Map(M.blockers);oe.set(F,Ws),ve({blockers:oe})}});return}return At(w,O)}),r){bw(e,Le);let w=()=>Sw(e,Le);e.addEventListener("pagehide",w),dt=()=>e.removeEventListener("pagehide",w)}return M.initialized||At("POP",M.location,{initialHydration:!0}),W}function Ue(){v&&v(),dt&&dt(),E.clear(),G&&G.abort(),M.fetchers.forEach((w,O)=>ts(O)),M.blockers.forEach((w,O)=>Ln(O))}function Se(w){return E.add(w),()=>E.delete(w)}function ve(w,O={}){M={...M,...w};let L=[],F=[];M.fetchers.forEach((J,oe)=>{J.state==="idle"&&(ee.has(oe)?L.push(oe):F.push(oe))}),ee.forEach(J=>{!M.fetchers.has(J)&&!Y.has(J)&&L.push(J)}),[...E].forEach(J=>J(M,{deletedFetchers:L,viewTransitionOpts:O.viewTransitionOpts,flushSync:O.flushSync===!0})),L.forEach(J=>ts(J)),F.forEach(J=>M.fetchers.delete(J))}function $e(w,O,{flushSync:L}={}){var $,ae;let F=M.actionData!=null&&M.navigation.formMethod!=null&&Pn(M.navigation.formMethod)&&M.navigation.state==="loading"&&(($=w.state)==null?void 0:$._isRedirect)!==!0,J;O.actionData?Object.keys(O.actionData).length>0?J=O.actionData:J=null:F?J=M.actionData:J=null;let oe=O.loaderData?K_(M.loaderData,O.loaderData,O.matches||[],O.errors):M.loaderData,ye=M.blockers;ye.size>0&&(ye=new Map(ye),ye.forEach((fe,je)=>ye.set(je,Ws)));let te=be===!0||M.navigation.formMethod!=null&&Pn(M.navigation.formMethod)&&((ae=w.state)==null?void 0:ae._isRedirect)!==!0;f&&(u=f,f=void 0),Ct||_e==="POP"||(_e==="PUSH"?i.history.push(w,w.state):_e==="REPLACE"&&i.history.replace(w,w.state));let re;if(_e==="POP"){let fe=Le.get(M.location.pathname);fe&&fe.has(w.pathname)?re={currentLocation:M.location,nextLocation:w}:Le.has(w.pathname)&&(re={currentLocation:w,nextLocation:M.location})}else if(se){let fe=Le.get(M.location.pathname);fe?fe.add(w.pathname):(fe=new Set([w.pathname]),Le.set(M.location.pathname,fe)),re={currentLocation:M.location,nextLocation:w}}ve({...O,actionData:J,loaderData:oe,historyAction:_e,location:w,initialized:!0,navigation:fd,revalidation:"idle",restoreScrollPosition:Kn(w,O.matches||M.matches),preventScrollReset:te,blockers:ye},{viewTransitionOpts:re,flushSync:L===!0}),_e="POP",be=!1,se=!1,Ct=!1,ht=!1,pe==null||pe.resolve(),pe=null}async function Rt(w,O){if(typeof w=="number"){i.history.go(w);return}let L=xd(M.location,M.matches,h,w,O==null?void 0:O.fromRouteId,O==null?void 0:O.relative),{path:F,submission:J,error:oe}=B_(!1,L,O),ye=M.location,te=ml(M.location,F,O&&O.state);te={...te,...i.history.encodeLocation(te)};let re=O&&O.replace!=null?O.replace:void 0,$="PUSH";re===!0?$="REPLACE":re===!1||J!=null&&Pn(J.formMethod)&&J.formAction===M.location.pathname+M.location.search&&($="REPLACE");let ae=O&&"preventScrollReset"in O?O.preventScrollReset===!0:void 0,fe=(O&&O.flushSync)===!0,je=Bl({currentLocation:ye,nextLocation:te,historyAction:$});if(je){Nt(je,{state:"blocked",location:te,proceed(){Nt(je,{state:"proceeding",proceed:void 0,reset:void 0,location:te}),Rt(w,O)},reset(){let mt=new Map(M.blockers);mt.set(je,Ws),ve({blockers:mt})}});return}await At($,te,{submission:J,pendingError:oe,preventScrollReset:ae,replace:O&&O.replace,enableViewTransition:O&&O.viewTransition,flushSync:fe})}function Et(){pe||(pe=Tw()),Er(),ve({revalidation:"loading"});let w=pe.promise;return M.navigation.state==="submitting"?w:M.navigation.state==="idle"?(At(M.historyAction,M.location,{startUninterruptedRevalidation:!0}),w):(At(_e||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:se===!0}),w)}async function At(w,O,L){G&&G.abort(),G=null,_e=w,Ct=(L&&L.startUninterruptedRevalidation)===!0,oa(M.location,M.matches),be=(L&&L.preventScrollReset)===!0,se=(L&&L.enableViewTransition)===!0;let F=f||u,J=L&&L.overrideNavigation,oe=L!=null&&L.initialHydration&&M.matches&&M.matches.length>0&&!Q?M.matches:lr(F,O,h),ye=(L&&L.flushSync)===!0;if(oe&&M.initialized&&!ht&&gw(M.location,O)&&!(L&&L.submission&&Pn(L.submission.formMethod))){$e(O,{matches:oe},{flushSync:ye});return}let te=ui(oe,F,O.pathname);if(te.active&&te.matches&&(oe=te.matches),!oe){let{error:tt,notFoundMatches:Qe,route:ot}=ns(O.pathname);$e(O,{matches:Qe,loaderData:{},errors:{[ot.id]:tt}},{flushSync:ye});return}G=new AbortController;let re=ja(i.history,O,G.signal,L&&L.submission),$;if(L&&L.pendingError)$=[Qr(oe).route.id,{type:"error",error:L.pendingError}];else if(L&&L.submission&&Pn(L.submission.formMethod)){let tt=await $t(re,O,L.submission,oe,te.active,{replace:L.replace,flushSync:ye});if(tt.shortCircuited)return;if(tt.pendingActionResult){let[Qe,ot]=tt.pendingActionResult;if(fn(ot)&&pl(ot.error)&&ot.error.status===404){G=null,$e(O,{matches:tt.matches,loaderData:{},errors:{[Qe]:ot.error}});return}}oe=tt.matches||oe,$=tt.pendingActionResult,J=dd(O,L.submission),ye=!1,te.active=!1,re=ja(i.history,re.url,re.signal)}let{shortCircuited:ae,matches:fe,loaderData:je,errors:mt}=await Yt(re,O,oe,te.active,J,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,L&&L.initialHydration===!0,ye,$);ae||(G=null,$e(O,{matches:fe||oe,...X_($),loaderData:je,errors:mt}))}async function $t(w,O,L,F,J,oe={}){Er();let ye=vw(O,L);if(ve({navigation:ye},{flushSync:oe.flushSync===!0}),J){let $=await Xn(F,O.pathname,w.signal);if($.type==="aborted")return{shortCircuited:!0};if($.type==="error"){let ae=Qr($.partialMatches).route.id;return{matches:$.partialMatches,pendingActionResult:[ae,{type:"error",error:$.error}]}}else if($.matches)F=$.matches;else{let{notFoundMatches:ae,error:fe,route:je}=ns(O.pathname);return{matches:ae,pendingActionResult:[je.id,{type:"error",error:fe}]}}}let te,re=rl(F,O);if(!re.route.action&&!re.route.lazy)te={type:"error",error:On(405,{method:w.method,pathname:O.pathname,routeId:re.route.id})};else if(te=(await Yn("action",M,w,[re],F,null))[re.route.id],w.signal.aborted)return{shortCircuited:!0};if(Kr(te)){let $;return oe&&oe.replace!=null?$=oe.replace:$=G_(te.response.headers.get("Location"),new URL(w.url),h)===M.location.pathname+M.location.search,await mn(w,te,!0,{submission:L,replace:$}),{shortCircuited:!0}}if(fn(te)){let $=Qr(F,re.route.id);return(oe&&oe.replace)!==!0&&(_e="PUSH"),{matches:F,pendingActionResult:[$.route.id,te]}}return{matches:F,pendingActionResult:[re.route.id,te]}}async function Yt(w,O,L,F,J,oe,ye,te,re,$,ae){let fe=J||dd(O,oe),je=oe||ye||Z_(fe),mt=!Ct&&!re;if(F){if(mt){let it=hn(ae);ve({navigation:fe,...it!==void 0?{actionData:it}:{}},{flushSync:$})}let ke=await Xn(L,O.pathname,w.signal);if(ke.type==="aborted")return{shortCircuited:!0};if(ke.type==="error"){let it=Qr(ke.partialMatches).route.id;return{matches:ke.partialMatches,loaderData:{},errors:{[it]:ke.error}}}else if(ke.matches)L=ke.matches;else{let{error:it,notFoundMatches:Wt,route:Cr}=ns(O.pathname);return{matches:Wt,loaderData:{},errors:{[Cr.id]:it}}}}let tt=f||u,[Qe,ot]=q_(i.history,M,L,je,O,re===!0,ht,Fe,ee,q,T,tt,h,ae);if(ue=++me,Qe.length===0&&ot.length===0){let ke=zi();return $e(O,{matches:L,loaderData:{},errors:ae&&fn(ae[1])?{[ae[0]]:ae[1].error}:null,...X_(ae),...ke?{fetchers:new Map(M.fetchers)}:{}},{flushSync:$}),{shortCircuited:!0}}if(mt){let ke={};if(!F){ke.navigation=fe;let it=hn(ae);it!==void 0&&(ke.actionData=it)}ot.length>0&&(ke.fetchers=oi(ot)),ve(ke,{flushSync:$})}ot.forEach(ke=>{Qn(ke.key),ke.controller&&Y.set(ke.key,ke.controller)});let gn=()=>ot.forEach(ke=>Qn(ke.key));G&&G.signal.addEventListener("abort",gn);let{loaderResults:ci,fetcherResults:Ut}=await jt(M,L,Qe,ot,w);if(w.signal.aborted)return{shortCircuited:!0};G&&G.signal.removeEventListener("abort",gn),ot.forEach(ke=>Y.delete(ke.key));let kt=$o(ci);if(kt)return await mn(w,kt.result,!0,{replace:te}),{shortCircuited:!0};if(kt=$o(Ut),kt)return T.add(kt.key),await mn(w,kt.result,!0,{replace:te}),{shortCircuited:!0};let{loaderData:fi,errors:_n}=Q_(M,L,ci,ae,ot,Ut);re&&M.errors&&(_n={...M.errors,..._n});let We=zi(),Tr=qt(ue),wr=We||Tr||ot.length>0;return{matches:L,loaderData:fi,errors:_n,...wr?{fetchers:new Map(M.fetchers)}:{}}}function hn(w){if(w&&!fn(w[1]))return{[w[0]]:w[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function oi(w){return w.forEach(O=>{let L=M.fetchers.get(O.key),F=Zs(void 0,L?L.data:void 0);M.fetchers.set(O.key,F)}),new Map(M.fetchers)}async function Ui(w,O,L,F){Qn(w);let J=(F&&F.flushSync)===!0,oe=f||u,ye=xd(M.location,M.matches,h,L,O,F==null?void 0:F.relative),te=lr(oe,ye,h),re=ui(te,oe,ye);if(re.active&&re.matches&&(te=re.matches),!te){pn(w,O,On(404,{pathname:ye}),{flushSync:J});return}let{path:$,submission:ae,error:fe}=B_(!0,ye,F);if(fe){pn(w,O,fe,{flushSync:J});return}let je=rl(te,$),mt=(F&&F.preventScrollReset)===!0;if(ae&&Pn(ae.formMethod)){await ki(w,O,$,je,te,re.active,J,mt,ae);return}q.set(w,{routeId:O,path:$}),await xn(w,O,$,je,te,re.active,J,mt,ae)}async function ki(w,O,L,F,J,oe,ye,te,re){Er(),q.delete(w);function $(rt){if(!rt.route.action&&!rt.route.lazy){let di=On(405,{method:re.formMethod,pathname:L,routeId:O});return pn(w,O,di,{flushSync:ye}),!0}return!1}if(!oe&&$(F))return;let ae=M.fetchers.get(w);In(w,Ew(re,ae),{flushSync:ye});let fe=new AbortController,je=ja(i.history,L,fe.signal,re);if(oe){let rt=await Xn(J,L,je.signal);if(rt.type==="aborted")return;if(rt.type==="error"){pn(w,O,rt.error,{flushSync:ye});return}else if(rt.matches){if(J=rt.matches,F=rl(J,L),$(F))return}else{pn(w,O,On(404,{pathname:L}),{flushSync:ye});return}}Y.set(w,fe);let mt=me,Qe=(await Yn("action",M,je,[F],J,w))[F.route.id];if(je.signal.aborted){Y.get(w)===fe&&Y.delete(w);return}if(ee.has(w)){if(Kr(Qe)||fn(Qe)){In(w,sr(void 0));return}}else{if(Kr(Qe))if(Y.delete(w),ue>mt){In(w,sr(void 0));return}else return T.add(w),In(w,Zs(re)),mn(je,Qe,!1,{fetcherSubmission:re,preventScrollReset:te});if(fn(Qe)){pn(w,O,Qe.error);return}}let ot=M.navigation.location||M.location,gn=ja(i.history,ot,fe.signal),ci=f||u,Ut=M.navigation.state!=="idle"?lr(ci,M.navigation.location,h):M.matches;Ie(Ut,"Didn't find any matches after fetcher action");let kt=++me;Ne.set(w,kt);let fi=Zs(re,Qe.data);M.fetchers.set(w,fi);let[_n,We]=q_(i.history,M,Ut,re,ot,!1,ht,Fe,ee,q,T,ci,h,[F.route.id,Qe]);We.filter(rt=>rt.key!==w).forEach(rt=>{let di=rt.key,ql=M.fetchers.get(di),ua=Zs(void 0,ql?ql.data:void 0);M.fetchers.set(di,ua),Qn(di),rt.controller&&Y.set(di,rt.controller)}),ve({fetchers:new Map(M.fetchers)});let Tr=()=>We.forEach(rt=>Qn(rt.key));fe.signal.addEventListener("abort",Tr);let{loaderResults:wr,fetcherResults:ke}=await jt(M,Ut,_n,We,gn);if(fe.signal.aborted)return;fe.signal.removeEventListener("abort",Tr),Ne.delete(w),Y.delete(w),We.forEach(rt=>Y.delete(rt.key));let it=$o(wr);if(it)return mn(gn,it.result,!1,{preventScrollReset:te});if(it=$o(ke),it)return T.add(it.key),mn(gn,it.result,!1,{preventScrollReset:te});let{loaderData:Wt,errors:Cr}=Q_(M,Ut,wr,void 0,We,ke);if(M.fetchers.has(w)){let rt=sr(Qe.data);M.fetchers.set(w,rt)}qt(kt),M.navigation.state==="loading"&&kt>ue?(Ie(_e,"Expected pending action"),G&&G.abort(),$e(M.navigation.location,{matches:Ut,loaderData:Wt,errors:Cr,fetchers:new Map(M.fetchers)})):(ve({errors:Cr,loaderData:K_(M.loaderData,Wt,Ut,Cr),fetchers:new Map(M.fetchers)}),ht=!1)}async function xn(w,O,L,F,J,oe,ye,te,re){let $=M.fetchers.get(w);In(w,Zs(re,$?$.data:void 0),{flushSync:ye});let ae=new AbortController,fe=ja(i.history,L,ae.signal);if(oe){let Qe=await Xn(J,L,fe.signal);if(Qe.type==="aborted")return;if(Qe.type==="error"){pn(w,O,Qe.error,{flushSync:ye});return}else if(Qe.matches)J=Qe.matches,F=rl(J,L);else{pn(w,O,On(404,{pathname:L}),{flushSync:ye});return}}Y.set(w,ae);let je=me,tt=(await Yn("loader",M,fe,[F],J,w))[F.route.id];if(Y.get(w)===ae&&Y.delete(w),!fe.signal.aborted){if(ee.has(w)){In(w,sr(void 0));return}if(Kr(tt))if(ue>je){In(w,sr(void 0));return}else{T.add(w),await mn(fe,tt,!1,{preventScrollReset:te});return}if(fn(tt)){pn(w,O,tt.error);return}In(w,sr(tt.data))}}async function mn(w,O,L,{submission:F,fetcherSubmission:J,preventScrollReset:oe,replace:ye}={}){O.response.headers.has("X-Remix-Revalidate")&&(ht=!0);let te=O.response.headers.get("Location");Ie(te,"Expected a Location header on the redirect Response"),te=G_(te,new URL(w.url),h);let re=ml(M.location,te,{_isRedirect:!0});if(r){let tt=!1;if(O.response.headers.has("X-Remix-Reload-Document"))tt=!0;else if(ah.test(te)){const Qe=i.history.createURL(te);tt=Qe.origin!==e.location.origin||Vn(Qe.pathname,h)==null}if(tt){ye?e.location.replace(te):e.location.assign(te);return}}G=null;let $=ye===!0||O.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ae,formAction:fe,formEncType:je}=M.navigation;!F&&!J&&ae&&fe&&je&&(F=Z_(M.navigation));let mt=F||J;if(nw.has(O.response.status)&&mt&&Pn(mt.formMethod))await At($,re,{submission:{...mt,formAction:te},preventScrollReset:oe||be,enableViewTransition:L?se:void 0});else{let tt=dd(re,F);await At($,re,{overrideNavigation:tt,fetcherSubmission:J,preventScrollReset:oe||be,enableViewTransition:L?se:void 0})}}async function Yn(w,O,L,F,J,oe){let ye,te={};try{ye=await fw(m,w,O,L,F,J,oe,o,s)}catch(re){return F.forEach($=>{te[$.route.id]={type:"error",error:re}}),te}for(let[re,$]of Object.entries(ye))if(_w($)){let ae=$.result;te[re]={type:"redirect",response:mw(ae,L,re,J,h)}}else te[re]=await hw($);return te}async function jt(w,O,L,F,J){let oe=Yn("loader",w,J,L,O,null),ye=Promise.all(F.map(async $=>{if($.matches&&$.match&&$.controller){let fe=(await Yn("loader",w,ja(i.history,$.path,$.controller.signal),[$.match],$.matches,$.key))[$.match.route.id];return{[$.key]:fe}}else return Promise.resolve({[$.key]:{type:"error",error:On(404,{pathname:$.path})}})})),te=await oe,re=(await ye).reduce(($,ae)=>Object.assign($,ae),{});return{loaderResults:te,fetcherResults:re}}function Er(){ht=!0,q.forEach((w,O)=>{Y.has(O)&&Fe.add(O),Qn(O)})}function In(w,O,L={}){M.fetchers.set(w,O),ve({fetchers:new Map(M.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function pn(w,O,L,F={}){let J=Qr(M.matches,O);ts(w),ve({errors:{[J.route.id]:L},fetchers:new Map(M.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function br(w){return ie.set(w,(ie.get(w)||0)+1),ee.has(w)&&ee.delete(w),M.fetchers.get(w)||iw}function ts(w){let O=M.fetchers.get(w);Y.has(w)&&!(O&&O.state==="loading"&&Ne.has(w))&&Qn(w),q.delete(w),Ne.delete(w),T.delete(w),ee.delete(w),Fe.delete(w),M.fetchers.delete(w)}function Hl(w){let O=(ie.get(w)||0)-1;O<=0?(ie.delete(w),ee.add(w)):ie.set(w,O),ve({fetchers:new Map(M.fetchers)})}function Qn(w){let O=Y.get(w);O&&(O.abort(),Y.delete(w))}function Pl(w){for(let O of w){let L=br(O),F=sr(L.data);M.fetchers.set(O,F)}}function zi(){let w=[],O=!1;for(let L of T){let F=M.fetchers.get(L);Ie(F,`Expected fetcher: ${L}`),F.state==="loading"&&(T.delete(L),w.push(L),O=!0)}return Pl(w),O}function qt(w){let O=[];for(let[L,F]of Ne)if(F<w){let J=M.fetchers.get(L);Ie(J,`Expected fetcher: ${L}`),J.state==="loading"&&(Qn(L),Ne.delete(L),O.push(L))}return Pl(O),O.length>0}function Zu(w,O){let L=M.blockers.get(w)||Ws;return X.get(w)!==O&&X.set(w,O),L}function Ln(w){M.blockers.delete(w),X.delete(w)}function Nt(w,O){let L=M.blockers.get(w)||Ws;Ie(L.state==="unblocked"&&O.state==="blocked"||L.state==="blocked"&&O.state==="blocked"||L.state==="blocked"&&O.state==="proceeding"||L.state==="blocked"&&O.state==="unblocked"||L.state==="proceeding"&&O.state==="unblocked",`Invalid blocker state transition: ${L.state} -> ${O.state}`);let F=new Map(M.blockers);F.set(w,O),ve({blockers:F})}function Bl({currentLocation:w,nextLocation:O,historyAction:L}){if(X.size===0)return;X.size>1&&Bt(!1,"A router only supports one blocker at a time");let F=Array.from(X.entries()),[J,oe]=F[F.length-1],ye=M.blockers.get(J);if(!(ye&&ye.state==="proceeding")&&oe({currentLocation:w,nextLocation:O,historyAction:L}))return J}function ns(w){let O=On(404,{pathname:w}),L=f||u,{matches:F,route:J}=$_(L);return{notFoundMatches:F,route:J,error:O}}function Ju(w,O,L){if(S=w,H=O,N=L||null,!z&&M.navigation===fd){z=!0;let F=Kn(M.location,M.matches);F!=null&&ve({restoreScrollPosition:F})}return()=>{S=null,H=null,N=null}}function Sr(w,O){return N&&N(w,O.map(F=>LT(F,M.loaderData)))||w.key}function oa(w,O){if(S&&H){let L=Sr(w,O);S[L]=H()}}function Kn(w,O){if(S){let L=Sr(w,O),F=S[L];if(typeof F=="number")return F}return null}function ui(w,O,L){if(p)if(w){if(Object.keys(w[0].params).length>0)return{active:!0,matches:tu(O,L,h,!0)}}else return{active:!0,matches:tu(O,L,h,!0)||[]};return{active:!1,matches:null}}async function Xn(w,O,L){if(!p)return{type:"success",matches:w};let F=w;for(;;){let J=f==null,oe=f||u,ye=o;try{await p({path:O,matches:F,patch:($,ae)=>{L.aborted||V_($,ae,oe,ye,s)}})}catch($){return{type:"error",error:$,partialMatches:F}}finally{J&&!L.aborted&&(u=[...u])}if(L.aborted)return{type:"aborted"};let te=lr(oe,O,h);if(te)return{type:"success",matches:te};let re=tu(oe,O,h,!0);if(!re||F.length===re.length&&F.every(($,ae)=>$.route.id===re[ae].route.id))return{type:"success",matches:null};F=re}}function ec(w){o={},f=lu(w,s,void 0,o)}function jl(w,O){let L=f==null;V_(w,O,f||u,o,s),L&&(u=[...u],ve({}))}return W={get basename(){return h},get future(){return y},get state(){return M},get routes(){return u},get window(){return e},initialize:vt,subscribe:Se,enableScrollRestoration:Ju,navigate:Rt,fetch:Ui,revalidate:Et,createHref:w=>i.history.createHref(w),encodeLocation:w=>i.history.encodeLocation(w),getFetcher:br,deleteFetcher:Hl,dispose:Ue,getBlocker:Zu,deleteBlocker:Ln,patchRoutes:jl,_internalFetchControllers:Y,_internalSetRoutes:ec},W}function sw(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function xd(i,e,r,s,o,u){let f,h;if(o){f=[];for(let p of e)if(f.push(p),p.route.id===o){h=p;break}}else f=e,h=e[e.length-1];let m=rh(s||".",ih(f),Vn(i.pathname,r)||i.pathname,u==="path");if(s==null&&(m.search=i.search,m.hash=i.hash),(s==null||s===""||s===".")&&h){let p=sh(m.search);if(h.route.index&&!p)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&p){let y=new URLSearchParams(m.search),v=y.getAll("index");y.delete("index"),v.filter(S=>S).forEach(S=>y.append("index",S));let E=y.toString();m.search=E?`?${E}`:""}}return r!=="/"&&(m.pathname=m.pathname==="/"?r:ti([r,m.pathname])),mr(m)}function B_(i,e,r){if(!r||!sw(r))return{path:e};if(r.formMethod&&!yw(r.formMethod))return{path:e,error:On(405,{method:r.formMethod})};let s=()=>({path:e,error:On(400,{type:"invalid-body"})}),u=(r.formMethod||"get").toUpperCase(),f=Rv(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Pn(u))return s();let v=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((E,[S,N])=>`${E}${S}=${N}
`,""):String(r.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:r.formEncType,formData:void 0,json:void 0,text:v}}}else if(r.formEncType==="application/json"){if(!Pn(u))return s();try{let v=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:r.formEncType,formData:void 0,json:v,text:void 0}}}catch{return s()}}}Ie(typeof FormData=="function","FormData is not available in this environment");let h,m;if(r.formData)h=Ld(r.formData),m=r.formData;else if(r.body instanceof FormData)h=Ld(r.body),m=r.body;else if(r.body instanceof URLSearchParams)h=r.body,m=Y_(h);else if(r.body==null)h=new URLSearchParams,m=new FormData;else try{h=new URLSearchParams(r.body),m=Y_(h)}catch{return s()}let p={formMethod:u,formAction:f,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(Pn(p.formMethod))return{path:e,submission:p};let y=vr(e);return i&&y.search&&sh(y.search)&&h.append("index",""),y.search=`?${h}`,{path:mr(y),submission:p}}function j_(i,e,r=!1){let s=i.findIndex(o=>o.route.id===e);return s>=0?i.slice(0,r?s+1:s):i}function q_(i,e,r,s,o,u,f,h,m,p,y,v,E,S){let N=S?fn(S[1])?S[1].error:S[1].data:void 0,H=i.createURL(e.location),z=i.createURL(o),P=r;u&&e.errors?P=j_(r,Object.keys(e.errors)[0],!0):S&&fn(S[1])&&(P=j_(r,S[0]));let Q=S?S[1].statusCode:void 0,Z=Q&&Q>=400,de=P.filter((M,_e)=>{let{route:be}=M;if(be.lazy)return!0;if(be.loader==null)return!1;if(u)return Id(be,e.loaderData,e.errors);if(lw(e.loaderData,e.matches[_e],M))return!0;let G=e.matches[_e],se=M;return F_(M,{currentUrl:H,currentParams:G.params,nextUrl:z,nextParams:se.params,...s,actionResult:N,actionStatus:Q,defaultShouldRevalidate:Z?!1:f||H.pathname+H.search===z.pathname+z.search||H.search!==z.search||ow(G,se)})}),W=[];return p.forEach((M,_e)=>{if(u||!r.some(dt=>dt.route.id===M.routeId)||m.has(_e))return;let be=lr(v,M.path,E);if(!be){W.push({key:_e,routeId:M.routeId,path:M.path,matches:null,match:null,controller:null});return}let G=e.fetchers.get(_e),se=rl(be,M.path),Le=!1;y.has(_e)?Le=!1:h.has(_e)?(h.delete(_e),Le=!0):G&&G.state!=="idle"&&G.data===void 0?Le=f:Le=F_(se,{currentUrl:H,currentParams:e.matches[e.matches.length-1].params,nextUrl:z,nextParams:r[r.length-1].params,...s,actionResult:N,actionStatus:Q,defaultShouldRevalidate:Z?!1:f}),Le&&W.push({key:_e,routeId:M.routeId,path:M.path,matches:be,match:se,controller:new AbortController})}),[de,W]}function Id(i,e,r){if(i.lazy)return!0;if(!i.loader)return!1;let s=e!=null&&e[i.id]!==void 0,o=r!=null&&r[i.id]!==void 0;return!s&&o?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!s&&!o}function lw(i,e,r){let s=!e||r.route.id!==e.route.id,o=!i.hasOwnProperty(r.route.id);return s||o}function ow(i,e){let r=i.route.path;return i.pathname!==e.pathname||r!=null&&r.endsWith("*")&&i.params["*"]!==e.params["*"]}function F_(i,e){if(i.route.shouldRevalidate){let r=i.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function V_(i,e,r,s,o){let u;if(i){let m=s[i];Ie(m,`No route found to patch children into: routeId = ${i}`),m.children||(m.children=[]),u=m.children}else u=r;let f=e.filter(m=>!u.some(p=>Cv(m,p))),h=lu(f,o,[i||"_","patch",String((u==null?void 0:u.length)||"0")],s);u.push(...h)}function Cv(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((r,s)=>{var o;return(o=e.children)==null?void 0:o.some(u=>Cv(r,u))}):!1}async function uw(i,e,r){if(!i.lazy)return;let s=await i.lazy();if(!i.lazy)return;let o=r[i.id];Ie(o,"No route found in manifest");let u={};for(let f in s){let m=o[f]!==void 0&&f!=="hasErrorBoundary";Bt(!m,`Route "${o.id}" has a static property "${f}" defined but its lazy function is also returning a value for this property. The lazy route property "${f}" will be ignored.`),!m&&!xT.has(f)&&(u[f]=s[f])}Object.assign(o,u),Object.assign(o,{...e(o),lazy:void 0})}async function cw({matches:i}){let e=i.filter(s=>s.shouldLoad);return(await Promise.all(e.map(s=>s.resolve()))).reduce((s,o,u)=>Object.assign(s,{[e[u].route.id]:o}),{})}async function fw(i,e,r,s,o,u,f,h,m,p){let y=u.map(S=>S.route.lazy?uw(S.route,m,h):void 0),v=u.map((S,N)=>{let H=y[N],z=o.some(Q=>Q.route.id===S.route.id);return{...S,shouldLoad:z,resolve:async Q=>(Q&&s.method==="GET"&&(S.route.lazy||S.route.loader)&&(z=!0),z?dw(e,s,S,H,Q,p):Promise.resolve({type:"data",result:void 0}))}}),E=await i({matches:v,request:s,params:u[0].params,fetcherKey:f,context:p});try{await Promise.all(y)}catch{}return E}async function dw(i,e,r,s,o,u){let f,h,m=p=>{let y,v=new Promise((N,H)=>y=H);h=()=>y(),e.signal.addEventListener("abort",h);let E=N=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${i}" [routeId: ${r.route.id}]`)):p({request:e,params:r.params,context:u},...N!==void 0?[N]:[]),S=(async()=>{try{return{type:"data",result:await(o?o(H=>E(H)):E())}}catch(N){return{type:"error",result:N}}})();return Promise.race([S,v])};try{let p=r.route[i];if(s)if(p){let y,[v]=await Promise.all([m(p).catch(E=>{y=E}),s]);if(y!==void 0)throw y;f=v}else if(await s,p=r.route[i],p)f=await m(p);else if(i==="action"){let y=new URL(e.url),v=y.pathname+y.search;throw On(405,{method:e.method,pathname:v,routeId:r.route.id})}else return{type:"data",result:void 0};else if(p)f=await m(p);else{let y=new URL(e.url),v=y.pathname+y.search;throw On(404,{pathname:v})}}catch(p){return{type:"error",result:p}}finally{h&&e.signal.removeEventListener("abort",h)}return f}async function hw(i){var s,o,u,f,h,m;let{result:e,type:r}=i;if(Av(e)){let p;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(y){return{type:"error",error:y}}return r==="error"?{type:"error",error:new uu(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return r==="error"?W_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new uu(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:pl(e)?e.status:void 0,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:pl(e)?e.status:void 0}:W_(e)?{type:"data",data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(m=e.init)!=null&&m.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function mw(i,e,r,s,o){let u=i.headers.get("Location");if(Ie(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!ah.test(u)){let f=s.slice(0,s.findIndex(h=>h.route.id===r)+1);u=xd(new URL(e.url),f,o,u),i.headers.set("Location",u)}return i}function G_(i,e,r){if(ah.test(i)){let s=i,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),u=Vn(o.pathname,r)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return i}function ja(i,e,r,s){let o=i.createURL(Rv(e)).toString(),u={signal:r};if(s&&Pn(s.formMethod)){let{formMethod:f,formEncType:h}=s;u.method=f.toUpperCase(),h==="application/json"?(u.headers=new Headers({"Content-Type":h}),u.body=JSON.stringify(s.json)):h==="text/plain"?u.body=s.text:h==="application/x-www-form-urlencoded"&&s.formData?u.body=Ld(s.formData):u.body=s.formData}return new Request(o,u)}function Ld(i){let e=new URLSearchParams;for(let[r,s]of i.entries())e.append(r,typeof s=="string"?s:s.name);return e}function Y_(i){let e=new FormData;for(let[r,s]of i.entries())e.append(r,s);return e}function pw(i,e,r,s=!1,o=!1){let u={},f=null,h,m=!1,p={},y=r&&fn(r[1])?r[1].error:void 0;return i.forEach(v=>{if(!(v.route.id in e))return;let E=v.route.id,S=e[E];if(Ie(!Kr(S),"Cannot handle redirect results in processLoaderData"),fn(S)){let N=S.error;if(y!==void 0&&(N=y,y=void 0),f=f||{},o)f[E]=N;else{let H=Qr(i,E);f[H.route.id]==null&&(f[H.route.id]=N)}s||(u[E]=wv),m||(m=!0,h=pl(S.error)?S.error.status:500),S.headers&&(p[E]=S.headers)}else u[E]=S.data,S.statusCode&&S.statusCode!==200&&!m&&(h=S.statusCode),S.headers&&(p[E]=S.headers)}),y!==void 0&&r&&(f={[r[0]]:y},u[r[0]]=void 0),{loaderData:u,errors:f,statusCode:h||200,loaderHeaders:p}}function Q_(i,e,r,s,o,u){let{loaderData:f,errors:h}=pw(e,r,s);return o.forEach(m=>{let{key:p,match:y,controller:v}=m,E=u[p];if(Ie(E,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(fn(E)){let S=Qr(i.matches,y==null?void 0:y.route.id);h&&h[S.route.id]||(h={...h,[S.route.id]:E.error}),i.fetchers.delete(p)}else if(Kr(E))Ie(!1,"Unhandled fetcher revalidation redirect");else{let S=sr(E.data);i.fetchers.set(p,S)}}),{loaderData:f,errors:h}}function K_(i,e,r,s){let o=Object.entries(e).filter(([,u])=>u!==wv).reduce((u,[f,h])=>(u[f]=h,u),{});for(let u of r){let f=u.route.id;if(!e.hasOwnProperty(f)&&i.hasOwnProperty(f)&&u.route.loader&&(o[f]=i[f]),s&&s.hasOwnProperty(f))break}return o}function X_(i){return i?fn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function Qr(i,e){return(e?i.slice(0,i.findIndex(s=>s.route.id===e)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function $_(i){let e=i.length===1?i[0]:i.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function On(i,{pathname:e,routeId:r,method:s,type:o,message:u}={}){let f="Unknown Server Error",h="Unknown @remix-run/router error";return i===400?(f="Bad Request",s&&e&&r?h=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:o==="invalid-body"&&(h="Unable to encode submission body")):i===403?(f="Forbidden",h=`Route "${r}" does not match URL "${e}"`):i===404?(f="Not Found",h=`No route matches URL "${e}"`):i===405&&(f="Method Not Allowed",s&&e&&r?h=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:s&&(h=`Invalid request method "${s.toUpperCase()}"`)),new uu(i||500,f,new Error(h),!0)}function $o(i){let e=Object.entries(i);for(let r=e.length-1;r>=0;r--){let[s,o]=e[r];if(Kr(o))return{key:s,result:o}}}function Rv(i){let e=typeof i=="string"?vr(i):i;return mr({...e,hash:""})}function gw(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function _w(i){return Av(i.result)&&tw.has(i.result.status)}function fn(i){return i.type==="error"}function Kr(i){return(i&&i.type)==="redirect"}function W_(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function Av(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function yw(i){return ew.has(i.toUpperCase())}function Pn(i){return ZT.has(i.toUpperCase())}function sh(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function rl(i,e){let r=typeof e=="string"?vr(e).search:e.search;if(i[i.length-1].route.index&&sh(r||""))return i[i.length-1];let s=bv(i);return s[s.length-1]}function Z_(i){let{formMethod:e,formAction:r,formEncType:s,text:o,formData:u,json:f}=i;if(!(!e||!r||!s)){if(o!=null)return{formMethod:e,formAction:r,formEncType:s,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:r,formEncType:s,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:r,formEncType:s,formData:void 0,json:f,text:void 0}}}function dd(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function vw(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Zs(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ew(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function sr(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function bw(i,e){try{let r=i.sessionStorage.getItem(Tv);if(r){let s=JSON.parse(r);for(let[o,u]of Object.entries(s||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function Sw(i,e){if(e.size>0){let r={};for(let[s,o]of e)r[s]=[...o];try{i.sessionStorage.setItem(Tv,JSON.stringify(r))}catch(s){Bt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function Tw(){let i,e,r=new Promise((s,o)=>{i=async u=>{s(u);try{await r}catch{}},e=async u=>{o(u);try{await r}catch{}}});return{promise:r,resolve:i,reject:e}}var ra=A.createContext(null);ra.displayName="DataRouter";var Al=A.createContext(null);Al.displayName="DataRouterState";var lh=A.createContext({isTransitioning:!1});lh.displayName="ViewTransition";var Nv=A.createContext(new Map);Nv.displayName="Fetchers";var ww=A.createContext(null);ww.displayName="Await";var ai=A.createContext(null);ai.displayName="Navigation";var Iu=A.createContext(null);Iu.displayName="Location";var si=A.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var oh=A.createContext(null);oh.displayName="RouteError";function Cw(i,{relative:e}={}){Ie(Nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=A.useContext(ai),{hash:o,pathname:u,search:f}=Dl(i,{relative:e}),h=u;return r!=="/"&&(h=u==="/"?r:ti([r,u])),s.createHref({pathname:h,search:f,hash:o})}function Nl(){return A.useContext(Iu)!=null}function aa(){return Ie(Nl(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Iu).location}var Dv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ov(i){A.useContext(ai).static||A.useLayoutEffect(i)}function Mv(){let{isDataRoute:i}=A.useContext(si);return i?Bw():Rw()}function Rw(){Ie(Nl(),"useNavigate() may be used only in the context of a <Router> component.");let i=A.useContext(ra),{basename:e,navigator:r}=A.useContext(ai),{matches:s}=A.useContext(si),{pathname:o}=aa(),u=JSON.stringify(ih(s)),f=A.useRef(!1);return Ov(()=>{f.current=!0}),A.useCallback((m,p={})=>{if(Bt(f.current,Dv),!f.current)return;if(typeof m=="number"){r.go(m);return}let y=rh(m,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ti([e,y.pathname])),(p.replace?r.replace:r.push)(y,p.state,p)},[e,r,u,o,i])}var Aw=A.createContext(null);function Nw(i){let e=A.useContext(si).outlet;return e&&A.createElement(Aw.Provider,{value:i},e)}function Dl(i,{relative:e}={}){let{matches:r}=A.useContext(si),{pathname:s}=aa(),o=JSON.stringify(ih(r));return A.useMemo(()=>rh(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Dw(i,e,r,s){Ie(Nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=A.useContext(ai),{matches:f}=A.useContext(si),h=f[f.length-1],m=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let Q=v&&v.path||"";xv(p,!v||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let E=aa(),S;S=E;let N=S.pathname||"/",H=N;if(y!=="/"){let Q=y.replace(/^\//,"").split("/");H="/"+N.replace(/^\//,"").split("/").slice(Q.length).join("/")}let z=!u&&r&&r.matches&&r.matches.length>0?r.matches:lr(i,{pathname:H});return Bt(v||z!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Bt(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Lw(z&&z.map(Q=>Object.assign({},Q,{params:Object.assign({},m,Q.params),pathname:ti([y,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?y:ti([y,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),f,r,s)}function Ow(){let i=Pw(),e=pl(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:u},"ErrorBoundary")," or"," ",A.createElement("code",{style:u},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),r?A.createElement("pre",{style:o},r):null,f)}var Mw=A.createElement(Ow,null),xw=class extends A.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?A.createElement(si.Provider,{value:this.props.routeContext},A.createElement(oh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Iw({routeContext:i,match:e,children:r}){let s=A.useContext(ra);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(si.Provider,{value:i},r)}function Lw(i,e=[],r=null,s=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let o=i,u=r==null?void 0:r.errors;if(u!=null){let m=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);Ie(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,h=-1;if(r)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:y,errors:v}=r,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||E){f=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((m,p,y)=>{let v,E=!1,S=null,N=null;r&&(v=u&&p.route.id?u[p.route.id]:void 0,S=p.route.errorElement||Mw,f&&(h<0&&y===0?(xv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,N=null):h===y&&(E=!0,N=p.route.hydrateFallbackElement||null)));let H=e.concat(o.slice(0,y+1)),z=()=>{let P;return v?P=S:E?P=N:p.route.Component?P=A.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=m,A.createElement(Iw,{match:p,routeContext:{outlet:m,matches:H,isDataRoute:r!=null},children:P})};return r&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?A.createElement(xw,{location:r.location,revalidation:r.revalidation,component:S,error:v,children:z(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):z()},null)}function uh(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Uw(i){let e=A.useContext(ra);return Ie(e,uh(i)),e}function kw(i){let e=A.useContext(Al);return Ie(e,uh(i)),e}function zw(i){let e=A.useContext(si);return Ie(e,uh(i)),e}function ch(i){let e=zw(i),r=e.matches[e.matches.length-1];return Ie(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function Hw(){return ch("useRouteId")}function Pw(){var s;let i=A.useContext(oh),e=kw("useRouteError"),r=ch("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[r]}function Bw(){let{router:i}=Uw("useNavigate"),e=ch("useNavigate"),r=A.useRef(!1);return Ov(()=>{r.current=!0}),A.useCallback(async(o,u={})=>{Bt(r.current,Dv),r.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var J_={};function xv(i,e,r){!e&&!J_[i]&&(J_[i]=!0,Bt(!1,r))}var ey={};function ty(i,e){!i&&!ey[e]&&(ey[e]=!0,console.warn(e))}function jw(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&Bt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:A.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&Bt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:A.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&Bt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:A.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var qw=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",r(s))}})}};function Fw({router:i,flushSync:e}){let[r,s]=A.useState(i.state),[o,u]=A.useState(),[f,h]=A.useState({isTransitioning:!1}),[m,p]=A.useState(),[y,v]=A.useState(),[E,S]=A.useState(),N=A.useRef(new Map),H=A.useCallback((Z,{deletedFetchers:de,flushSync:W,viewTransitionOpts:M})=>{Z.fetchers.forEach((be,G)=>{be.data!==void 0&&N.current.set(G,be.data)}),de.forEach(be=>N.current.delete(be)),ty(W===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let _e=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(ty(M==null||_e,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!M||!_e){e&&W?e(()=>s(Z)):A.startTransition(()=>s(Z));return}if(e&&W){e(()=>{y&&(m&&m.resolve(),y.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let be=i.window.document.startViewTransition(()=>{e(()=>s(Z))});be.finished.finally(()=>{e(()=>{p(void 0),v(void 0),u(void 0),h({isTransitioning:!1})})}),e(()=>v(be));return}y?(m&&m.resolve(),y.skipTransition(),S({state:Z,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(u(Z),h({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[i.window,e,y,m]);A.useLayoutEffect(()=>i.subscribe(H),[i,H]),A.useEffect(()=>{f.isTransitioning&&!f.flushSync&&p(new qw)},[f]),A.useEffect(()=>{if(m&&o&&i.window){let Z=o,de=m.promise,W=i.window.document.startViewTransition(async()=>{A.startTransition(()=>s(Z)),await de});W.finished.finally(()=>{p(void 0),v(void 0),u(void 0),h({isTransitioning:!1})}),v(W)}},[o,m,i.window]),A.useEffect(()=>{m&&o&&r.location.key===o.location.key&&m.resolve()},[m,y,r.location,o]),A.useEffect(()=>{!f.isTransitioning&&E&&(u(E.state),h({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),S(void 0))},[f.isTransitioning,E]);let z=A.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:Z=>i.navigate(Z),push:(Z,de,W)=>i.navigate(Z,{state:de,preventScrollReset:W==null?void 0:W.preventScrollReset}),replace:(Z,de,W)=>i.navigate(Z,{replace:!0,state:de,preventScrollReset:W==null?void 0:W.preventScrollReset})}),[i]),P=i.basename||"/",Q=A.useMemo(()=>({router:i,navigator:z,static:!1,basename:P}),[i,z,P]);return A.createElement(A.Fragment,null,A.createElement(ra.Provider,{value:Q},A.createElement(Al.Provider,{value:r},A.createElement(Nv.Provider,{value:N.current},A.createElement(lh.Provider,{value:f},A.createElement(Qw,{basename:P,location:r.location,navigationType:r.historyAction,navigator:z},A.createElement(Vw,{routes:i.routes,future:i.future,state:r})))))),null)}var Vw=A.memo(Gw);function Gw({routes:i,future:e,state:r}){return Dw(i,void 0,r,e)}function Yw(i){return Nw(i.context)}function Qw({basename:i="/",children:e=null,location:r,navigationType:s="POP",navigator:o,static:u=!1}){Ie(!Nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),h=A.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof r=="string"&&(r=vr(r));let{pathname:m="/",search:p="",hash:y="",state:v=null,key:E="default"}=r,S=A.useMemo(()=>{let N=Vn(m,f);return N==null?null:{location:{pathname:N,search:p,hash:y,state:v,key:E},navigationType:s}},[f,m,p,y,v,E,s]);return Bt(S!=null,`<Router basename="${f}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:A.createElement(ai.Provider,{value:h},A.createElement(Iu.Provider,{children:e,value:S}))}var nu="get",iu="application/x-www-form-urlencoded";function Lu(i){return i!=null&&typeof i.tagName=="string"}function Kw(i){return Lu(i)&&i.tagName.toLowerCase()==="button"}function Xw(i){return Lu(i)&&i.tagName.toLowerCase()==="form"}function $w(i){return Lu(i)&&i.tagName.toLowerCase()==="input"}function Ww(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Zw(i,e){return i.button===0&&(!e||e==="_self")&&!Ww(i)}var Wo=null;function Jw(){if(Wo===null)try{new FormData(document.createElement("form"),0),Wo=!1}catch{Wo=!0}return Wo}var eC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hd(i){return i!=null&&!eC.has(i)?(Bt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${iu}"`),null):i}function tC(i,e){let r,s,o,u,f;if(Xw(i)){let h=i.getAttribute("action");s=h?Vn(h,e):null,r=i.getAttribute("method")||nu,o=hd(i.getAttribute("enctype"))||iu,u=new FormData(i)}else if(Kw(i)||$w(i)&&(i.type==="submit"||i.type==="image")){let h=i.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||h.getAttribute("action");if(s=m?Vn(m,e):null,r=i.getAttribute("formmethod")||h.getAttribute("method")||nu,o=hd(i.getAttribute("formenctype"))||hd(h.getAttribute("enctype"))||iu,u=new FormData(h,i),!Jw()){let{name:p,type:y,value:v}=i;if(y==="image"){let E=p?`${p}.`:"";u.append(`${E}x`,"0"),u.append(`${E}y`,"0")}else p&&u.append(p,v)}}else{if(Lu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=nu,s=null,o=iu,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:u,body:f}}function fh(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function nC(i,e){if(i.id in e)return e[i.id];try{let r=await import(i.module);return e[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iC(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function rC(i,e,r){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await nC(u,r);return f.links?f.links():[]}return[]}));return oC(s.flat(1).filter(iC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ny(i,e,r,s,o,u){let f=(m,p)=>r[p]?m.route.id!==r[p].route.id:!0,h=(m,p)=>{var y;return r[p].pathname!==m.pathname||((y=r[p].route.path)==null?void 0:y.endsWith("*"))&&r[p].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,p)=>f(m,p)||h(m,p)):u==="data"?e.filter((m,p)=>{var v;let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(f(m,p)||h(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=r[0])==null?void 0:v.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function aC(i,e){return sC(i.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function sC(i){return[...new Set(i)]}function lC(i){let e={},r=Object.keys(i).sort();for(let s of r)e[s]=i[s];return e}function oC(i,e){let r=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(lC(o));return r.has(u)||(r.add(u),s.push({key:u,link:o})),s},[])}function uC(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function cC(){let i=A.useContext(ra);return fh(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function fC(){let i=A.useContext(Al);return fh(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var dh=A.createContext(void 0);dh.displayName="FrameworkContext";function Iv(){let i=A.useContext(dh);return fh(i,"You must render this element inside a <HydratedRouter> element"),i}function dC(i,e){let r=A.useContext(dh),[s,o]=A.useState(!1),[u,f]=A.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,E=A.useRef(null);A.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let H=P=>{P.forEach(Q=>{f(Q.isIntersecting)})},z=new IntersectionObserver(H,{threshold:.5});return E.current&&z.observe(E.current),()=>{z.disconnect()}}},[i]),A.useEffect(()=>{if(s){let H=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(H)}}},[s]);let S=()=>{o(!0)},N=()=>{o(!1),f(!1)};return r?i!=="intent"?[u,E,{}]:[u,E,{onFocus:Js(h,S),onBlur:Js(m,N),onMouseEnter:Js(p,S),onMouseLeave:Js(y,N),onTouchStart:Js(v,S)}]:[!1,E,{}]}function Js(i,e){return r=>{i&&i(r),r.defaultPrevented||e(r)}}function hC({page:i,...e}){let{router:r}=cC(),s=A.useMemo(()=>lr(r.routes,i,r.basename),[r.routes,i,r.basename]);return s?A.createElement(pC,{page:i,matches:s,...e}):null}function mC(i){let{manifest:e,routeModules:r}=Iv(),[s,o]=A.useState([]);return A.useEffect(()=>{let u=!1;return rC(i,e,r).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,r]),s}function pC({page:i,matches:e,...r}){let s=aa(),{manifest:o,routeModules:u}=Iv(),{loaderData:f,matches:h}=fC(),m=A.useMemo(()=>ny(i,e,h,o,s,"data"),[i,e,h,o,s]),p=A.useMemo(()=>ny(i,e,h,o,s,"assets"),[i,e,h,o,s]),y=A.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let S=new Set,N=!1;if(e.forEach(z=>{var Q;let P=o.routes[z.route.id];!P||!P.hasLoader||(!m.some(Z=>Z.route.id===z.route.id)&&z.route.id in f&&((Q=u[z.route.id])!=null&&Q.shouldRevalidate)||P.hasClientLoader?N=!0:S.add(z.route.id))}),S.size===0)return[];let H=uC(i);return N&&S.size>0&&H.searchParams.set("_routes",e.filter(z=>S.has(z.route.id)).map(z=>z.route.id).join(",")),[H.pathname+H.search]},[f,s,o,m,e,i,u]),v=A.useMemo(()=>aC(p,o),[p,o]),E=mC(p);return A.createElement(A.Fragment,null,y.map(S=>A.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),v.map(S=>A.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),E.map(({key:S,link:N})=>A.createElement("link",{key:S,...N})))}function gC(...i){return e=>{i.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Lv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Lv&&(window.__reactRouterVersion="7.1.5")}catch{}function _C(i,e){return aw({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:DT({window:e==null?void 0:e.window}),hydrationData:yC(),routes:i,mapRouteProperties:jw,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function yC(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:vC(i.errors)}),i}function vC(i){if(!i)return null;let e=Object.entries(i),r={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")r[s]=new uu(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let f=new u(o.message);f.stack="",r[s]=f}catch{}}if(r[s]==null){let u=new Error(o.message);u.stack="",r[s]=u}}else r[s]=o;return r}var Uv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cu=A.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:h,target:m,to:p,preventScrollReset:y,viewTransition:v,...E},S){let{basename:N}=A.useContext(ai),H=typeof p=="string"&&Uv.test(p),z,P=!1;if(typeof p=="string"&&H&&(z=p,Lv))try{let G=new URL(window.location.href),se=p.startsWith("//")?new URL(G.protocol+p):new URL(p),Le=Vn(se.pathname,N);se.origin===G.origin&&Le!=null?p=Le+se.search+se.hash:P=!0}catch{Bt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=Cw(p,{relative:o}),[Z,de,W]=dC(s,E),M=TC(p,{replace:f,state:h,target:m,preventScrollReset:y,relative:o,viewTransition:v});function _e(G){e&&e(G),G.defaultPrevented||M(G)}let be=A.createElement("a",{...E,...W,href:z||Q,onClick:P||u?e:_e,ref:gC(S,de),target:m,"data-discover":!H&&r==="render"?"true":void 0});return Z&&!H?A.createElement(A.Fragment,null,be,A.createElement(hC,{page:Q})):be});cu.displayName="Link";var EC=A.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:h,children:m,...p},y){let v=Dl(f,{relative:p.relative}),E=aa(),S=A.useContext(Al),{navigator:N,basename:H}=A.useContext(ai),z=S!=null&&NC(v)&&h===!0,P=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,Q=E.pathname,Z=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;r||(Q=Q.toLowerCase(),Z=Z?Z.toLowerCase():null,P=P.toLowerCase()),Z&&H&&(Z=Vn(Z,H)||Z);const de=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let W=Q===P||!o&&Q.startsWith(P)&&Q.charAt(de)==="/",M=Z!=null&&(Z===P||!o&&Z.startsWith(P)&&Z.charAt(P.length)==="/"),_e={isActive:W,isPending:M,isTransitioning:z},be=W?e:void 0,G;typeof s=="function"?G=s(_e):G=[s,W?"active":null,M?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let se=typeof u=="function"?u(_e):u;return A.createElement(cu,{...p,"aria-current":be,className:G,ref:y,style:se,to:f,viewTransition:h},typeof m=="function"?m(_e):m)});EC.displayName="NavLink";var bC=A.forwardRef(({discover:i="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:o,state:u,method:f=nu,action:h,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:v,...E},S)=>{let N=RC(),H=AC(h,{relative:p}),z=f.toLowerCase()==="get"?"get":"post",P=typeof h=="string"&&Uv.test(h),Q=Z=>{if(m&&m(Z),Z.defaultPrevented)return;Z.preventDefault();let de=Z.nativeEvent.submitter,W=(de==null?void 0:de.getAttribute("formmethod"))||f;N(de||Z.currentTarget,{fetcherKey:e,method:W,navigate:r,replace:o,state:u,relative:p,preventScrollReset:y,viewTransition:v})};return A.createElement("form",{ref:S,method:z,action:H,onSubmit:s?m:Q,...E,"data-discover":!P&&i==="render"?"true":void 0})});bC.displayName="Form";function SC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kv(i){let e=A.useContext(ra);return Ie(e,SC(i)),e}function TC(i,{target:e,replace:r,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let h=Mv(),m=aa(),p=Dl(i,{relative:u});return A.useCallback(y=>{if(Zw(y,e)){y.preventDefault();let v=r!==void 0?r:mr(m)===mr(p);h(i,{replace:v,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[m,h,p,r,s,e,i,o,u,f])}var wC=0,CC=()=>`__${String(++wC)}__`;function RC(){let{router:i}=kv("useSubmit"),{basename:e}=A.useContext(ai),r=Hw();return A.useCallback(async(s,o={})=>{let{action:u,method:f,encType:h,formData:m,body:p}=tC(s,e);if(o.navigate===!1){let y=o.fetcherKey||CC();await i.fetch(y,r,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||f,formEncType:o.encType||h,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||f,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,r])}function AC(i,{relative:e}={}){let{basename:r}=A.useContext(ai),s=A.useContext(si);Ie(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Dl(i||".",{relative:e})},f=aa();if(i==null){u.search=f.search;let h=new URLSearchParams(u.search),m=h.getAll("index");if(m.some(y=>y==="")){h.delete("index"),m.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();u.search=y?`?${y}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:ti([r,u.pathname])),mr(u)}function NC(i,e={}){let r=A.useContext(lh);Ie(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=kv("useViewTransitionState"),o=Dl(i,{relative:e.relative});if(!r.isTransitioning)return!1;let u=Vn(r.currentLocation.pathname,s)||r.currentLocation.pathname,f=Vn(r.nextLocation.pathname,s)||r.nextLocation.pathname;return ou(o.pathname,f)!=null||ou(o.pathname,u)!=null}new TextEncoder;var DC=yv();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function OC(i){return A.createElement(Fw,{flushSync:DC.flushSync,...i})}const zv=A.createContext(),Hv=A.createContext(),Pv=A.createContext(),Bv=A.createContext(),jv=A.createContext(),MC=({children:i})=>{const[e,r]=A.useState(0);return V.jsx(zv.Provider,{value:{score:e,setScore:r},children:i})},xC=({children:i})=>{const[e,r]=A.useState(!0);return V.jsx(Hv.Provider,{value:{isRunning:e,setIsRunning:r},children:i})},IC=({children:i})=>{const[e,r]=A.useState(50);return V.jsx(Pv.Provider,{value:{volume:e,setVolume:r},children:i})},LC=({children:i})=>{const[e,r]=A.useState(1),s=()=>{r(o=>o%3+1)};return V.jsx(Bv.Provider,{value:{level:e,nextLevel:s},children:i})},UC=({children:i})=>{const[e,r]=A.useState(!1);return V.jsx(jv.Provider,{value:{isPlaying:e,setIsPlaying:r},children:i})},hh=()=>{const i=A.useContext(zv);if(!i)throw console.trace(" useScoreContext() was used outside of ScoreProvider!"),new Error(" useScoreContext() was used outside of ScoreProvider!");return i},qv=()=>{const i=A.useContext(Hv);return i||console.error(" useGameContext() was used outside of GameProvider!"),i},mh=()=>{const i=A.useContext(Pv);return i||console.error(" useVolumeContext() was used outside of VolumeProvider!"),i},Uu=()=>{const i=A.useContext(Bv);if(!i)throw console.trace(" useLevelContext() was used outside of LevelProvider!"),new Error(" useLevelContext() was used outside of LevelProvider!");return i},Fv=()=>{const i=A.useContext(jv);if(!i)throw console.error(" useMusicContext() was used outside of MusicProvider!"),new Error(" useMusicContext() was used outside of MusicProvider!");return i};let md=null;const kC=(i,e)=>{let r=!1;return(...s)=>{r||(i(...s),r=!0,setTimeout(()=>r=!1,e))}},Vv=ET.memo(()=>{const{volume:i}=mh(),{level:e}=Uu(),{isPlaying:r}=Fv(),s=A.useRef(null),o=A.useRef(null),u=A.useRef({}),f=A.useMemo(()=>({1:"/static/TTD_01.mp3",2:"/static/TTD_02.mp3",3:"/static/TTD_03.mp3"}),[]);A.useEffect(()=>{if(md)s.current=md;else{const m=new Audio;m.preload="auto",s.current=m,md=m}},[]),A.useEffect(()=>{Object.values(f).forEach(m=>{if(!u.current[m]){const p=new Audio(m);p.preload="auto",u.current[m]=p}})},[f]),A.useEffect(()=>{s.current&&(s.current.volume=i/100)},[i]);const h=A.useMemo(()=>kC(()=>{const m=s.current;if(!m)return;const p=f[e]||f[1];o.current!==p&&(o.current=p,m.paused||m.pause(),m.src=p,m.load()),r?m.paused&&setTimeout(()=>{m.play().catch(y=>console.warn(" Autoplay blocked, waiting for user interaction:",y))},100):m.paused||m.pause()},300),[e,r,f]);return A.useEffect(()=>{h()},[h,e,r]),V.jsx("audio",{ref:s,preload:"auto",loop:!0})}),zC=()=>{try{const{score:i}=hh(),{volume:e,setVolume:r}=mh();return V.jsxs("nav",{className:"navbar navbar-expand-lg d-flex justify-content-between",children:[V.jsx("div",{className:"navbar-left d-flex align-items-center justify-content-start",children:V.jsxs("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0 d-flex align-items-center",children:[V.jsx("li",{className:"nav-item",children:V.jsx(cu,{className:"nav-link","aria-current":"page",to:"/",onClick:()=>window.location.href="/",children:"Home"})}),V.jsx("div",{className:"navBarDivider"}),V.jsx("li",{className:"nav-item",children:V.jsx(cu,{className:"nav-link",to:"/highscorespage",children:"High Scores"})})]})}),V.jsx("div",{className:"navbar-center text-center flex-grow-1 justify-content-center",children:V.jsx("p",{className:"sigmar-regular displayfont-text",children:"DINO DASH"})}),V.jsxs("div",{className:"navbar-right d-flex align-items-center justify-content-end",children:[V.jsx("div",{className:"score-container",children:V.jsxs("p",{className:"game-score",children:["Score: ",i]})}),V.jsxs("div",{className:"volume-control d-flex",children:[V.jsx("label",{htmlFor:"volume align-items-center",children:"Volume:"}),V.jsx("div",{className:"custom-slider",children:V.jsx("input",{id:"volume",type:"range",min:"0",max:"100",value:e,onChange:s=>r(s.target.value)})})]}),V.jsx("div",{className:"vine"})]}),V.jsx(Vv,{volume:e})]})}catch(i){return console.error(" Navbar failed to load context:",i),V.jsx("h1",{children:"Navbar Error"})}},HC=()=>V.jsxs(V.Fragment,{children:[V.jsx(zC,{})," ",V.jsx("div",{className:"outlet",children:V.jsx(Yw,{})})]});var iy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K=function(i,e){if(!i)throw $a(e)},$a=function(i){return new Error("Firebase Database ("+Gv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=function(i){const e=[];let r=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},PC=function(i){const e=[];let r=0,s=0;for(;r<i.length;){const o=i[r++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[r++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[r++],f=i[r++],h=i[r++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=i[r++],f=i[r++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},ph={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,h=f?i[o+1]:0,m=o+2<i.length,p=m?i[o+2]:0,y=u>>2,v=(u&3)<<4|h>>4;let E=(h&15)<<2|p>>6,S=p&63;m||(S=64,f||(E=64)),s.push(r[y],r[v],r[E],r[S])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Yv(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):PC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=r[i.charAt(o++)],h=o<i.length?r[i.charAt(o)]:0;++o;const p=o<i.length?r[i.charAt(o)]:64;++o;const v=o<i.length?r[i.charAt(o)]:64;if(++o,u==null||h==null||p==null||v==null)throw new BC;const E=u<<2|h>>4;if(s.push(E),p!==64){const S=h<<4&240|p>>2;if(s.push(S),v!==64){const N=p<<6&192|v;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class BC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qv=function(i){const e=Yv(i);return ph.encodeByteArray(e,!0)},fu=function(i){return Qv(i).replace(/\./g,"")},du=function(i){try{return ph.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(i){return Kv(void 0,i)}function Kv(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!qC(r)||(i[r]=Kv(i[r],e[r]));return i}function qC(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=()=>FC().__FIREBASE_DEFAULTS__,GC=()=>{if(typeof process>"u"||typeof iy>"u")return;const i=iy.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},YC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&du(i[1]);return e&&JSON.parse(e)},gh=()=>{try{return VC()||GC()||YC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},QC=i=>{var e,r;return(r=(e=gh())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[i]},KC=i=>{const e=QC(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},Xv=()=>{var i;return(i=gh())===null||i===void 0?void 0:i.config},XC=i=>{var e;return(e=gh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[fu(JSON.stringify(r)),fu(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _h(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ni())}function WC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $v(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Wv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZC(){return Gv.NODE_ADMIN===!0}function Zv(){try{return typeof indexedDB=="object"}catch{return!1}}function Jv(){return new Promise((i,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){e(r)}})}function JC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="FirebaseError";class Ii extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=eR,Object.setPrototypeOf(this,Ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sa.prototype.create)}}class sa{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?tR(u,s):"Error",h=`${this.serviceName}: ${f} (${o}).`;return new Ii(o,h,s)}}function tR(i,e){return i.replace(nR,(r,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const nR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(i){return JSON.parse(i)}function Tt(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=function(i){let e={},r={},s={},o="";try{const u=i.split(".");e=gl(du(u[0])||""),r=gl(du(u[1])||""),o=u[2],s=r.d||{},delete r.d}catch{}return{header:e,claims:r,data:s,signature:o}},iR=function(i){const e=eE(i),r=e.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},rR=function(i){const e=eE(i).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Qa(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function ry(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function hu(i,e,r){const s={};for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=e.call(r,i[o],o,i));return s}function mu(i,e){if(i===e)return!0;const r=Object.keys(i),s=Object.keys(e);for(const o of r){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(ay(u)&&ay(f)){if(!mu(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!r.includes(o))return!1;return!0}function ay(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(i){const e=[];for(const[r,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,r){r||(r=0);const s=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)s[v]=e.charCodeAt(r)<<24|e.charCodeAt(r+1)<<16|e.charCodeAt(r+2)<<8|e.charCodeAt(r+3),r+=4;else for(let v=0;v<16;v++)s[v]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r+=4;for(let v=16;v<80;v++){const E=s[v-3]^s[v-8]^s[v-14]^s[v-16];s[v]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],f=this.chain_[2],h=this.chain_[3],m=this.chain_[4],p,y;for(let v=0;v<80;v++){v<40?v<20?(p=h^u&(f^h),y=1518500249):(p=u^f^h,y=1859775393):v<60?(p=u&f|h&(u|f),y=2400959708):(p=u^f^h,y=3395469782);const E=(o<<5|o>>>27)+p+m+y+s[v]&4294967295;m=h,h=f,f=(u<<30|u>>>2)&4294967295,u=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,r){if(e==null)return;r===void 0&&(r=e.length);const s=r-this.blockSize;let o=0;const u=this.buf_;let f=this.inbuf_;for(;o<r;){if(f===0)for(;o<=s;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<r;)if(u[f]=e.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}else for(;o<r;)if(u[f]=e[o],++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=r}digest(){const e=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=r&255,r/=256;this.compress_(this.buf_);let s=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[o]>>u&255,++s;return e}}function sR(i,e){const r=new lR(i,e);return r.subscribe.bind(r)}class lR{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,s){let o;if(e===void 0&&r===void 0&&s===void 0)throw new Error("Missing Observer.");oR(e,["next","error","complete"])?o=e:o={next:e,error:r,complete:s},o.next===void 0&&(o.next=pd),o.error===void 0&&(o.error=pd),o.complete===void 0&&(o.complete=pd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oR(i,e){if(typeof i!="object"||i===null)return!1;for(const r of e)if(r in i&&typeof i[r]=="function")return!0;return!1}function pd(){}function vh(i,e){return`${i} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=function(i){const e=[];let r=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);if(o>=55296&&o<=56319){const u=o-55296;s++,K(s<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(s)-56320;o=65536+(u<<10)+f}o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):o<65536?(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},zu=function(i){let e=0;for(let r=0;r<i.length;r++){const s=i.charCodeAt(r);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,r++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=1e3,fR=2,dR=4*60*60*1e3,hR=.5;function sy(i,e=cR,r=fR){const s=e*Math.pow(r,i),o=Math.round(hR*s*(Math.random()-.5)*2);return Math.min(dR,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(i){return i&&i._delegate?i._delegate:i}class Gn{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new ku;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gR(e))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gr){return this.instances.has(e)}getOptions(e=Gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[u,f]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);s===h&&f.resolve(o)}return o}onInit(e,r){var s;const o=this.normalizeInstanceIdentifier(r),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const o of s)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pR(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Gr){return this.component?this.component.multipleInstances?e:Gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pR(i){return i===Gr?void 0:i}function gR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new mR(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ye||(Ye={}));const yR={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},vR=Ye.INFO,ER={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},bR=(i,e,...r)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=ER[e];if(o)console[o](`[${s}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hu{constructor(e){this.name=e,this._logLevel=vR,this._logHandler=bR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const SR=(i,e)=>e.some(r=>i instanceof r);let ly,oy;function TR(){return ly||(ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wR(){return oy||(oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tE=new WeakMap,Ud=new WeakMap,nE=new WeakMap,gd=new WeakMap,Eh=new WeakMap;function CR(i){const e=new Promise((r,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{r(ur(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(r=>{r instanceof IDBCursor&&tE.set(r,i)}).catch(()=>{}),Eh.set(e,i),e}function RR(i){if(Ud.has(i))return;const e=new Promise((r,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{r(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Ud.set(i,e)}let kd={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return Ud.get(i);if(e==="objectStoreNames")return i.objectStoreNames||nE.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ur(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function AR(i){kd=i(kd)}function NR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=i.call(_d(this),e,...r);return nE.set(s,e.sort?e.sort():[e]),ur(s)}:wR().includes(i)?function(...e){return i.apply(_d(this),e),ur(tE.get(this))}:function(...e){return ur(i.apply(_d(this),e))}}function DR(i){return typeof i=="function"?NR(i):(i instanceof IDBTransaction&&RR(i),SR(i,TR())?new Proxy(i,kd):i)}function ur(i){if(i instanceof IDBRequest)return CR(i);if(gd.has(i))return gd.get(i);const e=DR(i);return e!==i&&(gd.set(i,e),Eh.set(e,i)),e}const _d=i=>Eh.get(i);function iE(i,e,{blocked:r,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),h=ur(f);return s&&f.addEventListener("upgradeneeded",m=>{s(ur(f.result),m.oldVersion,m.newVersion,ur(f.transaction),m)}),r&&f.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),h.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const OR=["get","getKey","getAll","getAllKeys","count"],MR=["put","add","delete","clear"],yd=new Map;function uy(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(yd.get(e))return yd.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,o=MR.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(o||OR.includes(r)))return;const u=async function(f,...h){const m=this.transaction(f,o?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(h.shift())),(await Promise.all([p[r](...h),o&&m.done]))[0]};return yd.set(e,u),u}AR(i=>({...i,get:(e,r,s)=>uy(e,r)||i.get(e,r,s),has:(e,r)=>!!uy(e,r)||i.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(IR(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function IR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zd="@firebase/app",cy="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new Hu("@firebase/app"),LR="@firebase/app-compat",UR="@firebase/analytics-compat",kR="@firebase/analytics",zR="@firebase/app-check-compat",HR="@firebase/app-check",PR="@firebase/auth",BR="@firebase/auth-compat",jR="@firebase/database",qR="@firebase/data-connect",FR="@firebase/database-compat",VR="@firebase/functions",GR="@firebase/functions-compat",YR="@firebase/installations",QR="@firebase/installations-compat",KR="@firebase/messaging",XR="@firebase/messaging-compat",$R="@firebase/performance",WR="@firebase/performance-compat",ZR="@firebase/remote-config",JR="@firebase/remote-config-compat",eA="@firebase/storage",tA="@firebase/storage-compat",nA="@firebase/firestore",iA="@firebase/vertexai",rA="@firebase/firestore-compat",aA="firebase",sA="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="[DEFAULT]",lA={[zd]:"fire-core",[LR]:"fire-core-compat",[kR]:"fire-analytics",[UR]:"fire-analytics-compat",[HR]:"fire-app-check",[zR]:"fire-app-check-compat",[PR]:"fire-auth",[BR]:"fire-auth-compat",[jR]:"fire-rtdb",[qR]:"fire-data-connect",[FR]:"fire-rtdb-compat",[VR]:"fire-fn",[GR]:"fire-fn-compat",[YR]:"fire-iid",[QR]:"fire-iid-compat",[KR]:"fire-fcm",[XR]:"fire-fcm-compat",[$R]:"fire-perf",[WR]:"fire-perf-compat",[ZR]:"fire-rc",[JR]:"fire-rc-compat",[eA]:"fire-gcs",[tA]:"fire-gcs-compat",[nA]:"fire-fst",[rA]:"fire-fst-compat",[iA]:"fire-vertex","fire-js":"fire-js",[aA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new Map,oA=new Map,Pd=new Map;function fy(i,e){try{i.container.addComponent(e)}catch(r){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function ii(i){const e=i.name;if(Pd.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;Pd.set(e,i);for(const r of pu.values())fy(r,i);for(const r of oA.values())fy(r,i);return!0}function Ol(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}function al(i){return i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new sa("app","Firebase",uA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,r,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=sA;function rE(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Hd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw cr.create("bad-app-name",{appName:String(o)});if(r||(r=Xv()),!r)throw cr.create("no-options");const u=pu.get(o);if(u){if(mu(r,u.options)&&mu(s,u.config))return u;throw cr.create("duplicate-app",{appName:o})}const f=new _R(o);for(const m of Pd.values())f.addComponent(m);const h=new cA(r,s,f);return pu.set(o,h),h}function aE(i=Hd){const e=pu.get(i);if(!e&&i===Hd&&Xv())return rE();if(!e)throw cr.create("no-app",{appName:i});return e}function Mn(i,e,r){var s;let o=(s=lA[i])!==null&&s!==void 0?s:i;r&&(o+=`-${r}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const h=[`Unable to register library "${o}" with version "${e}":`];u&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&h.push("and"),f&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(h.join(" "));return}ii(new Gn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="firebase-heartbeat-database",dA=1,_l="firebase-heartbeat-store";let vd=null;function sE(){return vd||(vd=iE(fA,dA,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(_l)}catch(r){console.warn(r)}}}}).catch(i=>{throw cr.create("idb-open",{originalErrorMessage:i.message})})),vd}async function hA(i){try{const r=(await sE()).transaction(_l),s=await r.objectStore(_l).get(lE(i));return await r.done,s}catch(e){if(e instanceof Ii)Mi.warn(e.message);else{const r=cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(r.message)}}}async function dy(i,e){try{const s=(await sE()).transaction(_l,"readwrite");await s.objectStore(_l).put(e,lE(i)),await s.done}catch(r){if(r instanceof Ii)Mi.warn(r.message);else{const s=cr.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Mi.warn(s.message)}}}function lE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=1024,pA=30*24*60*60*1e3;class gA{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new yA(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=hy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const h=new Date(f.date).valueOf();return Date.now()-h<=pA}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Mi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=hy(),{heartbeatsToSend:s,unsentEntries:o}=_A(this._heartbeatsCache.heartbeats),u=fu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return Mi.warn(r),""}}}function hy(){return new Date().toISOString().substring(0,10)}function _A(i,e=mA){const r=[];let s=i.slice();for(const o of i){const u=r.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),my(r)>e){u.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),my(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class yA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zv()?Jv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await hA(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return dy(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return dy(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function my(i){return fu(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(i){ii(new Gn("platform-logger",e=>new xR(e),"PRIVATE")),ii(new Gn("heartbeat",e=>new gA(e),"PRIVATE")),Mn(zd,cy,i),Mn(zd,cy,"esm2017"),Mn("fire-js","")}vA("");var EA="firebase",bA="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn(EA,bA,"app");const oE="@firebase/installations",bh="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=1e4,cE=`w:${bh}`,fE="FIS_v2",SA="https://firebaseinstallations.googleapis.com/v1",TA=60*60*1e3,wA="installations",CA="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Jr=new sa(wA,CA,RA);function dE(i){return i instanceof Ii&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE({projectId:i}){return`${SA}/projects/${i}/installations`}function mE(i){return{token:i.token,requestStatus:2,expiresIn:NA(i.expiresIn),creationTime:Date.now()}}async function pE(i,e){const s=(await e.json()).error;return Jr.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function gE({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function AA(i,{refreshToken:e}){const r=gE(i);return r.append("Authorization",DA(e)),r}async function _E(i){const e=await i();return e.status>=500&&e.status<600?i():e}function NA(i){return Number(i.replace("s","000"))}function DA(i){return`${fE} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA({appConfig:i,heartbeatServiceProvider:e},{fid:r}){const s=hE(i),o=gE(i),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const f={fid:r,authVersion:fE,appId:i.appId,sdkVersion:cE},h={method:"POST",headers:o,body:JSON.stringify(f)},m=await _E(()=>fetch(s,h));if(m.ok){const p=await m.json();return{fid:p.fid||r,registrationStatus:2,refreshToken:p.refreshToken,authToken:mE(p.authToken)}}else throw await pE("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=/^[cdef][\w-]{21}$/,Bd="";function IA(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const r=LA(i);return xA.test(r)?r:Bd}catch{return Bd}}function LA(i){return MA(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=new Map;function EE(i,e){const r=Bu(i);bE(r,e),UA(r,e)}function bE(i,e){const r=vE.get(i);if(r)for(const s of r)s(e)}function UA(i,e){const r=kA();r&&r.postMessage({key:i,fid:e}),zA()}let Xr=null;function kA(){return!Xr&&"BroadcastChannel"in self&&(Xr=new BroadcastChannel("[Firebase] FID Change"),Xr.onmessage=i=>{bE(i.data.key,i.data.fid)}),Xr}function zA(){vE.size===0&&Xr&&(Xr.close(),Xr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="firebase-installations-database",PA=1,ea="firebase-installations-store";let Ed=null;function Sh(){return Ed||(Ed=iE(HA,PA,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(ea)}}})),Ed}async function gu(i,e){const r=Bu(i),o=(await Sh()).transaction(ea,"readwrite"),u=o.objectStore(ea),f=await u.get(r);return await u.put(e,r),await o.done,(!f||f.fid!==e.fid)&&EE(i,e.fid),e}async function SE(i){const e=Bu(i),s=(await Sh()).transaction(ea,"readwrite");await s.objectStore(ea).delete(e),await s.done}async function ju(i,e){const r=Bu(i),o=(await Sh()).transaction(ea,"readwrite"),u=o.objectStore(ea),f=await u.get(r),h=e(f);return h===void 0?await u.delete(r):await u.put(h,r),await o.done,h&&(!f||f.fid!==h.fid)&&EE(i,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(i){let e;const r=await ju(i.appConfig,s=>{const o=BA(s),u=jA(i,o);return e=u.registrationPromise,u.installationEntry});return r.fid===Bd?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function BA(i){const e=i||{fid:IA(),registrationStatus:0};return TE(e)}function jA(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Jr.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=qA(i,r);return{installationEntry:r,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:FA(i)}:{installationEntry:e}}async function qA(i,e){try{const r=await OA(i,e);return gu(i.appConfig,r)}catch(r){throw dE(r)&&r.customData.serverCode===409?await SE(i.appConfig):await gu(i.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function FA(i){let e=await py(i.appConfig);for(;e.registrationStatus===1;)await yE(100),e=await py(i.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:s}=await Th(i);return s||r}return e}function py(i){return ju(i,e=>{if(!e)throw Jr.create("installation-not-found");return TE(e)})}function TE(i){return VA(i)?{fid:i.fid,registrationStatus:0}:i}function VA(i){return i.registrationStatus===1&&i.registrationTime+uE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GA({appConfig:i,heartbeatServiceProvider:e},r){const s=YA(i,r),o=AA(i,r),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const f={installation:{sdkVersion:cE,appId:i.appId}},h={method:"POST",headers:o,body:JSON.stringify(f)},m=await _E(()=>fetch(s,h));if(m.ok){const p=await m.json();return mE(p)}else throw await pE("Generate Auth Token",m)}function YA(i,{fid:e}){return`${hE(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(i,e=!1){let r;const s=await ju(i.appConfig,u=>{if(!wE(u))throw Jr.create("not-registered");const f=u.authToken;if(!e&&XA(f))return u;if(f.requestStatus===1)return r=QA(i,e),u;{if(!navigator.onLine)throw Jr.create("app-offline");const h=WA(u);return r=KA(i,h),h}});return r?await r:s.authToken}async function QA(i,e){let r=await gy(i.appConfig);for(;r.authToken.requestStatus===1;)await yE(100),r=await gy(i.appConfig);const s=r.authToken;return s.requestStatus===0?wh(i,e):s}function gy(i){return ju(i,e=>{if(!wE(e))throw Jr.create("not-registered");const r=e.authToken;return ZA(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function KA(i,e){try{const r=await GA(i,e),s=Object.assign(Object.assign({},e),{authToken:r});return await gu(i.appConfig,s),r}catch(r){if(dE(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await SE(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await gu(i.appConfig,s)}throw r}}function wE(i){return i!==void 0&&i.registrationStatus===2}function XA(i){return i.requestStatus===2&&!$A(i)}function $A(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+TA}function WA(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function ZA(i){return i.requestStatus===1&&i.requestTime+uE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(i){const e=i,{installationEntry:r,registrationPromise:s}=await Th(e);return s?s.catch(console.error):wh(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1(i,e=!1){const r=i;return await t1(r),(await wh(r,e)).token}async function t1(i){const{registrationPromise:e}=await Th(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(i){if(!i||!i.options)throw bd("App Configuration");if(!i.name)throw bd("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!i.options[r])throw bd(r);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function bd(i){return Jr.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="installations",i1="installations-internal",r1=i=>{const e=i.getProvider("app").getImmediate(),r=n1(e),s=Ol(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},a1=i=>{const e=i.getProvider("app").getImmediate(),r=Ol(e,CE).getImmediate();return{getId:()=>JA(r),getToken:o=>e1(r,o)}};function s1(){ii(new Gn(CE,r1,"PUBLIC")),ii(new Gn(i1,a1,"PRIVATE"))}s1();Mn(oE,bh);Mn(oE,bh,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u="analytics",l1="firebase_id",o1="origin",u1=60*1e3,c1="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ch="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn=new Hu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},dn=new sa("analytics","Analytics",f1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(i){if(!i.startsWith(Ch)){const e=dn.create("invalid-gtag-resource",{gtagURL:i});return tn.warn(e.message),""}return i}function RE(i){return Promise.all(i.map(e=>e.catch(r=>r)))}function h1(i,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(i,e)),r}function m1(i,e){const r=h1("firebase-js-sdk-policy",{createScriptURL:d1}),s=document.createElement("script"),o=`${Ch}?l=${i}&id=${e}`;s.src=r?r==null?void 0:r.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function p1(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function g1(i,e,r,s,o,u){const f=s[o];try{if(f)await e[f];else{const m=(await RE(r)).find(p=>p.measurementId===o);m&&await e[m.appId]}}catch(h){tn.error(h)}i("config",o,u)}async function _1(i,e,r,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const h=await RE(r);for(const m of f){const p=h.find(v=>v.measurementId===m),y=p&&e[p.appId];if(y)u.push(y);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){tn.error(u)}}function y1(i,e,r,s){async function o(u,...f){try{if(u==="event"){const[h,m]=f;await _1(i,e,r,h,m)}else if(u==="config"){const[h,m]=f;await g1(i,e,r,s,h,m)}else if(u==="consent"){const[h,m]=f;i("consent",h,m)}else if(u==="get"){const[h,m,p]=f;i("get",h,m,p)}else if(u==="set"){const[h]=f;i("set",h)}else i(u,...f)}catch(h){tn.error(h)}}return o}function v1(i,e,r,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=y1(u,i,e,r),{gtagCore:u,wrappedGtag:window[o]}}function E1(i){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(Ch)&&r.src.includes(i))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=30,S1=1e3;class T1{constructor(e={},r=S1){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const AE=new T1;function w1(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function C1(i){var e;const{appId:r,apiKey:s}=i,o={method:"GET",headers:w1(s)},u=c1.replace("{app-id}",r),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let h="";try{const m=await f.json();!((e=m.error)===null||e===void 0)&&e.message&&(h=m.error.message)}catch{}throw dn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:h})}return f.json()}async function R1(i,e=AE,r){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw dn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw dn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new D1;return setTimeout(async()=>{h.abort()},u1),NE({appId:s,apiKey:o,measurementId:u},f,h,e)}async function NE(i,{throttleEndTimeMillis:e,backoffCount:r},s,o=AE){var u;const{appId:f,measurementId:h}=i;try{await A1(s,e)}catch(m){if(h)return tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:f,measurementId:h};throw m}try{const m=await C1(i);return o.deleteThrottleMetadata(f),m}catch(m){const p=m;if(!N1(p)){if(o.deleteThrottleMetadata(f),h)return tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:h};throw m}const y=Number((u=p==null?void 0:p.customData)===null||u===void 0?void 0:u.httpStatus)===503?sy(r,o.intervalMillis,b1):sy(r,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+y,backoffCount:r+1};return o.setThrottleMetadata(f,v),tn.debug(`Calling attemptFetch again in ${y} millis`),NE(i,v,s,o)}}function A1(i,e){return new Promise((r,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(r,o);i.addEventListener(()=>{clearTimeout(u),s(dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function N1(i){if(!(i instanceof Ii)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class D1{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function O1(i,e,r,s,o){if(o&&o.global){i("event",r,s);return}else{const u=await e,f=Object.assign(Object.assign({},s),{send_to:u});i("event",r,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M1(){if(Zv())try{await Jv()}catch(i){return tn.warn(dn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return tn.warn(dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function x1(i,e,r,s,o,u,f){var h;const m=R1(i);m.then(S=>{r[S.measurementId]=S.appId,i.options.measurementId&&S.measurementId!==i.options.measurementId&&tn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>tn.error(S)),e.push(m);const p=M1().then(S=>{if(S)return s.getId()}),[y,v]=await Promise.all([m,p]);E1(u)||m1(u,y.measurementId),o("js",new Date);const E=(h=f==null?void 0:f.config)!==null&&h!==void 0?h:{};return E[o1]="firebase",E.update=!0,v!=null&&(E[l1]=v),o("config",y.measurementId,E),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){this.app=e}_delete(){return delete sl[this.app.options.appId],Promise.resolve()}}let sl={},_y=[];const yy={};let Sd="dataLayer",L1="gtag",vy,DE,Ey=!1;function U1(){const i=[];if($v()&&i.push("This is a browser extension environment."),JC()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),r=dn.create("invalid-analytics-context",{errorInfo:e});tn.warn(r.message)}}function k1(i,e,r){U1();const s=i.options.appId;if(!s)throw dn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw dn.create("no-api-key");if(sl[s]!=null)throw dn.create("already-exists",{id:s});if(!Ey){p1(Sd);const{wrappedGtag:u,gtagCore:f}=v1(sl,_y,yy,Sd,L1);DE=u,vy=f,Ey=!0}return sl[s]=x1(i,_y,yy,e,vy,Sd,r),new I1(i)}function z1(i=aE()){i=an(i);const e=Ol(i,_u);return e.isInitialized()?e.getImmediate():H1(i)}function H1(i,e={}){const r=Ol(i,_u);if(r.isInitialized()){const o=r.getImmediate();if(mu(e,r.getOptions()))return o;throw dn.create("already-initialized")}return r.initialize({options:e})}function P1(i,e,r,s){i=an(i),O1(DE,sl[i.app.options.appId],e,r,s).catch(o=>tn.error(o))}const by="@firebase/analytics",Sy="0.10.11";function B1(){ii(new Gn(_u,(e,{options:r})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return k1(s,o,r)},"PUBLIC")),ii(new Gn("analytics-internal",i,"PRIVATE")),Mn(by,Sy),Mn(by,Sy,"esm2017");function i(e){try{const r=e.getProvider(_u).getImmediate();return{logEvent:(s,o,u)=>P1(r,s,o,u)}}catch(r){throw dn.create("interop-component-reg-failed",{reason:r})}}}B1();var Ty={};const wy="@firebase/database",Cy="1.0.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OE="";function j1(i){OE=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,r){r==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Tt(r))}get(e){const r=this.domStorage_.getItem(this.prefixedName_(e));return r==null?null:gl(r)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,r){r==null?delete this.cache_[e]:this.cache_[e]=r}get(e){return li(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new q1(e)}}catch{}return new F1},$r=ME("localStorage"),V1=ME("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new Hu("@firebase/database"),G1=function(){let i=1;return function(){return i++}}(),xE=function(i){const e=uR(i),r=new aR;r.update(e);const s=r.digest();return ph.encodeByteArray(s)},Ml=function(...i){let e="";for(let r=0;r<i.length;r++){const s=i[r];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Ml.apply(null,s):typeof s=="object"?e+=Tt(s):e+=s,e+=" "}return e};let ll=null,Ry=!0;const Y1=function(i,e){K(!0,"Can't turn on custom loggers persistently."),Va.logLevel=Ye.VERBOSE,ll=Va.log.bind(Va)},Gt=function(...i){if(Ry===!0&&(Ry=!1,ll===null&&V1.get("logging_enabled")===!0&&Y1()),ll){const e=Ml.apply(null,i);ll(e)}},xl=function(i){return function(...e){Gt(i,...e)}},jd=function(...i){const e="FIREBASE INTERNAL ERROR: "+Ml(...i);Va.error(e)},xi=function(...i){const e=`FIREBASE FATAL ERROR: ${Ml(...i)}`;throw Va.error(e),new Error(e)},nn=function(...i){const e="FIREBASE WARNING: "+Ml(...i);Va.warn(e)},Q1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&nn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Rh=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},K1=function(i){if(document.readyState==="complete")i();else{let e=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},ta="[MIN_NAME]",pr="[MAX_NAME]",Wa=function(i,e){if(i===e)return 0;if(i===ta||e===pr)return-1;if(e===ta||i===pr)return 1;{const r=Ay(i),s=Ay(e);return r!==null?s!==null?r-s===0?i.length-e.length:r-s:-1:s!==null?1:i<e?-1:1}},X1=function(i,e){return i===e?0:i<e?-1:1},el=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+Tt(e))},Ah=function(i){if(typeof i!="object"||i===null)return Tt(i);const e=[];for(const s in i)e.push(s);e.sort();let r="{";for(let s=0;s<e.length;s++)s!==0&&(r+=","),r+=Tt(e[s]),r+=":",r+=Ah(i[e[s]]);return r+="}",r},IE=function(i,e){const r=i.length;if(r<=e)return[i];const s=[];for(let o=0;o<r;o+=e)o+e>r?s.push(i.substring(o,r)):s.push(i.substring(o,o+e));return s};function rn(i,e){for(const r in i)i.hasOwnProperty(r)&&e(r,i[r])}const LE=function(i){K(!Rh(i),"Invalid JSON number");const e=11,r=52,s=(1<<e-1)-1;let o,u,f,h,m;i===0?(u=0,f=0,o=1/i===-1/0?1:0):(o=i<0,i=Math.abs(i),i>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),s),u=h+s,f=Math.round(i*Math.pow(2,r-h)-Math.pow(2,r))):(u=0,f=Math.round(i/Math.pow(2,1-s-r))));const p=[];for(m=r;m;m-=1)p.push(f%2?1:0),f=Math.floor(f/2);for(m=e;m;m-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(o?1:0),p.reverse();const y=p.join("");let v="";for(m=0;m<64;m+=8){let E=parseInt(y.substr(m,8),2).toString(16);E.length===1&&(E="0"+E),v=v+E}return v.toLowerCase()},$1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},W1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Z1(i,e){let r="Unknown Error";i==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?r="Client doesn't have permission to access the desired data.":i==="unavailable"&&(r="The service is unavailable");const s=new Error(i+" at "+e._path.toString()+": "+r);return s.code=i.toUpperCase(),s}const J1=new RegExp("^-?(0*)\\d{1,10}$"),eN=-2147483648,tN=2147483647,Ay=function(i){if(J1.test(i)){const e=Number(i);if(e>=eN&&e<=tN)return e}return null},Za=function(i){try{i()}catch(e){setTimeout(()=>{const r=e.stack||"";throw nn("Exception was thrown by user callback.",r),e},Math.floor(0))}},nN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ol=function(i,e){const r=setTimeout(i,e);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,r){this.appName_=e,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((r,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(r,s):r(null)},0)})}addTokenChangeListener(e){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){nn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,r,s){this.appName_=e,this.firebaseOptions_=r,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(r=>r&&r.code==="auth/token-not-initialized"?(Gt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(r,s):r(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(r=>r.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(r=>r.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nn(e)}}class ru{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ru.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="5",UE="v",kE="s",zE="r",HE="f",PE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,BE="ls",jE="p",qd="ac",qE="websocket",FE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,r,s,o,u=!1,f="",h=!1,m=!1){this.secure=r,this.namespace=s,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$r.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&$r.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${r}`}}function aN(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function GE(i,e,r){K(typeof e=="string","typeof type must == string"),K(typeof r=="object","typeof params must == object");let s;if(e===qE)s=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===FE)s=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);aN(i)&&(r.ns=i.namespace);const o=[];return rn(r,(u,f)=>{o.push(u+"="+f)}),s+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(){this.counters_={}}incrementCounter(e,r=1){li(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=r}get(){return jC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td={},wd={};function Dh(i){const e=i.toString();return Td[e]||(Td[e]=new sN),Td[e]}function lN(i,e){const r=i.toString();return wd[r]||(wd[r]=e()),wd[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,r){this.closeAfterResponse=e,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,r){for(this.pendingResponses[e]=r;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<s.length;++o)s[o]&&Za(()=>{this.onMessage_(s[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="start",uN="close",cN="pLPCommand",fN="pRTLPCB",YE="id",QE="pw",KE="ser",dN="cb",hN="seg",mN="ts",pN="d",gN="dframe",XE=1870,$E=30,_N=XE-$E,yN=25e3,vN=3e4;class Fa{constructor(e,r,s,o,u,f,h){this.connId=e,this.repoInfo=r,this.applicationId=s,this.appCheckToken=o,this.authToken=u,this.transportSessionId=f,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xl(e),this.stats_=Dh(r),this.urlFn=m=>(this.appCheckToken&&(m[qd]=this.appCheckToken),GE(r,FE,m))}open(e,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new oN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(vN)),K1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Oh((...u)=>{const[f,h,m,p,y]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Ny)this.id=h,this.password=m;else if(f===uN)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[Ny]="t",s[KE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[dN]=this.scriptTagHolder.uniqueCallbackIdentifier),s[UE]=Nh,this.transportSessionId&&(s[kE]=this.transportSessionId),this.lastSessionId&&(s[BE]=this.lastSessionId),this.applicationId&&(s[jE]=this.applicationId),this.appCheckToken&&(s[qd]=this.appCheckToken),typeof location<"u"&&location.hostname&&PE.test(location.hostname)&&(s[zE]=HE);const o=this.urlFn(s);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fa.forceAllow_=!0}static forceDisallow(){Fa.forceDisallow_=!0}static isAvailable(){return Fa.forceAllow_?!0:!Fa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!$1()&&!W1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const r=Tt(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=Qv(r),o=IE(s,_N);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,r){this.myDisconnFrame=document.createElement("iframe");const s={};s[gN]="t",s[YE]=e,s[QE]=r,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const r=Tt(e).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Oh{constructor(e,r,s,o){this.onDisconnect=s,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=G1(),window[cN+this.uniqueCallbackIdentifier]=e,window[fN+this.uniqueCallbackIdentifier]=r,this.myIFrame=Oh.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(h){Gt("frame writing exception"),h.stack&&Gt(h.stack),Gt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Gt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,r){for(this.myID=e,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[YE]=this.myID,e[QE]=this.myPW,e[KE]=this.currentSerial;let r=this.urlFn(e),s="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+$E+s.length<=XE;){const f=this.pendingSegs.shift();s=s+"&"+hN+o+"="+f.seg+"&"+mN+o+"="+f.ts+"&"+pN+o+"="+f.d,o++}return r=r+s,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(e,r,s){this.pendingSegs.push({seg:e,ts:r,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,r){this.outstandingRequests.add(r);const s=()=>{this.outstandingRequests.delete(r),this.newRequest_()},o=setTimeout(s,Math.floor(yN)),u=()=>{clearTimeout(o),s()};this.addTag(e,u)}addTag(e,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const o=s.readyState;(!o||o==="loaded"||o==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),r())},s.onerror=()=>{Gt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=16384,bN=45e3;let yu=null;typeof MozWebSocket<"u"?yu=MozWebSocket:typeof WebSocket<"u"&&(yu=WebSocket);class Bn{constructor(e,r,s,o,u,f,h){this.connId=e,this.applicationId=s,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xl(this.connId),this.stats_=Dh(r),this.connURL=Bn.connectionURL_(r,f,h,o,s),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,s,o,u){const f={};return f[UE]=Nh,typeof location<"u"&&location.hostname&&PE.test(location.hostname)&&(f[zE]=HE),r&&(f[kE]=r),s&&(f[BE]=s),o&&(f[qd]=o),u&&(f[jE]=u),GE(e,qE,f)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$r.set("previous_websocket_failure",!0);try{let s;ZC(),this.mySock=new yu(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Bn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(r);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&yu!==null&&!Bn.forceDisallow_}static previouslyFailed(){return $r.isInMemoryStorage||$r.get("previous_websocket_failure")===!0}markConnectionHealthy(){$r.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const s=gl(r);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(K(this.frames===null,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const s=this.extractFrameCount_(r);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const r=Tt(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=IE(r,EN);s.length>1&&this.sendString_(String(s.length));for(let o=0;o<s.length;o++)this.sendString_(s[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(bN))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Bn.responsesRequiredToBeHealthy=2;Bn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{static get ALL_TRANSPORTS(){return[Fa,Bn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const r=Bn&&Bn.isAvailable();let s=r&&!Bn.previouslyFailed();if(e.webSocketOnly&&(r||nn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Bn];else{const o=this.transports_=[];for(const u of yl.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);yl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}yl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=6e4,TN=5e3,wN=10*1024,CN=100*1024,Cd="t",Dy="d",RN="s",Oy="r",AN="e",My="o",xy="a",Iy="n",Ly="p",NN="h";class DN{constructor(e,r,s,o,u,f,h,m,p,y){this.id=e,this.repoInfo_=r,this.applicationId_=s,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=f,this.onReady_=h,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xl("c:"+this.id+":"),this.transportManager_=new yl(r),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,s)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=ol(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>CN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>wN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return r=>{e===this.conn_?this.onConnectionLost_(r):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return r=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(r):e===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(e){const r={t:"d",d:e};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Cd in e){const r=e[Cd];r===xy?this.upgradeIfSecondaryHealthy_():r===Oy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===My&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const r=el("t",e),s=el("d",e);if(r==="c")this.onSecondaryControl_(s);else if(r==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ly,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:xy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Iy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const r=el("t",e),s=el("d",e);r==="c"?this.onControl_(s):r==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const r=el(Cd,e);if(Dy in e){const s=e[Dy];if(r===NN){const o=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(r===Iy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===RN?this.onConnectionShutdown_(s):r===Oy?this.onReset_(s):r===AN?jd("Server Error: "+s):r===My?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jd("Unknown control packet command: "+r)}}onHandshake_(e){const r=e.ts,s=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Nh!==s&&nn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,s),ol(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(SN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,r){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ol(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(TN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ly,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($r.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{put(e,r,s,o){}merge(e,r,s,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,r,s){}onDisconnectMerge(e,r,s){}onDisconnectCancel(e,r){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.allowedEvents_=e,this.listeners_={},K(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...r){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let o=0;o<s.length;o++)s[o].callback.apply(s[o].context,r)}}on(e,r,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:r,context:s});const o=this.getInitialEvent(e);o&&r.apply(s,o)}off(e,r,s){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===r&&(!s||s===o[u].context)){o.splice(u,1);return}}validateEventType_(e){K(this.allowedEvents_.find(r=>r===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends ZE{static getInstance(){return new vu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!_h()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return K(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=32,ky=768;class Xe{constructor(e,r){if(r===void 0){this.pieces_=e.split("/");let s=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[s]=this.pieces_[o],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=r}toString(){let e="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(e+="/"+this.pieces_[r]);return e||"/"}}function Be(){return new Xe("")}function Me(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function gr(i){return i.pieces_.length-i.pieceNum_}function et(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new Xe(i.pieces_,e)}function JE(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function ON(i){let e="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[r])));return e||"/"}function eb(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function tb(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)e.push(i.pieces_[r]);return new Xe(e,0)}function wt(i,e){const r=[];for(let s=i.pieceNum_;s<i.pieces_.length;s++)r.push(i.pieces_[s]);if(e instanceof Xe)for(let s=e.pieceNum_;s<e.pieces_.length;s++)r.push(e.pieces_[s]);else{const s=e.split("/");for(let o=0;o<s.length;o++)s[o].length>0&&r.push(s[o])}return new Xe(r,0)}function Oe(i){return i.pieceNum_>=i.pieces_.length}function Xt(i,e){const r=Me(i),s=Me(e);if(r===null)return e;if(r===s)return Xt(et(i),et(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function nb(i,e){if(gr(i)!==gr(e))return!1;for(let r=i.pieceNum_,s=e.pieceNum_;r<=i.pieces_.length;r++,s++)if(i.pieces_[r]!==e.pieces_[s])return!1;return!0}function jn(i,e){let r=i.pieceNum_,s=e.pieceNum_;if(gr(i)>gr(e))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==e.pieces_[s])return!1;++r,++s}return!0}class MN{constructor(e,r){this.errorPrefix_=r,this.parts_=eb(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=zu(this.parts_[s]);ib(this)}}function xN(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=zu(e),ib(i)}function IN(i){const e=i.parts_.pop();i.byteLength_-=zu(e),i.parts_.length>0&&(i.byteLength_-=1)}function ib(i){if(i.byteLength_>ky)throw new Error(i.errorPrefix_+"has a key path longer than "+ky+" bytes ("+i.byteLength_+").");if(i.parts_.length>Uy)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Uy+") or object contains a cycle "+Yr(i))}function Yr(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends ZE{static getInstance(){return new Mh}constructor(){super(["visible"]);let e,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return K(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=1e3,LN=60*5*1e3,zy=30*1e3,UN=1.3,kN=3e4,zN="server_kill",Hy=3;class Oi extends WE{constructor(e,r,s,o,u,f,h,m){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=s,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=Oi.nextPersistentConnectionId_++,this.log_=xl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=tl,this.maxReconnectDelay_=LN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Mh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&vu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,s){const o=++this.requestNumber_,u={r:o,a:e,b:r};this.log_(Tt(u)),K(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[o]=s)}get(e){this.initConnection_();const r=new ku,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const h=f.d;f.s==="ok"?r.resolve(h):r.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),r.promise}listen(e,r,s,o){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),K(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:r,query:e,tag:s};this.listens.get(f).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(s)})}sendListen_(e){const r=e.query,s=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+s+" for "+o);const u={p:s},f="q";e.tag&&(u.q=r._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,h=>{const m=h.d,p=h.s;Oi.warnOnListenWarnings_(m,r),(this.listens.get(s)&&this.listens.get(s).get(o))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(s,o),e.onComplete&&e.onComplete(p,m))})}static warnOnListenWarnings_(e,r){if(e&&typeof e=="object"&&li(e,"w")){const s=Qa(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();nn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||rR(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zy)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=iR(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(r,s,o=>{const u=o.s,f=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,s=e.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,s)})}unlisten(e,r){const s=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+o),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,o)&&this.connected_&&this.sendUnlisten_(s,o,e._queryObject,r)}sendUnlisten_(e,r,s,o){this.log_("Unlisten on "+e+" for "+r);const u={p:e},f="n";o&&(u.q=s,u.t=o),this.sendRequest(f,u)}onDisconnectPut(e,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:s})}onDisconnectMerge(e,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:s})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,s,o){const u={p:r,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(e,r,s,o){this.putInternal("p",e,r,s,o)}merge(e,r,s,o){this.putInternal("m",e,r,s,o)}putInternal(e,r,s,o,u){this.initConnection_();const f={p:r,d:s};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,s,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Tt(e));const r=e.r,s=this.requestCBHash_[r];s&&(delete this.requestCBHash_[r],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),e==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):e==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):e==="c"?this.onListenRevoked_(r.p,r.q):e==="ac"?this.onAuthRevoked_(r.s,r.d):e==="apc"?this.onAppCheckRevoked_(r.s,r.d):e==="sd"?this.onSecurityDebugPacket_(r):jd("Unrecognized action received from server: "+Tt(e)+`
Are you using the latest client?`)}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){K(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=tl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=tl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>kN&&(this.reconnectDelay_=tl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*UN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Oi.nextConnectionId_++,u=this.lastSessionId;let f=!1,h=null;const m=function(){h?h.close():(f=!0,s())},p=function(v){K(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(v)};this.realtime_={close:m,sendRequest:p};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,E]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);f?Gt("getToken() completed but was canceled"):(Gt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=E&&E.token,h=new DN(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,r,s,S=>{nn(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(zN)},u))}catch(v){this.log_("Failed to get token: "+v),f||(this.repoInfo_.nodeAdmin&&nn(v),m())}}}interrupt(e){Gt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Gt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ry(this.interruptReasons_)&&(this.reconnectDelay_=tl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let s;r?s=r.map(u=>Ah(u)).join("$"):s="default";const o=this.removeListen_(e,s);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,r){const s=new Xe(e).toString();let o;if(this.listens.has(s)){const u=this.listens.get(s);o=u.get(r),u.delete(r),u.size===0&&this.listens.delete(s)}else o=void 0;return o}onAuthRevoked_(e,r){Gt("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Hy&&(this.reconnectDelay_=zy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){Gt("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Hy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";e["sdk."+r+"."+OE.replace(/\./g,"-")]=1,_h()?e["framework.cordova"]=1:Wv()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=vu.getInstance().currentlyOnline();return ry(this.interruptReasons_)&&e}}Oi.nextPersistentConnectionId_=0;Oi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,r){this.name=e,this.node=r}static Wrap(e,r){return new Ae(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,r){const s=new Ae(ta,e),o=new Ae(ta,r);return this.compare(s,o)!==0}minPost(){return Ae.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo;class rb extends qu{static get __EMPTY_NODE(){return Zo}static set __EMPTY_NODE(e){Zo=e}compare(e,r){return Wa(e.name,r.name)}isDefinedOn(e){throw $a("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,r){return!1}minPost(){return Ae.MIN}maxPost(){return new Ae(pr,Zo)}makePost(e,r){return K(typeof e=="string","KeyIndex indexValue must always be a string."),new Ae(e,Zo)}toString(){return".key"}}const fr=new rb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,r,s,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=r?s(e.key,r):1,o&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(e.key,e.value):r={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class It{constructor(e,r,s,o,u){this.key=e,this.value=r,this.color=s??It.RED,this.left=o??en.EMPTY_NODE,this.right=u??en.EMPTY_NODE}copy(e,r,s,o,u){return new It(e??this.key,r??this.value,s??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let o=this;const u=s(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,r,s),null):u===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,r,s)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return en.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let s,o;if(s=this,r(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),r(e,s.key)===0){if(s.right.isEmpty())return en.EMPTY_NODE;o=s.right.min_(),s=s.copy(o.key,o.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}It.RED=!0;It.BLACK=!1;class HN{copy(e,r,s,o,u){return this}insert(e,r,s){return new It(e,r,null)}remove(e,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class en{constructor(e,r=en.EMPTY_NODE){this.comparator_=e,this.root_=r}insert(e,r){return new en(this.comparator_,this.root_.insert(e,r,this.comparator_).copy(null,null,It.BLACK,null,null))}remove(e){return new en(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,It.BLACK,null,null))}get(e){let r,s=this.root_;for(;!s.isEmpty();){if(r=this.comparator_(e,s.key),r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}getPredecessorKey(e){let r,s=this.root_,o=null;for(;!s.isEmpty();)if(r=this.comparator_(e,s.key),r===0){if(s.left.isEmpty())return o?o.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else r<0?s=s.left:r>0&&(o=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Jo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,r){return new Jo(this.root_,e,this.comparator_,!1,r)}getReverseIteratorFrom(e,r){return new Jo(this.root_,e,this.comparator_,!0,r)}getReverseIterator(e){return new Jo(this.root_,null,this.comparator_,!0,e)}}en.EMPTY_NODE=new HN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(i,e){return Wa(i.name,e.name)}function xh(i,e){return Wa(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd;function BN(i){Fd=i}const ab=function(i){return typeof i=="number"?"number:"+LE(i):"string:"+i},sb=function(i){if(i.isLeafNode()){const e=i.val();K(typeof e=="string"||typeof e=="number"||typeof e=="object"&&li(e,".sv"),"Priority must be a string or number.")}else K(i===Fd||i.isEmpty(),"priority of unexpected type.");K(i===Fd||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Py;class xt{static set __childrenNodeConstructor(e){Py=e}static get __childrenNodeConstructor(){return Py}constructor(e,r=xt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,K(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),sb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new xt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:xt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Oe(e)?this:Me(e)===".priority"?this.priorityNode_:xt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return e===".priority"?this.updatePriority(r):r.isEmpty()&&e!==".priority"?this:xt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const s=Me(e);return s===null?r:r.isEmpty()&&s!==".priority"?this:(K(s!==".priority"||gr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,xt.__childrenNodeConstructor.EMPTY_NODE.updateChild(et(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ab(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",r==="number"?e+=LE(this.value_):e+=this.value_,this.lazyHash_=xE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===xt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof xt.__childrenNodeConstructor?-1:(K(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,s=typeof this.value_,o=xt.VALUE_TYPE_ORDER.indexOf(r),u=xt.VALUE_TYPE_ORDER.indexOf(s);return K(o>=0,"Unknown leaf type: "+r),K(u>=0,"Unknown leaf type: "+s),o===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}xt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lb,ob;function jN(i){lb=i}function qN(i){ob=i}class FN extends qu{compare(e,r){const s=e.node.getPriority(),o=r.node.getPriority(),u=s.compareTo(o);return u===0?Wa(e.name,r.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,r){return!e.getPriority().equals(r.getPriority())}minPost(){return Ae.MIN}maxPost(){return new Ae(pr,new xt("[PRIORITY-POST]",ob))}makePost(e,r){const s=lb(e);return new Ae(r,new xt("[PRIORITY-POST]",s))}toString(){return".priority"}}const lt=new FN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=Math.log(2);class GN{constructor(e){const r=u=>parseInt(Math.log(u)/VN,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=r(e+1),this.current_=this.count-1;const o=s(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Eu=function(i,e,r,s){i.sort(e);const o=function(m,p){const y=p-m;let v,E;if(y===0)return null;if(y===1)return v=i[m],E=r?r(v):v,new It(E,v.node,It.BLACK,null,null);{const S=parseInt(y/2,10)+m,N=o(m,S),H=o(S+1,p);return v=i[S],E=r?r(v):v,new It(E,v.node,It.BLACK,N,H)}},u=function(m){let p=null,y=null,v=i.length;const E=function(N,H){const z=v-N,P=v;v-=N;const Q=o(z+1,P),Z=i[z],de=r?r(Z):Z;S(new It(de,Z.node,H,null,Q))},S=function(N){p?(p.left=N,p=N):(y=N,p=N)};for(let N=0;N<m.count;++N){const H=m.nextBitIsOne(),z=Math.pow(2,m.count-(N+1));H?E(z,It.BLACK):(E(z,It.BLACK),E(z,It.RED))}return y},f=new GN(i.length),h=u(f);return new en(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd;const qa={};class Di{static get Default(){return K(qa&&lt,"ChildrenNode.ts has not been loaded"),Rd=Rd||new Di({".priority":qa},{".priority":lt}),Rd}constructor(e,r){this.indexes_=e,this.indexSet_=r}get(e){const r=Qa(this.indexes_,e);if(!r)throw new Error("No index defined for "+e);return r instanceof en?r:null}hasIndex(e){return li(this.indexSet_,e.toString())}addIndex(e,r){K(e!==fr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let o=!1;const u=r.getIterator(Ae.Wrap);let f=u.getNext();for(;f;)o=o||e.isDefinedOn(f.node),s.push(f),f=u.getNext();let h;o?h=Eu(s,e.getCompare()):h=qa;const m=e.toString(),p=Object.assign({},this.indexSet_);p[m]=e;const y=Object.assign({},this.indexes_);return y[m]=h,new Di(y,p)}addToIndexes(e,r){const s=hu(this.indexes_,(o,u)=>{const f=Qa(this.indexSet_,u);if(K(f,"Missing index implementation for "+u),o===qa)if(f.isDefinedOn(e.node)){const h=[],m=r.getIterator(Ae.Wrap);let p=m.getNext();for(;p;)p.name!==e.name&&h.push(p),p=m.getNext();return h.push(e),Eu(h,f.getCompare())}else return qa;else{const h=r.get(e.name);let m=o;return h&&(m=m.remove(new Ae(e.name,h))),m.insert(e,e.node)}});return new Di(s,this.indexSet_)}removeFromIndexes(e,r){const s=hu(this.indexes_,o=>{if(o===qa)return o;{const u=r.get(e.name);return u?o.remove(new Ae(e.name,u)):o}});return new Di(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl;class ge{static get EMPTY_NODE(){return nl||(nl=new ge(new en(xh),null,Di.Default))}constructor(e,r,s){this.children_=e,this.priorityNode_=r,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&sb(this.priorityNode_),this.children_.isEmpty()&&K(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||nl}updatePriority(e){return this.children_.isEmpty()?this:new ge(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const r=this.children_.get(e);return r===null?nl:r}}getChild(e){const r=Me(e);return r===null?this:this.getImmediateChild(r).getChild(et(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,r){if(K(r,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(r);{const s=new Ae(e,r);let o,u;r.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(o=this.children_.insert(e,r),u=this.indexMap_.addToIndexes(s,this.children_));const f=o.isEmpty()?nl:this.priorityNode_;return new ge(o,f,u)}}updateChild(e,r){const s=Me(e);if(s===null)return r;{K(Me(e)!==".priority"||gr(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(s).updateChild(et(e),r);return this.updateImmediateChild(s,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let s=0,o=0,u=!0;if(this.forEachChild(lt,(f,h)=>{r[f]=h.val(e),s++,u&&ge.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):u=!1}),!e&&u&&o<2*s){const f=[];for(const h in r)f[h]=r[h];return f}else return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+ab(this.getPriority().val())+":"),this.forEachChild(lt,(r,s)=>{const o=s.hash();o!==""&&(e+=":"+r+":"+o)}),this.lazyHash_=e===""?"":xE(e)}return this.lazyHash_}getPredecessorChildName(e,r,s){const o=this.resolveIndex_(s);if(o){const u=o.getPredecessorKey(new Ae(e,r));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const s=r.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new Ae(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const s=r.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new Ae(r,this.children_.get(r)):null}forEachChild(e,r){const s=this.resolveIndex_(e);return s?s.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const s=this.resolveIndex_(r);if(s)return s.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,Ae.Wrap);let u=o.peek();for(;u!=null&&r.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const s=this.resolveIndex_(r);if(s)return s.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,Ae.Wrap);let u=o.peek();for(;u!=null&&r.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Il?-1:0}withIndex(e){if(e===fr||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new ge(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===fr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const s=this.getIterator(lt),o=r.getIterator(lt);let u=s.getNext(),f=o.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=s.getNext(),f=o.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===fr?null:this.indexMap_.get(e.toString())}}ge.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class YN extends ge{constructor(){super(new en(xh),ge.EMPTY_NODE,Di.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ge.EMPTY_NODE}isEmpty(){return!1}}const Il=new YN;Object.defineProperties(Ae,{MIN:{value:new Ae(ta,ge.EMPTY_NODE)},MAX:{value:new Ae(pr,Il)}});rb.__EMPTY_NODE=ge.EMPTY_NODE;xt.__childrenNodeConstructor=ge;BN(Il);qN(Il);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=!0;function Lt(i,e=null){if(i===null)return ge.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),K(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new xt(r,Lt(e))}if(!(i instanceof Array)&&QN){const r=[];let s=!1;if(rn(i,(f,h)=>{if(f.substring(0,1)!=="."){const m=Lt(h);m.isEmpty()||(s=s||!m.getPriority().isEmpty(),r.push(new Ae(f,m)))}}),r.length===0)return ge.EMPTY_NODE;const u=Eu(r,PN,f=>f.name,xh);if(s){const f=Eu(r,lt.getCompare());return new ge(u,Lt(e),new Di({".priority":f},{".priority":lt}))}else return new ge(u,Lt(e),Di.Default)}else{let r=ge.EMPTY_NODE;return rn(i,(s,o)=>{if(li(i,s)&&s.substring(0,1)!=="."){const u=Lt(o);(u.isLeafNode()||!u.isEmpty())&&(r=r.updateImmediateChild(s,u))}}),r.updatePriority(Lt(e))}}jN(Lt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub extends qu{constructor(e){super(),this.indexPath_=e,K(!Oe(e)&&Me(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,r){const s=this.extractChild(e.node),o=this.extractChild(r.node),u=s.compareTo(o);return u===0?Wa(e.name,r.name):u}makePost(e,r){const s=Lt(e),o=ge.EMPTY_NODE.updateChild(this.indexPath_,s);return new Ae(r,o)}maxPost(){const e=ge.EMPTY_NODE.updateChild(this.indexPath_,Il);return new Ae(pr,e)}toString(){return eb(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN extends qu{compare(e,r){const s=e.node.compareTo(r.node);return s===0?Wa(e.name,r.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,r){return!e.equals(r)}minPost(){return Ae.MIN}maxPost(){return Ae.MAX}makePost(e,r){const s=Lt(e);return new Ae(r,s)}toString(){return".value"}}const cb=new KN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(i){return{type:"value",snapshotNode:i}}function Ka(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function vl(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function El(i,e,r){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:r}}function XN(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e){this.index_=e}updateChild(e,r,s,o,u,f){K(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(r);return h.getChild(o).equals(s.getChild(o))&&h.isEmpty()===s.isEmpty()||(f!=null&&(s.isEmpty()?e.hasChild(r)?f.trackChildChange(vl(r,h)):K(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?f.trackChildChange(Ka(r,s)):f.trackChildChange(El(r,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(r,s).withIndex(this.index_)}updateFullNode(e,r,s){return s!=null&&(e.isLeafNode()||e.forEachChild(lt,(o,u)=>{r.hasChild(o)||s.trackChildChange(vl(o,u))}),r.isLeafNode()||r.forEachChild(lt,(o,u)=>{if(e.hasChild(o)){const f=e.getImmediateChild(o);f.equals(u)||s.trackChildChange(El(o,u,f))}else s.trackChildChange(Ka(o,u))})),r.withIndex(this.index_)}updatePriority(e,r){return e.isEmpty()?ge.EMPTY_NODE:e.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this.indexedFilter_=new Ih(e.getIndex()),this.index_=e.getIndex(),this.startPost_=bl.getStartPost_(e),this.endPost_=bl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return r&&s}updateChild(e,r,s,o,u,f){return this.matches(new Ae(r,s))||(s=ge.EMPTY_NODE),this.indexedFilter_.updateChild(e,r,s,o,u,f)}updateFullNode(e,r,s){r.isLeafNode()&&(r=ge.EMPTY_NODE);let o=r.withIndex(this.index_);o=o.updatePriority(ge.EMPTY_NODE);const u=this;return r.forEachChild(lt,(f,h)=>{u.matches(new Ae(f,h))||(o=o.updateImmediateChild(f,ge.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,s)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const r=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),r)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const r=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),r)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=r=>{const s=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new bl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,r,s,o,u,f){return this.rangedFilter_.matches(new Ae(r,s))||(s=ge.EMPTY_NODE),e.getImmediateChild(r).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,r,s,o,u,f):this.fullLimitUpdateChild_(e,r,s,u,f)}updateFullNode(e,r,s){let o;if(r.isLeafNode()||r.isEmpty())o=ge.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){o=ge.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),f++;else break;else continue}}else{o=r.withIndex(this.index_),o=o.updatePriority(ge.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let f=0;for(;u.hasNext();){const h=u.getNext();f<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?f++:o=o.updateImmediateChild(h.name,ge.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,s)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,r,s,o,u){let f;if(this.reverse_){const v=this.index_.getCompare();f=(E,S)=>v(S,E)}else f=this.index_.getCompare();const h=e;K(h.numChildren()===this.limit_,"");const m=new Ae(r,s),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),y=this.rangedFilter_.matches(m);if(h.hasChild(r)){const v=h.getImmediateChild(r);let E=o.getChildAfterChild(this.index_,p,this.reverse_);for(;E!=null&&(E.name===r||h.hasChild(E.name));)E=o.getChildAfterChild(this.index_,E,this.reverse_);const S=E==null?1:f(E,m);if(y&&!s.isEmpty()&&S>=0)return u!=null&&u.trackChildChange(El(r,s,v)),h.updateImmediateChild(r,s);{u!=null&&u.trackChildChange(vl(r,v));const H=h.updateImmediateChild(r,ge.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(u!=null&&u.trackChildChange(Ka(E.name,E.node)),H.updateImmediateChild(E.name,E.node)):H}}else return s.isEmpty()?e:y&&f(p,m)>=0?(u!=null&&(u.trackChildChange(vl(p.name,p.node)),u.trackChildChange(Ka(r,s))),h.updateImmediateChild(r,s).updateImmediateChild(p.name,ge.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=lt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return K(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return K(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ta}hasEnd(){return this.endSet_}getIndexEndValue(){return K(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return K(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return K(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===lt}copy(){const e=new Lh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function WN(i){return i.loadsAllData()?new Ih(i.getIndex()):i.hasLimit()?new $N(i):new bl(i)}function ZN(i,e){const r=i.copy();return r.limitSet_=!0,r.limit_=e,r.viewFrom_="l",r}function JN(i,e,r){const s=i.copy();return s.startSet_=!0,e===void 0&&(e=null),s.indexStartValue_=e,r!=null?(s.startNameSet_=!0,s.indexStartName_=r):(s.startNameSet_=!1,s.indexStartName_=""),s}function eD(i,e){const r=i.copy();return r.index_=e,r}function By(i){const e={};if(i.isDefault())return e;let r;if(i.index_===lt?r="$priority":i.index_===cb?r="$value":i.index_===fr?r="$key":(K(i.index_ instanceof ub,"Unrecognized index type!"),r=i.index_.toString()),e.orderBy=Tt(r),i.startSet_){const s=i.startAfterSet_?"startAfter":"startAt";e[s]=Tt(i.indexStartValue_),i.startNameSet_&&(e[s]+=","+Tt(i.indexStartName_))}if(i.endSet_){const s=i.endBeforeSet_?"endBefore":"endAt";e[s]=Tt(i.indexEndValue_),i.endNameSet_&&(e[s]+=","+Tt(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function jy(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),e.vf=r}return i.index_!==lt&&(e.i=i.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends WE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,r){return r!==void 0?"tag$"+r:(K(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,r,s,o){super(),this.repoInfo_=e,this.onDataUpdate_=r,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.log_=xl("p:rest:"),this.listens_={}}listen(e,r,s,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=bu.getListenId_(e,s),h={};this.listens_[f]=h;const m=By(e._queryParams);this.restRequest_(u+".json",m,(p,y)=>{let v=y;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(u,v,!1,s),Qa(this.listens_,f)===h){let E;p?p===401?E="permission_denied":E="rest_error:"+p:E="ok",o(E,null)}})}unlisten(e,r){const s=bu.getListenId_(e,r);delete this.listens_[s]}get(e){const r=By(e._queryParams),s=e._path.toString(),o=new ku;return this.restRequest_(s+".json",r,(u,f)=>{let h=f;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(s,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,r={},s){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(r.auth=o.accessToken),u&&u.token&&(r.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+yh(r);this.log_("Sending REST request for "+f);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=gl(h.responseText)}catch{nn("Failed to parse JSON response for "+f+": "+h.responseText)}s(null,m)}else h.status!==401&&h.status!==404&&nn("Got unsuccessful REST response for "+f+" Status: "+h.status),s(h.status);s=null}},h.open("GET",f,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.rootNode_=ge.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,r){this.rootNode_=this.rootNode_.updateChild(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(){return{value:null,children:new Map}}function db(i,e,r){if(Oe(e))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,r);else{const s=Me(e);i.children.has(s)||i.children.set(s,Su());const o=i.children.get(s);e=et(e),db(o,e,r)}}function Vd(i,e,r){i.value!==null?r(e,i.value):nD(i,(s,o)=>{const u=new Xe(e.toString()+"/"+s);Vd(o,u,r)})}function nD(i,e){i.children.forEach((r,s)=>{e(s,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),r=Object.assign({},e);return this.last_&&rn(this.last_,(s,o)=>{r[s]=r[s]-o}),this.last_=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=10*1e3,rD=30*1e3,aD=5*60*1e3;class sD{constructor(e,r){this.server_=r,this.statsToReport_={},this.statsListener_=new iD(e);const s=qy+(rD-qy)*Math.random();ol(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),r={};let s=!1;rn(e,(o,u)=>{u>0&&li(this.statsToReport_,o)&&(r[o]=u,s=!0)}),s&&this.server_.reportStats(r),ol(this.reportStats_.bind(this),Math.floor(Math.random()*2*aD))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qn;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(qn||(qn={}));function hb(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Uh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function kh(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,r,s){this.path=e,this.affectedTree=r,this.revert=s,this.type=qn.ACK_USER_WRITE,this.source=hb()}operationForChild(e){if(Oe(this.path)){if(this.affectedTree.value!=null)return K(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new Xe(e));return new Tu(Be(),r,this.revert)}}else return K(Me(this.path)===e,"operationForChild called for unrelated child."),new Tu(et(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,r){this.source=e,this.path=r,this.type=qn.LISTEN_COMPLETE}operationForChild(e){return Oe(this.path)?new Sl(this.source,Be()):new Sl(this.source,et(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,r,s){this.source=e,this.path=r,this.snap=s,this.type=qn.OVERWRITE}operationForChild(e){return Oe(this.path)?new na(this.source,Be(),this.snap.getImmediateChild(e)):new na(this.source,et(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,r,s){this.source=e,this.path=r,this.children=s,this.type=qn.MERGE}operationForChild(e){if(Oe(this.path)){const r=this.children.subtree(new Xe(e));return r.isEmpty()?null:r.value?new na(this.source,Be(),r.value):new Tl(this.source,Be(),r)}else return K(Me(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Tl(this.source,et(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,r,s){this.node_=e,this.fullyInitialized_=r,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Oe(e))return this.isFullyInitialized()&&!this.filtered_;const r=Me(e);return this.isCompleteForChild(r)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function oD(i,e,r,s){const o=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(XN(f.childName,f.snapshotNode))}),il(i,o,"child_removed",e,s,r),il(i,o,"child_added",e,s,r),il(i,o,"child_moved",u,s,r),il(i,o,"child_changed",e,s,r),il(i,o,"value",e,s,r),o}function il(i,e,r,s,o,u){const f=s.filter(h=>h.type===r);f.sort((h,m)=>cD(i,h,m)),f.forEach(h=>{const m=uD(i,h,u);o.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(m,i.query_))})})}function uD(i,e,r){return e.type==="value"||e.type==="child_removed"||(e.prevName=r.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function cD(i,e,r){if(e.childName==null||r.childName==null)throw $a("Should only compare child_ events.");const s=new Ae(e.childName,e.snapshotNode),o=new Ae(r.childName,r.snapshotNode);return i.index_.compare(s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(i,e){return{eventCache:i,serverCache:e}}function ul(i,e,r,s){return Fu(new _r(e,r,s),i.serverCache)}function mb(i,e,r,s){return Fu(i.eventCache,new _r(e,r,s))}function wu(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function ia(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad;const fD=()=>(Ad||(Ad=new en(X1)),Ad);class nt{static fromObject(e){let r=new nt(null);return rn(e,(s,o)=>{r=r.set(new Xe(s),o)}),r}constructor(e,r=fD()){this.value=e,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,r){if(this.value!=null&&r(this.value))return{path:Be(),value:this.value};if(Oe(e))return null;{const s=Me(e),o=this.children.get(s);if(o!==null){const u=o.findRootMostMatchingPathAndValue(et(e),r);return u!=null?{path:wt(new Xe(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Oe(e))return this;{const r=Me(e),s=this.children.get(r);return s!==null?s.subtree(et(e)):new nt(null)}}set(e,r){if(Oe(e))return new nt(r,this.children);{const s=Me(e),u=(this.children.get(s)||new nt(null)).set(et(e),r),f=this.children.insert(s,u);return new nt(this.value,f)}}remove(e){if(Oe(e))return this.children.isEmpty()?new nt(null):new nt(null,this.children);{const r=Me(e),s=this.children.get(r);if(s){const o=s.remove(et(e));let u;return o.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,o),this.value===null&&u.isEmpty()?new nt(null):new nt(this.value,u)}else return this}}get(e){if(Oe(e))return this.value;{const r=Me(e),s=this.children.get(r);return s?s.get(et(e)):null}}setTree(e,r){if(Oe(e))return r;{const s=Me(e),u=(this.children.get(s)||new nt(null)).setTree(et(e),r);let f;return u.isEmpty()?f=this.children.remove(s):f=this.children.insert(s,u),new nt(this.value,f)}}fold(e){return this.fold_(Be(),e)}fold_(e,r){const s={};return this.children.inorderTraversal((o,u)=>{s[o]=u.fold_(wt(e,o),r)}),r(e,this.value,s)}findOnPath(e,r){return this.findOnPath_(e,Be(),r)}findOnPath_(e,r,s){const o=this.value?s(r,this.value):!1;if(o)return o;if(Oe(e))return null;{const u=Me(e),f=this.children.get(u);return f?f.findOnPath_(et(e),wt(r,u),s):null}}foreachOnPath(e,r){return this.foreachOnPath_(e,Be(),r)}foreachOnPath_(e,r,s){if(Oe(e))return this;{this.value&&s(r,this.value);const o=Me(e),u=this.children.get(o);return u?u.foreachOnPath_(et(e),wt(r,o),s):new nt(null)}}foreach(e){this.foreach_(Be(),e)}foreach_(e,r){this.children.inorderTraversal((s,o)=>{o.foreach_(wt(e,s),r)}),this.value&&r(e,this.value)}foreachChild(e){this.children.inorderTraversal((r,s)=>{s.value&&e(r,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.writeTree_=e}static empty(){return new Fn(new nt(null))}}function cl(i,e,r){if(Oe(e))return new Fn(new nt(r));{const s=i.writeTree_.findRootMostValueAndPath(e);if(s!=null){const o=s.path;let u=s.value;const f=Xt(o,e);return u=u.updateChild(f,r),new Fn(i.writeTree_.set(o,u))}else{const o=new nt(r),u=i.writeTree_.setTree(e,o);return new Fn(u)}}}function Fy(i,e,r){let s=i;return rn(r,(o,u)=>{s=cl(s,wt(e,o),u)}),s}function Vy(i,e){if(Oe(e))return Fn.empty();{const r=i.writeTree_.setTree(e,new nt(null));return new Fn(r)}}function Gd(i,e){return la(i,e)!=null}function la(i,e){const r=i.writeTree_.findRootMostValueAndPath(e);return r!=null?i.writeTree_.get(r.path).getChild(Xt(r.path,e)):null}function Gy(i){const e=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(lt,(s,o)=>{e.push(new Ae(s,o))}):i.writeTree_.children.inorderTraversal((s,o)=>{o.value!=null&&e.push(new Ae(s,o.value))}),e}function dr(i,e){if(Oe(e))return i;{const r=la(i,e);return r!=null?new Fn(new nt(r)):new Fn(i.writeTree_.subtree(e))}}function Yd(i){return i.writeTree_.isEmpty()}function Xa(i,e){return pb(Be(),i.writeTree_,e)}function pb(i,e,r){if(e.value!=null)return r.updateChild(i,e.value);{let s=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(K(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):r=pb(wt(i,o),u,r)}),!r.getChild(i).isEmpty()&&s!==null&&(r=r.updateChild(wt(i,".priority"),s)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(i,e){return vb(e,i)}function dD(i,e,r,s,o){K(s>i.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),i.allWrites.push({path:e,snap:r,writeId:s,visible:o}),o&&(i.visibleWrites=cl(i.visibleWrites,e,r)),i.lastWriteId=s}function hD(i,e){for(let r=0;r<i.allWrites.length;r++){const s=i.allWrites[r];if(s.writeId===e)return s}return null}function mD(i,e){const r=i.allWrites.findIndex(h=>h.writeId===e);K(r>=0,"removeWrite called with nonexistent writeId.");const s=i.allWrites[r];i.allWrites.splice(r,1);let o=s.visible,u=!1,f=i.allWrites.length-1;for(;o&&f>=0;){const h=i.allWrites[f];h.visible&&(f>=r&&pD(h,s.path)?o=!1:jn(s.path,h.path)&&(u=!0)),f--}if(o){if(u)return gD(i),!0;if(s.snap)i.visibleWrites=Vy(i.visibleWrites,s.path);else{const h=s.children;rn(h,m=>{i.visibleWrites=Vy(i.visibleWrites,wt(s.path,m))})}return!0}else return!1}function pD(i,e){if(i.snap)return jn(i.path,e);for(const r in i.children)if(i.children.hasOwnProperty(r)&&jn(wt(i.path,r),e))return!0;return!1}function gD(i){i.visibleWrites=gb(i.allWrites,_D,Be()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function _D(i){return i.visible}function gb(i,e,r){let s=Fn.empty();for(let o=0;o<i.length;++o){const u=i[o];if(e(u)){const f=u.path;let h;if(u.snap)jn(r,f)?(h=Xt(r,f),s=cl(s,h,u.snap)):jn(f,r)&&(h=Xt(f,r),s=cl(s,Be(),u.snap.getChild(h)));else if(u.children){if(jn(r,f))h=Xt(r,f),s=Fy(s,h,u.children);else if(jn(f,r))if(h=Xt(f,r),Oe(h))s=Fy(s,Be(),u.children);else{const m=Qa(u.children,Me(h));if(m){const p=m.getChild(et(h));s=cl(s,Be(),p)}}}else throw $a("WriteRecord should have .snap or .children")}}return s}function _b(i,e,r,s,o){if(!s&&!o){const u=la(i.visibleWrites,e);if(u!=null)return u;{const f=dr(i.visibleWrites,e);if(Yd(f))return r;if(r==null&&!Gd(f,Be()))return null;{const h=r||ge.EMPTY_NODE;return Xa(f,h)}}}else{const u=dr(i.visibleWrites,e);if(!o&&Yd(u))return r;if(!o&&r==null&&!Gd(u,Be()))return null;{const f=function(p){return(p.visible||o)&&(!s||!~s.indexOf(p.writeId))&&(jn(p.path,e)||jn(e,p.path))},h=gb(i.allWrites,f,e),m=r||ge.EMPTY_NODE;return Xa(h,m)}}}function yD(i,e,r){let s=ge.EMPTY_NODE;const o=la(i.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(lt,(u,f)=>{s=s.updateImmediateChild(u,f)}),s;if(r){const u=dr(i.visibleWrites,e);return r.forEachChild(lt,(f,h)=>{const m=Xa(dr(u,new Xe(f)),h);s=s.updateImmediateChild(f,m)}),Gy(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}else{const u=dr(i.visibleWrites,e);return Gy(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}}function vD(i,e,r,s,o){K(s||o,"Either existingEventSnap or existingServerSnap must exist");const u=wt(e,r);if(Gd(i.visibleWrites,u))return null;{const f=dr(i.visibleWrites,u);return Yd(f)?o.getChild(r):Xa(f,o.getChild(r))}}function ED(i,e,r,s){const o=wt(e,r),u=la(i.visibleWrites,o);if(u!=null)return u;if(s.isCompleteForChild(r)){const f=dr(i.visibleWrites,o);return Xa(f,s.getNode().getImmediateChild(r))}else return null}function bD(i,e){return la(i.visibleWrites,e)}function SD(i,e,r,s,o,u,f){let h;const m=dr(i.visibleWrites,e),p=la(m,Be());if(p!=null)h=p;else if(r!=null)h=Xa(m,r);else return[];if(h=h.withIndex(f),!h.isEmpty()&&!h.isLeafNode()){const y=[],v=f.getCompare(),E=u?h.getReverseIteratorFrom(s,f):h.getIteratorFrom(s,f);let S=E.getNext();for(;S&&y.length<o;)v(S,s)!==0&&y.push(S),S=E.getNext();return y}else return[]}function TD(){return{visibleWrites:Fn.empty(),allWrites:[],lastWriteId:-1}}function Cu(i,e,r,s){return _b(i.writeTree,i.treePath,e,r,s)}function zh(i,e){return yD(i.writeTree,i.treePath,e)}function Yy(i,e,r,s){return vD(i.writeTree,i.treePath,e,r,s)}function Ru(i,e){return bD(i.writeTree,wt(i.treePath,e))}function wD(i,e,r,s,o,u){return SD(i.writeTree,i.treePath,e,r,s,o,u)}function Hh(i,e,r){return ED(i.writeTree,i.treePath,e,r)}function yb(i,e){return vb(wt(i.treePath,e),i.writeTree)}function vb(i,e){return{treePath:i,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.changeMap=new Map}trackChildChange(e){const r=e.type,s=e.childName;K(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),K(s!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(s);if(o){const u=o.type;if(r==="child_added"&&u==="child_removed")this.changeMap.set(s,El(s,e.snapshotNode,o.snapshotNode));else if(r==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(r==="child_removed"&&u==="child_changed")this.changeMap.set(s,vl(s,o.oldSnap));else if(r==="child_changed"&&u==="child_added")this.changeMap.set(s,Ka(s,e.snapshotNode));else if(r==="child_changed"&&u==="child_changed")this.changeMap.set(s,El(s,e.snapshotNode,o.oldSnap));else throw $a("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{getCompleteChild(e){return null}getChildAfterChild(e,r,s){return null}}const Eb=new RD;class Ph{constructor(e,r,s=null){this.writes_=e,this.viewCache_=r,this.optCompleteServerCache_=s}getCompleteChild(e){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(e))return r.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new _r(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Hh(this.writes_,e,s)}}getChildAfterChild(e,r,s){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ia(this.viewCache_),u=wD(this.writes_,o,r,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(i){return{filter:i}}function ND(i,e){K(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),K(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function DD(i,e,r,s,o){const u=new CD;let f,h;if(r.type===qn.OVERWRITE){const p=r;p.source.fromUser?f=Qd(i,e,p.path,p.snap,s,o,u):(K(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!Oe(p.path),f=Au(i,e,p.path,p.snap,s,o,h,u))}else if(r.type===qn.MERGE){const p=r;p.source.fromUser?f=MD(i,e,p.path,p.children,s,o,u):(K(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),f=Kd(i,e,p.path,p.children,s,o,h,u))}else if(r.type===qn.ACK_USER_WRITE){const p=r;p.revert?f=LD(i,e,p.path,s,o,u):f=xD(i,e,p.path,p.affectedTree,s,o,u)}else if(r.type===qn.LISTEN_COMPLETE)f=ID(i,e,r.path,s,u);else throw $a("Unknown operation type: "+r.type);const m=u.getChanges();return OD(e,f,m),{viewCache:f,changes:m}}function OD(i,e,r){const s=e.eventCache;if(s.isFullyInitialized()){const o=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=wu(i);(r.length>0||!i.eventCache.isFullyInitialized()||o&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&r.push(fb(wu(e)))}}function bb(i,e,r,s,o,u){const f=e.eventCache;if(Ru(s,r)!=null)return e;{let h,m;if(Oe(r))if(K(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=ia(e),y=p instanceof ge?p:ge.EMPTY_NODE,v=zh(s,y);h=i.filter.updateFullNode(e.eventCache.getNode(),v,u)}else{const p=Cu(s,ia(e));h=i.filter.updateFullNode(e.eventCache.getNode(),p,u)}else{const p=Me(r);if(p===".priority"){K(gr(r)===1,"Can't have a priority with additional path components");const y=f.getNode();m=e.serverCache.getNode();const v=Yy(s,r,y,m);v!=null?h=i.filter.updatePriority(y,v):h=f.getNode()}else{const y=et(r);let v;if(f.isCompleteForChild(p)){m=e.serverCache.getNode();const E=Yy(s,r,f.getNode(),m);E!=null?v=f.getNode().getImmediateChild(p).updateChild(y,E):v=f.getNode().getImmediateChild(p)}else v=Hh(s,p,e.serverCache);v!=null?h=i.filter.updateChild(f.getNode(),p,v,y,o,u):h=f.getNode()}}return ul(e,h,f.isFullyInitialized()||Oe(r),i.filter.filtersNodes())}}function Au(i,e,r,s,o,u,f,h){const m=e.serverCache;let p;const y=f?i.filter:i.filter.getIndexedFilter();if(Oe(r))p=y.updateFullNode(m.getNode(),s,null);else if(y.filtersNodes()&&!m.isFiltered()){const S=m.getNode().updateChild(r,s);p=y.updateFullNode(m.getNode(),S,null)}else{const S=Me(r);if(!m.isCompleteForPath(r)&&gr(r)>1)return e;const N=et(r),z=m.getNode().getImmediateChild(S).updateChild(N,s);S===".priority"?p=y.updatePriority(m.getNode(),z):p=y.updateChild(m.getNode(),S,z,N,Eb,null)}const v=mb(e,p,m.isFullyInitialized()||Oe(r),y.filtersNodes()),E=new Ph(o,v,u);return bb(i,v,r,o,E,h)}function Qd(i,e,r,s,o,u,f){const h=e.eventCache;let m,p;const y=new Ph(o,e,u);if(Oe(r))p=i.filter.updateFullNode(e.eventCache.getNode(),s,f),m=ul(e,p,!0,i.filter.filtersNodes());else{const v=Me(r);if(v===".priority")p=i.filter.updatePriority(e.eventCache.getNode(),s),m=ul(e,p,h.isFullyInitialized(),h.isFiltered());else{const E=et(r),S=h.getNode().getImmediateChild(v);let N;if(Oe(E))N=s;else{const H=y.getCompleteChild(v);H!=null?JE(E)===".priority"&&H.getChild(tb(E)).isEmpty()?N=H:N=H.updateChild(E,s):N=ge.EMPTY_NODE}if(S.equals(N))m=e;else{const H=i.filter.updateChild(h.getNode(),v,N,E,y,f);m=ul(e,H,h.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function Qy(i,e){return i.eventCache.isCompleteForChild(e)}function MD(i,e,r,s,o,u,f){let h=e;return s.foreach((m,p)=>{const y=wt(r,m);Qy(e,Me(y))&&(h=Qd(i,h,y,p,o,u,f))}),s.foreach((m,p)=>{const y=wt(r,m);Qy(e,Me(y))||(h=Qd(i,h,y,p,o,u,f))}),h}function Ky(i,e,r){return r.foreach((s,o)=>{e=e.updateChild(s,o)}),e}function Kd(i,e,r,s,o,u,f,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,p;Oe(r)?p=s:p=new nt(null).setTree(r,s);const y=e.serverCache.getNode();return p.children.inorderTraversal((v,E)=>{if(y.hasChild(v)){const S=e.serverCache.getNode().getImmediateChild(v),N=Ky(i,S,E);m=Au(i,m,new Xe(v),N,o,u,f,h)}}),p.children.inorderTraversal((v,E)=>{const S=!e.serverCache.isCompleteForChild(v)&&E.value===null;if(!y.hasChild(v)&&!S){const N=e.serverCache.getNode().getImmediateChild(v),H=Ky(i,N,E);m=Au(i,m,new Xe(v),H,o,u,f,h)}}),m}function xD(i,e,r,s,o,u,f){if(Ru(o,r)!=null)return e;const h=e.serverCache.isFiltered(),m=e.serverCache;if(s.value!=null){if(Oe(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return Au(i,e,r,m.getNode().getChild(r),o,u,h,f);if(Oe(r)){let p=new nt(null);return m.getNode().forEachChild(fr,(y,v)=>{p=p.set(new Xe(y),v)}),Kd(i,e,r,p,o,u,h,f)}else return e}else{let p=new nt(null);return s.foreach((y,v)=>{const E=wt(r,y);m.isCompleteForPath(E)&&(p=p.set(y,m.getNode().getChild(E)))}),Kd(i,e,r,p,o,u,h,f)}}function ID(i,e,r,s,o){const u=e.serverCache,f=mb(e,u.getNode(),u.isFullyInitialized()||Oe(r),u.isFiltered());return bb(i,f,r,s,Eb,o)}function LD(i,e,r,s,o,u){let f;if(Ru(s,r)!=null)return e;{const h=new Ph(s,e,o),m=e.eventCache.getNode();let p;if(Oe(r)||Me(r)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=Cu(s,ia(e));else{const v=e.serverCache.getNode();K(v instanceof ge,"serverChildren would be complete if leaf node"),y=zh(s,v)}y=y,p=i.filter.updateFullNode(m,y,u)}else{const y=Me(r);let v=Hh(s,y,e.serverCache);v==null&&e.serverCache.isCompleteForChild(y)&&(v=m.getImmediateChild(y)),v!=null?p=i.filter.updateChild(m,y,v,et(r),h,u):e.eventCache.getNode().hasChild(y)?p=i.filter.updateChild(m,y,ge.EMPTY_NODE,et(r),h,u):p=m,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=Cu(s,ia(e)),f.isLeafNode()&&(p=i.filter.updateFullNode(p,f,u)))}return f=e.serverCache.isFullyInitialized()||Ru(s,Be())!=null,ul(e,p,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,r){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,o=new Ih(s.getIndex()),u=WN(s);this.processor_=AD(u);const f=r.serverCache,h=r.eventCache,m=o.updateFullNode(ge.EMPTY_NODE,f.getNode(),null),p=u.updateFullNode(ge.EMPTY_NODE,h.getNode(),null),y=new _r(m,f.isFullyInitialized(),o.filtersNodes()),v=new _r(p,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=Fu(v,y),this.eventGenerator_=new lD(this.query_)}get query(){return this.query_}}function kD(i){return i.viewCache_.serverCache.getNode()}function zD(i){return wu(i.viewCache_)}function HD(i,e){const r=ia(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!Oe(e)&&!r.getImmediateChild(Me(e)).isEmpty())?r.getChild(e):null}function Xy(i){return i.eventRegistrations_.length===0}function PD(i,e){i.eventRegistrations_.push(e)}function $y(i,e,r){const s=[];if(r){K(e==null,"A cancel should cancel all event registrations.");const o=i.query._path;i.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(r,o);f&&s.push(f)})}if(e){let o=[];for(let u=0;u<i.eventRegistrations_.length;++u){const f=i.eventRegistrations_[u];if(!f.matches(e))o.push(f);else if(e.hasAnyCallback()){o=o.concat(i.eventRegistrations_.slice(u+1));break}}i.eventRegistrations_=o}else i.eventRegistrations_=[];return s}function Wy(i,e,r,s){e.type===qn.MERGE&&e.source.queryId!==null&&(K(ia(i.viewCache_),"We should always have a full cache before handling merges"),K(wu(i.viewCache_),"Missing event cache, even though we have a server cache"));const o=i.viewCache_,u=DD(i.processor_,o,e,r,s);return ND(i.processor_,u.viewCache),K(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=u.viewCache,Sb(i,u.changes,u.viewCache.eventCache.getNode(),null)}function BD(i,e){const r=i.viewCache_.eventCache,s=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(lt,(u,f)=>{s.push(Ka(u,f))}),r.isFullyInitialized()&&s.push(fb(r.getNode())),Sb(i,s,r.getNode(),e)}function Sb(i,e,r,s){const o=s?[s]:i.eventRegistrations_;return oD(i.eventGenerator_,e,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu;class Tb{constructor(){this.views=new Map}}function jD(i){K(!Nu,"__referenceConstructor has already been defined"),Nu=i}function qD(){return K(Nu,"Reference.ts has not been loaded"),Nu}function FD(i){return i.views.size===0}function Bh(i,e,r,s){const o=e.source.queryId;if(o!==null){const u=i.views.get(o);return K(u!=null,"SyncTree gave us an op for an invalid query."),Wy(u,e,r,s)}else{let u=[];for(const f of i.views.values())u=u.concat(Wy(f,e,r,s));return u}}function wb(i,e,r,s,o){const u=e._queryIdentifier,f=i.views.get(u);if(!f){let h=Cu(r,o?s:null),m=!1;h?m=!0:s instanceof ge?(h=zh(r,s),m=!1):(h=ge.EMPTY_NODE,m=!1);const p=Fu(new _r(h,m,!1),new _r(s,o,!1));return new UD(e,p)}return f}function VD(i,e,r,s,o,u){const f=wb(i,e,s,o,u);return i.views.has(e._queryIdentifier)||i.views.set(e._queryIdentifier,f),PD(f,r),BD(f,r)}function GD(i,e,r,s){const o=e._queryIdentifier,u=[];let f=[];const h=yr(i);if(o==="default")for(const[m,p]of i.views.entries())f=f.concat($y(p,r,s)),Xy(p)&&(i.views.delete(m),p.query._queryParams.loadsAllData()||u.push(p.query));else{const m=i.views.get(o);m&&(f=f.concat($y(m,r,s)),Xy(m)&&(i.views.delete(o),m.query._queryParams.loadsAllData()||u.push(m.query)))}return h&&!yr(i)&&u.push(new(qD())(e._repo,e._path)),{removed:u,events:f}}function Cb(i){const e=[];for(const r of i.views.values())r.query._queryParams.loadsAllData()||e.push(r);return e}function hr(i,e){let r=null;for(const s of i.views.values())r=r||HD(s,e);return r}function Rb(i,e){if(e._queryParams.loadsAllData())return Gu(i);{const s=e._queryIdentifier;return i.views.get(s)}}function Ab(i,e){return Rb(i,e)!=null}function yr(i){return Gu(i)!=null}function Gu(i){for(const e of i.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du;function YD(i){K(!Du,"__referenceConstructor has already been defined"),Du=i}function QD(){return K(Du,"Reference.ts has not been loaded"),Du}let KD=1;class Zy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new nt(null),this.pendingWriteTree_=TD(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Nb(i,e,r,s,o){return dD(i.pendingWriteTree_,e,r,s,o),o?Ul(i,new na(hb(),e,r)):[]}function Wr(i,e,r=!1){const s=hD(i.pendingWriteTree_,e);if(mD(i.pendingWriteTree_,e)){let u=new nt(null);return s.snap!=null?u=u.set(Be(),!0):rn(s.children,f=>{u=u.set(new Xe(f),!0)}),Ul(i,new Tu(s.path,u,r))}else return[]}function Ll(i,e,r){return Ul(i,new na(Uh(),e,r))}function XD(i,e,r){const s=nt.fromObject(r);return Ul(i,new Tl(Uh(),e,s))}function $D(i,e){return Ul(i,new Sl(Uh(),e))}function WD(i,e,r){const s=qh(i,r);if(s){const o=Fh(s),u=o.path,f=o.queryId,h=Xt(u,e),m=new Sl(kh(f),h);return Vh(i,u,m)}else return[]}function Db(i,e,r,s,o=!1){const u=e._path,f=i.syncPointTree_.get(u);let h=[];if(f&&(e._queryIdentifier==="default"||Ab(f,e))){const m=GD(f,e,r,s);FD(f)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const p=m.removed;if(h=m.events,!o){const y=p.findIndex(E=>E._queryParams.loadsAllData())!==-1,v=i.syncPointTree_.findOnPath(u,(E,S)=>yr(S));if(y&&!v){const E=i.syncPointTree_.subtree(u);if(!E.isEmpty()){const S=tO(E);for(let N=0;N<S.length;++N){const H=S[N],z=H.query,P=Ib(i,H);i.listenProvider_.startListening(fl(z),wl(i,z),P.hashFn,P.onComplete)}}}!v&&p.length>0&&!s&&(y?i.listenProvider_.stopListening(fl(e),null):p.forEach(E=>{const S=i.queryToTagMap.get(Yu(E));i.listenProvider_.stopListening(fl(E),S)}))}nO(i,p)}return h}function Ob(i,e,r,s){const o=qh(i,s);if(o!=null){const u=Fh(o),f=u.path,h=u.queryId,m=Xt(f,e),p=new na(kh(h),m,r);return Vh(i,f,p)}else return[]}function ZD(i,e,r,s){const o=qh(i,s);if(o){const u=Fh(o),f=u.path,h=u.queryId,m=Xt(f,e),p=nt.fromObject(r),y=new Tl(kh(h),m,p);return Vh(i,f,y)}else return[]}function JD(i,e,r,s=!1){const o=e._path;let u=null,f=!1;i.syncPointTree_.foreachOnPath(o,(E,S)=>{const N=Xt(E,o);u=u||hr(S,N),f=f||yr(S)});let h=i.syncPointTree_.get(o);h?(f=f||yr(h),u=u||hr(h,Be())):(h=new Tb,i.syncPointTree_=i.syncPointTree_.set(o,h));let m;u!=null?m=!0:(m=!1,u=ge.EMPTY_NODE,i.syncPointTree_.subtree(o).foreachChild((S,N)=>{const H=hr(N,Be());H&&(u=u.updateImmediateChild(S,H))}));const p=Ab(h,e);if(!p&&!e._queryParams.loadsAllData()){const E=Yu(e);K(!i.queryToTagMap.has(E),"View does not exist, but we have a tag");const S=iO();i.queryToTagMap.set(E,S),i.tagToQueryMap.set(S,E)}const y=Vu(i.pendingWriteTree_,o);let v=VD(h,e,r,y,u,m);if(!p&&!f&&!s){const E=Rb(h,e);v=v.concat(rO(i,e,E))}return v}function jh(i,e,r){const o=i.pendingWriteTree_,u=i.syncPointTree_.findOnPath(e,(f,h)=>{const m=Xt(f,e),p=hr(h,m);if(p)return p});return _b(o,e,u,r,!0)}function eO(i,e){const r=e._path;let s=null;i.syncPointTree_.foreachOnPath(r,(p,y)=>{const v=Xt(p,r);s=s||hr(y,v)});let o=i.syncPointTree_.get(r);o?s=s||hr(o,Be()):(o=new Tb,i.syncPointTree_=i.syncPointTree_.set(r,o));const u=s!=null,f=u?new _r(s,!0,!1):null,h=Vu(i.pendingWriteTree_,e._path),m=wb(o,e,h,u?f.getNode():ge.EMPTY_NODE,u);return zD(m)}function Ul(i,e){return Mb(e,i.syncPointTree_,null,Vu(i.pendingWriteTree_,Be()))}function Mb(i,e,r,s){if(Oe(i.path))return xb(i,e,r,s);{const o=e.get(Be());r==null&&o!=null&&(r=hr(o,Be()));let u=[];const f=Me(i.path),h=i.operationForChild(f),m=e.children.get(f);if(m&&h){const p=r?r.getImmediateChild(f):null,y=yb(s,f);u=u.concat(Mb(h,m,p,y))}return o&&(u=u.concat(Bh(o,i,s,r))),u}}function xb(i,e,r,s){const o=e.get(Be());r==null&&o!=null&&(r=hr(o,Be()));let u=[];return e.children.inorderTraversal((f,h)=>{const m=r?r.getImmediateChild(f):null,p=yb(s,f),y=i.operationForChild(f);y&&(u=u.concat(xb(y,h,m,p)))}),o&&(u=u.concat(Bh(o,i,s,r))),u}function Ib(i,e){const r=e.query,s=wl(i,r);return{hashFn:()=>(kD(e)||ge.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return s?WD(i,r._path,s):$D(i,r._path);{const u=Z1(o,r);return Db(i,r,null,u)}}}}function wl(i,e){const r=Yu(e);return i.queryToTagMap.get(r)}function Yu(i){return i._path.toString()+"$"+i._queryIdentifier}function qh(i,e){return i.tagToQueryMap.get(e)}function Fh(i){const e=i.indexOf("$");return K(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new Xe(i.substr(0,e))}}function Vh(i,e,r){const s=i.syncPointTree_.get(e);K(s,"Missing sync point for query tag that we're tracking");const o=Vu(i.pendingWriteTree_,e);return Bh(s,r,o,null)}function tO(i){return i.fold((e,r,s)=>{if(r&&yr(r))return[Gu(r)];{let o=[];return r&&(o=Cb(r)),rn(s,(u,f)=>{o=o.concat(f)}),o}})}function fl(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(QD())(i._repo,i._path):i}function nO(i,e){for(let r=0;r<e.length;++r){const s=e[r];if(!s._queryParams.loadsAllData()){const o=Yu(s),u=i.queryToTagMap.get(o);i.queryToTagMap.delete(o),i.tagToQueryMap.delete(u)}}}function iO(){return KD++}function rO(i,e,r){const s=e._path,o=wl(i,e),u=Ib(i,r),f=i.listenProvider_.startListening(fl(e),o,u.hashFn,u.onComplete),h=i.syncPointTree_.subtree(s);if(o)K(!yr(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((p,y,v)=>{if(!Oe(p)&&y&&yr(y))return[Gu(y).query];{let E=[];return y&&(E=E.concat(Cb(y).map(S=>S.query))),rn(v,(S,N)=>{E=E.concat(N)}),E}});for(let p=0;p<m.length;++p){const y=m[p];i.listenProvider_.stopListening(fl(y),wl(i,y))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.node_=e}getImmediateChild(e){const r=this.node_.getImmediateChild(e);return new Gh(r)}node(){return this.node_}}class Yh{constructor(e,r){this.syncTree_=e,this.path_=r}getImmediateChild(e){const r=wt(this.path_,e);return new Yh(this.syncTree_,r)}node(){return jh(this.syncTree_,this.path_)}}const aO=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Jy=function(i,e,r){if(!i||typeof i!="object")return i;if(K(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return sO(i[".sv"],e,r);if(typeof i[".sv"]=="object")return lO(i[".sv"],e);K(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},sO=function(i,e,r){switch(i){case"timestamp":return r.timestamp;default:K(!1,"Unexpected server value: "+i)}},lO=function(i,e,r){i.hasOwnProperty("increment")||K(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const s=i.increment;typeof s!="number"&&K(!1,"Unexpected increment value: "+s);const o=e.node();if(K(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return s;const f=o.getValue();return typeof f!="number"?s:f+s},oO=function(i,e,r,s){return Qh(e,new Yh(r,i),s)},Lb=function(i,e,r){return Qh(i,new Gh(e),r)};function Qh(i,e,r){const s=i.getPriority().val(),o=Jy(s,e.getImmediateChild(".priority"),r);let u;if(i.isLeafNode()){const f=i,h=Jy(f.getValue(),e,r);return h!==f.getValue()||o!==f.getPriority().val()?new xt(h,Lt(o)):i}else{const f=i;return u=f,o!==f.getPriority().val()&&(u=u.updatePriority(new xt(o))),f.forEachChild(lt,(h,m)=>{const p=Qh(m,e.getImmediateChild(h),r);p!==m&&(u=u.updateImmediateChild(h,p))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e="",r=null,s={children:{},childCount:0}){this.name=e,this.parent=r,this.node=s}}function Xh(i,e){let r=e instanceof Xe?e:new Xe(e),s=i,o=Me(r);for(;o!==null;){const u=Qa(s.node.children,o)||{children:{},childCount:0};s=new Kh(o,s,u),r=et(r),o=Me(r)}return s}function Ja(i){return i.node.value}function Ub(i,e){i.node.value=e,Xd(i)}function kb(i){return i.node.childCount>0}function uO(i){return Ja(i)===void 0&&!kb(i)}function Qu(i,e){rn(i.node.children,(r,s)=>{e(new Kh(r,i,s))})}function zb(i,e,r,s){r&&e(i),Qu(i,o=>{zb(o,e,!0)})}function cO(i,e,r){let s=i.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function kl(i){return new Xe(i.parent===null?i.name:kl(i.parent)+"/"+i.name)}function Xd(i){i.parent!==null&&fO(i.parent,i.name,i)}function fO(i,e,r){const s=uO(r),o=li(i.node.children,e);s&&o?(delete i.node.children[e],i.node.childCount--,Xd(i)):!s&&!o&&(i.node.children[e]=r.node,i.node.childCount++,Xd(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=/[\[\].#$\/\u0000-\u001F\u007F]/,hO=/[\[\].#$\u0000-\u001F\u007F]/,Nd=10*1024*1024,Hb=function(i){return typeof i=="string"&&i.length!==0&&!dO.test(i)},Pb=function(i){return typeof i=="string"&&i.length!==0&&!hO.test(i)},mO=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Pb(i)},ev=function(i){return i===null||typeof i=="string"||typeof i=="number"&&!Rh(i)||i&&typeof i=="object"&&li(i,".sv")},$h=function(i,e,r,s){s&&e===void 0||Wh(vh(i,"value"),e,r)},Wh=function(i,e,r){const s=r instanceof Xe?new MN(r,i):r;if(e===void 0)throw new Error(i+"contains undefined "+Yr(s));if(typeof e=="function")throw new Error(i+"contains a function "+Yr(s)+" with contents = "+e.toString());if(Rh(e))throw new Error(i+"contains "+e.toString()+" "+Yr(s));if(typeof e=="string"&&e.length>Nd/3&&zu(e)>Nd)throw new Error(i+"contains a string greater than "+Nd+" utf8 bytes "+Yr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(rn(e,(f,h)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!Hb(f)))throw new Error(i+" contains an invalid key ("+f+") "+Yr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);xN(s,f),Wh(i,h,s),IN(s)}),o&&u)throw new Error(i+' contains ".value" child '+Yr(s)+" in addition to actual children.")}},Bb=function(i,e,r,s){if(!Pb(r))throw new Error(vh(i,e)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},pO=function(i,e,r,s){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Bb(i,e,r)},jb=function(i,e){if(Me(e)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},gO=function(i,e){const r=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Hb(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!mO(r))throw new Error(vh(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function qb(i,e){let r=null;for(let s=0;s<e.length;s++){const o=e[s],u=o.getPath();r!==null&&!nb(u,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:u}),r.events.push(o)}r&&i.eventLists_.push(r)}function ri(i,e,r){qb(i,r),yO(i,s=>jn(s,e)||jn(e,s))}function yO(i,e){i.recursionDepth_++;let r=!0;for(let s=0;s<i.eventLists_.length;s++){const o=i.eventLists_[s];if(o){const u=o.path;e(u)?(vO(i.eventLists_[s]),i.eventLists_[s]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function vO(i){for(let e=0;e<i.events.length;e++){const r=i.events[e];if(r!==null){i.events[e]=null;const s=r.getEventRunner();ll&&Gt("event: "+r.toString()),Za(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="repo_interrupt",bO=25;class SO{constructor(e,r,s,o){this.repoInfo_=e,this.forceRestClient_=r,this.authTokenProvider_=s,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _O,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Su(),this.transactionQueueTree_=new Kh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function TO(i,e,r){if(i.stats_=Dh(i.repoInfo_),i.forceRestClient_||nN())i.server_=new bu(i.repoInfo_,(s,o,u,f)=>{tv(i,s,o,u,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>nv(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Tt(r)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}i.persistentConnection_=new Oi(i.repoInfo_,e,(s,o,u,f)=>{tv(i,s,o,u,f)},s=>{nv(i,s)},s=>{wO(i,s)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(s=>{i.server_.refreshAuthToken(s)}),i.appCheckProvider_.addTokenChangeListener(s=>{i.server_.refreshAppCheckToken(s.token)}),i.statsReporter_=lN(i.repoInfo_,()=>new sD(i.stats_,i.server_)),i.infoData_=new tD,i.infoSyncTree_=new Zy({startListening:(s,o,u,f)=>{let h=[];const m=i.infoData_.getNode(s._path);return m.isEmpty()||(h=Ll(i.infoSyncTree_,s._path,m),setTimeout(()=>{f("ok")},0)),h},stopListening:()=>{}}),Jh(i,"connected",!1),i.serverSyncTree_=new Zy({startListening:(s,o,u,f)=>(i.server_.listen(s,u,o,(h,m)=>{const p=f(h,m);ri(i.eventQueue_,s._path,p)}),[]),stopListening:(s,o)=>{i.server_.unlisten(s,o)}})}function Fb(i){const r=i.infoData_.getNode(new Xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function Zh(i){return aO({timestamp:Fb(i)})}function tv(i,e,r,s,o){i.dataUpdateCount++;const u=new Xe(e);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,r):r;let f=[];if(o)if(s){const m=hu(r,p=>Lt(p));f=ZD(i.serverSyncTree_,u,m,o)}else{const m=Lt(r);f=Ob(i.serverSyncTree_,u,m,o)}else if(s){const m=hu(r,p=>Lt(p));f=XD(i.serverSyncTree_,u,m)}else{const m=Lt(r);f=Ll(i.serverSyncTree_,u,m)}let h=u;f.length>0&&(h=Xu(i,u)),ri(i.eventQueue_,h,f)}function nv(i,e){Jh(i,"connected",e),e===!1&&AO(i)}function wO(i,e){rn(e,(r,s)=>{Jh(i,r,s)})}function Jh(i,e,r){const s=new Xe("/.info/"+e),o=Lt(r);i.infoData_.updateSnapshot(s,o);const u=Ll(i.infoSyncTree_,s,o);ri(i.eventQueue_,s,u)}function Vb(i){return i.nextWriteId_++}function CO(i,e,r){const s=eO(i.serverSyncTree_,e);return s!=null?Promise.resolve(s):i.server_.get(e).then(o=>{const u=Lt(o).withIndex(e._queryParams.getIndex());JD(i.serverSyncTree_,e,r,!0);let f;if(e._queryParams.loadsAllData())f=Ll(i.serverSyncTree_,e._path,u);else{const h=wl(i.serverSyncTree_,e);f=Ob(i.serverSyncTree_,e._path,u,h)}return ri(i.eventQueue_,e._path,f),Db(i.serverSyncTree_,e,r,null,!0),u},o=>(Ku(i,"get for query "+Tt(e)+" failed: "+o),Promise.reject(new Error(o))))}function RO(i,e,r,s,o){Ku(i,"set",{path:e.toString(),value:r,priority:s});const u=Zh(i),f=Lt(r,s),h=jh(i.serverSyncTree_,e),m=Lb(f,h,u),p=Vb(i),y=Nb(i.serverSyncTree_,e,m,p,!0);qb(i.eventQueue_,y),i.server_.put(e.toString(),f.val(!0),(E,S)=>{const N=E==="ok";N||nn("set at "+e+" failed: "+E);const H=Wr(i.serverSyncTree_,p,!N);ri(i.eventQueue_,e,H),DO(i,o,E,S)});const v=Xb(i,e);Xu(i,v),ri(i.eventQueue_,v,[])}function AO(i){Ku(i,"onDisconnectEvents");const e=Zh(i),r=Su();Vd(i.onDisconnect_,Be(),(o,u)=>{const f=oO(o,u,i.serverSyncTree_,e);db(r,o,f)});let s=[];Vd(r,Be(),(o,u)=>{s=s.concat(Ll(i.serverSyncTree_,o,u));const f=Xb(i,o);Xu(i,f)}),i.onDisconnect_=Su(),ri(i.eventQueue_,Be(),s)}function NO(i){i.persistentConnection_&&i.persistentConnection_.interrupt(EO)}function Ku(i,...e){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),Gt(r,...e)}function DO(i,e,r,s){e&&Za(()=>{if(r==="ok")e(null);else{const o=(r||"error").toUpperCase();let u=o;s&&(u+=": "+s);const f=new Error(u);f.code=o,e(f)}})}function Gb(i,e,r){return jh(i.serverSyncTree_,e,r)||ge.EMPTY_NODE}function em(i,e=i.transactionQueueTree_){if(e||$u(i,e),Ja(e)){const r=Qb(i,e);K(r.length>0,"Sending zero length transaction queue"),r.every(o=>o.status===0)&&OO(i,kl(e),r)}else kb(e)&&Qu(e,r=>{em(i,r)})}function OO(i,e,r){const s=r.map(p=>p.currentWriteId),o=Gb(i,e,s);let u=o;const f=o.hash();for(let p=0;p<r.length;p++){const y=r[p];K(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const v=Xt(e,y.path);u=u.updateChild(v,y.currentOutputSnapshotRaw)}const h=u.val(!0),m=e;i.server_.put(m.toString(),h,p=>{Ku(i,"transaction put response",{path:m.toString(),status:p});let y=[];if(p==="ok"){const v=[];for(let E=0;E<r.length;E++)r[E].status=2,y=y.concat(Wr(i.serverSyncTree_,r[E].currentWriteId)),r[E].onComplete&&v.push(()=>r[E].onComplete(null,!0,r[E].currentOutputSnapshotResolved)),r[E].unwatcher();$u(i,Xh(i.transactionQueueTree_,e)),em(i,i.transactionQueueTree_),ri(i.eventQueue_,e,y);for(let E=0;E<v.length;E++)Za(v[E])}else{if(p==="datastale")for(let v=0;v<r.length;v++)r[v].status===3?r[v].status=4:r[v].status=0;else{nn("transaction at "+m.toString()+" failed: "+p);for(let v=0;v<r.length;v++)r[v].status=4,r[v].abortReason=p}Xu(i,e)}},f)}function Xu(i,e){const r=Yb(i,e),s=kl(r),o=Qb(i,r);return MO(i,o,s),s}function MO(i,e,r){if(e.length===0)return;const s=[];let o=[];const f=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const m=e[h],p=Xt(r,m.path);let y=!1,v;if(K(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)y=!0,v=m.abortReason,o=o.concat(Wr(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=bO)y=!0,v="maxretry",o=o.concat(Wr(i.serverSyncTree_,m.currentWriteId,!0));else{const E=Gb(i,m.path,f);m.currentInputSnapshot=E;const S=e[h].update(E.val());if(S!==void 0){Wh("transaction failed: Data returned ",S,m.path);let N=Lt(S);typeof S=="object"&&S!=null&&li(S,".priority")||(N=N.updatePriority(E.getPriority()));const z=m.currentWriteId,P=Zh(i),Q=Lb(N,E,P);m.currentOutputSnapshotRaw=N,m.currentOutputSnapshotResolved=Q,m.currentWriteId=Vb(i),f.splice(f.indexOf(z),1),o=o.concat(Nb(i.serverSyncTree_,m.path,Q,m.currentWriteId,m.applyLocally)),o=o.concat(Wr(i.serverSyncTree_,z,!0))}else y=!0,v="nodata",o=o.concat(Wr(i.serverSyncTree_,m.currentWriteId,!0))}ri(i.eventQueue_,r,o),o=[],y&&(e[h].status=2,function(E){setTimeout(E,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(v==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(v),!1,null))))}$u(i,i.transactionQueueTree_);for(let h=0;h<s.length;h++)Za(s[h]);em(i,i.transactionQueueTree_)}function Yb(i,e){let r,s=i.transactionQueueTree_;for(r=Me(e);r!==null&&Ja(s)===void 0;)s=Xh(s,r),e=et(e),r=Me(e);return s}function Qb(i,e){const r=[];return Kb(i,e,r),r.sort((s,o)=>s.order-o.order),r}function Kb(i,e,r){const s=Ja(e);if(s)for(let o=0;o<s.length;o++)r.push(s[o]);Qu(e,o=>{Kb(i,o,r)})}function $u(i,e){const r=Ja(e);if(r){let s=0;for(let o=0;o<r.length;o++)r[o].status!==2&&(r[s]=r[o],s++);r.length=s,Ub(e,r.length>0?r:void 0)}Qu(e,s=>{$u(i,s)})}function Xb(i,e){const r=kl(Yb(i,e)),s=Xh(i.transactionQueueTree_,e);return cO(s,o=>{Dd(i,o)}),Dd(i,s),zb(s,o=>{Dd(i,o)}),r}function Dd(i,e){const r=Ja(e);if(r){const s=[];let o=[],u=-1;for(let f=0;f<r.length;f++)r[f].status===3||(r[f].status===1?(K(u===f-1,"All SENT items should be at beginning of queue."),u=f,r[f].status=3,r[f].abortReason="set"):(K(r[f].status===0,"Unexpected transaction status in abort"),r[f].unwatcher(),o=o.concat(Wr(i.serverSyncTree_,r[f].currentWriteId,!0)),r[f].onComplete&&s.push(r[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?Ub(e,void 0):r.length=u+1,ri(i.eventQueue_,kl(e),o);for(let f=0;f<s.length;f++)Za(s[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(i){let e="";const r=i.split("/");for(let s=0;s<r.length;s++)if(r[s].length>0){let o=r[s];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function IO(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const s=r.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):nn(`Invalid query segment '${r}' in query '${i}'`)}return e}const iv=function(i,e){const r=LO(i),s=r.namespace;r.domain==="firebase.com"&&xi(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&r.domain!=="localhost"&&xi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||Q1();const o=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new VE(r.host,r.secure,s,o,e,"",s!==r.subdomain),path:new Xe(r.pathString)}},LO=function(i){let e="",r="",s="",o="",u="",f=!0,h="https",m=443;if(typeof i=="string"){let p=i.indexOf("//");p>=0&&(h=i.substring(0,p-1),i=i.substring(p+2));let y=i.indexOf("/");y===-1&&(y=i.length);let v=i.indexOf("?");v===-1&&(v=i.length),e=i.substring(0,Math.min(y,v)),y<v&&(o=xO(i.substring(y,v)));const E=IO(i.substring(Math.min(i.length,v)));p=e.indexOf(":"),p>=0?(f=h==="https"||h==="wss",m=parseInt(e.substring(p+1),10)):p=e.length;const S=e.slice(0,p);if(S.toLowerCase()==="localhost")r="localhost";else if(S.split(".").length<=2)r=S;else{const N=e.indexOf(".");s=e.substring(0,N).toLowerCase(),r=e.substring(N+1),u=s}"ns"in E&&(u=E.ns)}return{host:e,port:m,domain:r,subdomain:s,secure:f,scheme:h,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",UO=function(){let i=0;const e=[];return function(r){const s=r===i;i=r;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=rv.charAt(r%64),r=Math.floor(r/64);K(r===0,"Cannot push at time == 0");let f=u.join("");if(s){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)f+=rv.charAt(e[o]);return K(f.length===20,"nextPushId: Length should be 20."),f}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,r,s,o){this.eventType=e,this.eventRegistration=r,this.snapshot=s,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Tt(this.snapshot.exportVal())}}class zO{constructor(e,r,s){this.eventRegistration=e,this.error=r,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,r){this.snapshotCallback=e,this.cancelCallback=r}onValue(e,r){this.snapshotCallback.call(null,e,r)}onCancel(e){return K(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,r,s,o){this._repo=e,this._path=r,this._queryParams=s,this._orderByCalled=o}get key(){return Oe(this._path)?null:JE(this._path)}get ref(){return new Li(this._repo,this._path)}get _queryIdentifier(){const e=jy(this._queryParams),r=Ah(e);return r==="{}"?"default":r}get _queryObject(){return jy(this._queryParams)}isEqual(e){if(e=an(e),!(e instanceof es))return!1;const r=this._repo===e._repo,s=nb(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return r&&s&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+ON(this._path)}}function PO(i,e){if(i._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function $b(i){let e=null,r=null;if(i.hasStart()&&(e=i.getIndexStartValue()),i.hasEnd()&&(r=i.getIndexEndValue()),i.getIndex()===fr){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(i.hasStart()){if(i.getIndexStartName()!==ta)throw new Error(s);if(typeof e!="string")throw new Error(o)}if(i.hasEnd()){if(i.getIndexEndName()!==pr)throw new Error(s);if(typeof r!="string")throw new Error(o)}}else if(i.getIndex()===lt){if(e!=null&&!ev(e)||r!=null&&!ev(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(K(i.getIndex()instanceof ub||i.getIndex()===cb,"unknown index type."),e!=null&&typeof e=="object"||r!=null&&typeof r=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function BO(i){if(i.hasStart()&&i.hasEnd()&&i.hasLimit()&&!i.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Li extends es{constructor(e,r){super(e,r,new Lh,!1)}get parent(){const e=tb(this._path);return e===null?null:new Li(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Cl{constructor(e,r,s){this._node=e,this.ref=r,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const r=new Xe(e),s=Rl(this.ref,e);return new Cl(this._node.getChild(r),s,lt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,o)=>e(new Cl(o,Rl(this.ref,s),lt)))}hasChild(e){const r=new Xe(e);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function $d(i,e){return i=an(i),i._checkNotDeleted("ref"),e!==void 0?Rl(i._root,e):i._root}function Rl(i,e){return i=an(i),Me(i._path)===null?pO("child","path",e):Bb("child","path",e),new Li(i._repo,wt(i._path,e))}function jO(i,e){i=an(i),jb("push",i._path),$h("push",e,i._path,!0);const r=Fb(i._repo),s=UO(r),o=Rl(i,s),u=Rl(i,s);let f;return e!=null?f=qO(u,e).then(()=>u):f=Promise.resolve(u),o.then=f.then.bind(f),o.catch=f.then.bind(f,void 0),o}function qO(i,e){i=an(i),jb("set",i._path),$h("set",e,i._path,!1);const r=new ku;return RO(i._repo,i._path,e,null,r.wrapCallback(()=>{})),r.promise}function FO(i){i=an(i);const e=new HO(()=>{}),r=new tm(e);return CO(i._repo,i,r).then(s=>new Cl(s,new Li(i._repo,i._path),i._queryParams.getIndex()))}class tm{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,r){const s=r._queryParams.getIndex();return new kO("value",this,new Cl(e.snapshotNode,new Li(r._repo,r._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,r){return this.callbackContext.hasCancelCallback?new zO(this,e,r):null}matches(e){return e instanceof tm?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class nm{}class VO extends nm{constructor(e,r){super(),this._value=e,this._key=r,this.type="startAt"}_apply(e){$h("startAt",this._value,e._path,!0);const r=JN(e._queryParams,this._value,this._key);if(BO(r),$b(r),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new es(e._repo,e._path,r,e._orderByCalled)}}function GO(i=null,e){return new VO(i,e)}class YO extends nm{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new es(e._repo,e._path,ZN(e._queryParams,this._limit),e._orderByCalled)}}function av(i){if(Math.floor(i)!==i||i<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new YO(i)}class QO extends nm{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){PO(e,"orderByKey");const r=eD(e._queryParams,fr);return $b(r),new es(e._repo,e._path,r,!0)}}function sv(){return new QO}function lv(i,...e){let r=an(i);for(const s of e)r=s._apply(r);return r}jD(Li);YD(Li);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="FIREBASE_DATABASE_EMULATOR_HOST",Wd={};let XO=!1;function $O(i,e,r,s){i.repoInfo_=new VE(`${e}:${r}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),s&&(i.authTokenProvider_=s)}function WO(i,e,r,s,o){let u=s||i.options.databaseURL;u===void 0&&(i.options.projectId||xi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Gt("Using default host for project ",i.options.projectId),u=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=iv(u,o),h=f.repoInfo,m;typeof process<"u"&&Ty&&(m=Ty[KO]),m?(u=`http://${m}?ns=${h.namespace}`,f=iv(u,o),h=f.repoInfo):f.repoInfo.secure;const p=new rN(i.name,i.options,e);gO("Invalid Firebase Database URL",f),Oe(f.path)||xi("Database URL must point to the root of a Firebase Database (not including a child path).");const y=JO(h,i,p,new iN(i.name,r));return new eM(y,i)}function ZO(i,e){const r=Wd[e];(!r||r[i.key]!==i)&&xi(`Database ${e}(${i.repoInfo_}) has already been deleted.`),NO(i),delete r[i.key]}function JO(i,e,r,s){let o=Wd[e.name];o||(o={},Wd[e.name]=o);let u=o[i.toURLString()];return u&&xi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new SO(i,XO,r,s),o[i.toURLString()]=u,u}class eM{constructor(e,r){this._repoInternal=e,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(TO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Li(this._repo,Be())),this._rootInternal}_delete(){return this._rootInternal!==null&&(ZO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&xi("Cannot call "+e+" on a deleted database.")}}function tM(i=aE(),e){const r=Ol(i,"database").getImmediate({identifier:e});if(!r._instanceStarted){const s=KC("database");s&&nM(r,...s)}return r}function nM(i,e,r,s={}){i=an(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&xi("Cannot call useEmulator() after instance has already been initialized.");const o=i._repoInternal;let u;if(o.repoInfo_.nodeAdmin)s.mockUserToken&&xi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new ru(ru.OWNER);else if(s.mockUserToken){const f=typeof s.mockUserToken=="string"?s.mockUserToken:$C(s.mockUserToken,i.app.options.projectId);u=new ru(f)}$O(o,e,r,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(i){j1(Pu),ii(new Gn("database",(e,{instanceIdentifier:r})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return WO(s,o,u,r)},"PUBLIC").setMultipleInstances(!0)),Mn(wy,Cy,i),Mn(wy,Cy,"esm2017")}Oi.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};Oi.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};iM();const rM={apiKey:"AIzaSyA87k59Y0yvzptwjS0CB5jqQR80igso3sw",authDomain:"dino-dash-66723.firebaseapp.com",databaseURL:"https://dino-dash-66723-default-rtdb.europe-west1.firebasedatabase.app",projectId:"dino-dash-66723",storageBucket:"dino-dash-66723.firebasestorage.app",messagingSenderId:"456959919434",appId:"1:456959919434:web:fde2e8ba634046c8642db3",measurementId:"G-5LXYMB5NEH"},Wb=rE(rM);z1(Wb);const Zd=tM(Wb),Jd="highscores",aM=async(i,e)=>{try{const r=$d(Zd,`${Jd}/${i}`);await jO(r,{score:e,timestamp:new Date().toISOString()}),console.log("High score submitted successfully")}catch(r){console.error("Error submitting high score: ",r)}},sM=async(i,e)=>{try{console.log(` Fetching scores. Last Key: ${i||"None (First Page)"}`);let r;i?r=lv($d(Zd,Jd),sv(),GO(i),av(e+1)):r=lv($d(Zd,Jd),sv(),av(e+1));const s=await FO(r);if(!s.exists())return console.warn(" No high scores found!"),{scores:[],lastKey:null,hasNext:!1};let o=[],u=null;s.forEach(h=>{const m=h.key,p=h.val();Object.entries(p).forEach(([y,v])=>{typeof v=="object"&&v.score!==void 0&&o.push({id:y,username:m,score:v.score,timestamp:v.timestamp||null})}),u=h.key});const f=o.length>e;return f&&o.pop(),console.log(` Retrieved ${o.length} scores. More pages? ${f}`),{scores:o,lastKey:u,hasNext:f}}catch(r){return console.error(" Error retrieving paginated scores:",r),{scores:[],lastKey:null,hasNext:!1}}},lM=()=>{const[i,e]=A.useState(0);return A.useEffect(()=>{const r=setInterval(()=>{e(s=>s===-10?10:-10)},800);return()=>clearInterval(r)},[]),i},oM=()=>{const{isRunning:i}=qv(),{level:e}=Uu(),[r,s]=A.useState(0);return A.useEffect(()=>{if(!i)return;const o=setInterval(()=>{s(u=>(u-1)%window.innerWidth)},20);return()=>clearInterval(o)},[i]),V.jsxs("div",{className:"background-container",children:[V.jsx("div",{className:`background-layer Background-lvl${e}-sky-1`}),V.jsx("div",{className:`background-layer Background-lvl${e}-outline-2`}),V.jsx("div",{className:`background-layer Background-lvl${e}-desert-3`,style:{backgroundPositionX:`${r}px`}}),V.jsx("div",{className:`background-layer Background-lvl${e}-decor-4`,style:{backgroundPositionX:`${r}px`}}),V.jsx("div",{className:`background-layer Background-lvl${e}-foreground-5`,style:{backgroundPositionX:`${r*4.5}px`}})]})},uM=()=>{const{score:i,setScore:e}=hh(),{isRunning:r,setIsRunning:s}=qv(),{level:o}=Uu(),{isPlaying:u,setIsPlaying:f}=Fv(),h=140,m=140,p=o===1?85:o===2?235:285,y=185,v=40,E=40,S=A.useRef(null),N=A.useRef(null);A.useEffect(()=>{S.current||(S.current=new Audio("/static/jump_1.mp3"),S.current.preload="auto"),N.current||(N.current=new Audio("/static/lose.wav"),N.current.preload="auto")},[]);const{volume:H}=mh(),z=()=>{S.current&&(S.current.volume=H/100,S.current.currentTime=0,S.current.play())},P=()=>{N.current&&(N.current.volume=Math.min(H/100+.5,1),N.current.currentTime=0,N.current.play())},Q=500,Z=o===1?8:o===2?9:11,de=o===1?5:o===2?7:10,[W,M]=A.useState(de),_e=o===1?"cactus":o===2?"camel":o===3?"sabertooth_tiger":"error",be=o===1?1:o===2?2:3,[G,se]=A.useState(window.innerWidth),[Le,dt]=A.useState(v),[Ct,ht]=A.useState(!1),[Fe,Y]=A.useState(!1),[me,ue]=A.useState(0),[Ne,T]=A.useState(""),q=lM(),ie=A.useRef(null),ee=A.useRef(window.innerWidth),X=A.useRef(null),Te=()=>{clearInterval(ie.current),Y(!1),s(!1),f(!0),se(window.innerWidth),dt(v),e(0),ht(!1),T(""),M(de),X.current&&cancelAnimationFrame(X.current),ee.current=window.innerWidth,se(window.innerWidth),setTimeout(()=>{s(!0)},50)},pe=Mv(),vt=()=>{pe("/"),window.location.reload()};A.useEffect(()=>{if(!r||Fe)return;let Se=performance.now();const ve=16.67,$e=Rt=>{if(!r||Fe)return;const Et=Rt-Se;Se=Rt;const At=W*(Et/ve);let $t=ee.current-At;$t<=-p*2&&($t=window.innerWidth),ee.current=$t,se($t),X.current=requestAnimationFrame($e)};return X.current=requestAnimationFrame($e),()=>{X.current&&cancelAnimationFrame(X.current)}},[r,Fe,W,p]),A.useEffect(()=>{if(!(!r||Fe))return clearInterval(ie.current),ie.current=setInterval(()=>{e(Se=>Se+be)},100),()=>clearInterval(ie.current)},[r,Fe,be]),A.useEffect(()=>{const Se=ve=>{if(ve.code==="Space"&&!Ct&&r){ht(!0),z();const $e=Le,Rt=Q,Et=Rt-$e,Yt=Et/Z*20;let hn=null;const oi=Ui=>{hn||(hn=Ui);const ki=Ui-hn;if(ki<Yt){const xn=$e+Et*(ki/Yt);dt(xn),requestAnimationFrame(oi)}else{dt(Rt);let xn=null;const mn=Yn=>{xn||(xn=Yn);const jt=Yn-xn;if(jt<Yt){const Er=Rt-Et*(jt/Yt);dt(Er),requestAnimationFrame(mn)}else dt(v),ht(!1)};requestAnimationFrame(mn)}};requestAnimationFrame(oi)}};return r&&document.addEventListener("keydown",Se),()=>document.removeEventListener("keydown",Se)},[Ct,r,Le]),A.useEffect(()=>{if(!r||Fe)return;let Se;const ve=()=>{if(!r||Fe)return;const $e=100,Rt=Le,Et=ee.current,At=E,$t=Et<$e+h&&Et+p>$e,Yt=At<Rt+m&&At+y>Rt;if($t&&Yt){Y(!0),s(!1),P(),ue(hn=>Math.max(hn,i));return}Se=requestAnimationFrame(ve)};return Se=requestAnimationFrame(ve),()=>{cancelAnimationFrame(Se)}},[r,Fe,Le,i]);const Ue=()=>{Ne.trim()!==""&&aM(Ne,i)};return A.useEffect(()=>{const Se=()=>{f(!0),window.removeEventListener("click",Se),window.removeEventListener("keydown",Se)};return window.addEventListener("click",Se),window.addEventListener("keydown",Se),()=>{window.removeEventListener("click",Se),window.removeEventListener("keydown",Se)}},[f]),V.jsxs("div",{className:"game-container",children:[V.jsx(oM,{}),Fe&&V.jsx("div",{className:"game-over-overlay",children:V.jsxs("div",{className:"game-over-menu",children:[V.jsxs("p",{children:["Seems you have hugged a ",_e,". Ouch!"]}),V.jsxs("p",{children:["High Score: ",me]}),V.jsx("input",{type:"text",placeholder:"Enter your name",value:Ne,onChange:Se=>T(Se.target.value)}),V.jsx("button",{onClick:Ue,children:"Submit Score"}),V.jsx("button",{onClick:Te,children:"Restart"}),V.jsx("button",{onClick:vt,children:"Go back to menu"})]})}),V.jsxs("div",{className:"game-entities",children:[V.jsx("div",{className:"dino",style:{bottom:`${Le}px`,left:"100px",transform:`rotate(${q}deg)`,transition:"transform 1s ease-in-out"}}),V.jsx("div",{className:_e,style:{left:`${G}px`}})]})]})},cM=()=>{const[i,e]=A.useState(!1),[r,s]=A.useState(!0),{setScore:o}=hh(),{level:u,nextLevel:f}=Uu(),h=()=>{e(!0),s(!0),o(0)},m=()=>{s(!1)},p=()=>{s(!0)};return V.jsxs("div",{className:"homepage-container",children:[V.jsx(Vv,{}),i?V.jsxs(V.Fragment,{children:[V.jsx(uM,{isRunning:r,onPause:m}),!r&&V.jsx("div",{className:"pause-overlay",children:V.jsxs("div",{className:"pause-menu",children:[V.jsx("h2",{children:"Game Paused"}),V.jsx("button",{onClick:p,className:"resume-btn",children:"Resume Game"})]})})]}):V.jsx("div",{className:"container text-center mt-5",children:V.jsxs("div",{className:"main-menu-container d-flex flex-column align-items-center justify-content-center",children:[V.jsxs("div",{className:"menu-container d-flex justify-content-center",onClick:h,children:[V.jsx("img",{src:"/static/Elements/Wooden_Button_1.svg",alt:"Wooden Button"}),V.jsx("div",{className:"text-Centered-In-Image",children:"Start"})]}),V.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-center",children:[V.jsx("br",{}),V.jsx("br",{}),V.jsx("p",{className:"me-3 mb-0",children:"Select level:"}),V.jsxs("button",{className:"btn btn-secondary",onClick:f,children:["Level ",u]}),V.jsx("br",{}),V.jsx("br",{}),V.jsx("p",{children:"Different levels have different areas."}),V.jsx("p",{children:"Speed is increased, but so is the score!."}),V.jsx("div",{className:"mt-5",children:V.jsx("p",{children:"Use SPACE to jump."})})]})]})})]})},fM=()=>{const[i,e]=A.useState([]),[r,s]=A.useState(1),o=10,[u,f]=A.useState(null),[h,m]=A.useState(!0),[p,y]=A.useState(!1);A.useEffect(()=>{v()},[r]);const v=async()=>{try{y(!0);const{scores:E,lastKey:S,hasNext:N}=await sM(u,o);E.length>0?(e(E),f(S),m(N)):console.warn(" No more scores available.")}catch(E){console.error(" Error fetching scores:",E)}finally{y(!1)}};return V.jsxs("div",{className:"high-score-container d-flex align-items-center justify-content-center",children:[V.jsx("div",{className:"sigmar-regular Highscore-title d-flex align-items-center justify-content-center",children:V.jsx("h2",{children:"High Scores"})}),p?V.jsx("p",{children:"Loading..."}):null,V.jsx("ul",{className:"ListedScores d-flex flex-column align-items-center justify-content-center",children:i.length>0?i.map((E,S)=>V.jsxs("li",{children:[S+1+(r-1)*o,". Score: ",E.score,", Username: ",E.username]},E.id)):V.jsx("p",{children:"No scores available"})}),V.jsxs("div",{className:"pagination",children:[r>1&&V.jsx("button",{onClick:()=>{s(r-1),f(null)},children:"Previous"}),h&&V.jsx("button",{onClick:()=>{s(r+1)},children:"Next"})]})]})};function Zb(i,e){var r={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(r[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(r[s[o]]=i[s[o]]);return r}function Jb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dM=Jb,eS=new sa("auth","Firebase",Jb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=new Hu("@firebase/auth");function hM(i,...e){Ou.logLevel<=Ye.WARN&&Ou.warn(`Auth (${Pu}): ${i}`,...e)}function au(i,...e){Ou.logLevel<=Ye.ERROR&&Ou.error(`Auth (${Pu}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(i,...e){throw im(i,...e)}function tS(i,...e){return im(i,...e)}function nS(i,e,r){const s=Object.assign(Object.assign({},dM()),{[e]:r});return new sa("auth","Firebase",s).create(e,{appName:i.name})}function su(i){return nS(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function im(i,...e){if(typeof i!="string"){const r=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(r,...s)}return eS.create(i,...e)}function qe(i,e,...r){if(!i)throw im(e,...r)}function dl(i){const e="INTERNAL ASSERTION FAILED: "+i;throw au(e),new Error(e)}function Mu(i,e){i||dl(e)}function mM(){return uv()==="http:"||uv()==="https:"}function uv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mM()||$v()||"connection"in navigator)?navigator.onLine:!0}function gM(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,r){this.shortDelay=e,this.longDelay=r,Mu(r>e,"Short delay should be less than long delay!"),this.isMobile=_h()||Wv()}get(){return pM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(i,e){Mu(i.emulator,"Emulator should always be set here");const{url:r}=i.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{static initialize(e,r,s){this.fetchImpl=e,r&&(this.headersImpl=r),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=new zl(3e4,6e4);function rS(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Wu(i,e,r,s,o={}){return aS(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const h=yh(Object.assign({key:i.config.apiKey},f)).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const p=Object.assign({method:e,headers:m},u);return WC()||(p.referrerPolicy="no-referrer"),iS.fetch()(sS(i,i.config.apiHost,r,h),p)})}async function aS(i,e,r){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},yM),e);try{const o=new EM(i),u=await Promise.race([r(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw eu(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const h=u.ok?f.errorMessage:f.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw eu(i,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw eu(i,"email-already-in-use",f);if(m==="USER_DISABLED")throw eu(i,"user-disabled",f);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw nS(i,y,p);ov(i,y)}}catch(o){if(o instanceof Ii)throw o;ov(i,"network-request-failed",{message:String(o)})}}function sS(i,e,r,s){const o=`${e}${r}?${s}`;return i.config.emulator?_M(i.config,o):`${i.config.apiScheme}://${o}`}class EM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,s)=>{this.timer=setTimeout(()=>s(tS(this.auth,"network-request-failed")),vM.get())})}}function eu(i,e,r){const s={appName:i.name};r.email&&(s.email=r.email),r.phoneNumber&&(s.phoneNumber=r.phoneNumber);const o=tS(i,e,s);return o.customData._tokenResponse=r,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(i,e){return Wu(i,"POST","/v1/accounts:delete",e)}async function lS(i,e){return Wu(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SM(i,e=!1){const r=an(i),s=await r.getIdToken(e),o=oS(s);qe(o&&o.exp&&o.auth_time&&o.iat,r.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:hl(Od(o.auth_time)),issuedAtTime:hl(Od(o.iat)),expirationTime:hl(Od(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Od(i){return Number(i)*1e3}function oS(i){const[e,r,s]=i.split(".");if(e===void 0||r===void 0||s===void 0)return au("JWT malformed, contained fewer than 3 sections"),null;try{const o=du(r);return o?JSON.parse(o):(au("Failed to decode base64 JWT payload"),null)}catch(o){return au("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function cv(i){const e=oS(i);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(i,e,r=!1){if(r)return e;try{return await e}catch(s){throw s instanceof Ii&&TM(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function TM({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=hl(this.lastLoginAt),this.creationTime=hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(i){var e;const r=i.auth,s=await i.getIdToken(),o=await eh(i,lS(r,{idToken:s}));qe(o==null?void 0:o.users.length,r,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?uS(u.providerUserInfo):[],h=RM(i.providerData,f),m=i.isAnonymous,p=!(i.email&&u.passwordHash)&&!(h!=null&&h.length),y=m?p:!1,v={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new th(u.createdAt,u.lastLoginAt),isAnonymous:y};Object.assign(i,v)}async function CM(i){const e=an(i);await xu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RM(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function uS(i){return i.map(e=>{var{providerId:r}=e,s=Zb(e,["providerId"]);return{providerId:r,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AM(i,e){const r=await aS(i,{},async()=>{const s=yh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=sS(i,o,"/v1/token",`key=${u}`),h=await i._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",iS.fetch()(f,{method:"POST",headers:h,body:s})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function NM(i,e){return Wu(i,"POST","/v2/accounts:revokeToken",rS(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const r=cv(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:s,refreshToken:o,expiresIn:u}=await AM(e,r);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,r,s){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,r){const{refreshToken:s,accessToken:o,expirationTime:u}=r,f=new Ga;return s&&(qe(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(qe(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(qe(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return dl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(i,e){qe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class or{constructor(e){var{uid:r,auth:s,stsTokenManager:o}=e,u=Zb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new th(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const r=await eh(this,this.stsTokenManager.getToken(this.auth,e));return qe(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return SM(this,e)}reload(){return CM(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),r&&await xu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(al(this.auth.app))return Promise.reject(su(this.auth));const e=await this.getIdToken();return await eh(this,bM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var s,o,u,f,h,m,p,y;const v=(s=r.displayName)!==null&&s!==void 0?s:void 0,E=(o=r.email)!==null&&o!==void 0?o:void 0,S=(u=r.phoneNumber)!==null&&u!==void 0?u:void 0,N=(f=r.photoURL)!==null&&f!==void 0?f:void 0,H=(h=r.tenantId)!==null&&h!==void 0?h:void 0,z=(m=r._redirectEventId)!==null&&m!==void 0?m:void 0,P=(p=r.createdAt)!==null&&p!==void 0?p:void 0,Q=(y=r.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:Z,emailVerified:de,isAnonymous:W,providerData:M,stsTokenManager:_e}=r;qe(Z&&_e,e,"internal-error");const be=Ga.fromJSON(this.name,_e);qe(typeof Z=="string",e,"internal-error"),ar(v,e.name),ar(E,e.name),qe(typeof de=="boolean",e,"internal-error"),qe(typeof W=="boolean",e,"internal-error"),ar(S,e.name),ar(N,e.name),ar(H,e.name),ar(z,e.name),ar(P,e.name),ar(Q,e.name);const G=new or({uid:Z,auth:e,email:E,emailVerified:de,displayName:v,isAnonymous:W,photoURL:N,phoneNumber:S,tenantId:H,stsTokenManager:be,createdAt:P,lastLoginAt:Q});return M&&Array.isArray(M)&&(G.providerData=M.map(se=>Object.assign({},se))),z&&(G._redirectEventId=z),G}static async _fromIdTokenResponse(e,r,s=!1){const o=new Ga;o.updateFromServerResponse(r);const u=new or({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await xu(u),u}static async _fromGetAccountInfoResponse(e,r,s){const o=r.users[0];qe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?uS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),h=new Ga;h.updateFromIdToken(s);const m=new or({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new th(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=new Map;function Zr(i){Mu(i instanceof Function,"Expected a class definition");let e=fv.get(i);return e?(Mu(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,fv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}cS.type="NONE";const dv=cS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(i,e,r){return`firebase:${i}:${e}:${r}`}class Ya{constructor(e,r,s){this.persistence=e,this.auth=r,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Md(this.userKey,o.apiKey,u),this.fullPersistenceKey=Md("persistence",o.apiKey,u),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?or._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,s="authUser"){if(!r.length)return new Ya(Zr(dv),e,s);const o=(await Promise.all(r.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Zr(dv);const f=Md(s,e.config.apiKey,e.name);let h=null;for(const p of r)try{const y=await p._get(f);if(y){const v=or._fromJSON(e,y);p!==u&&(h=v),u=p;break}}catch{}const m=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Ya(u,e,s):(u=m[0],h&&await u._set(f,h.toJSON()),await Promise.all(r.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new Ya(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LM(e))return"Blackberry";if(UM(e))return"Webos";if(OM(e))return"Safari";if((e.includes("chrome/")||MM(e))&&!e.includes("edge/"))return"Chrome";if(IM(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(r);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function DM(i=ni()){return/firefox\//i.test(i)}function OM(i=ni()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MM(i=ni()){return/crios\//i.test(i)}function xM(i=ni()){return/iemobile/i.test(i)}function IM(i=ni()){return/android/i.test(i)}function LM(i=ni()){return/blackberry/i.test(i)}function UM(i=ni()){return/webos/i.test(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(i,e=[]){let r;switch(i){case"Browser":r=hv(ni());break;case"Worker":r=`${hv(ni())}-${i}`;break;default:r=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Pu}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const s=u=>new Promise((f,h)=>{try{const m=e(u);f(m)}catch(m){h(m)}});s.onAbort=r,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const s of this.queue)await s(e),s.onAbort&&r.push(s.onAbort)}catch(s){r.reverse();for(const o of r)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(i,e={}){return Wu(i,"GET","/v2/passwordPolicy",rS(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=6;class PM{constructor(e){var r,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=f.minPasswordLength)!==null&&r!==void 0?r:HM,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,s,o,u,f,h;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(r=m.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNumericCharacter)!==null&&f!==void 0?f:!0),m.isValid&&(m.isValid=(h=m.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),m}validatePasswordLengthOptions(e,r){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(r.meetsMinPasswordLength=e.length>=s),o&&(r.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(r,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,r,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,r,s,o){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mv(this),this.idTokenSubscription=new mv(this),this.beforeStateQueue=new kM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Zr(r)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Ya.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await lS(this,{idToken:e}),s=await or._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(s)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(al(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(h,h))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,h=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!f||f===h)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await xu(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(al(this.app))return Promise.reject(su(this));const r=e?an(e):null;return r&&qe(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return al(this.app)?Promise.reject(su(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return al(this.app)?Promise.reject(su(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zM(this),r=new PM(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sa("auth","Firebase",e())}onAuthStateChanged(e,r,s){return this.registerStateListener(this.authStateSubscription,e,r,s)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,s){return this.registerStateListener(this.idTokenSubscription,e,r,s)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(s.tenantId=this.tenantId),await NM(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const s=await this.getOrInitRedirectPersistenceManager(r);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Zr(e)||this._popupRedirectResolver;qe(r,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[Zr(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,s;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,s,o){if(this._deleted)return()=>{};const u=typeof r=="function"?r:r.next.bind(r);let f=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(h,this,"internal-error"),h.then(()=>{f||u(this.currentUser)}),typeof r=="function"){const m=e.addObserver(r,s,o);return()=>{f=!0,m()}}else{const m=e.addObserver(r);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(r["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&hM(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function jM(i){return an(i)}class mv{constructor(e){this.auth=e,this.observer=null,this.addObserver=sR(r=>this.observer=r)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qM(i,e){const r=(e==null?void 0:e.persistence)||[],s=(Array.isArray(r)?r:[r]).map(Zr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}new zl(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new zl(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new zl(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new zl(5e3,15e3);var pv="@firebase/auth",gv="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GM(i){ii(new Gn("auth",(e,{options:r})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:h}=s.options;qe(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:f,authDomain:h,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fS(i)},p=new BM(s,o,u,m);return qM(p,r),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,s)=>{e.getProvider("auth-internal").initialize()})),ii(new Gn("auth-internal",e=>{const r=jM(e.getProvider("auth").getImmediate());return(s=>new FM(s))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mn(pv,gv,VM(i)),Mn(pv,gv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=5*60;XC("authIdTokenMaxAge");GM("Browser");const QM=_C([{path:"/",element:V.jsx(HC,{}),children:[{index:!0,element:V.jsx(cM,{})},{path:"highscorespage",element:V.jsx(fM,{})}]}]),KM=()=>{try{return V.jsx(OC,{router:QM})}catch(i){return console.error(" RouterProvider failed to mount:",i),V.jsx("div",{children:"Router failed to load"})}},XM=()=>(A.useEffect(()=>{["/static/lizardwizard_150x150.png","/static/cactus_1.svg","/static/camel.svg","/static/sabertooth_tiger.svg","/static/lvl1/background_1.png","/static/lvl1/background_2.png","/static/lvl1/background_3.png","/static/lvl1/background_4.png","/static/lvl1/background_5.png","/static/lvl2/background_1.png","/static/lvl2/background_2.png","/static/lvl2/background_3.png","/static/lvl2/background_4.png","/static/lvl2/background_5.png","/static/lvl3/background_1.png","/static/lvl3/background_2.png","/static/lvl3/background_3.png","/static/lvl3/background_4.png","/static/lvl3/background_5.png"].forEach(e=>{const r=new Image;r.src=e})},[]),null);AT.createRoot(document.getElementById("root")).render(V.jsxs(A.StrictMode,{children:[V.jsx(XM,{}),"           ",V.jsx(MC,{children:V.jsx(xC,{children:V.jsx(IC,{children:V.jsx(LC,{children:V.jsx(UC,{children:V.jsx(KM,{})})})})})})]}));
