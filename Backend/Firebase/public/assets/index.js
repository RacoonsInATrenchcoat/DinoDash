function $v(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ad={exports:{}},hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function cw(){if(ty)return hl;ty=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(a,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:n,type:a,key:f,ref:l!==void 0?l:null,props:u}}return hl.Fragment=e,hl.jsx=r,hl.jsxs=r,hl}var ny;function fw(){return ny||(ny=1,Ad.exports=cw()),Ad.exports}var Q=fw(),Nd={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function dw(){if(iy)return Te;iy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function E(T){return T===null||typeof T!="object"?null:(T=v&&T[v]||T["@@iterator"],typeof T=="function"?T:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,H={};function P(T,j,re){this.props=T,this.context=j,this.refs=H,this.updater=re||b}P.prototype.isReactComponent={},P.prototype.setState=function(T,j){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,j,"setState")},P.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function z(){}z.prototype=P.prototype;function G(T,j,re){this.props=T,this.context=j,this.refs=H,this.updater=re||b}var J=G.prototype=new z;J.constructor=G,A(J,P.prototype),J.isPureReactComponent=!0;var fe=Array.isArray,W={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function ye(T,j,re,te,Z,be){return re=be.ref,{$$typeof:n,type:T,key:j,ref:re!==void 0?re:null,props:be}}function Se(T,j){return ye(T.type,j,void 0,void 0,void 0,T.props)}function F(T){return typeof T=="object"&&T!==null&&T.$$typeof===n}function oe(T){var j={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(re){return j[re]})}var je=/\/+/g;function _t(T,j){return typeof T=="object"&&T!==null&&T.key!=null?oe(""+T.key):j.toString(36)}function Dt(){}function at(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Dt,Dt):(T.status="pending",T.then(function(j){T.status==="pending"&&(T.status="fulfilled",T.value=j)},function(j){T.status==="pending"&&(T.status="rejected",T.reason=j)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function et(T,j,re,te,Z){var be=typeof T;(be==="undefined"||be==="boolean")&&(T=null);var pe=!1;if(T===null)pe=!0;else switch(be){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(T.$$typeof){case n:case e:pe=!0;break;case _:return pe=T._init,et(pe(T._payload),j,re,te,Z)}}if(pe)return Z=Z(T),pe=te===""?"."+_t(T,0):te,fe(Z)?(re="",pe!=null&&(re=pe.replace(je,"$&/")+"/"),et(Z,j,re,"",function(st){return st})):Z!=null&&(F(Z)&&(Z=Se(Z,re+(Z.key==null||T&&T.key===Z.key?"":(""+Z.key).replace(je,"$&/")+"/")+pe)),j.push(Z)),1;pe=0;var Ot=te===""?".":te+":";if(fe(T))for(var Ue=0;Ue<T.length;Ue++)te=T[Ue],be=Ot+_t(te,Ue),pe+=et(te,j,re,be,Z);else if(Ue=E(T),typeof Ue=="function")for(T=Ue.call(T),Ue=0;!(te=T.next()).done;)te=te.value,be=Ot+_t(te,Ue++),pe+=et(te,j,re,be,Z);else if(be==="object"){if(typeof T.then=="function")return et(at(T),j,re,te,Z);throw j=String(T),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return pe}function Y(T,j,re){if(T==null)return T;var te=[],Z=0;return et(T,te,"","",function(be){return j.call(re,be,Z++)}),te}function me(T){if(T._status===-1){var j=T._result;j=j(),j.then(function(re){(T._status===0||T._status===-1)&&(T._status=1,T._result=re)},function(re){(T._status===0||T._status===-1)&&(T._status=2,T._result=re)}),T._status===-1&&(T._status=0,T._result=j)}if(T._status===1)return T._result.default;throw T._result}var X=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function Ne(){}return Te.Children={map:Y,forEach:function(T,j,re){Y(T,function(){j.apply(this,arguments)},re)},count:function(T){var j=0;return Y(T,function(){j++}),j},toArray:function(T){return Y(T,function(j){return j})||[]},only:function(T){if(!F(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Te.Component=P,Te.Fragment=r,Te.Profiler=l,Te.PureComponent=G,Te.StrictMode=a,Te.Suspense=m,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Te.act=function(){throw Error("act(...) is not supported in production builds of React.")},Te.cache=function(T){return function(){return T.apply(null,arguments)}},Te.cloneElement=function(T,j,re){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var te=A({},T.props),Z=T.key,be=void 0;if(j!=null)for(pe in j.ref!==void 0&&(be=void 0),j.key!==void 0&&(Z=""+j.key),j)!I.call(j,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&j.ref===void 0||(te[pe]=j[pe]);var pe=arguments.length-2;if(pe===1)te.children=re;else if(1<pe){for(var Ot=Array(pe),Ue=0;Ue<pe;Ue++)Ot[Ue]=arguments[Ue+2];te.children=Ot}return ye(T.type,Z,void 0,void 0,be,te)},Te.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},Te.createElement=function(T,j,re){var te,Z={},be=null;if(j!=null)for(te in j.key!==void 0&&(be=""+j.key),j)I.call(j,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(Z[te]=j[te]);var pe=arguments.length-2;if(pe===1)Z.children=re;else if(1<pe){for(var Ot=Array(pe),Ue=0;Ue<pe;Ue++)Ot[Ue]=arguments[Ue+2];Z.children=Ot}if(T&&T.defaultProps)for(te in pe=T.defaultProps,pe)Z[te]===void 0&&(Z[te]=pe[te]);return ye(T,be,void 0,void 0,null,Z)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(T){return{$$typeof:h,render:T}},Te.isValidElement=F,Te.lazy=function(T){return{$$typeof:_,_payload:{_status:-1,_result:T},_init:me}},Te.memo=function(T,j){return{$$typeof:p,type:T,compare:j===void 0?null:j}},Te.startTransition=function(T){var j=W.T,re={};W.T=re;try{var te=T(),Z=W.S;Z!==null&&Z(re,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(Ne,X)}catch(be){X(be)}finally{W.T=j}},Te.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Te.use=function(T){return W.H.use(T)},Te.useActionState=function(T,j,re){return W.H.useActionState(T,j,re)},Te.useCallback=function(T,j){return W.H.useCallback(T,j)},Te.useContext=function(T){return W.H.useContext(T)},Te.useDebugValue=function(){},Te.useDeferredValue=function(T,j){return W.H.useDeferredValue(T,j)},Te.useEffect=function(T,j){return W.H.useEffect(T,j)},Te.useId=function(){return W.H.useId()},Te.useImperativeHandle=function(T,j,re){return W.H.useImperativeHandle(T,j,re)},Te.useInsertionEffect=function(T,j){return W.H.useInsertionEffect(T,j)},Te.useLayoutEffect=function(T,j){return W.H.useLayoutEffect(T,j)},Te.useMemo=function(T,j){return W.H.useMemo(T,j)},Te.useOptimistic=function(T,j){return W.H.useOptimistic(T,j)},Te.useReducer=function(T,j,re){return W.H.useReducer(T,j,re)},Te.useRef=function(T){return W.H.useRef(T)},Te.useState=function(T){return W.H.useState(T)},Te.useSyncExternalStore=function(T,j,re){return W.H.useSyncExternalStore(T,j,re)},Te.useTransition=function(){return W.H.useTransition()},Te.version="19.0.0",Te}var ry;function Th(){return ry||(ry=1,Nd.exports=dw()),Nd.exports}var O=Th();const hw=$v(O);var Dd={exports:{}},ml={},Od={exports:{}},Id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function mw(){return ay||(ay=1,function(n){function e(Y,me){var X=Y.length;Y.push(me);e:for(;0<X;){var Ne=X-1>>>1,T=Y[Ne];if(0<l(T,me))Y[Ne]=me,Y[X]=T,X=Ne;else break e}}function r(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var me=Y[0],X=Y.pop();if(X!==me){Y[0]=X;e:for(var Ne=0,T=Y.length,j=T>>>1;Ne<j;){var re=2*(Ne+1)-1,te=Y[re],Z=re+1,be=Y[Z];if(0>l(te,X))Z<T&&0>l(be,te)?(Y[Ne]=be,Y[Z]=X,Ne=Z):(Y[Ne]=te,Y[re]=X,Ne=re);else if(Z<T&&0>l(be,X))Y[Ne]=be,Y[Z]=X,Ne=Z;else break e}}return me}function l(Y,me){var X=Y.sortIndex-me.sortIndex;return X!==0?X:Y.id-me.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();n.unstable_now=function(){return f.now()-h}}var m=[],p=[],_=1,v=null,E=3,b=!1,A=!1,H=!1,P=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function J(Y){for(var me=r(p);me!==null;){if(me.callback===null)a(p);else if(me.startTime<=Y)a(p),me.sortIndex=me.expirationTime,e(m,me);else break;me=r(p)}}function fe(Y){if(H=!1,J(Y),!A)if(r(m)!==null)A=!0,at();else{var me=r(p);me!==null&&et(fe,me.startTime-Y)}}var W=!1,I=-1,ye=5,Se=-1;function F(){return!(n.unstable_now()-Se<ye)}function oe(){if(W){var Y=n.unstable_now();Se=Y;var me=!0;try{e:{A=!1,H&&(H=!1,z(I),I=-1),b=!0;var X=E;try{t:{for(J(Y),v=r(m);v!==null&&!(v.expirationTime>Y&&F());){var Ne=v.callback;if(typeof Ne=="function"){v.callback=null,E=v.priorityLevel;var T=Ne(v.expirationTime<=Y);if(Y=n.unstable_now(),typeof T=="function"){v.callback=T,J(Y),me=!0;break t}v===r(m)&&a(m),J(Y)}else a(m);v=r(m)}if(v!==null)me=!0;else{var j=r(p);j!==null&&et(fe,j.startTime-Y),me=!1}}break e}finally{v=null,E=X,b=!1}me=void 0}}finally{me?je():W=!1}}}var je;if(typeof G=="function")je=function(){G(oe)};else if(typeof MessageChannel<"u"){var _t=new MessageChannel,Dt=_t.port2;_t.port1.onmessage=oe,je=function(){Dt.postMessage(null)}}else je=function(){P(oe,0)};function at(){W||(W=!0,je())}function et(Y,me){I=P(function(){Y(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){A||b||(A=!0,at())},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return r(m)},n.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var X=E;E=me;try{return Y()}finally{E=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,me){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var X=E;E=Y;try{return me()}finally{E=X}},n.unstable_scheduleCallback=function(Y,me,X){var Ne=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Ne+X:Ne):X=Ne,Y){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=X+T,Y={id:_++,callback:me,priorityLevel:Y,startTime:X,expirationTime:T,sortIndex:-1},X>Ne?(Y.sortIndex=X,e(p,Y),r(m)===null&&Y===r(p)&&(H?(z(I),I=-1):H=!0,et(fe,X-Ne))):(Y.sortIndex=T,e(m,Y),A||b||(A=!0,at())),Y},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(Y){var me=E;return function(){var X=E;E=me;try{return Y.apply(this,arguments)}finally{E=X}}}}(Id)),Id}var sy;function pw(){return sy||(sy=1,Od.exports=mw()),Od.exports}var Md={exports:{}},Bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function gw(){if(ly)return Bt;ly=1;var n=Th();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(m,p,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:v==null?null:""+v,children:m,containerInfo:p,implementation:_}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Bt.createPortal=function(m,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(m,p,null,_)},Bt.flushSync=function(m){var p=f.T,_=a.p;try{if(f.T=null,a.p=2,m)return m()}finally{f.T=p,a.p=_,a.d.f()}},Bt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(m,p))},Bt.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},Bt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var _=p.as,v=h(_,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?a.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:b}):_==="script"&&a.d.X(m,{crossOrigin:v,integrity:E,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Bt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=h(p.as,p.crossOrigin);a.d.M(m,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(m)},Bt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,v=h(_,p.crossOrigin);a.d.L(m,_,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Bt.preloadModule=function(m,p){if(typeof m=="string")if(p){var _=h(p.as,p.crossOrigin);a.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(m)},Bt.requestFormReset=function(m){a.d.r(m)},Bt.unstable_batchedUpdates=function(m,p){return m(p)},Bt.useFormState=function(m,p,_){return f.H.useFormState(m,p,_)},Bt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Bt.version="19.0.0",Bt}var oy;function Xv(){if(oy)return Md.exports;oy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Md.exports=gw(),Md.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function _w(){if(uy)return ml;uy=1;var n=pw(),e=Th(),r=Xv();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),b=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),fe=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function I(t){return t===null||typeof t!="object"?null:(t=W&&t[W]||t["@@iterator"],typeof t=="function"?t:null)}var ye=Symbol.for("react.client.reference");function Se(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ye?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case m:return"Fragment";case h:return"Portal";case _:return"Profiler";case p:return"StrictMode";case H:return"Suspense";case P:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case b:return(t.displayName||"Context")+".Provider";case E:return(t._context.displayName||"Context")+".Consumer";case A:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case z:return i=t.displayName||null,i!==null?i:Se(t.type)||"Memo";case G:i=t._payload,t=t._init;try{return Se(t(i))}catch{}}return null}var F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=Object.assign,je,_t;function Dt(t){if(je===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);je=i&&i[1]||"",_t=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+t+_t}var at=!1;function et(t,i){if(!t||at)return"";at=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(k){var x=k}Reflect.construct(t,[],q)}else{try{q.call()}catch(k){x=k}t.call(q.prototype)}}else{try{throw Error()}catch(k){x=k}(q=t())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(k){if(k&&x&&typeof k.stack=="string")return[k.stack,x.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),g=d[0],y=d[1];if(g&&y){var S=g.split(`
`),R=y.split(`
`);for(c=o=0;o<S.length&&!S[o].includes("DetermineComponentFrameRoot");)o++;for(;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;if(o===S.length||c===R.length)for(o=S.length-1,c=R.length-1;1<=o&&0<=c&&S[o]!==R[c];)c--;for(;1<=o&&0<=c;o--,c--)if(S[o]!==R[c]){if(o!==1||c!==1)do if(o--,c--,0>c||S[o]!==R[c]){var U=`
`+S[o].replace(" at new "," at ");return t.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",t.displayName)),U}while(1<=o&&0<=c);break}}}finally{at=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Dt(s):""}function Y(t){switch(t.tag){case 26:case 27:case 5:return Dt(t.type);case 16:return Dt("Lazy");case 13:return Dt("Suspense");case 19:return Dt("SuspenseList");case 0:case 15:return t=et(t.type,!1),t;case 11:return t=et(t.type.render,!1),t;case 1:return t=et(t.type,!0),t;default:return""}}function me(t){try{var i="";do i+=Y(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function X(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,i.flags&4098&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function Ne(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function T(t){if(X(t)!==t)throw Error(a(188))}function j(t){var i=t.alternate;if(!i){if(i=X(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,o=i;;){var c=s.return;if(c===null)break;var d=c.alternate;if(d===null){if(o=c.return,o!==null){s=o;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===s)return T(c),t;if(d===o)return T(c),i;d=d.sibling}throw Error(a(188))}if(s.return!==o.return)s=c,o=d;else{for(var g=!1,y=c.child;y;){if(y===s){g=!0,s=c,o=d;break}if(y===o){g=!0,o=c,s=d;break}y=y.sibling}if(!g){for(y=d.child;y;){if(y===s){g=!0,s=d,o=c;break}if(y===o){g=!0,o=d,s=c;break}y=y.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function re(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=re(t),i!==null)return i;t=t.sibling}return null}var te=Array.isArray,Z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},pe=[],Ot=-1;function Ue(t){return{current:t}}function st(t){0>Ot||(t.current=pe[Ot],pe[Ot]=null,Ot--)}function we(t,i){Ot++,pe[Ot]=t.current,t.current=i}var It=Ue(null),Pi=Ue(null),jn=Ue(null),un=Ue(null);function ma(t,i){switch(we(jn,i),we(Pi,t),we(It,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?O_(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=O_(t),i=I_(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}st(It),we(It,i)}function zi(){st(It),st(Pi),st(jn)}function pa(t){t.memoizedState!==null&&we(un,t);var i=It.current,s=I_(i,t.type);i!==s&&(we(Pi,t),we(It,s))}function ga(t){Pi.current===t&&(st(It),st(Pi)),un.current===t&&(st(un),ol._currentValue=be)}var gs=Object.prototype.hasOwnProperty,_s=n.unstable_scheduleCallback,ys=n.unstable_cancelCallback,ri=n.unstable_shouldYield,br=n.unstable_requestPaint,en=n.unstable_now,vs=n.unstable_getCurrentPriorityLevel,An=n.unstable_ImmediatePriority,cn=n.unstable_UserBlockingPriority,Tr=n.unstable_NormalPriority,Es=n.unstable_LowPriority,ro=n.unstable_IdlePriority,qn=n.log,ao=n.unstable_setDisableYieldValue,Hi=null,zt=null;function Sc(t){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Hi,t,void 0,(t.current.flags&128)===128)}catch{}}function Nn(t){if(typeof qn=="function"&&ao(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Hi,t)}catch{}}var bt=Math.clz32?Math.clz32:bc,so=Math.log,Ss=Math.LN2;function bc(t){return t>>>=0,t===0?32:31-(so(t)/Ss|0)|0}var wr=128,_a=4194304;function Vn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ai(t,i){var s=t.pendingLanes;if(s===0)return 0;var o=0,c=t.suspendedLanes,d=t.pingedLanes,g=t.warmLanes;t=t.finishedLanes!==0;var y=s&134217727;return y!==0?(s=y&~c,s!==0?o=Vn(s):(d&=y,d!==0?o=Vn(d):t||(g=y&~g,g!==0&&(o=Vn(g))))):(y=s&~c,y!==0?o=Vn(y):d!==0?o=Vn(d):t||(g=s&~g,g!==0&&(o=Vn(g)))),o===0?0:i!==0&&i!==o&&!(i&c)&&(c=o&-o,g=i&-i,c>=g||c===32&&(g&4194176)!==0)?i:o}function Fn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Tc(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lo(){var t=wr;return wr<<=1,!(wr&4194176)&&(wr=128),t}function w(){var t=_a;return _a<<=1,!(_a&62914560)&&(_a=4194304),t}function D(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function L(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function V(t,i,s,o,c,d){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var y=t.entanglements,S=t.expirationTimes,R=t.hiddenUpdates;for(s=g&~s;0<s;){var U=31-bt(s),q=1<<U;y[U]=0,S[U]=-1;var x=R[U];if(x!==null)for(R[U]=null,U=0;U<x.length;U++){var k=x[U];k!==null&&(k.lane&=-536870913)}s&=~q}o!==0&&ee(t,o,0),d!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=d&~(g&~i))}function ee(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-bt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|s&4194218}function ue(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var o=31-bt(s),c=1<<o;c&i|t[o]&i&&(t[o]|=i),s&=~c}}function _e(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function ne(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:$_(t.type))}function ae(t,i){var s=Z.p;try{return Z.p=t,i()}finally{Z.p=s}}var $=Math.random().toString(36).slice(2),se="__reactFiber$"+$,de="__reactProps$"+$,Be="__reactContainer$"+$,dt="__reactEvents$"+$,Ze="__reactListeners$"+$,Ge="__reactHandles$"+$,lt="__reactResources$"+$,fn="__reactMarker$"+$;function si(t){delete t[se],delete t[de],delete t[dt],delete t[Ze],delete t[Ge]}function Mt(t){var i=t[se];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Be]||s[se]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=L_(t);t!==null;){if(s=t[se])return s;t=L_(t)}return i}t=s,s=t.parentNode}return null}function xt(t){if(t=t[se]||t[Be]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function li(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function dn(t){var i=t[lt];return i||(i=t[lt]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Qe(t){t[fn]=!0}var Cr=new Set,Rr={};function Le(t,i){tt(t,i),tt(t+"Capture",i)}function tt(t,i){for(Rr[t]=i,t=0;t<i.length;t++)Cr.add(i[t])}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ar=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nt={},oi={};function oo(t){return gs.call(oi,t)?!0:gs.call(nt,t)?!1:Ar.test(t)?oi[t]=!0:(nt[t]=!0,!1)}function ya(t,i,s){if(oo(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function uo(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function ui(t,i,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+o)}}function hn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xm(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function aT(t){var i=xm(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),o=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,d=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return c.call(this)},set:function(g){o=""+g,d.call(this,g)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function co(t){t._valueTracker||(t._valueTracker=aT(t))}function Lm(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),o="";return t&&(o=xm(t)?t.checked?"true":"false":t.value),t=o,t!==s?(i.setValue(t),!0):!1}function fo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var sT=/[\n"\\]/g;function mn(t){return t.replace(sT,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function wc(t,i,s,o,c,d,g,y){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),i!=null?g==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+hn(i)):t.value!==""+hn(i)&&(t.value=""+hn(i)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),i!=null?Cc(t,g,hn(i)):s!=null?Cc(t,g,hn(s)):o!=null&&t.removeAttribute("value"),c==null&&d!=null&&(t.defaultChecked=!!d),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.name=""+hn(y):t.removeAttribute("name")}function km(t,i,s,o,c,d,g,y){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+hn(s):"",i=i!=null?""+hn(i):s,y||i===t.value||(t.value=i),t.defaultValue=i}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=y?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function Cc(t,i,s){i==="number"&&fo(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function va(t,i,s,o){if(t=t.options,i){i={};for(var c=0;c<s.length;c++)i["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=i.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&o&&(t[s].defaultSelected=!0)}else{for(s=""+hn(s),i=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,o&&(t[c].defaultSelected=!0);return}i!==null||t[c].disabled||(i=t[c])}i!==null&&(i.selected=!0)}}function Um(t,i,s){if(i!=null&&(i=""+hn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+hn(s):""}function Pm(t,i,s,o){if(i==null){if(o!=null){if(s!=null)throw Error(a(92));if(te(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),i=s}s=hn(i),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o)}function Ea(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var lT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zm(t,i,s){var o=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,s):typeof s!="number"||s===0||lT.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Hm(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var c in i)o=i[c],i.hasOwnProperty(c)&&s[c]!==o&&zm(t,c,o)}else for(var d in i)i.hasOwnProperty(d)&&zm(t,d,i[d])}function Rc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(t){return uT.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ac=null;function Nc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sa=null,ba=null;function Bm(t){var i=xt(t);if(i&&(t=i.stateNode)){var s=t[de]||null;e:switch(t=i.stateNode,i.type){case"input":if(wc(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+mn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var o=s[i];if(o!==t&&o.form===t.form){var c=o[de]||null;if(!c)throw Error(a(90));wc(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(i=0;i<s.length;i++)o=s[i],o.form===t.form&&Lm(o)}break e;case"textarea":Um(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&va(t,!!s.multiple,i,!1)}}}var Dc=!1;function jm(t,i,s){if(Dc)return t(i,s);Dc=!0;try{var o=t(i);return o}finally{if(Dc=!1,(Sa!==null||ba!==null)&&(Xo(),Sa&&(i=Sa,t=ba,ba=Sa=null,Bm(i),t)))for(i=0;i<t.length;i++)Bm(t[i])}}function bs(t,i){var s=t.stateNode;if(s===null)return null;var o=s[de]||null;if(o===null)return null;s=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Oc=!1;if(Kt)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){Oc=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{Oc=!1}var Bi=null,Ic=null,mo=null;function qm(){if(mo)return mo;var t,i=Ic,s=i.length,o,c="value"in Bi?Bi.value:Bi.textContent,d=c.length;for(t=0;t<s&&i[t]===c[t];t++);var g=s-t;for(o=1;o<=g&&i[s-o]===c[d-o];o++);return mo=c.slice(t,1<o?1-o:void 0)}function po(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function go(){return!0}function Vm(){return!1}function Qt(t){function i(s,o,c,d,g){this._reactName=s,this._targetInst=c,this.type=o,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var y in t)t.hasOwnProperty(y)&&(s=t[y],this[y]=s?s(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?go:Vm,this.isPropagationStopped=Vm,this}return oe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),i}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=Qt(Nr),ws=oe({},Nr,{view:0,detail:0}),cT=Qt(ws),Mc,xc,Cs,yo=oe({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cs&&(Cs&&t.type==="mousemove"?(Mc=t.screenX-Cs.screenX,xc=t.screenY-Cs.screenY):xc=Mc=0,Cs=t),Mc)},movementY:function(t){return"movementY"in t?t.movementY:xc}}),Fm=Qt(yo),fT=oe({},yo,{dataTransfer:0}),dT=Qt(fT),hT=oe({},ws,{relatedTarget:0}),Lc=Qt(hT),mT=oe({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),pT=Qt(mT),gT=oe({},Nr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_T=Qt(gT),yT=oe({},Nr,{data:0}),Gm=Qt(yT),vT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ET={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ST={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bT(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ST[t])?!!i[t]:!1}function kc(){return bT}var TT=oe({},ws,{key:function(t){if(t.key){var i=vT[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=po(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ET[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kc,charCode:function(t){return t.type==="keypress"?po(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?po(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wT=Qt(TT),CT=oe({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ym=Qt(CT),RT=oe({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kc}),AT=Qt(RT),NT=oe({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),DT=Qt(NT),OT=oe({},yo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),IT=Qt(OT),MT=oe({},Nr,{newState:0,oldState:0}),xT=Qt(MT),LT=[9,13,27,32],Uc=Kt&&"CompositionEvent"in window,Rs=null;Kt&&"documentMode"in document&&(Rs=document.documentMode);var kT=Kt&&"TextEvent"in window&&!Rs,Km=Kt&&(!Uc||Rs&&8<Rs&&11>=Rs),Qm=" ",$m=!1;function Xm(t,i){switch(t){case"keyup":return LT.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ta=!1;function UT(t,i){switch(t){case"compositionend":return Wm(i);case"keypress":return i.which!==32?null:($m=!0,Qm);case"textInput":return t=i.data,t===Qm&&$m?null:t;default:return null}}function PT(t,i){if(Ta)return t==="compositionend"||!Uc&&Xm(t,i)?(t=qm(),mo=Ic=Bi=null,Ta=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Km&&i.locale!=="ko"?null:i.data;default:return null}}var zT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zm(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!zT[t.type]:i==="textarea"}function Jm(t,i,s,o){Sa?ba?ba.push(o):ba=[o]:Sa=o,i=tu(i,"onChange"),0<i.length&&(s=new _o("onChange","change",null,s,o),t.push({event:s,listeners:i}))}var As=null,Ns=null;function HT(t){C_(t,0)}function vo(t){var i=li(t);if(Lm(i))return t}function ep(t,i){if(t==="change")return i}var tp=!1;if(Kt){var Pc;if(Kt){var zc="oninput"in document;if(!zc){var np=document.createElement("div");np.setAttribute("oninput","return;"),zc=typeof np.oninput=="function"}Pc=zc}else Pc=!1;tp=Pc&&(!document.documentMode||9<document.documentMode)}function ip(){As&&(As.detachEvent("onpropertychange",rp),Ns=As=null)}function rp(t){if(t.propertyName==="value"&&vo(Ns)){var i=[];Jm(i,Ns,t,Nc(t)),jm(HT,i)}}function BT(t,i,s){t==="focusin"?(ip(),As=i,Ns=s,As.attachEvent("onpropertychange",rp)):t==="focusout"&&ip()}function jT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vo(Ns)}function qT(t,i){if(t==="click")return vo(i)}function VT(t,i){if(t==="input"||t==="change")return vo(i)}function FT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var tn=typeof Object.is=="function"?Object.is:FT;function Ds(t,i){if(tn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),o=Object.keys(i);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var c=s[o];if(!gs.call(i,c)||!tn(t[c],i[c]))return!1}return!0}function ap(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sp(t,i){var s=ap(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=i&&o>=i)return{node:s,offset:i-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ap(s)}}function lp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?lp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function op(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=fo(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=fo(t.document)}return i}function Hc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function GT(t,i){var s=op(i);i=t.focusedElem;var o=t.selectionRange;if(s!==i&&i&&i.ownerDocument&&lp(i.ownerDocument.documentElement,i)){if(o!==null&&Hc(i)){if(t=o.start,s=o.end,s===void 0&&(s=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(s,i.value.length);else if(s=(t=i.ownerDocument||document)&&t.defaultView||window,s.getSelection){s=s.getSelection();var c=i.textContent.length,d=Math.min(o.start,c);o=o.end===void 0?d:Math.min(o.end,c),!s.extend&&d>o&&(c=o,o=d,d=c),c=sp(i,d);var g=sp(i,o);c&&g&&(s.rangeCount!==1||s.anchorNode!==c.node||s.anchorOffset!==c.offset||s.focusNode!==g.node||s.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),s.removeAllRanges(),d>o?(s.addRange(t),s.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),s.addRange(t)))}}for(t=[],s=i;s=s.parentNode;)s.nodeType===1&&t.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)s=t[i],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var YT=Kt&&"documentMode"in document&&11>=document.documentMode,wa=null,Bc=null,Os=null,jc=!1;function up(t,i,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;jc||wa==null||wa!==fo(o)||(o=wa,"selectionStart"in o&&Hc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Os&&Ds(Os,o)||(Os=o,o=tu(Bc,"onSelect"),0<o.length&&(i=new _o("onSelect","select",null,i,s),t.push({event:i,listeners:o}),i.target=wa)))}function Dr(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Ca={animationend:Dr("Animation","AnimationEnd"),animationiteration:Dr("Animation","AnimationIteration"),animationstart:Dr("Animation","AnimationStart"),transitionrun:Dr("Transition","TransitionRun"),transitionstart:Dr("Transition","TransitionStart"),transitioncancel:Dr("Transition","TransitionCancel"),transitionend:Dr("Transition","TransitionEnd")},qc={},cp={};Kt&&(cp=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Or(t){if(qc[t])return qc[t];if(!Ca[t])return t;var i=Ca[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in cp)return qc[t]=i[s];return t}var fp=Or("animationend"),dp=Or("animationiteration"),hp=Or("animationstart"),KT=Or("transitionrun"),QT=Or("transitionstart"),$T=Or("transitioncancel"),mp=Or("transitionend"),pp=new Map,gp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Dn(t,i){pp.set(t,i),Le(i,[t])}var pn=[],Ra=0,Vc=0;function Eo(){for(var t=Ra,i=Vc=Ra=0;i<t;){var s=pn[i];pn[i++]=null;var o=pn[i];pn[i++]=null;var c=pn[i];pn[i++]=null;var d=pn[i];if(pn[i++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}d!==0&&_p(s,c,d)}}function So(t,i,s,o){pn[Ra++]=t,pn[Ra++]=i,pn[Ra++]=s,pn[Ra++]=o,Vc|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Fc(t,i,s,o){return So(t,i,s,o),bo(t)}function ji(t,i){return So(t,null,null,i),bo(t)}function _p(t,i,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var c=!1,d=t.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(c=!0)),t=d,d=d.return;c&&i!==null&&t.tag===3&&(d=t.stateNode,c=31-bt(s),d=d.hiddenUpdates,t=d[c],t===null?d[c]=[i]:t.push(i),i.lane=s|536870912)}function bo(t){if(50<tl)throw tl=0,Wf=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Aa={},yp=new WeakMap;function gn(t,i){if(typeof t=="object"&&t!==null){var s=yp.get(t);return s!==void 0?s:(i={value:t,source:i,stack:me(i)},yp.set(t,i),i)}return{value:t,source:i,stack:me(i)}}var Na=[],Da=0,To=null,wo=0,_n=[],yn=0,Ir=null,ci=1,fi="";function Mr(t,i){Na[Da++]=wo,Na[Da++]=To,To=t,wo=i}function vp(t,i,s){_n[yn++]=ci,_n[yn++]=fi,_n[yn++]=Ir,Ir=t;var o=ci;t=fi;var c=32-bt(o)-1;o&=~(1<<c),s+=1;var d=32-bt(i)+c;if(30<d){var g=c-c%5;d=(o&(1<<g)-1).toString(32),o>>=g,c-=g,ci=1<<32-bt(i)+c|s<<c|o,fi=d+t}else ci=1<<d|s<<c|o,fi=t}function Gc(t){t.return!==null&&(Mr(t,1),vp(t,1,0))}function Yc(t){for(;t===To;)To=Na[--Da],Na[Da]=null,wo=Na[--Da],Na[Da]=null;for(;t===Ir;)Ir=_n[--yn],_n[yn]=null,fi=_n[--yn],_n[yn]=null,ci=_n[--yn],_n[yn]=null}var qt=null,Lt=null,Pe=!1,On=null,Gn=!1,Kc=Error(a(519));function xr(t){var i=Error(a(418,""));throw xs(gn(i,t)),Kc}function Ep(t){var i=t.stateNode,s=t.type,o=t.memoizedProps;switch(i[se]=t,i[de]=o,s){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(s=0;s<il.length;s++)Me(il[s],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),km(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),co(i);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),Pm(i,o.value,o.defaultValue,o.children),co(i)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||o.suppressHydrationWarning===!0||D_(i.textContent,s)?(o.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),o.onScroll!=null&&Me("scroll",i),o.onScrollEnd!=null&&Me("scrollend",i),o.onClick!=null&&(i.onclick=nu),i=!0):i=!1,i||xr(t)}function Sp(t){for(qt=t.return;qt;)switch(qt.tag){case 3:case 27:Gn=!0;return;case 5:case 13:Gn=!1;return;default:qt=qt.return}}function Is(t){if(t!==qt)return!1;if(!Pe)return Sp(t),Pe=!0,!1;var i=!1,s;if((s=t.tag!==3&&t.tag!==27)&&((s=t.tag===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||md(t.type,t.memoizedProps)),s=!s),s&&(i=!0),i&&Lt&&xr(t),Sp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){Lt=Mn(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}Lt=null}}else Lt=qt?Mn(t.stateNode.nextSibling):null;return!0}function Ms(){Lt=qt=null,Pe=!1}function xs(t){On===null?On=[t]:On.push(t)}var Ls=Error(a(460)),bp=Error(a(474)),Qc={then:function(){}};function Tp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Co(){}function wp(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Co,Co),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Ls?Error(a(483)):t;default:if(typeof i.status=="string")i.then(Co,Co);else{if(t=$e,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var c=i;c.status="fulfilled",c.value=o}},function(o){if(i.status==="pending"){var c=i;c.status="rejected",c.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Ls?Error(a(483)):t}throw ks=i,Ls}}var ks=null;function Cp(){if(ks===null)throw Error(a(459));var t=ks;return ks=null,t}var Oa=null,Us=0;function Ro(t){var i=Us;return Us+=1,Oa===null&&(Oa=[]),wp(Oa,t,i)}function Ps(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ao(t,i){throw i.$$typeof===u?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Rp(t){var i=t._init;return i(t._payload)}function Ap(t){function i(N,C){if(t){var M=N.deletions;M===null?(N.deletions=[C],N.flags|=16):M.push(C)}}function s(N,C){if(!t)return null;for(;C!==null;)i(N,C),C=C.sibling;return null}function o(N){for(var C=new Map;N!==null;)N.key!==null?C.set(N.key,N):C.set(N.index,N),N=N.sibling;return C}function c(N,C){return N=Ji(N,C),N.index=0,N.sibling=null,N}function d(N,C,M){return N.index=M,t?(M=N.alternate,M!==null?(M=M.index,M<C?(N.flags|=33554434,C):M):(N.flags|=33554434,C)):(N.flags|=1048576,C)}function g(N){return t&&N.alternate===null&&(N.flags|=33554434),N}function y(N,C,M,B){return C===null||C.tag!==6?(C=Vf(M,N.mode,B),C.return=N,C):(C=c(C,M),C.return=N,C)}function S(N,C,M,B){var ie=M.type;return ie===m?U(N,C,M.props.children,B,M.key):C!==null&&(C.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===G&&Rp(ie)===C.type)?(C=c(C,M.props),Ps(C,M),C.return=N,C):(C=Go(M.type,M.key,M.props,null,N.mode,B),Ps(C,M),C.return=N,C)}function R(N,C,M,B){return C===null||C.tag!==4||C.stateNode.containerInfo!==M.containerInfo||C.stateNode.implementation!==M.implementation?(C=Ff(M,N.mode,B),C.return=N,C):(C=c(C,M.children||[]),C.return=N,C)}function U(N,C,M,B,ie){return C===null||C.tag!==7?(C=Vr(M,N.mode,B,ie),C.return=N,C):(C=c(C,M),C.return=N,C)}function q(N,C,M){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Vf(""+C,N.mode,M),C.return=N,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case f:return M=Go(C.type,C.key,C.props,null,N.mode,M),Ps(M,C),M.return=N,M;case h:return C=Ff(C,N.mode,M),C.return=N,C;case G:var B=C._init;return C=B(C._payload),q(N,C,M)}if(te(C)||I(C))return C=Vr(C,N.mode,M,null),C.return=N,C;if(typeof C.then=="function")return q(N,Ro(C),M);if(C.$$typeof===b)return q(N,qo(N,C),M);Ao(N,C)}return null}function x(N,C,M,B){var ie=C!==null?C.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return ie!==null?null:y(N,C,""+M,B);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case f:return M.key===ie?S(N,C,M,B):null;case h:return M.key===ie?R(N,C,M,B):null;case G:return ie=M._init,M=ie(M._payload),x(N,C,M,B)}if(te(M)||I(M))return ie!==null?null:U(N,C,M,B,null);if(typeof M.then=="function")return x(N,C,Ro(M),B);if(M.$$typeof===b)return x(N,C,qo(N,M),B);Ao(N,M)}return null}function k(N,C,M,B,ie){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return N=N.get(M)||null,y(C,N,""+B,ie);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return N=N.get(B.key===null?M:B.key)||null,S(C,N,B,ie);case h:return N=N.get(B.key===null?M:B.key)||null,R(C,N,B,ie);case G:var Re=B._init;return B=Re(B._payload),k(N,C,M,B,ie)}if(te(B)||I(B))return N=N.get(M)||null,U(C,N,B,ie,null);if(typeof B.then=="function")return k(N,C,M,Ro(B),ie);if(B.$$typeof===b)return k(N,C,M,qo(C,B),ie);Ao(C,B)}return null}function le(N,C,M,B){for(var ie=null,Re=null,ce=C,he=C=0,Ct=null;ce!==null&&he<M.length;he++){ce.index>he?(Ct=ce,ce=null):Ct=ce.sibling;var ze=x(N,ce,M[he],B);if(ze===null){ce===null&&(ce=Ct);break}t&&ce&&ze.alternate===null&&i(N,ce),C=d(ze,C,he),Re===null?ie=ze:Re.sibling=ze,Re=ze,ce=Ct}if(he===M.length)return s(N,ce),Pe&&Mr(N,he),ie;if(ce===null){for(;he<M.length;he++)ce=q(N,M[he],B),ce!==null&&(C=d(ce,C,he),Re===null?ie=ce:Re.sibling=ce,Re=ce);return Pe&&Mr(N,he),ie}for(ce=o(ce);he<M.length;he++)Ct=k(ce,N,he,M[he],B),Ct!==null&&(t&&Ct.alternate!==null&&ce.delete(Ct.key===null?he:Ct.key),C=d(Ct,C,he),Re===null?ie=Ct:Re.sibling=Ct,Re=Ct);return t&&ce.forEach(function(sr){return i(N,sr)}),Pe&&Mr(N,he),ie}function Ee(N,C,M,B){if(M==null)throw Error(a(151));for(var ie=null,Re=null,ce=C,he=C=0,Ct=null,ze=M.next();ce!==null&&!ze.done;he++,ze=M.next()){ce.index>he?(Ct=ce,ce=null):Ct=ce.sibling;var sr=x(N,ce,ze.value,B);if(sr===null){ce===null&&(ce=Ct);break}t&&ce&&sr.alternate===null&&i(N,ce),C=d(sr,C,he),Re===null?ie=sr:Re.sibling=sr,Re=sr,ce=Ct}if(ze.done)return s(N,ce),Pe&&Mr(N,he),ie;if(ce===null){for(;!ze.done;he++,ze=M.next())ze=q(N,ze.value,B),ze!==null&&(C=d(ze,C,he),Re===null?ie=ze:Re.sibling=ze,Re=ze);return Pe&&Mr(N,he),ie}for(ce=o(ce);!ze.done;he++,ze=M.next())ze=k(ce,N,he,ze.value,B),ze!==null&&(t&&ze.alternate!==null&&ce.delete(ze.key===null?he:ze.key),C=d(ze,C,he),Re===null?ie=ze:Re.sibling=ze,Re=ze);return t&&ce.forEach(function(uw){return i(N,uw)}),Pe&&Mr(N,he),ie}function ct(N,C,M,B){if(typeof M=="object"&&M!==null&&M.type===m&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case f:e:{for(var ie=M.key;C!==null;){if(C.key===ie){if(ie=M.type,ie===m){if(C.tag===7){s(N,C.sibling),B=c(C,M.props.children),B.return=N,N=B;break e}}else if(C.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===G&&Rp(ie)===C.type){s(N,C.sibling),B=c(C,M.props),Ps(B,M),B.return=N,N=B;break e}s(N,C);break}else i(N,C);C=C.sibling}M.type===m?(B=Vr(M.props.children,N.mode,B,M.key),B.return=N,N=B):(B=Go(M.type,M.key,M.props,null,N.mode,B),Ps(B,M),B.return=N,N=B)}return g(N);case h:e:{for(ie=M.key;C!==null;){if(C.key===ie)if(C.tag===4&&C.stateNode.containerInfo===M.containerInfo&&C.stateNode.implementation===M.implementation){s(N,C.sibling),B=c(C,M.children||[]),B.return=N,N=B;break e}else{s(N,C);break}else i(N,C);C=C.sibling}B=Ff(M,N.mode,B),B.return=N,N=B}return g(N);case G:return ie=M._init,M=ie(M._payload),ct(N,C,M,B)}if(te(M))return le(N,C,M,B);if(I(M)){if(ie=I(M),typeof ie!="function")throw Error(a(150));return M=ie.call(M),Ee(N,C,M,B)}if(typeof M.then=="function")return ct(N,C,Ro(M),B);if(M.$$typeof===b)return ct(N,C,qo(N,M),B);Ao(N,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,C!==null&&C.tag===6?(s(N,C.sibling),B=c(C,M),B.return=N,N=B):(s(N,C),B=Vf(M,N.mode,B),B.return=N,N=B),g(N)):s(N,C)}return function(N,C,M,B){try{Us=0;var ie=ct(N,C,M,B);return Oa=null,ie}catch(ce){if(ce===Ls)throw ce;var Re=bn(29,ce,null,N.mode);return Re.lanes=B,Re.return=N,Re}finally{}}}var Lr=Ap(!0),Np=Ap(!1),Ia=Ue(null),No=Ue(0);function Dp(t,i){t=bi,we(No,t),we(Ia,i),bi=t|i.baseLanes}function $c(){we(No,bi),we(Ia,Ia.current)}function Xc(){bi=No.current,st(Ia),st(No)}var vn=Ue(null),Yn=null;function qi(t){var i=t.alternate;we(yt,yt.current&1),we(vn,t),Yn===null&&(i===null||Ia.current!==null||i.memoizedState!==null)&&(Yn=t)}function Op(t){if(t.tag===22){if(we(yt,yt.current),we(vn,t),Yn===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Yn=t)}}else Vi()}function Vi(){we(yt,yt.current),we(vn,vn.current)}function di(t){st(vn),Yn===t&&(Yn=null),st(yt)}var yt=Ue(0);function Do(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var XT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},WT=n.unstable_scheduleCallback,ZT=n.unstable_NormalPriority,vt={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wc(){return{controller:new XT,data:new Map,refCount:0}}function zs(t){t.refCount--,t.refCount===0&&WT(ZT,function(){t.controller.abort()})}var Hs=null,Zc=0,Ma=0,xa=null;function JT(t,i){if(Hs===null){var s=Hs=[];Zc=0,Ma=ad(),xa={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Zc++,i.then(Ip,Ip),i}function Ip(){if(--Zc===0&&Hs!==null){xa!==null&&(xa.status="fulfilled");var t=Hs;Hs=null,Ma=0,xa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function e0(t,i){var s=[],o={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var c=0;c<s.length;c++)(0,s[c])(i)},function(c){for(o.status="rejected",o.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),o}var Mp=F.S;F.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&JT(t,i),Mp!==null&&Mp(t,i)};var kr=Ue(null);function Jc(){var t=kr.current;return t!==null?t:$e.pooledCache}function Oo(t,i){i===null?we(kr,kr.current):we(kr,i.pool)}function xp(){var t=Jc();return t===null?null:{parent:vt._currentValue,pool:t}}var Fi=0,Ce=null,qe=null,mt=null,Io=!1,La=!1,Ur=!1,Mo=0,Bs=0,ka=null,t0=0;function ht(){throw Error(a(321))}function ef(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!tn(t[s],i[s]))return!1;return!0}function tf(t,i,s,o,c,d){return Fi=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?Pr:Gi,Ur=!1,d=s(o,c),Ur=!1,La&&(d=kp(i,s,o,c)),Lp(t),d}function Lp(t){F.H=Kn;var i=qe!==null&&qe.next!==null;if(Fi=0,mt=qe=Ce=null,Io=!1,Bs=0,ka=null,i)throw Error(a(300));t===null||Tt||(t=t.dependencies,t!==null&&jo(t)&&(Tt=!0))}function kp(t,i,s,o){Ce=t;var c=0;do{if(La&&(ka=null),Bs=0,La=!1,25<=c)throw Error(a(301));if(c+=1,mt=qe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=zr,d=i(s,o)}while(La);return d}function n0(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?js(i):i,t=t.useState()[0],(qe!==null?qe.memoizedState:null)!==t&&(Ce.flags|=1024),i}function nf(){var t=Mo!==0;return Mo=0,t}function rf(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function af(t){if(Io){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Io=!1}Fi=0,mt=qe=Ce=null,La=!1,Bs=Mo=0,ka=null}function $t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ce.memoizedState=mt=t:mt=mt.next=t,mt}function pt(){if(qe===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var i=mt===null?Ce.memoizedState:mt.next;if(i!==null)mt=i,qe=t;else{if(t===null)throw Ce.alternate===null?Error(a(467)):Error(a(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},mt===null?Ce.memoizedState=mt=t:mt=mt.next=t}return mt}var xo;xo=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function js(t){var i=Bs;return Bs+=1,ka===null&&(ka=[]),t=wp(ka,t,i),i=Ce,(mt===null?i.memoizedState:mt.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?Pr:Gi),t}function Lo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return js(t);if(t.$$typeof===b)return Ht(t)}throw Error(a(438,String(t)))}function sf(t){var i=null,s=Ce.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var o=Ce.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(c){return c.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=xo(),Ce.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),o=0;o<t;o++)s[o]=fe;return i.index++,s}function hi(t,i){return typeof i=="function"?i(t):i}function ko(t){var i=pt();return lf(i,qe,t)}function lf(t,i,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var c=t.baseQueue,d=o.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}i.baseQueue=c=d,o.pending=null}if(d=t.baseState,c===null)t.memoizedState=d;else{i=c.next;var y=g=null,S=null,R=i,U=!1;do{var q=R.lane&-536870913;if(q!==R.lane?(ke&q)===q:(Fi&q)===q){var x=R.revertLane;if(x===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),q===Ma&&(U=!0);else if((Fi&x)===x){R=R.next,x===Ma&&(U=!0);continue}else q={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(y=S=q,g=d):S=S.next=q,Ce.lanes|=x,er|=x;q=R.action,Ur&&s(d,q),d=R.hasEagerState?R.eagerState:s(d,q)}else x={lane:q,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(y=S=x,g=d):S=S.next=x,Ce.lanes|=q,er|=q;R=R.next}while(R!==null&&R!==i);if(S===null?g=d:S.next=y,!tn(d,t.memoizedState)&&(Tt=!0,U&&(s=xa,s!==null)))throw s;t.memoizedState=d,t.baseState=g,t.baseQueue=S,o.lastRenderedState=d}return c===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function of(t){var i=pt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,c=s.pending,d=i.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do d=t(d,g.action),g=g.next;while(g!==c);tn(d,i.memoizedState)||(Tt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,o]}function Up(t,i,s){var o=Ce,c=pt(),d=Pe;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var g=!tn((qe||c).memoizedState,s);if(g&&(c.memoizedState=s,Tt=!0),c=c.queue,ff(Hp.bind(null,o,c,t),[t]),c.getSnapshot!==i||g||mt!==null&&mt.memoizedState.tag&1){if(o.flags|=2048,Ua(9,zp.bind(null,o,c,s,i),{destroy:void 0},null),$e===null)throw Error(a(349));d||Fi&60||Pp(o,i,s)}return s}function Pp(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ce.updateQueue,i===null?(i=xo(),Ce.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function zp(t,i,s,o){i.value=s,i.getSnapshot=o,Bp(i)&&jp(t)}function Hp(t,i,s){return s(function(){Bp(i)&&jp(t)})}function Bp(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!tn(t,s)}catch{return!0}}function jp(t){var i=ji(t,2);i!==null&&Vt(i,t,2)}function uf(t){var i=$t();if(typeof t=="function"){var s=t;if(t=s(),Ur){Nn(!0);try{s()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:t},i}function qp(t,i,s,o){return t.baseState=s,lf(t,qe,typeof o=="function"?o:hi)}function i0(t,i,s,o,c){if(zo(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};F.T!==null?s(!0):d.isTransition=!1,o(d),s=i.pending,s===null?(d.next=i.pending=d,Vp(i,d)):(d.next=s.next,i.pending=s.next=d)}}function Vp(t,i){var s=i.action,o=i.payload,c=t.state;if(i.isTransition){var d=F.T,g={};F.T=g;try{var y=s(c,o),S=F.S;S!==null&&S(g,y),Fp(t,i,y)}catch(R){cf(t,i,R)}finally{F.T=d}}else try{d=s(c,o),Fp(t,i,d)}catch(R){cf(t,i,R)}}function Fp(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Gp(t,i,o)},function(o){return cf(t,i,o)}):Gp(t,i,s)}function Gp(t,i,s){i.status="fulfilled",i.value=s,Yp(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,Vp(t,s)))}function cf(t,i,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=s,Yp(i),i=i.next;while(i!==o)}t.action=null}function Yp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Kp(t,i){return i}function Qp(t,i){if(Pe){var s=$e.formState;if(s!==null){e:{var o=Ce;if(Pe){if(Lt){t:{for(var c=Lt,d=Gn;c.nodeType!==8;){if(!d){c=null;break t}if(c=Mn(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Lt=Mn(c.nextSibling),o=c.data==="F!";break e}}xr(o)}o=!1}o&&(i=s[0])}}return s=$t(),s.memoizedState=s.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kp,lastRenderedState:i},s.queue=o,s=dg.bind(null,Ce,o),o.dispatch=s,o=uf(!1),d=gf.bind(null,Ce,!1,o.queue),o=$t(),c={state:i,dispatch:null,action:t,pending:null},o.queue=c,s=i0.bind(null,Ce,c,d,s),c.dispatch=s,o.memoizedState=t,[i,s,!1]}function $p(t){var i=pt();return Xp(i,qe,t)}function Xp(t,i,s){i=lf(t,i,Kp)[0],t=ko(hi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?js(i):i;var o=pt(),c=o.queue,d=c.dispatch;return s!==o.memoizedState&&(Ce.flags|=2048,Ua(9,r0.bind(null,c,s),{destroy:void 0},null)),[i,d,t]}function r0(t,i){t.action=i}function Wp(t){var i=pt(),s=qe;if(s!==null)return Xp(i,s,t);pt(),i=i.memoizedState,s=pt();var o=s.queue.dispatch;return s.memoizedState=t,[i,o,!1]}function Ua(t,i,s,o){return t={tag:t,create:i,inst:s,deps:o,next:null},i=Ce.updateQueue,i===null&&(i=xo(),Ce.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,i.lastEffect=t),t}function Zp(){return pt().memoizedState}function Uo(t,i,s,o){var c=$t();Ce.flags|=t,c.memoizedState=Ua(1|i,s,{destroy:void 0},o===void 0?null:o)}function Po(t,i,s,o){var c=pt();o=o===void 0?null:o;var d=c.memoizedState.inst;qe!==null&&o!==null&&ef(o,qe.memoizedState.deps)?c.memoizedState=Ua(i,s,d,o):(Ce.flags|=t,c.memoizedState=Ua(1|i,s,d,o))}function Jp(t,i){Uo(8390656,8,t,i)}function ff(t,i){Po(2048,8,t,i)}function eg(t,i){return Po(4,2,t,i)}function tg(t,i){return Po(4,4,t,i)}function ng(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ig(t,i,s){s=s!=null?s.concat([t]):null,Po(4,4,ng.bind(null,i,t),s)}function df(){}function rg(t,i){var s=pt();i=i===void 0?null:i;var o=s.memoizedState;return i!==null&&ef(i,o[1])?o[0]:(s.memoizedState=[t,i],t)}function ag(t,i){var s=pt();i=i===void 0?null:i;var o=s.memoizedState;if(i!==null&&ef(i,o[1]))return o[0];if(o=t(),Ur){Nn(!0);try{t()}finally{Nn(!1)}}return s.memoizedState=[o,i],o}function hf(t,i,s){return s===void 0||Fi&1073741824?t.memoizedState=i:(t.memoizedState=s,t=l_(),Ce.lanes|=t,er|=t,s)}function sg(t,i,s,o){return tn(s,i)?s:Ia.current!==null?(t=hf(t,s,o),tn(t,i)||(Tt=!0),t):Fi&42?(t=l_(),Ce.lanes|=t,er|=t,i):(Tt=!0,t.memoizedState=s)}function lg(t,i,s,o,c){var d=Z.p;Z.p=d!==0&&8>d?d:8;var g=F.T,y={};F.T=y,gf(t,!1,i,s);try{var S=c(),R=F.S;if(R!==null&&R(y,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var U=e0(S,o);qs(t,i,U,sn(t))}else qs(t,i,o,sn(t))}catch(q){qs(t,i,{then:function(){},status:"rejected",reason:q},sn())}finally{Z.p=d,F.T=g}}function a0(){}function mf(t,i,s,o){if(t.tag!==5)throw Error(a(476));var c=og(t).queue;lg(t,c,i,be,s===null?a0:function(){return ug(t),s(o)})}function og(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:be},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ug(t){var i=og(t).next.queue;qs(t,i,{},sn())}function pf(){return Ht(ol)}function cg(){return pt().memoizedState}function fg(){return pt().memoizedState}function s0(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=sn();t=Qi(s);var o=$i(i,t,s);o!==null&&(Vt(o,i,s),Gs(o,i,s)),i={cache:Wc()},t.payload=i;return}i=i.return}}function l0(t,i,s){var o=sn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},zo(t)?hg(i,s):(s=Fc(t,i,s,o),s!==null&&(Vt(s,t,o),mg(s,i,o)))}function dg(t,i,s){var o=sn();qs(t,i,s,o)}function qs(t,i,s,o){var c={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(zo(t))hg(i,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var g=i.lastRenderedState,y=d(g,s);if(c.hasEagerState=!0,c.eagerState=y,tn(y,g))return So(t,i,c,0),$e===null&&Eo(),!1}catch{}finally{}if(s=Fc(t,i,c,o),s!==null)return Vt(s,t,o),mg(s,i,o),!0}return!1}function gf(t,i,s,o){if(o={lane:2,revertLane:ad(),action:o,hasEagerState:!1,eagerState:null,next:null},zo(t)){if(i)throw Error(a(479))}else i=Fc(t,s,o,2),i!==null&&Vt(i,t,2)}function zo(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function hg(t,i){La=Io=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function mg(t,i,s){if(s&4194176){var o=i.lanes;o&=t.pendingLanes,s|=o,i.lanes=s,ue(t,s)}}var Kn={readContext:Ht,use:Lo,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht};Kn.useCacheRefresh=ht,Kn.useMemoCache=ht,Kn.useHostTransitionStatus=ht,Kn.useFormState=ht,Kn.useActionState=ht,Kn.useOptimistic=ht;var Pr={readContext:Ht,use:Lo,useCallback:function(t,i){return $t().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:Jp,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Uo(4194308,4,ng.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Uo(4194308,4,t,i)},useInsertionEffect:function(t,i){Uo(4,2,t,i)},useMemo:function(t,i){var s=$t();i=i===void 0?null:i;var o=t();if(Ur){Nn(!0);try{t()}finally{Nn(!1)}}return s.memoizedState=[o,i],o},useReducer:function(t,i,s){var o=$t();if(s!==void 0){var c=s(i);if(Ur){Nn(!0);try{s(i)}finally{Nn(!1)}}}else c=i;return o.memoizedState=o.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},o.queue=t,t=t.dispatch=l0.bind(null,Ce,t),[o.memoizedState,t]},useRef:function(t){var i=$t();return t={current:t},i.memoizedState=t},useState:function(t){t=uf(t);var i=t.queue,s=dg.bind(null,Ce,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:df,useDeferredValue:function(t,i){var s=$t();return hf(s,t,i)},useTransition:function(){var t=uf(!1);return t=lg.bind(null,Ce,t.queue,!0,!1),$t().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var o=Ce,c=$t();if(Pe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),$e===null)throw Error(a(349));ke&60||Pp(o,i,s)}c.memoizedState=s;var d={value:s,getSnapshot:i};return c.queue=d,Jp(Hp.bind(null,o,d,t),[t]),o.flags|=2048,Ua(9,zp.bind(null,o,d,s,i),{destroy:void 0},null),s},useId:function(){var t=$t(),i=$e.identifierPrefix;if(Pe){var s=fi,o=ci;s=(o&~(1<<32-bt(o)-1)).toString(32)+s,i=":"+i+"R"+s,s=Mo++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=t0++,i=":"+i+"r"+s.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return $t().memoizedState=s0.bind(null,Ce)}};Pr.useMemoCache=sf,Pr.useHostTransitionStatus=pf,Pr.useFormState=Qp,Pr.useActionState=Qp,Pr.useOptimistic=function(t){var i=$t();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=gf.bind(null,Ce,!0,s),s.dispatch=i,[t,i]};var Gi={readContext:Ht,use:Lo,useCallback:rg,useContext:Ht,useEffect:ff,useImperativeHandle:ig,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:ag,useReducer:ko,useRef:Zp,useState:function(){return ko(hi)},useDebugValue:df,useDeferredValue:function(t,i){var s=pt();return sg(s,qe.memoizedState,t,i)},useTransition:function(){var t=ko(hi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:js(t),i]},useSyncExternalStore:Up,useId:cg};Gi.useCacheRefresh=fg,Gi.useMemoCache=sf,Gi.useHostTransitionStatus=pf,Gi.useFormState=$p,Gi.useActionState=$p,Gi.useOptimistic=function(t,i){var s=pt();return qp(s,qe,t,i)};var zr={readContext:Ht,use:Lo,useCallback:rg,useContext:Ht,useEffect:ff,useImperativeHandle:ig,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:ag,useReducer:of,useRef:Zp,useState:function(){return of(hi)},useDebugValue:df,useDeferredValue:function(t,i){var s=pt();return qe===null?hf(s,t,i):sg(s,qe.memoizedState,t,i)},useTransition:function(){var t=of(hi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:js(t),i]},useSyncExternalStore:Up,useId:cg};zr.useCacheRefresh=fg,zr.useMemoCache=sf,zr.useHostTransitionStatus=pf,zr.useFormState=Wp,zr.useActionState=Wp,zr.useOptimistic=function(t,i){var s=pt();return qe!==null?qp(s,qe,t,i):(s.baseState=t,[t,s.queue.dispatch])};function _f(t,i,s,o){i=t.memoizedState,s=s(o,i),s=s==null?i:oe({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var yf={isMounted:function(t){return(t=t._reactInternals)?X(t)===t:!1},enqueueSetState:function(t,i,s){t=t._reactInternals;var o=sn(),c=Qi(o);c.payload=i,s!=null&&(c.callback=s),i=$i(t,c,o),i!==null&&(Vt(i,t,o),Gs(i,t,o))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var o=sn(),c=Qi(o);c.tag=1,c.payload=i,s!=null&&(c.callback=s),i=$i(t,c,o),i!==null&&(Vt(i,t,o),Gs(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=sn(),o=Qi(s);o.tag=2,i!=null&&(o.callback=i),i=$i(t,o,s),i!==null&&(Vt(i,t,s),Gs(i,t,s))}};function pg(t,i,s,o,c,d,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,g):i.prototype&&i.prototype.isPureReactComponent?!Ds(s,o)||!Ds(c,d):!0}function gg(t,i,s,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,o),i.state!==t&&yf.enqueueReplaceState(i,i.state,null)}function Hr(t,i){var s=i;if("ref"in i){s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}if(t=t.defaultProps){s===i&&(s=oe({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}var Ho=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function _g(t){Ho(t)}function yg(t){console.error(t)}function vg(t){Ho(t)}function Bo(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Eg(t,i,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function vf(t,i,s){return s=Qi(s),s.tag=3,s.payload={element:null},s.callback=function(){Bo(t,i)},s}function Sg(t){return t=Qi(t),t.tag=3,t}function bg(t,i,s,o){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var d=o.value;t.payload=function(){return c(d)},t.callback=function(){Eg(i,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Eg(i,s,o),typeof c!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var y=o.stack;this.componentDidCatch(o.value,{componentStack:y!==null?y:""})})}function o0(t,i,s,o,c){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=s.alternate,i!==null&&Fs(i,s,c,!0),s=vn.current,s!==null){switch(s.tag){case 13:return Yn===null?ed():s.alternate===null&&ut===0&&(ut=3),s.flags&=-257,s.flags|=65536,s.lanes=c,o===Qc?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([o]):i.add(o),nd(t,o,c)),!1;case 22:return s.flags|=65536,o===Qc?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([o]):s.add(o)),nd(t,o,c)),!1}throw Error(a(435,s.tag))}return nd(t,o,c),ed(),!1}if(Pe)return i=vn.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=c,o!==Kc&&(t=Error(a(422),{cause:o}),xs(gn(t,s)))):(o!==Kc&&(i=Error(a(423),{cause:o}),xs(gn(i,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,o=gn(o,s),c=vf(t.stateNode,o,c),Lf(t,c),ut!==4&&(ut=2)),!1;var d=Error(a(520),{cause:o});if(d=gn(d,s),Js===null?Js=[d]:Js.push(d),ut!==4&&(ut=2),i===null)return!0;o=gn(o,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=vf(s.stateNode,o,t),Lf(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(tr===null||!tr.has(d))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Sg(c),bg(c,t,s,o),Lf(s,c),!1}s=s.return}while(s!==null);return!1}var Tg=Error(a(461)),Tt=!1;function kt(t,i,s,o){i.child=t===null?Np(i,null,s,o):Lr(i,t.child,s,o)}function wg(t,i,s,o,c){s=s.render;var d=i.ref;if("ref"in o){var g={};for(var y in o)y!=="ref"&&(g[y]=o[y])}else g=o;return jr(i),o=tf(t,i,s,g,d,c),y=nf(),t!==null&&!Tt?(rf(t,i,c),mi(t,i,c)):(Pe&&y&&Gc(i),i.flags|=1,kt(t,i,o,c),i.child)}function Cg(t,i,s,o,c){if(t===null){var d=s.type;return typeof d=="function"&&!qf(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,Rg(t,i,d,o,c)):(t=Go(s.type,null,o,i,i.mode,c),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Nf(t,c)){var g=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ds,s(g,o)&&t.ref===i.ref)return mi(t,i,c)}return i.flags|=1,t=Ji(d,o),t.ref=i.ref,t.return=i,i.child=t}function Rg(t,i,s,o,c){if(t!==null){var d=t.memoizedProps;if(Ds(d,o)&&t.ref===i.ref)if(Tt=!1,i.pendingProps=o=d,Nf(t,c))t.flags&131072&&(Tt=!0);else return i.lanes=t.lanes,mi(t,i,c)}return Ef(t,i,s,o,c)}function Ag(t,i,s){var o=i.pendingProps,c=o.children,d=(i.stateNode._pendingVisibility&2)!==0,g=t!==null?t.memoizedState:null;if(Vs(t,i),o.mode==="hidden"||d){if(i.flags&128){if(o=g!==null?g.baseLanes|s:s,t!==null){for(c=i.child=t.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;i.childLanes=d&~o}else i.childLanes=0,i.child=null;return Ng(t,i,o,s)}if(s&536870912)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Oo(i,g!==null?g.cachePool:null),g!==null?Dp(i,g):$c(),Op(i);else return i.lanes=i.childLanes=536870912,Ng(t,i,g!==null?g.baseLanes|s:s,s)}else g!==null?(Oo(i,g.cachePool),Dp(i,g),Vi(),i.memoizedState=null):(t!==null&&Oo(i,null),$c(),Vi());return kt(t,i,c,s),i.child}function Ng(t,i,s,o){var c=Jc();return c=c===null?null:{parent:vt._currentValue,pool:c},i.memoizedState={baseLanes:s,cachePool:c},t!==null&&Oo(i,null),$c(),Op(i),t!==null&&Fs(t,i,o,!0),null}function Vs(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=2097664)}}function Ef(t,i,s,o,c){return jr(i),s=tf(t,i,s,o,void 0,c),o=nf(),t!==null&&!Tt?(rf(t,i,c),mi(t,i,c)):(Pe&&o&&Gc(i),i.flags|=1,kt(t,i,s,c),i.child)}function Dg(t,i,s,o,c,d){return jr(i),i.updateQueue=null,s=kp(i,o,s,c),Lp(t),o=nf(),t!==null&&!Tt?(rf(t,i,d),mi(t,i,d)):(Pe&&o&&Gc(i),i.flags|=1,kt(t,i,s,d),i.child)}function Og(t,i,s,o,c){if(jr(i),i.stateNode===null){var d=Aa,g=s.contextType;typeof g=="object"&&g!==null&&(d=Ht(g)),d=new s(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=yf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Mf(i),g=s.contextType,d.context=typeof g=="object"&&g!==null?Ht(g):Aa,d.state=i.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(_f(i,s,g,o),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&yf.enqueueReplaceState(d,d.state,null),Ks(i,o,d,c),Ys(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){d=i.stateNode;var y=i.memoizedProps,S=Hr(s,y);d.props=S;var R=d.context,U=s.contextType;g=Aa,typeof U=="object"&&U!==null&&(g=Ht(U));var q=s.getDerivedStateFromProps;U=typeof q=="function"||typeof d.getSnapshotBeforeUpdate=="function",y=i.pendingProps!==y,U||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y||R!==g)&&gg(i,d,o,g),Ki=!1;var x=i.memoizedState;d.state=x,Ks(i,o,d,c),Ys(),R=i.memoizedState,y||x!==R||Ki?(typeof q=="function"&&(_f(i,s,q,o),R=i.memoizedState),(S=Ki||pg(i,s,S,o,x,R,g))?(U||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=R),d.props=o,d.state=R,d.context=g,o=S):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,xf(t,i),g=i.memoizedProps,U=Hr(s,g),d.props=U,q=i.pendingProps,x=d.context,R=s.contextType,S=Aa,typeof R=="object"&&R!==null&&(S=Ht(R)),y=s.getDerivedStateFromProps,(R=typeof y=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==q||x!==S)&&gg(i,d,o,S),Ki=!1,x=i.memoizedState,d.state=x,Ks(i,o,d,c),Ys();var k=i.memoizedState;g!==q||x!==k||Ki||t!==null&&t.dependencies!==null&&jo(t.dependencies)?(typeof y=="function"&&(_f(i,s,y,o),k=i.memoizedState),(U=Ki||pg(i,s,U,o,x,k,S)||t!==null&&t.dependencies!==null&&jo(t.dependencies))?(R||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,k,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,k,S)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&x===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&x===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=k),d.props=o,d.state=k,d.context=S,o=U):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&x===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&x===t.memoizedState||(i.flags|=1024),o=!1)}return d=o,Vs(t,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&o?(i.child=Lr(i,t.child,null,c),i.child=Lr(i,null,s,c)):kt(t,i,s,c),i.memoizedState=d.state,t=i.child):t=mi(t,i,c),t}function Ig(t,i,s,o){return Ms(),i.flags|=256,kt(t,i,s,o),i.child}var Sf={dehydrated:null,treeContext:null,retryLane:0};function bf(t){return{baseLanes:t,cachePool:xp()}}function Tf(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Tn),t}function Mg(t,i,s){var o=i.pendingProps,c=!1,d=(i.flags&128)!==0,g;if((g=d)||(g=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),g&&(c=!0,i.flags&=-129),g=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(c?qi(i):Vi(),Pe){var y=Lt,S;if(S=y){e:{for(S=y,y=Gn;S.nodeType!==8;){if(!y){y=null;break e}if(S=Mn(S.nextSibling),S===null){y=null;break e}}y=S}y!==null?(i.memoizedState={dehydrated:y,treeContext:Ir!==null?{id:ci,overflow:fi}:null,retryLane:536870912},S=bn(18,null,null,0),S.stateNode=y,S.return=i,i.child=S,qt=i,Lt=null,S=!0):S=!1}S||xr(i)}if(y=i.memoizedState,y!==null&&(y=y.dehydrated,y!==null))return y.data==="$!"?i.lanes=16:i.lanes=536870912,null;di(i)}return y=o.children,o=o.fallback,c?(Vi(),c=i.mode,y=Cf({mode:"hidden",children:y},c),o=Vr(o,c,s,null),y.return=i,o.return=i,y.sibling=o,i.child=y,c=i.child,c.memoizedState=bf(s),c.childLanes=Tf(t,g,s),i.memoizedState=Sf,o):(qi(i),wf(i,y))}if(S=t.memoizedState,S!==null&&(y=S.dehydrated,y!==null)){if(d)i.flags&256?(qi(i),i.flags&=-257,i=Rf(t,i,s)):i.memoizedState!==null?(Vi(),i.child=t.child,i.flags|=128,i=null):(Vi(),c=o.fallback,y=i.mode,o=Cf({mode:"visible",children:o.children},y),c=Vr(c,y,s,null),c.flags|=2,o.return=i,c.return=i,o.sibling=c,i.child=o,Lr(i,t.child,null,s),o=i.child,o.memoizedState=bf(s),o.childLanes=Tf(t,g,s),i.memoizedState=Sf,i=c);else if(qi(i),y.data==="$!"){if(g=y.nextSibling&&y.nextSibling.dataset,g)var R=g.dgst;g=R,o=Error(a(419)),o.stack="",o.digest=g,xs({value:o,source:null,stack:null}),i=Rf(t,i,s)}else if(Tt||Fs(t,i,s,!1),g=(s&t.childLanes)!==0,Tt||g){if(g=$e,g!==null){if(o=s&-s,o&42)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=o&(g.suspendedLanes|s)?0:o,o!==0&&o!==S.retryLane)throw S.retryLane=o,ji(t,o),Vt(g,t,o),Tg}y.data==="$?"||ed(),i=Rf(t,i,s)}else y.data==="$?"?(i.flags|=128,i.child=t.child,i=T0.bind(null,t),y._reactRetry=i,i=null):(t=S.treeContext,Lt=Mn(y.nextSibling),qt=i,Pe=!0,On=null,Gn=!1,t!==null&&(_n[yn++]=ci,_n[yn++]=fi,_n[yn++]=Ir,ci=t.id,fi=t.overflow,Ir=i),i=wf(i,o.children),i.flags|=4096);return i}return c?(Vi(),c=o.fallback,y=i.mode,S=t.child,R=S.sibling,o=Ji(S,{mode:"hidden",children:o.children}),o.subtreeFlags=S.subtreeFlags&31457280,R!==null?c=Ji(R,c):(c=Vr(c,y,s,null),c.flags|=2),c.return=i,o.return=i,o.sibling=c,i.child=o,o=c,c=i.child,y=t.child.memoizedState,y===null?y=bf(s):(S=y.cachePool,S!==null?(R=vt._currentValue,S=S.parent!==R?{parent:R,pool:R}:S):S=xp(),y={baseLanes:y.baseLanes|s,cachePool:S}),c.memoizedState=y,c.childLanes=Tf(t,g,s),i.memoizedState=Sf,o):(qi(i),s=t.child,t=s.sibling,s=Ji(s,{mode:"visible",children:o.children}),s.return=i,s.sibling=null,t!==null&&(g=i.deletions,g===null?(i.deletions=[t],i.flags|=16):g.push(t)),i.child=s,i.memoizedState=null,s)}function wf(t,i){return i=Cf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Cf(t,i){return r_(t,i,0,null)}function Rf(t,i,s){return Lr(i,t.child,null,s),t=wf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function xg(t,i,s){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Of(t.return,i,s)}function Af(t,i,s,o,c){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:c}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=c)}function Lg(t,i,s){var o=i.pendingProps,c=o.revealOrder,d=o.tail;if(kt(t,i,o.children,s),o=yt.current,o&2)o=o&1|2,i.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xg(t,s,i);else if(t.tag===19)xg(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(we(yt,o),c){case"forwards":for(s=i.child,c=null;s!==null;)t=s.alternate,t!==null&&Do(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=i.child,i.child=null):(c=s.sibling,s.sibling=null),Af(i,!1,c,s,d);break;case"backwards":for(s=null,c=i.child,i.child=null;c!==null;){if(t=c.alternate,t!==null&&Do(t)===null){i.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Af(i,!0,s,null,d);break;case"together":Af(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function mi(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),er|=i.lanes,!(s&i.childLanes))if(t!==null){if(Fs(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Ji(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Ji(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Nf(t,i){return t.lanes&i?!0:(t=t.dependencies,!!(t!==null&&jo(t)))}function u0(t,i,s){switch(i.tag){case 3:ma(i,i.stateNode.containerInfo),Yi(i,vt,t.memoizedState.cache),Ms();break;case 27:case 5:pa(i);break;case 4:ma(i,i.stateNode.containerInfo);break;case 10:Yi(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(qi(i),i.flags|=128,null):s&i.child.childLanes?Mg(t,i,s):(qi(i),t=mi(t,i,s),t!==null?t.sibling:null);qi(i);break;case 19:var c=(t.flags&128)!==0;if(o=(s&i.childLanes)!==0,o||(Fs(t,i,s,!1),o=(s&i.childLanes)!==0),c){if(o)return Lg(t,i,s);i.flags|=128}if(c=i.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),we(yt,yt.current),o)break;return null;case 22:case 23:return i.lanes=0,Ag(t,i,s);case 24:Yi(i,vt,t.memoizedState.cache)}return mi(t,i,s)}function kg(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Tt=!0;else{if(!Nf(t,s)&&!(i.flags&128))return Tt=!1,u0(t,i,s);Tt=!!(t.flags&131072)}else Tt=!1,Pe&&i.flags&1048576&&vp(i,wo,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var o=i.elementType,c=o._init;if(o=c(o._payload),i.type=o,typeof o=="function")qf(o)?(t=Hr(o,t),i.tag=1,i=Og(null,i,o,t,s)):(i.tag=0,i=Ef(null,i,o,t,s));else{if(o!=null){if(c=o.$$typeof,c===A){i.tag=11,i=wg(null,i,o,t,s);break e}else if(c===z){i.tag=14,i=Cg(null,i,o,t,s);break e}}throw i=Se(o)||o,Error(a(306,i,""))}}return i;case 0:return Ef(t,i,i.type,i.pendingProps,s);case 1:return o=i.type,c=Hr(o,i.pendingProps),Og(t,i,o,c,s);case 3:e:{if(ma(i,i.stateNode.containerInfo),t===null)throw Error(a(387));var d=i.pendingProps;c=i.memoizedState,o=c.element,xf(t,i),Ks(i,d,null,s);var g=i.memoizedState;if(d=g.cache,Yi(i,vt,d),d!==c.cache&&If(i,[vt],s,!0),Ys(),d=g.element,c.isDehydrated)if(c={element:d,isDehydrated:!1,cache:g.cache},i.updateQueue.baseState=c,i.memoizedState=c,i.flags&256){i=Ig(t,i,d,s);break e}else if(d!==o){o=gn(Error(a(424)),i),xs(o),i=Ig(t,i,d,s);break e}else for(Lt=Mn(i.stateNode.containerInfo.firstChild),qt=i,Pe=!0,On=null,Gn=!0,s=Np(i,null,d,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ms(),d===o){i=mi(t,i,s);break e}kt(t,i,d,s)}i=i.child}return i;case 26:return Vs(t,i),t===null?(s=z_(i.type,null,i.pendingProps,null))?i.memoizedState=s:Pe||(s=i.type,t=i.pendingProps,o=iu(jn.current).createElement(s),o[se]=i,o[de]=t,Ut(o,s,t),Qe(o),i.stateNode=o):i.memoizedState=z_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return pa(i),t===null&&Pe&&(o=i.stateNode=k_(i.type,i.pendingProps,jn.current),qt=i,Gn=!0,Lt=Mn(o.firstChild)),o=i.pendingProps.children,t!==null||Pe?kt(t,i,o,s):i.child=Lr(i,null,o,s),Vs(t,i),i.child;case 5:return t===null&&Pe&&((c=o=Lt)&&(o=H0(o,i.type,i.pendingProps,Gn),o!==null?(i.stateNode=o,qt=i,Lt=Mn(o.firstChild),Gn=!1,c=!0):c=!1),c||xr(i)),pa(i),c=i.type,d=i.pendingProps,g=t!==null?t.memoizedProps:null,o=d.children,md(c,d)?o=null:g!==null&&md(c,g)&&(i.flags|=32),i.memoizedState!==null&&(c=tf(t,i,n0,null,null,s),ol._currentValue=c),Vs(t,i),kt(t,i,o,s),i.child;case 6:return t===null&&Pe&&((t=s=Lt)&&(s=B0(s,i.pendingProps,Gn),s!==null?(i.stateNode=s,qt=i,Lt=null,t=!0):t=!1),t||xr(i)),null;case 13:return Mg(t,i,s);case 4:return ma(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Lr(i,null,o,s):kt(t,i,o,s),i.child;case 11:return wg(t,i,i.type,i.pendingProps,s);case 7:return kt(t,i,i.pendingProps,s),i.child;case 8:return kt(t,i,i.pendingProps.children,s),i.child;case 12:return kt(t,i,i.pendingProps.children,s),i.child;case 10:return o=i.pendingProps,Yi(i,i.type,o.value),kt(t,i,o.children,s),i.child;case 9:return c=i.type._context,o=i.pendingProps.children,jr(i),c=Ht(c),o=o(c),i.flags|=1,kt(t,i,o,s),i.child;case 14:return Cg(t,i,i.type,i.pendingProps,s);case 15:return Rg(t,i,i.type,i.pendingProps,s);case 19:return Lg(t,i,s);case 22:return Ag(t,i,s);case 24:return jr(i),o=Ht(vt),t===null?(c=Jc(),c===null&&(c=$e,d=Wc(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=s),c=d),i.memoizedState={parent:o,cache:c},Mf(i),Yi(i,vt,c)):(t.lanes&s&&(xf(t,i),Ks(i,null,null,s),Ys()),c=t.memoizedState,d=i.memoizedState,c.parent!==o?(c={parent:o,cache:o},i.memoizedState=c,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=c),Yi(i,vt,o)):(o=d.cache,Yi(i,vt,o),o!==c.cache&&If(i,[vt],s,!0))),kt(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}var Df=Ue(null),Br=null,pi=null;function Yi(t,i,s){we(Df,i._currentValue),i._currentValue=s}function gi(t){t._currentValue=Df.current,st(Df)}function Of(t,i,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===s)break;t=t.return}}function If(t,i,s,o){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var d=c.dependencies;if(d!==null){var g=c.child;d=d.firstContext;e:for(;d!==null;){var y=d;d=c;for(var S=0;S<i.length;S++)if(y.context===i[S]){d.lanes|=s,y=d.alternate,y!==null&&(y.lanes|=s),Of(d.return,s,t),o||(g=null);break e}d=y.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=s,d=g.alternate,d!==null&&(d.lanes|=s),Of(g,s,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Fs(t,i,s,o){t=null;for(var c=i,d=!1;c!==null;){if(!d){if(c.flags&524288)d=!0;else if(c.flags&262144)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var y=c.type;tn(c.pendingProps.value,g.value)||(t!==null?t.push(y):t=[y])}}else if(c===un.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(ol):t=[ol])}c=c.return}t!==null&&If(i,t,s,o),i.flags|=262144}function jo(t){for(t=t.firstContext;t!==null;){if(!tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function jr(t){Br=t,pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Ug(Br,t)}function qo(t,i){return Br===null&&jr(t),Ug(t,i)}function Ug(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},pi===null){if(t===null)throw Error(a(308));pi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else pi=pi.next=i;return s}var Ki=!1;function Mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $i(t,i,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,rt&2){var c=o.pending;return c===null?i.next=i:(i.next=c.next,c.next=i),o.pending=i,i=bo(t),_p(t,null,s),i}return So(t,o,i,s),bo(t)}function Gs(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194176)!==0)){var o=i.lanes;o&=t.pendingLanes,s|=o,i.lanes=s,ue(t,s)}}function Lf(t,i){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var c=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?c=d=g:d=d.next=g,s=s.next}while(s!==null);d===null?c=d=i:d=d.next=i}else c=d=i;s={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var kf=!1;function Ys(){if(kf){var t=xa;if(t!==null)throw t}}function Ks(t,i,s,o){kf=!1;var c=t.updateQueue;Ki=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var S=y,R=S.next;S.next=null,g===null?d=R:g.next=R,g=S;var U=t.alternate;U!==null&&(U=U.updateQueue,y=U.lastBaseUpdate,y!==g&&(y===null?U.firstBaseUpdate=R:y.next=R,U.lastBaseUpdate=S))}if(d!==null){var q=c.baseState;g=0,U=R=S=null,y=d;do{var x=y.lane&-536870913,k=x!==y.lane;if(k?(ke&x)===x:(o&x)===x){x!==0&&x===Ma&&(kf=!0),U!==null&&(U=U.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var le=t,Ee=y;x=i;var ct=s;switch(Ee.tag){case 1:if(le=Ee.payload,typeof le=="function"){q=le.call(ct,q,x);break e}q=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=Ee.payload,x=typeof le=="function"?le.call(ct,q,x):le,x==null)break e;q=oe({},q,x);break e;case 2:Ki=!0}}x=y.callback,x!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[x]:k.push(x))}else k={lane:x,tag:y.tag,payload:y.payload,callback:y.callback,next:null},U===null?(R=U=k,S=q):U=U.next=k,g|=x;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;k=y,y=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);U===null&&(S=q),c.baseState=S,c.firstBaseUpdate=R,c.lastBaseUpdate=U,d===null&&(c.shared.lanes=0),er|=g,t.lanes=g,t.memoizedState=q}}function Pg(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function zg(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Pg(s[t],i)}function Qs(t,i){try{var s=i.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&t)===t){o=void 0;var d=s.create,g=s.inst;o=d(),g.destroy=o}s=s.next}while(s!==c)}}catch(y){Ye(i,i.return,y)}}function Xi(t,i,s){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&t)===t){var g=o.inst,y=g.destroy;if(y!==void 0){g.destroy=void 0,c=i;var S=s;try{y()}catch(R){Ye(c,S,R)}}}o=o.next}while(o!==d)}}catch(R){Ye(i,i.return,R)}}function Hg(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{zg(i,s)}catch(o){Ye(t,t.return,o)}}}function Bg(t,i,s){s.props=Hr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Ye(t,i,o)}}function qr(t,i){try{var s=t.ref;if(s!==null){var o=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=o;break;default:c=o}typeof s=="function"?t.refCleanup=s(c):s.current=c}}catch(d){Ye(t,i,d)}}function nn(t,i){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(c){Ye(t,i,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Ye(t,i,c)}else s.current=null}function jg(t){var i=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(c){Ye(t,t.return,c)}}function qg(t,i,s){try{var o=t.stateNode;L0(o,t.type,s,i),o[de]=i}catch(c){Ye(t,t.return,c)}}function Vg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Uf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pf(t,i,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(t,i):s.insertBefore(t,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(t,s)):(i=s,i.appendChild(t)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=nu));else if(o!==4&&o!==27&&(t=t.child,t!==null))for(Pf(t,i,s),t=t.sibling;t!==null;)Pf(t,i,s),t=t.sibling}function Vo(t,i,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(o!==4&&o!==27&&(t=t.child,t!==null))for(Vo(t,i,s),t=t.sibling;t!==null;)Vo(t,i,s),t=t.sibling}var _i=!1,ot=!1,zf=!1,Fg=typeof WeakSet=="function"?WeakSet:Set,wt=null,Gg=!1;function c0(t,i){if(t=t.containerInfo,dd=uu,t=op(t),Hc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var c=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var g=0,y=-1,S=-1,R=0,U=0,q=t,x=null;t:for(;;){for(var k;q!==s||c!==0&&q.nodeType!==3||(y=g+c),q!==d||o!==0&&q.nodeType!==3||(S=g+o),q.nodeType===3&&(g+=q.nodeValue.length),(k=q.firstChild)!==null;)x=q,q=k;for(;;){if(q===t)break t;if(x===s&&++R===c&&(y=g),x===d&&++U===o&&(S=g),(k=q.nextSibling)!==null)break;q=x,x=q.parentNode}q=k}s=y===-1||S===-1?null:{start:y,end:S}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:t,selectionRange:s},uu=!1,wt=i;wt!==null;)if(i=wt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,wt=t;else for(;wt!==null;){switch(i=wt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&d!==null){t=void 0,s=i,c=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var le=Hr(s.type,c,s.elementType===s.type);t=o.getSnapshotBeforeUpdate(le,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){Ye(s,s.return,Ee)}}break;case 3:if(t&1024){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)_d(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_d(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,wt=t;break}wt=i.return}return le=Gg,Gg=!1,le}function Yg(t,i,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:vi(t,s),o&4&&Qs(5,s);break;case 1:if(vi(t,s),o&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(y){Ye(s,s.return,y)}else{var c=Hr(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(c,i,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Ye(s,s.return,y)}}o&64&&Hg(s),o&512&&qr(s,s.return);break;case 3:if(vi(t,s),o&64&&(o=s.updateQueue,o!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{zg(o,t)}catch(y){Ye(s,s.return,y)}}break;case 26:vi(t,s),o&512&&qr(s,s.return);break;case 27:case 5:vi(t,s),i===null&&o&4&&jg(s),o&512&&qr(s,s.return);break;case 12:vi(t,s);break;case 13:vi(t,s),o&4&&$g(t,s);break;case 22:if(c=s.memoizedState!==null||_i,!c){i=i!==null&&i.memoizedState!==null||ot;var d=_i,g=ot;_i=c,(ot=i)&&!g?Wi(t,s,(s.subtreeFlags&8772)!==0):vi(t,s),_i=d,ot=g}o&512&&(s.memoizedProps.mode==="manual"?qr(s,s.return):nn(s,s.return));break;default:vi(t,s)}}function Kg(t){var i=t.alternate;i!==null&&(t.alternate=null,Kg(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&si(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,rn=!1;function yi(t,i,s){for(s=s.child;s!==null;)Qg(t,i,s),s=s.sibling}function Qg(t,i,s){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Hi,s)}catch{}switch(s.tag){case 26:ot||nn(s,i),yi(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ot||nn(s,i);var o=gt,c=rn;for(gt=s.stateNode,yi(t,i,s),s=s.stateNode,i=s.attributes;i.length;)s.removeAttributeNode(i[0]);si(s),gt=o,rn=c;break;case 5:ot||nn(s,i);case 6:c=gt;var d=rn;if(gt=null,yi(t,i,s),gt=c,rn=d,gt!==null)if(rn)try{t=gt,o=s.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)}catch(g){Ye(s,i,g)}else try{gt.removeChild(s.stateNode)}catch(g){Ye(s,i,g)}break;case 18:gt!==null&&(rn?(i=gt,s=s.stateNode,i.nodeType===8?gd(i.parentNode,s):i.nodeType===1&&gd(i,s),dl(i)):gd(gt,s.stateNode));break;case 4:o=gt,c=rn,gt=s.stateNode.containerInfo,rn=!0,yi(t,i,s),gt=o,rn=c;break;case 0:case 11:case 14:case 15:ot||Xi(2,s,i),ot||Xi(4,s,i),yi(t,i,s);break;case 1:ot||(nn(s,i),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Bg(s,i,o)),yi(t,i,s);break;case 21:yi(t,i,s);break;case 22:ot||nn(s,i),ot=(o=ot)||s.memoizedState!==null,yi(t,i,s),ot=o;break;default:yi(t,i,s)}}function $g(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{dl(t)}catch(s){Ye(i,i.return,s)}}function f0(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Fg),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Fg),i;default:throw Error(a(435,t.tag))}}function Hf(t,i){var s=f0(t);i.forEach(function(o){var c=w0.bind(null,t,o);s.has(o)||(s.add(o),o.then(c,c))})}function En(t,i){var s=i.deletions;if(s!==null)for(var o=0;o<s.length;o++){var c=s[o],d=t,g=i,y=g;e:for(;y!==null;){switch(y.tag){case 27:case 5:gt=y.stateNode,rn=!1;break e;case 3:gt=y.stateNode.containerInfo,rn=!0;break e;case 4:gt=y.stateNode.containerInfo,rn=!0;break e}y=y.return}if(gt===null)throw Error(a(160));Qg(d,g,c),gt=null,rn=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Xg(i,t),i=i.sibling}var In=null;function Xg(t,i){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(i,t),Sn(t),o&4&&(Xi(3,t,t.return),Qs(3,t),Xi(5,t,t.return));break;case 1:En(i,t),Sn(t),o&512&&(ot||s===null||nn(s,s.return)),o&64&&_i&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var c=In;if(En(i,t),Sn(t),o&512&&(ot||s===null||nn(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":d=c.getElementsByTagName("title")[0],(!d||d[fn]||d[se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(o),c.head.insertBefore(d,c.querySelector("head > title"))),Ut(d,o,s),d[se]=t,Qe(d),o=d;break e;case"link":var g=j_("link","href",c).get(o+(s.href||""));if(g){for(var y=0;y<g.length;y++)if(d=g[y],d.getAttribute("href")===(s.href==null?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(y,1);break t}}d=c.createElement(o),Ut(d,o,s),c.head.appendChild(d);break;case"meta":if(g=j_("meta","content",c).get(o+(s.content||""))){for(y=0;y<g.length;y++)if(d=g[y],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(y,1);break t}}d=c.createElement(o),Ut(d,o,s),c.head.appendChild(d);break;default:throw Error(a(468,o))}d[se]=t,Qe(d),o=d}t.stateNode=o}else q_(c,t.type,t.stateNode);else t.stateNode=B_(c,o,t.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?q_(c,t.type,t.stateNode):B_(c,o,t.memoizedProps)):o===null&&t.stateNode!==null&&qg(t,t.memoizedProps,s.memoizedProps)}break;case 27:if(o&4&&t.alternate===null){c=t.stateNode,d=t.memoizedProps;try{for(var S=c.firstChild;S;){var R=S.nextSibling,U=S.nodeName;S[fn]||U==="HEAD"||U==="BODY"||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=R}for(var q=t.type,x=c.attributes;x.length;)c.removeAttributeNode(x[0]);Ut(c,q,d),c[se]=t,c[de]=d}catch(le){Ye(t,t.return,le)}}case 5:if(En(i,t),Sn(t),o&512&&(ot||s===null||nn(s,s.return)),t.flags&32){c=t.stateNode;try{Ea(c,"")}catch(le){Ye(t,t.return,le)}}o&4&&t.stateNode!=null&&(c=t.memoizedProps,qg(t,c,s!==null?s.memoizedProps:c)),o&1024&&(zf=!0);break;case 6:if(En(i,t),Sn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(le){Ye(t,t.return,le)}}break;case 3:if(su=null,c=In,In=ru(i.containerInfo),En(i,t),In=c,Sn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{dl(i.containerInfo)}catch(le){Ye(t,t.return,le)}zf&&(zf=!1,Wg(t));break;case 4:o=In,In=ru(t.stateNode.containerInfo),En(i,t),Sn(t),In=o;break;case 12:En(i,t),Sn(t);break;case 13:En(i,t),Sn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Qf=en()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Hf(t,o)));break;case 22:if(o&512&&(ot||s===null||nn(s,s.return)),S=t.memoizedState!==null,R=s!==null&&s.memoizedState!==null,U=_i,q=ot,_i=U||S,ot=q||R,En(i,t),ot=q,_i=U,Sn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,o&8192&&(i._visibility=S?i._visibility&-2:i._visibility|1,S&&(i=_i||ot,s===null||R||i||Pa(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(s=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(s===null){R=s=i;try{if(c=R.stateNode,S)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{g=R.stateNode,y=R.memoizedProps.style;var k=y!=null&&y.hasOwnProperty("display")?y.display:null;g.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(le){Ye(R,R.return,le)}}}else if(i.tag===6){if(s===null){R=i;try{R.stateNode.nodeValue=S?"":R.memoizedProps}catch(le){Ye(R,R.return,le)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Hf(t,s))));break;case 19:En(i,t),Sn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Hf(t,o)));break;case 21:break;default:En(i,t),Sn(t)}}function Sn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var s=t.return;s!==null;){if(Vg(s)){var o=s;break e}s=s.return}throw Error(a(160))}switch(o.tag){case 27:var c=o.stateNode,d=Uf(t);Vo(t,d,c);break;case 5:var g=o.stateNode;o.flags&32&&(Ea(g,""),o.flags&=-33);var y=Uf(t);Vo(t,y,g);break;case 3:case 4:var S=o.stateNode.containerInfo,R=Uf(t);Pf(t,R,S);break;default:throw Error(a(161))}}}catch(U){Ye(t,t.return,U)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Wg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Wg(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function vi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Yg(t,i.alternate,i),i=i.sibling}function Pa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Xi(4,i,i.return),Pa(i);break;case 1:nn(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Bg(i,i.return,s),Pa(i);break;case 26:case 27:case 5:nn(i,i.return),Pa(i);break;case 22:nn(i,i.return),i.memoizedState===null&&Pa(i);break;default:Pa(i)}t=t.sibling}}function Wi(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,c=t,d=i,g=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(c,d,s),Qs(4,d);break;case 1:if(Wi(c,d,s),o=d,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(R){Ye(o,o.return,R)}if(o=d,c=o.updateQueue,c!==null){var y=o.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)Pg(S[c],y)}catch(R){Ye(o,o.return,R)}}s&&g&64&&Hg(d),qr(d,d.return);break;case 26:case 27:case 5:Wi(c,d,s),s&&o===null&&g&4&&jg(d),qr(d,d.return);break;case 12:Wi(c,d,s);break;case 13:Wi(c,d,s),s&&g&4&&$g(c,d);break;case 22:d.memoizedState===null&&Wi(c,d,s),qr(d,d.return);break;default:Wi(c,d,s)}i=i.sibling}}function Bf(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&zs(s))}function jf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&zs(t))}function Zi(t,i,s,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Zg(t,i,s,o),i=i.sibling}function Zg(t,i,s,o){var c=i.flags;switch(i.tag){case 0:case 11:case 15:Zi(t,i,s,o),c&2048&&Qs(9,i);break;case 3:Zi(t,i,s,o),c&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&zs(t)));break;case 12:if(c&2048){Zi(t,i,s,o),t=i.stateNode;try{var d=i.memoizedProps,g=d.id,y=d.onPostCommit;typeof y=="function"&&y(g,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Ye(i,i.return,S)}}else Zi(t,i,s,o);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Zi(t,i,s,o):$s(t,i):d._visibility&4?Zi(t,i,s,o):(d._visibility|=4,za(t,i,s,o,(i.subtreeFlags&10256)!==0)),c&2048&&Bf(i.alternate,i);break;case 24:Zi(t,i,s,o),c&2048&&jf(i.alternate,i);break;default:Zi(t,i,s,o)}}function za(t,i,s,o,c){for(c=c&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,g=i,y=s,S=o,R=g.flags;switch(g.tag){case 0:case 11:case 15:za(d,g,y,S,c),Qs(8,g);break;case 23:break;case 22:var U=g.stateNode;g.memoizedState!==null?U._visibility&4?za(d,g,y,S,c):$s(d,g):(U._visibility|=4,za(d,g,y,S,c)),c&&R&2048&&Bf(g.alternate,g);break;case 24:za(d,g,y,S,c),c&&R&2048&&jf(g.alternate,g);break;default:za(d,g,y,S,c)}i=i.sibling}}function $s(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,o=i,c=o.flags;switch(o.tag){case 22:$s(s,o),c&2048&&Bf(o.alternate,o);break;case 24:$s(s,o),c&2048&&jf(o.alternate,o);break;default:$s(s,o)}i=i.sibling}}var Xs=8192;function Ha(t){if(t.subtreeFlags&Xs)for(t=t.child;t!==null;)Jg(t),t=t.sibling}function Jg(t){switch(t.tag){case 26:Ha(t),t.flags&Xs&&t.memoizedState!==null&&J0(In,t.memoizedState,t.memoizedProps);break;case 5:Ha(t);break;case 3:case 4:var i=In;In=ru(t.stateNode.containerInfo),Ha(t),In=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Xs,Xs=16777216,Ha(t),Xs=i):Ha(t));break;default:Ha(t)}}function e_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ws(t){var i=t.deletions;if(t.flags&16){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];wt=o,n_(o,t)}e_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)t_(t),t=t.sibling}function t_(t){switch(t.tag){case 0:case 11:case 15:Ws(t),t.flags&2048&&Xi(9,t,t.return);break;case 3:Ws(t);break;case 12:Ws(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,Fo(t)):Ws(t);break;default:Ws(t)}}function Fo(t){var i=t.deletions;if(t.flags&16){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];wt=o,n_(o,t)}e_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Xi(8,i,i.return),Fo(i);break;case 22:s=i.stateNode,s._visibility&4&&(s._visibility&=-5,Fo(i));break;default:Fo(i)}t=t.sibling}}function n_(t,i){for(;wt!==null;){var s=wt;switch(s.tag){case 0:case 11:case 15:Xi(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zs(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,wt=o;else e:for(s=t;wt!==null;){o=wt;var c=o.sibling,d=o.return;if(Kg(o),o===s){wt=null;break e}if(c!==null){c.return=d,wt=c;break e}wt=d}}}function d0(t,i,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,i,s,o){return new d0(t,i,s,o)}function qf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ji(t,i){var s=t.alternate;return s===null?(s=bn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&31457280,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function i_(t,i){t.flags&=31457282;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Go(t,i,s,o,c,d){var g=0;if(o=t,typeof t=="function")qf(t)&&(g=1);else if(typeof t=="string")g=W0(t,s,It.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case m:return Vr(s.children,c,d,i);case p:g=8,c|=24;break;case _:return t=bn(12,s,i,c|2),t.elementType=_,t.lanes=d,t;case H:return t=bn(13,s,i,c),t.elementType=H,t.lanes=d,t;case P:return t=bn(19,s,i,c),t.elementType=P,t.lanes=d,t;case J:return r_(s,c,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case v:case b:g=10;break e;case E:g=9;break e;case A:g=11;break e;case z:g=14;break e;case G:g=16,o=null;break e}g=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return i=bn(g,s,i,c),i.elementType=t,i.type=o,i.lanes=d,i}function Vr(t,i,s,o){return t=bn(7,t,o,i),t.lanes=s,t}function r_(t,i,s,o){t=bn(22,t,o,i),t.elementType=J,t.lanes=s;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=c._current;if(d===null)throw Error(a(456));if(!(c._pendingVisibility&2)){var g=ji(d,2);g!==null&&(c._pendingVisibility|=2,Vt(g,d,2))}},attach:function(){var d=c._current;if(d===null)throw Error(a(456));if(c._pendingVisibility&2){var g=ji(d,2);g!==null&&(c._pendingVisibility&=-3,Vt(g,d,2))}}};return t.stateNode=c,t}function Vf(t,i,s){return t=bn(6,t,null,i),t.lanes=s,t}function Ff(t,i,s){return i=bn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Ei(t){t.flags|=4}function a_(t,i){if(i.type!=="stylesheet"||i.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!V_(i)){if(i=vn.current,i!==null&&((ke&4194176)===ke?Yn!==null:(ke&62914560)!==ke&&!(ke&536870912)||i!==Yn))throw ks=Qc,bp;t.flags|=8192}}function Yo(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?w():536870912,t.lanes|=i,ja|=i)}function Zs(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(i)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags&31457280,o|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=o,t.childLanes=s,i}function h0(t,i,s){var o=i.pendingProps;switch(Yc(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return s=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),gi(vt),zi(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Is(i)?Ei(i):t===null||t.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,On!==null&&(Zf(On),On=null))),it(i),null;case 26:return s=i.memoizedState,t===null?(Ei(i),s!==null?(it(i),a_(i,s)):(it(i),i.flags&=-16777217)):s?s!==t.memoizedState?(Ei(i),it(i),a_(i,s)):(it(i),i.flags&=-16777217):(t.memoizedProps!==o&&Ei(i),it(i),i.flags&=-16777217),null;case 27:ga(i),s=jn.current;var c=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Ei(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return it(i),null}t=It.current,Is(i)?Ep(i):(t=k_(c,o,s),i.stateNode=t,Ei(i))}return it(i),null;case 5:if(ga(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Ei(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return it(i),null}if(t=It.current,Is(i))Ep(i);else{switch(c=iu(jn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?c.createElement(s,{is:o.is}):c.createElement(s)}}t[se]=i,t[de]=o;e:for(c=i.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break e;for(;c.sibling===null;){if(c.return===null||c.return===i)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}i.stateNode=t;e:switch(Ut(t,s,o),s){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ei(i)}}return it(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Ei(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(a(166));if(t=jn.current,Is(i)){if(t=i.stateNode,s=i.memoizedProps,o=null,c=qt,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}t[se]=i,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||D_(t.nodeValue,s)),t||xr(i)}else t=iu(t).createTextNode(o),t[se]=i,i.stateNode=t}return it(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Is(i),o!==null&&o.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=i.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[se]=i}else Ms(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;it(i),c=!1}else On!==null&&(Zf(On),On=null),c=!0;if(!c)return i.flags&256?(di(i),i):(di(i),null)}if(di(i),i.flags&128)return i.lanes=s,i;if(s=o!==null,t=t!==null&&t.memoizedState!==null,s){o=i.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),Yo(i,i.updateQueue),it(i),null;case 4:return zi(),t===null&&ud(i.stateNode.containerInfo),it(i),null;case 10:return gi(i.type),it(i),null;case 19:if(st(yt),c=i.memoizedState,c===null)return it(i),null;if(o=(i.flags&128)!==0,d=c.rendering,d===null)if(o)Zs(c,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=i.child;t!==null;){if(d=Do(t),d!==null){for(i.flags|=128,Zs(c,!1),t=d.updateQueue,i.updateQueue=t,Yo(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)i_(s,t),s=s.sibling;return we(yt,yt.current&1|2),i.child}t=t.sibling}c.tail!==null&&en()>Ko&&(i.flags|=128,o=!0,Zs(c,!1),i.lanes=4194304)}else{if(!o)if(t=Do(d),t!==null){if(i.flags|=128,o=!0,t=t.updateQueue,i.updateQueue=t,Yo(i,t),Zs(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!Pe)return it(i),null}else 2*en()-c.renderingStartTime>Ko&&s!==536870912&&(i.flags|=128,o=!0,Zs(c,!1),i.lanes=4194304);c.isBackwards?(d.sibling=i.child,i.child=d):(t=c.last,t!==null?t.sibling=d:i.child=d,c.last=d)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=en(),i.sibling=null,t=yt.current,we(yt,o?t&1|2:t&1),i):(it(i),null);case 22:case 23:return di(i),Xc(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?s&536870912&&!(i.flags&128)&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),s=i.updateQueue,s!==null&&Yo(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==s&&(i.flags|=2048),t!==null&&st(kr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),gi(vt),it(i),null;case 25:return null}throw Error(a(156,i.tag))}function m0(t,i){switch(Yc(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return gi(vt),zi(),t=i.flags,t&65536&&!(t&128)?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ga(i),null;case 13:if(di(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Ms()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return st(yt),null;case 4:return zi(),null;case 10:return gi(i.type),null;case 22:case 23:return di(i),Xc(),t!==null&&st(kr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return gi(vt),null;case 25:return null;default:return null}}function s_(t,i){switch(Yc(i),i.tag){case 3:gi(vt),zi();break;case 26:case 27:case 5:ga(i);break;case 4:zi();break;case 13:di(i);break;case 19:st(yt);break;case 10:gi(i.type);break;case 22:case 23:di(i),Xc(),t!==null&&st(kr);break;case 24:gi(vt)}}var p0={getCacheForType:function(t){var i=Ht(vt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},g0=typeof WeakMap=="function"?WeakMap:Map,rt=0,$e=null,De=null,ke=0,Xe=0,an=null,Si=!1,Ba=!1,Gf=!1,bi=0,ut=0,er=0,Fr=0,Yf=0,Tn=0,ja=0,Js=null,Qn=null,Kf=!1,Qf=0,Ko=1/0,Qo=null,tr=null,$o=!1,Gr=null,el=0,$f=0,Xf=null,tl=0,Wf=null;function sn(){if(rt&2&&ke!==0)return ke&-ke;if(F.T!==null){var t=Ma;return t!==0?t:ad()}return ne()}function l_(){Tn===0&&(Tn=!(ke&536870912)||Pe?lo():536870912);var t=vn.current;return t!==null&&(t.flags|=32),Tn}function Vt(t,i,s){(t===$e&&Xe===2||t.cancelPendingCommit!==null)&&(qa(t,0),Ti(t,ke,Tn,!1)),L(t,s),(!(rt&2)||t!==$e)&&(t===$e&&(!(rt&2)&&(Fr|=s),ut===4&&Ti(t,ke,Tn,!1)),$n(t))}function o_(t,i,s){if(rt&6)throw Error(a(327));var o=!s&&(i&60)===0&&(i&t.expiredLanes)===0||Fn(t,i),c=o?v0(t,i):td(t,i,!0),d=o;do{if(c===0){Ba&&!o&&Ti(t,i,0,!1);break}else if(c===6)Ti(t,i,0,!Si);else{if(s=t.current.alternate,d&&!_0(s)){c=td(t,i,!1),d=!1;continue}if(c===2){if(d=i,t.errorRecoveryDisabledLanes&d)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){i=g;e:{var y=t;c=Js;var S=y.current.memoizedState.isDehydrated;if(S&&(qa(y,g).flags|=256),g=td(y,g,!1),g!==2){if(Gf&&!S){y.errorRecoveryDisabledLanes|=d,Fr|=d,c=4;break e}d=Qn,Qn=c,d!==null&&Zf(d)}c=g}if(d=!1,c!==2)continue}}if(c===1){qa(t,0),Ti(t,i,0,!0);break}e:{switch(o=t,c){case 0:case 1:throw Error(a(345));case 4:if((i&4194176)===i){Ti(o,i,Tn,!Si);break e}break;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(a(329))}if(o.finishedWork=s,o.finishedLanes=i,(i&62914560)===i&&(d=Qf+300-en(),10<d)){if(Ti(o,i,Tn,!Si),ai(o,0)!==0)break e;o.timeoutHandle=M_(u_.bind(null,o,s,Qn,Qo,Kf,i,Tn,Fr,ja,Si,2,-0,0),d);break e}u_(o,s,Qn,Qo,Kf,i,Tn,Fr,ja,Si,0,-0,0)}}break}while(!0);$n(t)}function Zf(t){Qn===null?Qn=t:Qn.push.apply(Qn,t)}function u_(t,i,s,o,c,d,g,y,S,R,U,q,x){var k=i.subtreeFlags;if((k&8192||(k&16785408)===16785408)&&(ll={stylesheets:null,count:0,unsuspend:Z0},Jg(i),i=ew(),i!==null)){t.cancelPendingCommit=i(g_.bind(null,t,s,o,c,g,y,S,1,q,x)),Ti(t,d,g,!R);return}g_(t,s,o,c,g,y,S,U,q,x)}function _0(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var c=s[o],d=c.getSnapshot;c=c.value;try{if(!tn(d(),c))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ti(t,i,s,o){i&=~Yf,i&=~Fr,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var c=i;0<c;){var d=31-bt(c),g=1<<d;o[d]=-1,c&=~g}s!==0&&ee(t,s,i)}function Xo(){return rt&6?!0:(nl(0),!1)}function Jf(){if(De!==null){if(Xe===0)var t=De.return;else t=De,pi=Br=null,af(t),Oa=null,Us=0,t=De;for(;t!==null;)s_(t.alternate,t),t=t.return;De=null}}function qa(t,i){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,U0(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Jf(),$e=t,De=s=Ji(t.current,null),ke=i,Xe=0,an=null,Si=!1,Ba=Fn(t,i),Gf=!1,ja=Tn=Yf=Fr=er=ut=0,Qn=Js=null,Kf=!1,i&8&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var c=31-bt(o),d=1<<c;i|=t[c],o&=~d}return bi=i,Eo(),s}function c_(t,i){Ce=null,F.H=Kn,i===Ls?(i=Cp(),Xe=3):i===bp?(i=Cp(),Xe=4):Xe=i===Tg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,an=i,De===null&&(ut=1,Bo(t,gn(i,t.current)))}function f_(){var t=F.H;return F.H=Kn,t===null?Kn:t}function d_(){var t=F.A;return F.A=p0,t}function ed(){ut=4,Si||(ke&4194176)!==ke&&vn.current!==null||(Ba=!0),!(er&134217727)&&!(Fr&134217727)||$e===null||Ti($e,ke,Tn,!1)}function td(t,i,s){var o=rt;rt|=2;var c=f_(),d=d_();($e!==t||ke!==i)&&(Qo=null,qa(t,i)),i=!1;var g=ut;e:do try{if(Xe!==0&&De!==null){var y=De,S=an;switch(Xe){case 8:Jf(),g=6;break e;case 3:case 2:case 6:vn.current===null&&(i=!0);var R=Xe;if(Xe=0,an=null,Va(t,y,S,R),s&&Ba){g=0;break e}break;default:R=Xe,Xe=0,an=null,Va(t,y,S,R)}}y0(),g=ut;break}catch(U){c_(t,U)}while(!0);return i&&t.shellSuspendCounter++,pi=Br=null,rt=o,F.H=c,F.A=d,De===null&&($e=null,ke=0,Eo()),g}function y0(){for(;De!==null;)h_(De)}function v0(t,i){var s=rt;rt|=2;var o=f_(),c=d_();$e!==t||ke!==i?(Qo=null,Ko=en()+500,qa(t,i)):Ba=Fn(t,i);e:do try{if(Xe!==0&&De!==null){i=De;var d=an;t:switch(Xe){case 1:Xe=0,an=null,Va(t,i,d,1);break;case 2:if(Tp(d)){Xe=0,an=null,m_(i);break}i=function(){Xe===2&&$e===t&&(Xe=7),$n(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Tp(d)?(Xe=0,an=null,m_(i)):(Xe=0,an=null,Va(t,i,d,7));break;case 5:var g=null;switch(De.tag){case 26:g=De.memoizedState;case 5:case 27:var y=De;if(!g||V_(g)){Xe=0,an=null;var S=y.sibling;if(S!==null)De=S;else{var R=y.return;R!==null?(De=R,Wo(R)):De=null}break t}}Xe=0,an=null,Va(t,i,d,5);break;case 6:Xe=0,an=null,Va(t,i,d,6);break;case 8:Jf(),ut=6;break e;default:throw Error(a(462))}}E0();break}catch(U){c_(t,U)}while(!0);return pi=Br=null,F.H=o,F.A=c,rt=s,De!==null?0:($e=null,ke=0,Eo(),ut)}function E0(){for(;De!==null&&!ri();)h_(De)}function h_(t){var i=kg(t.alternate,t,bi);t.memoizedProps=t.pendingProps,i===null?Wo(t):De=i}function m_(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=Dg(s,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=Dg(s,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:af(i);default:s_(s,i),i=De=i_(i,bi),i=kg(s,i,bi)}t.memoizedProps=t.pendingProps,i===null?Wo(t):De=i}function Va(t,i,s,o){pi=Br=null,af(i),Oa=null,Us=0;var c=i.return;try{if(o0(t,c,i,s,ke)){ut=1,Bo(t,gn(s,t.current)),De=null;return}}catch(d){if(c!==null)throw De=c,d;ut=1,Bo(t,gn(s,t.current)),De=null;return}i.flags&32768?(Pe||o===1?t=!0:Ba||ke&536870912?t=!1:(Si=t=!0,(o===2||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),p_(i,t)):Wo(i)}function Wo(t){var i=t;do{if(i.flags&32768){p_(i,Si);return}t=i.return;var s=h0(i.alternate,i,bi);if(s!==null){De=s;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ut===0&&(ut=5)}function p_(t,i){do{var s=m0(t.alternate,t);if(s!==null){s.flags&=32767,De=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=s}while(t!==null);ut=6,De=null}function g_(t,i,s,o,c,d,g,y,S,R){var U=F.T,q=Z.p;try{Z.p=2,F.T=null,S0(t,i,s,o,q,c,d,g,y,S,R)}finally{F.T=U,Z.p=q}}function S0(t,i,s,o,c,d,g,y){do Fa();while(Gr!==null);if(rt&6)throw Error(a(327));var S=t.finishedWork;if(o=t.finishedLanes,S===null)return null;if(t.finishedWork=null,t.finishedLanes=0,S===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var R=S.lanes|S.childLanes;if(R|=Vc,V(t,o,R,d,g,y),t===$e&&(De=$e=null,ke=0),!(S.subtreeFlags&10256)&&!(S.flags&10256)||$o||($o=!0,$f=R,Xf=s,C0(Tr,function(){return Fa(),null})),s=(S.flags&15990)!==0,S.subtreeFlags&15990||s?(s=F.T,F.T=null,d=Z.p,Z.p=2,g=rt,rt|=4,c0(t,S),Xg(S,t),GT(hd,t.containerInfo),uu=!!dd,hd=dd=null,t.current=S,Yg(t,S.alternate,S),br(),rt=g,Z.p=d,F.T=s):t.current=S,$o?($o=!1,Gr=t,el=o):__(t,R),R=t.pendingLanes,R===0&&(tr=null),Sc(S.stateNode),$n(t),i!==null)for(c=t.onRecoverableError,S=0;S<i.length;S++)R=i[S],c(R.value,{componentStack:R.stack});return el&3&&Fa(),R=t.pendingLanes,o&4194218&&R&42?t===Wf?tl++:(tl=0,Wf=t):tl=0,nl(0),null}function __(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,zs(i)))}function Fa(){if(Gr!==null){var t=Gr,i=$f;$f=0;var s=_e(el),o=F.T,c=Z.p;try{if(Z.p=32>s?32:s,F.T=null,Gr===null)var d=!1;else{s=Xf,Xf=null;var g=Gr,y=el;if(Gr=null,el=0,rt&6)throw Error(a(331));var S=rt;if(rt|=4,t_(g.current),Zg(g,g.current,y,s),rt=S,nl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Hi,g)}catch{}d=!0}return d}finally{Z.p=c,F.T=o,__(t,i)}}return!1}function y_(t,i,s){i=gn(s,i),i=vf(t.stateNode,i,2),t=$i(t,i,2),t!==null&&(L(t,2),$n(t))}function Ye(t,i,s){if(t.tag===3)y_(t,t,s);else for(;i!==null;){if(i.tag===3){y_(i,t,s);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(tr===null||!tr.has(o))){t=gn(s,t),s=Sg(2),o=$i(i,s,2),o!==null&&(bg(s,o,i,t),L(o,2),$n(o));break}}i=i.return}}function nd(t,i,s){var o=t.pingCache;if(o===null){o=t.pingCache=new g0;var c=new Set;o.set(i,c)}else c=o.get(i),c===void 0&&(c=new Set,o.set(i,c));c.has(s)||(Gf=!0,c.add(s),t=b0.bind(null,t,i,s),i.then(t,t))}function b0(t,i,s){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,$e===t&&(ke&s)===s&&(ut===4||ut===3&&(ke&62914560)===ke&&300>en()-Qf?!(rt&2)&&qa(t,0):Yf|=s,ja===ke&&(ja=0)),$n(t)}function v_(t,i){i===0&&(i=w()),t=ji(t,i),t!==null&&(L(t,i),$n(t))}function T0(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),v_(t,s)}function w0(t,i){var s=0;switch(t.tag){case 13:var o=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(i),v_(t,s)}function C0(t,i){return _s(t,i)}var Zo=null,Ga=null,id=!1,Jo=!1,rd=!1,Yr=0;function $n(t){t!==Ga&&t.next===null&&(Ga===null?Zo=Ga=t:Ga=Ga.next=t),Jo=!0,id||(id=!0,A0(R0))}function nl(t,i){if(!rd&&Jo){rd=!0;do for(var s=!1,o=Zo;o!==null;){if(t!==0){var c=o.pendingLanes;if(c===0)var d=0;else{var g=o.suspendedLanes,y=o.pingedLanes;d=(1<<31-bt(42|t)+1)-1,d&=c&~(g&~y),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(s=!0,b_(o,d))}else d=ke,d=ai(o,o===$e?d:0),!(d&3)||Fn(o,d)||(s=!0,b_(o,d));o=o.next}while(s);rd=!1}}function R0(){Jo=id=!1;var t=0;Yr!==0&&(k0()&&(t=Yr),Yr=0);for(var i=en(),s=null,o=Zo;o!==null;){var c=o.next,d=E_(o,i);d===0?(o.next=null,s===null?Zo=c:s.next=c,c===null&&(Ga=s)):(s=o,(t!==0||d&3)&&(Jo=!0)),o=c}nl(t)}function E_(t,i){for(var s=t.suspendedLanes,o=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var g=31-bt(d),y=1<<g,S=c[g];S===-1?(!(y&s)||y&o)&&(c[g]=Tc(y,i)):S<=i&&(t.expiredLanes|=y),d&=~y}if(i=$e,s=ke,s=ai(t,t===i?s:0),o=t.callbackNode,s===0||t===i&&Xe===2||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ys(o),t.callbackNode=null,t.callbackPriority=0;if(!(s&3)||Fn(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(o!==null&&ys(o),_e(s)){case 2:case 8:s=cn;break;case 32:s=Tr;break;case 268435456:s=ro;break;default:s=Tr}return o=S_.bind(null,t),s=_s(s,o),t.callbackPriority=i,t.callbackNode=s,i}return o!==null&&o!==null&&ys(o),t.callbackPriority=2,t.callbackNode=null,2}function S_(t,i){var s=t.callbackNode;if(Fa()&&t.callbackNode!==s)return null;var o=ke;return o=ai(t,t===$e?o:0),o===0?null:(o_(t,o,i),E_(t,en()),t.callbackNode!=null&&t.callbackNode===s?S_.bind(null,t):null)}function b_(t,i){if(Fa())return null;o_(t,i,!0)}function A0(t){P0(function(){rt&6?_s(An,t):t()})}function ad(){return Yr===0&&(Yr=lo()),Yr}function T_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ho(""+t)}function w_(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function N0(t,i,s,o,c){if(i==="submit"&&s&&s.stateNode===c){var d=T_((c[de]||null).action),g=o.submitter;g&&(i=(i=g[de]||null)?T_(i.formAction):g.getAttribute("formAction"),i!==null&&(d=i,g=null));var y=new _o("action","action",null,o,c);t.push({event:y,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Yr!==0){var S=g?w_(c,g):new FormData(c);mf(s,{pending:!0,data:S,method:c.method,action:d},null,S)}}else typeof d=="function"&&(y.preventDefault(),S=g?w_(c,g):new FormData(c),mf(s,{pending:!0,data:S,method:c.method,action:d},d,S))},currentTarget:c}]})}}for(var sd=0;sd<gp.length;sd++){var ld=gp[sd],D0=ld.toLowerCase(),O0=ld[0].toUpperCase()+ld.slice(1);Dn(D0,"on"+O0)}Dn(fp,"onAnimationEnd"),Dn(dp,"onAnimationIteration"),Dn(hp,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(KT,"onTransitionRun"),Dn(QT,"onTransitionStart"),Dn($T,"onTransitionCancel"),Dn(mp,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),Le("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Le("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Le("onBeforeInput",["compositionend","keypress","textInput","paste"]),Le("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Le("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Le("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function C_(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],c=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var g=o.length-1;0<=g;g--){var y=o[g],S=y.instance,R=y.currentTarget;if(y=y.listener,S!==d&&c.isPropagationStopped())break e;d=y,c.currentTarget=R;try{d(c)}catch(U){Ho(U)}c.currentTarget=null,d=S}else for(g=0;g<o.length;g++){if(y=o[g],S=y.instance,R=y.currentTarget,y=y.listener,S!==d&&c.isPropagationStopped())break e;d=y,c.currentTarget=R;try{d(c)}catch(U){Ho(U)}c.currentTarget=null,d=S}}}}function Me(t,i){var s=i[dt];s===void 0&&(s=i[dt]=new Set);var o=t+"__bubble";s.has(o)||(R_(i,t,2,!1),s.add(o))}function od(t,i,s){var o=0;i&&(o|=4),R_(s,t,o,i)}var eu="_reactListening"+Math.random().toString(36).slice(2);function ud(t){if(!t[eu]){t[eu]=!0,Cr.forEach(function(s){s!=="selectionchange"&&(I0.has(s)||od(s,!1,t),od(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[eu]||(i[eu]=!0,od("selectionchange",!1,i))}}function R_(t,i,s,o){switch($_(i)){case 2:var c=iw;break;case 8:c=rw;break;default:c=bd}s=c.bind(null,i,s,t),c=void 0,!Oc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(c=!0),o?c!==void 0?t.addEventListener(i,s,{capture:!0,passive:c}):t.addEventListener(i,s,!0):c!==void 0?t.addEventListener(i,s,{passive:c}):t.addEventListener(i,s,!1)}function cd(t,i,s,o,c){var d=o;if(!(i&1)&&!(i&2)&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var y=o.stateNode.containerInfo;if(y===c||y.nodeType===8&&y.parentNode===c)break;if(g===4)for(g=o.return;g!==null;){var S=g.tag;if((S===3||S===4)&&(S=g.stateNode.containerInfo,S===c||S.nodeType===8&&S.parentNode===c))return;g=g.return}for(;y!==null;){if(g=Mt(y),g===null)return;if(S=g.tag,S===5||S===6||S===26||S===27){o=d=g;continue e}y=y.parentNode}}o=o.return}jm(function(){var R=d,U=Nc(s),q=[];e:{var x=pp.get(t);if(x!==void 0){var k=_o,le=t;switch(t){case"keypress":if(po(s)===0)break e;case"keydown":case"keyup":k=wT;break;case"focusin":le="focus",k=Lc;break;case"focusout":le="blur",k=Lc;break;case"beforeblur":case"afterblur":k=Lc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Fm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=dT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=AT;break;case fp:case dp:case hp:k=pT;break;case mp:k=DT;break;case"scroll":case"scrollend":k=cT;break;case"wheel":k=IT;break;case"copy":case"cut":case"paste":k=_T;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Ym;break;case"toggle":case"beforetoggle":k=xT}var Ee=(i&4)!==0,ct=!Ee&&(t==="scroll"||t==="scrollend"),N=Ee?x!==null?x+"Capture":null:x;Ee=[];for(var C=R,M;C!==null;){var B=C;if(M=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||M===null||N===null||(B=bs(C,N),B!=null&&Ee.push(rl(C,B,M))),ct)break;C=C.return}0<Ee.length&&(x=new k(x,le,null,s,U),q.push({event:x,listeners:Ee}))}}if(!(i&7)){e:{if(x=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",x&&s!==Ac&&(le=s.relatedTarget||s.fromElement)&&(Mt(le)||le[Be]))break e;if((k||x)&&(x=U.window===U?U:(x=U.ownerDocument)?x.defaultView||x.parentWindow:window,k?(le=s.relatedTarget||s.toElement,k=R,le=le?Mt(le):null,le!==null&&(ct=X(le),Ee=le.tag,le!==ct||Ee!==5&&Ee!==27&&Ee!==6)&&(le=null)):(k=null,le=R),k!==le)){if(Ee=Fm,B="onMouseLeave",N="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Ym,B="onPointerLeave",N="onPointerEnter",C="pointer"),ct=k==null?x:li(k),M=le==null?x:li(le),x=new Ee(B,C+"leave",k,s,U),x.target=ct,x.relatedTarget=M,B=null,Mt(U)===R&&(Ee=new Ee(N,C+"enter",le,s,U),Ee.target=M,Ee.relatedTarget=ct,B=Ee),ct=B,k&&le)t:{for(Ee=k,N=le,C=0,M=Ee;M;M=Ya(M))C++;for(M=0,B=N;B;B=Ya(B))M++;for(;0<C-M;)Ee=Ya(Ee),C--;for(;0<M-C;)N=Ya(N),M--;for(;C--;){if(Ee===N||N!==null&&Ee===N.alternate)break t;Ee=Ya(Ee),N=Ya(N)}Ee=null}else Ee=null;k!==null&&A_(q,x,k,Ee,!1),le!==null&&ct!==null&&A_(q,ct,le,Ee,!0)}}e:{if(x=R?li(R):window,k=x.nodeName&&x.nodeName.toLowerCase(),k==="select"||k==="input"&&x.type==="file")var ie=ep;else if(Zm(x))if(tp)ie=VT;else{ie=jT;var Re=BT}else k=x.nodeName,!k||k.toLowerCase()!=="input"||x.type!=="checkbox"&&x.type!=="radio"?R&&Rc(R.elementType)&&(ie=ep):ie=qT;if(ie&&(ie=ie(t,R))){Jm(q,ie,s,U);break e}Re&&Re(t,x,R),t==="focusout"&&R&&x.type==="number"&&R.memoizedProps.value!=null&&Cc(x,"number",x.value)}switch(Re=R?li(R):window,t){case"focusin":(Zm(Re)||Re.contentEditable==="true")&&(wa=Re,Bc=R,Os=null);break;case"focusout":Os=Bc=wa=null;break;case"mousedown":jc=!0;break;case"contextmenu":case"mouseup":case"dragend":jc=!1,up(q,s,U);break;case"selectionchange":if(YT)break;case"keydown":case"keyup":up(q,s,U)}var ce;if(Uc)e:{switch(t){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else Ta?Xm(t,s)&&(he="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(he="onCompositionStart");he&&(Km&&s.locale!=="ko"&&(Ta||he!=="onCompositionStart"?he==="onCompositionEnd"&&Ta&&(ce=qm()):(Bi=U,Ic="value"in Bi?Bi.value:Bi.textContent,Ta=!0)),Re=tu(R,he),0<Re.length&&(he=new Gm(he,t,null,s,U),q.push({event:he,listeners:Re}),ce?he.data=ce:(ce=Wm(s),ce!==null&&(he.data=ce)))),(ce=kT?UT(t,s):PT(t,s))&&(he=tu(R,"onBeforeInput"),0<he.length&&(Re=new Gm("onBeforeInput","beforeinput",null,s,U),q.push({event:Re,listeners:he}),Re.data=ce)),N0(q,t,R,s,U)}C_(q,i)})}function rl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function tu(t,i){for(var s=i+"Capture",o=[];t!==null;){var c=t,d=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=bs(t,s),c!=null&&o.unshift(rl(t,c,d)),c=bs(t,i),c!=null&&o.push(rl(t,c,d))),t=t.return}return o}function Ya(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function A_(t,i,s,o,c){for(var d=i._reactName,g=[];s!==null&&s!==o;){var y=s,S=y.alternate,R=y.stateNode;if(y=y.tag,S!==null&&S===o)break;y!==5&&y!==26&&y!==27||R===null||(S=R,c?(R=bs(s,d),R!=null&&g.unshift(rl(s,R,S))):c||(R=bs(s,d),R!=null&&g.push(rl(s,R,S)))),s=s.return}g.length!==0&&t.push({event:i,listeners:g})}var M0=/\r\n?/g,x0=/\u0000|\uFFFD/g;function N_(t){return(typeof t=="string"?t:""+t).replace(M0,`
`).replace(x0,"")}function D_(t,i){return i=N_(i),N_(t)===i}function nu(){}function Ve(t,i,s,o,c,d){switch(s){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Ea(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Ea(t,""+o);break;case"className":uo(t,"class",o);break;case"tabIndex":uo(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":uo(t,s,o);break;case"style":Hm(t,o,d);break;case"data":if(i!=="object"){uo(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ho(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&Ve(t,i,"name",c.name,c,null),Ve(t,i,"formEncType",c.formEncType,c,null),Ve(t,i,"formMethod",c.formMethod,c,null),Ve(t,i,"formTarget",c.formTarget,c,null)):(Ve(t,i,"encType",c.encType,c,null),Ve(t,i,"method",c.method,c,null),Ve(t,i,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ho(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=nu);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=ho(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Me("beforetoggle",t),Me("toggle",t),ya(t,"popover",o);break;case"xlinkActuate":ui(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ui(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ui(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ui(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ui(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ui(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ui(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ui(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ui(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ya(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=oT.get(s)||s,ya(t,s,o))}}function fd(t,i,s,o,c,d){switch(s){case"style":Hm(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?Ea(t,o):(typeof o=="number"||typeof o=="bigint")&&Ea(t,""+o);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"onClick":o!=null&&(t.onclick=nu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),i=s.slice(2,c?s.length-7:void 0),d=t[de]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,c),typeof o=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,o,c);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):ya(t,s,o)}}}function Ut(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var o=!1,c=!1,d;for(d in s)if(s.hasOwnProperty(d)){var g=s[d];if(g!=null)switch(d){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ve(t,i,d,g,s,null)}}c&&Ve(t,i,"srcSet",s.srcSet,s,null),o&&Ve(t,i,"src",s.src,s,null);return;case"input":Me("invalid",t);var y=d=g=c=null,S=null,R=null;for(o in s)if(s.hasOwnProperty(o)){var U=s[o];if(U!=null)switch(o){case"name":c=U;break;case"type":g=U;break;case"checked":S=U;break;case"defaultChecked":R=U;break;case"value":d=U;break;case"defaultValue":y=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(137,i));break;default:Ve(t,i,o,U,s,null)}}km(t,d,y,S,R,g,c,!1),co(t);return;case"select":Me("invalid",t),o=g=d=null;for(c in s)if(s.hasOwnProperty(c)&&(y=s[c],y!=null))switch(c){case"value":d=y;break;case"defaultValue":g=y;break;case"multiple":o=y;default:Ve(t,i,c,y,s,null)}i=d,s=g,t.multiple=!!o,i!=null?va(t,!!o,i,!1):s!=null&&va(t,!!o,s,!0);return;case"textarea":Me("invalid",t),d=c=o=null;for(g in s)if(s.hasOwnProperty(g)&&(y=s[g],y!=null))switch(g){case"value":o=y;break;case"defaultValue":c=y;break;case"children":d=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:Ve(t,i,g,y,s,null)}Pm(t,o,c,d),co(t);return;case"option":for(S in s)if(s.hasOwnProperty(S)&&(o=s[S],o!=null))switch(S){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ve(t,i,S,o,s,null)}return;case"dialog":Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(o=0;o<il.length;o++)Me(il[o],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in s)if(s.hasOwnProperty(R)&&(o=s[R],o!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ve(t,i,R,o,s,null)}return;default:if(Rc(i)){for(U in s)s.hasOwnProperty(U)&&(o=s[U],o!==void 0&&fd(t,i,U,o,s,void 0));return}}for(y in s)s.hasOwnProperty(y)&&(o=s[y],o!=null&&Ve(t,i,y,o,s,null))}function L0(t,i,s,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,g=null,y=null,S=null,R=null,U=null;for(k in s){var q=s[k];if(s.hasOwnProperty(k)&&q!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":S=q;default:o.hasOwnProperty(k)||Ve(t,i,k,null,o,q)}}for(var x in o){var k=o[x];if(q=s[x],o.hasOwnProperty(x)&&(k!=null||q!=null))switch(x){case"type":d=k;break;case"name":c=k;break;case"checked":R=k;break;case"defaultChecked":U=k;break;case"value":g=k;break;case"defaultValue":y=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,i));break;default:k!==q&&Ve(t,i,x,k,o,q)}}wc(t,g,y,S,R,U,d,c);return;case"select":k=g=y=x=null;for(d in s)if(S=s[d],s.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":k=S;default:o.hasOwnProperty(d)||Ve(t,i,d,null,o,S)}for(c in o)if(d=o[c],S=s[c],o.hasOwnProperty(c)&&(d!=null||S!=null))switch(c){case"value":x=d;break;case"defaultValue":y=d;break;case"multiple":g=d;default:d!==S&&Ve(t,i,c,d,o,S)}i=y,s=g,o=k,x!=null?va(t,!!s,x,!1):!!o!=!!s&&(i!=null?va(t,!!s,i,!0):va(t,!!s,s?[]:"",!1));return;case"textarea":k=x=null;for(y in s)if(c=s[y],s.hasOwnProperty(y)&&c!=null&&!o.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ve(t,i,y,null,o,c)}for(g in o)if(c=o[g],d=s[g],o.hasOwnProperty(g)&&(c!=null||d!=null))switch(g){case"value":x=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==d&&Ve(t,i,g,c,o,d)}Um(t,x,k);return;case"option":for(var le in s)if(x=s[le],s.hasOwnProperty(le)&&x!=null&&!o.hasOwnProperty(le))switch(le){case"selected":t.selected=!1;break;default:Ve(t,i,le,null,o,x)}for(S in o)if(x=o[S],k=s[S],o.hasOwnProperty(S)&&x!==k&&(x!=null||k!=null))switch(S){case"selected":t.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Ve(t,i,S,x,o,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in s)x=s[Ee],s.hasOwnProperty(Ee)&&x!=null&&!o.hasOwnProperty(Ee)&&Ve(t,i,Ee,null,o,x);for(R in o)if(x=o[R],k=s[R],o.hasOwnProperty(R)&&x!==k&&(x!=null||k!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(137,i));break;default:Ve(t,i,R,x,o,k)}return;default:if(Rc(i)){for(var ct in s)x=s[ct],s.hasOwnProperty(ct)&&x!==void 0&&!o.hasOwnProperty(ct)&&fd(t,i,ct,void 0,o,x);for(U in o)x=o[U],k=s[U],!o.hasOwnProperty(U)||x===k||x===void 0&&k===void 0||fd(t,i,U,x,o,k);return}}for(var N in s)x=s[N],s.hasOwnProperty(N)&&x!=null&&!o.hasOwnProperty(N)&&Ve(t,i,N,null,o,x);for(q in o)x=o[q],k=s[q],!o.hasOwnProperty(q)||x===k||x==null&&k==null||Ve(t,i,q,x,o,k)}var dd=null,hd=null;function iu(t){return t.nodeType===9?t:t.ownerDocument}function O_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function md(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var pd=null;function k0(){var t=window.event;return t&&t.type==="popstate"?t===pd?!1:(pd=t,!0):(pd=null,!1)}var M_=typeof setTimeout=="function"?setTimeout:void 0,U0=typeof clearTimeout=="function"?clearTimeout:void 0,x_=typeof Promise=="function"?Promise:void 0,P0=typeof queueMicrotask=="function"?queueMicrotask:typeof x_<"u"?function(t){return x_.resolve(null).then(t).catch(z0)}:M_;function z0(t){setTimeout(function(){throw t})}function gd(t,i){var s=i,o=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(o===0){t.removeChild(c),dl(i);return}o--}else s!=="$"&&s!=="$?"&&s!=="$!"||o++;s=c}while(s);dl(i)}function _d(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":_d(s),si(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function H0(t,i,s,o){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[fn])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function B0(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Mn(t.nextSibling),t===null))return null;return t}function Mn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function L_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function k_(t,i,s){switch(i=iu(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var wn=new Map,U_=new Set;function ru(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var wi=Z.d;Z.d={f:j0,r:q0,D:V0,C:F0,L:G0,m:Y0,X:Q0,S:K0,M:$0};function j0(){var t=wi.f(),i=Xo();return t||i}function q0(t){var i=xt(t);i!==null&&i.tag===5&&i.type==="form"?ug(i):wi.r(t)}var Ka=typeof document>"u"?null:document;function P_(t,i,s){var o=Ka;if(o&&typeof i=="string"&&i){var c=mn(i);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),U_.has(c)||(U_.add(c),t={rel:t,crossOrigin:s,href:i},o.querySelector(c)===null&&(i=o.createElement("link"),Ut(i,"link",t),Qe(i),o.head.appendChild(i)))}}function V0(t){wi.D(t),P_("dns-prefetch",t,null)}function F0(t,i){wi.C(t,i),P_("preconnect",t,i)}function G0(t,i,s){wi.L(t,i,s);var o=Ka;if(o&&t&&i){var c='link[rel="preload"][as="'+mn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+mn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+mn(s.imageSizes)+'"]')):c+='[href="'+mn(t)+'"]';var d=c;switch(i){case"style":d=Qa(t);break;case"script":d=$a(t)}wn.has(d)||(t=oe({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),wn.set(d,t),o.querySelector(c)!==null||i==="style"&&o.querySelector(al(d))||i==="script"&&o.querySelector(sl(d))||(i=o.createElement("link"),Ut(i,"link",t),Qe(i),o.head.appendChild(i)))}}function Y0(t,i){wi.m(t,i);var s=Ka;if(s&&t){var o=i&&typeof i.as=="string"?i.as:"script",c='link[rel="modulepreload"][as="'+mn(o)+'"][href="'+mn(t)+'"]',d=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=$a(t)}if(!wn.has(d)&&(t=oe({rel:"modulepreload",href:t},i),wn.set(d,t),s.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(sl(d)))return}o=s.createElement("link"),Ut(o,"link",t),Qe(o),s.head.appendChild(o)}}}function K0(t,i,s){wi.S(t,i,s);var o=Ka;if(o&&t){var c=dn(o).hoistableStyles,d=Qa(t);i=i||"default";var g=c.get(d);if(!g){var y={loading:0,preload:null};if(g=o.querySelector(al(d)))y.loading=5;else{t=oe({rel:"stylesheet",href:t,"data-precedence":i},s),(s=wn.get(d))&&yd(t,s);var S=g=o.createElement("link");Qe(S),Ut(S,"link",t),S._p=new Promise(function(R,U){S.onload=R,S.onerror=U}),S.addEventListener("load",function(){y.loading|=1}),S.addEventListener("error",function(){y.loading|=2}),y.loading|=4,au(g,i,o)}g={type:"stylesheet",instance:g,count:1,state:y},c.set(d,g)}}}function Q0(t,i){wi.X(t,i);var s=Ka;if(s&&t){var o=dn(s).hoistableScripts,c=$a(t),d=o.get(c);d||(d=s.querySelector(sl(c)),d||(t=oe({src:t,async:!0},i),(i=wn.get(c))&&vd(t,i),d=s.createElement("script"),Qe(d),Ut(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function $0(t,i){wi.M(t,i);var s=Ka;if(s&&t){var o=dn(s).hoistableScripts,c=$a(t),d=o.get(c);d||(d=s.querySelector(sl(c)),d||(t=oe({src:t,async:!0,type:"module"},i),(i=wn.get(c))&&vd(t,i),d=s.createElement("script"),Qe(d),Ut(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function z_(t,i,s,o){var c=(c=jn.current)?ru(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Qa(s.href),s=dn(c).hoistableStyles,o=s.get(i),o||(o={type:"style",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Qa(s.href);var d=dn(c).hoistableStyles,g=d.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,g),(d=c.querySelector(al(t)))&&!d._p&&(g.instance=d,g.state.loading=5),wn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},wn.set(t,s),d||X0(c,t,s,g.state))),i&&o===null)throw Error(a(528,""));return g}if(i&&o!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=$a(s),s=dn(c).hoistableScripts,o=s.get(i),o||(o={type:"script",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Qa(t){return'href="'+mn(t)+'"'}function al(t){return'link[rel="stylesheet"]['+t+"]"}function H_(t){return oe({},t,{"data-precedence":t.precedence,precedence:null})}function X0(t,i,s,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ut(i,"link",s),Qe(i),t.head.appendChild(i))}function $a(t){return'[src="'+mn(t)+'"]'}function sl(t){return"script[async]"+t}function B_(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+mn(s.href)+'"]');if(o)return i.instance=o,Qe(o),o;var c=oe({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Qe(o),Ut(o,"style",c),au(o,s.precedence,t),i.instance=o;case"stylesheet":c=Qa(s.href);var d=t.querySelector(al(c));if(d)return i.state.loading|=4,i.instance=d,Qe(d),d;o=H_(s),(c=wn.get(c))&&yd(o,c),d=(t.ownerDocument||t).createElement("link"),Qe(d);var g=d;return g._p=new Promise(function(y,S){g.onload=y,g.onerror=S}),Ut(d,"link",o),i.state.loading|=4,au(d,s.precedence,t),i.instance=d;case"script":return d=$a(s.src),(c=t.querySelector(sl(d)))?(i.instance=c,Qe(c),c):(o=s,(c=wn.get(d))&&(o=oe({},s),vd(o,c)),t=t.ownerDocument||t,c=t.createElement("script"),Qe(c),Ut(c,"link",o),t.head.appendChild(c),i.instance=c);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(o=i.instance,i.state.loading|=4,au(o,s.precedence,t));return i.instance}function au(t,i,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,d=c,g=0;g<o.length;g++){var y=o[g];if(y.dataset.precedence===i)d=y;else if(d!==c)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function yd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function vd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var su=null;function j_(t,i,s){if(su===null){var o=new Map,c=su=new Map;c.set(s,o)}else c=su,o=c.get(s),o||(o=new Map,c.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var d=s[c];if(!(d[fn]||d[se]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(i)||"";g=t+g;var y=o.get(g);y?y.push(d):o.set(g,[d])}}return o}function q_(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function W0(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function V_(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var ll=null;function Z0(){}function J0(t,i,s){if(ll===null)throw Error(a(475));var o=ll;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var c=Qa(s.href),d=t.querySelector(al(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=lu.bind(o),t.then(o,o)),i.state.loading|=4,i.instance=d,Qe(d);return}d=t.ownerDocument||t,s=H_(s),(c=wn.get(c))&&yd(s,c),d=d.createElement("link"),Qe(d);var g=d;g._p=new Promise(function(y,S){g.onload=y,g.onerror=S}),Ut(d,"link",s),i.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,t),(t=i.state.preload)&&!(i.state.loading&3)&&(o.count++,i=lu.bind(o),t.addEventListener("load",i),t.addEventListener("error",i))}}function ew(){if(ll===null)throw Error(a(475));var t=ll;return t.stylesheets&&t.count===0&&Ed(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&Ed(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function lu(){if(this.count--,this.count===0){if(this.stylesheets)Ed(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ou=null;function Ed(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ou=new Map,i.forEach(tw,t),ou=null,lu.call(t))}function tw(t,i){if(!(i.state.loading&4)){var s=ou.get(t);if(s)var o=s.get(null);else{s=new Map,ou.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var g=c[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}c=i.instance,g=c.getAttribute("data-precedence"),d=s.get(g)||o,d===o&&s.set(null,c),s.set(g,c),this.count++,o=lu.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),d?d.parentNode.insertBefore(c,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),i.state.loading|=4}}var ol={$$typeof:b,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function nw(t,i,s,o,c,d,g,y){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=D(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=D(0),this.hiddenUpdates=D(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function F_(t,i,s,o,c,d,g,y,S,R,U,q){return t=new nw(t,i,s,g,y,S,R,q),i=1,d===!0&&(i|=24),d=bn(3,null,null,i),t.current=d,d.stateNode=t,i=Wc(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:i},Mf(d),t}function G_(t){return t?(t=Aa,t):Aa}function Y_(t,i,s,o,c,d){c=G_(c),o.context===null?o.context=c:o.pendingContext=c,o=Qi(i),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=$i(t,o,i),s!==null&&(Vt(s,t,i),Gs(s,t,i))}function K_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Sd(t,i){K_(t,i),(t=t.alternate)&&K_(t,i)}function Q_(t){if(t.tag===13){var i=ji(t,67108864);i!==null&&Vt(i,t,67108864),Sd(t,67108864)}}var uu=!0;function iw(t,i,s,o){var c=F.T;F.T=null;var d=Z.p;try{Z.p=2,bd(t,i,s,o)}finally{Z.p=d,F.T=c}}function rw(t,i,s,o){var c=F.T;F.T=null;var d=Z.p;try{Z.p=8,bd(t,i,s,o)}finally{Z.p=d,F.T=c}}function bd(t,i,s,o){if(uu){var c=Td(o);if(c===null)cd(t,i,o,cu,s),X_(t,o);else if(sw(c,t,i,s,o))o.stopPropagation();else if(X_(t,o),i&4&&-1<aw.indexOf(t)){for(;c!==null;){var d=xt(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=Vn(d.pendingLanes);if(g!==0){var y=d;for(y.pendingLanes|=2,y.entangledLanes|=2;g;){var S=1<<31-bt(g);y.entanglements[1]|=S,g&=~S}$n(d),!(rt&6)&&(Ko=en()+500,nl(0))}}break;case 13:y=ji(d,2),y!==null&&Vt(y,d,2),Xo(),Sd(d,2)}if(d=Td(o),d===null&&cd(t,i,o,cu,s),d===c)break;c=d}c!==null&&o.stopPropagation()}else cd(t,i,o,null,s)}}function Td(t){return t=Nc(t),wd(t)}var cu=null;function wd(t){if(cu=null,t=Mt(t),t!==null){var i=X(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=Ne(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return cu=t,null}function $_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vs()){case An:return 2;case cn:return 8;case Tr:case Es:return 32;case ro:return 268435456;default:return 32}default:return 32}}var Cd=!1,nr=null,ir=null,rr=null,ul=new Map,cl=new Map,ar=[],aw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function X_(t,i){switch(t){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":ul.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(i.pointerId)}}function fl(t,i,s,o,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[c]},i!==null&&(i=xt(i),i!==null&&Q_(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,c!==null&&i.indexOf(c)===-1&&i.push(c),t)}function sw(t,i,s,o,c){switch(i){case"focusin":return nr=fl(nr,t,i,s,o,c),!0;case"dragenter":return ir=fl(ir,t,i,s,o,c),!0;case"mouseover":return rr=fl(rr,t,i,s,o,c),!0;case"pointerover":var d=c.pointerId;return ul.set(d,fl(ul.get(d)||null,t,i,s,o,c)),!0;case"gotpointercapture":return d=c.pointerId,cl.set(d,fl(cl.get(d)||null,t,i,s,o,c)),!0}return!1}function W_(t){var i=Mt(t.target);if(i!==null){var s=X(i);if(s!==null){if(i=s.tag,i===13){if(i=Ne(s),i!==null){t.blockedOn=i,ae(t.priority,function(){if(s.tag===13){var o=sn(),c=ji(s,o);c!==null&&Vt(c,s,o),Sd(s,o)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Td(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Ac=o,s.target.dispatchEvent(o),Ac=null}else return i=xt(s),i!==null&&Q_(i),t.blockedOn=s,!1;i.shift()}return!0}function Z_(t,i,s){fu(t)&&s.delete(i)}function lw(){Cd=!1,nr!==null&&fu(nr)&&(nr=null),ir!==null&&fu(ir)&&(ir=null),rr!==null&&fu(rr)&&(rr=null),ul.forEach(Z_),cl.forEach(Z_)}function du(t,i){t.blockedOn===i&&(t.blockedOn=null,Cd||(Cd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,lw)))}var hu=null;function J_(t){hu!==t&&(hu=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){hu===t&&(hu=null);for(var i=0;i<t.length;i+=3){var s=t[i],o=t[i+1],c=t[i+2];if(typeof o!="function"){if(wd(o||s)===null)continue;break}var d=xt(s);d!==null&&(t.splice(i,3),i-=3,mf(d,{pending:!0,data:c,method:s.method,action:o},o,c))}}))}function dl(t){function i(S){return du(S,t)}nr!==null&&du(nr,t),ir!==null&&du(ir,t),rr!==null&&du(rr,t),ul.forEach(i),cl.forEach(i);for(var s=0;s<ar.length;s++){var o=ar[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ar.length&&(s=ar[0],s.blockedOn===null);)W_(s),s.blockedOn===null&&ar.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var c=s[o],d=s[o+1],g=c[de]||null;if(typeof d=="function")g||J_(s);else if(g){var y=null;if(d&&d.hasAttribute("formAction")){if(c=d,g=d[de]||null)y=g.formAction;else if(wd(c)!==null)continue}else y=g.action;typeof y=="function"?s[o+1]=y:(s.splice(o,3),o-=3),J_(s)}}}function Rd(t){this._internalRoot=t}mu.prototype.render=Rd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,o=sn();Y_(s,o,t,i,null,null)},mu.prototype.unmount=Rd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&Fa(),Y_(t.current,2,null,t,null,null),Xo(),i[Be]=null}};function mu(t){this._internalRoot=t}mu.prototype.unstable_scheduleHydration=function(t){if(t){var i=ne();t={blockedOn:null,target:t,priority:i};for(var s=0;s<ar.length&&i!==0&&i<ar[s].priority;s++);ar.splice(s,0,t),s===0&&W_(t)}};var ey=e.version;if(ey!=="19.0.0")throw Error(a(527,ey,"19.0.0"));Z.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=j(i),t=t!==null?re(t):null,t=t===null?null:t.stateNode,t};var ow={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:F,findFiberByHostInstance:Mt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pu.isDisabled&&pu.supportsFiber)try{Hi=pu.inject(ow),zt=pu}catch{}}return ml.createRoot=function(t,i){if(!l(t))throw Error(a(299));var s=!1,o="",c=_g,d=yg,g=vg,y=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(g=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(y=i.unstable_transitionCallbacks)),i=F_(t,1,!1,null,null,s,o,c,d,g,y,null),t[Be]=i.current,ud(t.nodeType===8?t.parentNode:t),new Rd(i)},ml.hydrateRoot=function(t,i,s){if(!l(t))throw Error(a(299));var o=!1,c="",d=_g,g=yg,y=vg,S=null,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(y=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks),s.formState!==void 0&&(R=s.formState)),i=F_(t,1,!0,i,s??null,o,c,d,g,y,S,R),i.context=G_(null),s=i.current,o=sn(),c=Qi(o),c.callback=null,$i(s,c,o),i.current.lanes=o,L(i,o),$n(i),t[Be]=i.current,ud(t),new mu(i)},ml.version="19.0.0",ml}var cy;function yw(){if(cy)return Dd.exports;cy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Dd.exports=_w(),Dd.exports}var vw=yw();const Ew=$v(vw);var pl={},fy;function Sw(){if(fy)return pl;fy=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.parse=f,pl.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function f(E,b){const A=new u,H=E.length;if(H<2)return A;const P=(b==null?void 0:b.decode)||_;let z=0;do{const G=E.indexOf("=",z);if(G===-1)break;const J=E.indexOf(";",z),fe=J===-1?H:J;if(G>fe){z=E.lastIndexOf(";",G-1)+1;continue}const W=h(E,z,G),I=m(E,G,W),ye=E.slice(W,I);if(A[ye]===void 0){let Se=h(E,G+1,fe),F=m(E,fe,Se);const oe=P(E.slice(Se,F));A[ye]=oe}z=fe+1}while(z<H);return A}function h(E,b,A){do{const H=E.charCodeAt(b);if(H!==32&&H!==9)return b}while(++b<A);return A}function m(E,b,A){for(;b>A;){const H=E.charCodeAt(--b);if(H!==32&&H!==9)return b+1}return A}function p(E,b,A){const H=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const P=H(b);if(!e.test(P))throw new TypeError(`argument val is invalid: ${b}`);let z=E+"="+P;if(!A)return z;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);z+="; Max-Age="+A.maxAge}if(A.domain){if(!r.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);z+="; Domain="+A.domain}if(A.path){if(!a.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);z+="; Path="+A.path}if(A.expires){if(!v(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);z+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(z+="; HttpOnly"),A.secure&&(z+="; Secure"),A.partitioned&&(z+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return z}function _(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return l.call(E)==="[object Date]"}return pl}Sw();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dy="popstate";function bw(n={}){function e(a,l){let{pathname:u,search:f,hash:h}=a.location;return Il("",{pathname:u,search:f,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(a,l){return typeof l=="string"?l:_r(l)}return ww(e,r,null,n)}function xe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Pt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tw(){return Math.random().toString(36).substring(2,10)}function hy(n,e){return{usr:n.state,key:n.key,idx:e}}function Il(n,e,r=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Sr(e):e,state:r,key:e&&e.key||a||Tw()}}function _r({pathname:n="/",search:e="",hash:r=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function Sr(n){let e={};if(n){let r=n.indexOf("#");r>=0&&(e.hash=n.substring(r),n=n.substring(0,r));let a=n.indexOf("?");a>=0&&(e.search=n.substring(a),n=n.substring(0,a)),n&&(e.pathname=n)}return e}function ww(n,e,r,a={}){let{window:l=document.defaultView,v5Compat:u=!1}=a,f=l.history,h="POP",m=null,p=_();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function _(){return(f.state||{idx:null}).idx}function v(){h="POP";let P=_(),z=P==null?null:P-p;p=P,m&&m({action:h,location:H.location,delta:z})}function E(P,z){h="PUSH";let G=Il(H.location,P,z);p=_()+1;let J=hy(G,p),fe=H.createHref(G);try{f.pushState(J,"",fe)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;l.location.assign(fe)}u&&m&&m({action:h,location:H.location,delta:1})}function b(P,z){h="REPLACE";let G=Il(H.location,P,z);p=_();let J=hy(G,p),fe=H.createHref(G);f.replaceState(J,"",fe),u&&m&&m({action:h,location:H.location,delta:0})}function A(P){let z=l.location.origin!=="null"?l.location.origin:l.location.href,G=typeof P=="string"?P:_r(P);return G=G.replace(/ $/,"%20"),xe(z,`No window.location.(origin|href) available to create URL for href: ${G}`),new URL(G,z)}let H={get action(){return h},get location(){return n(l,f)},listen(P){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(dy,v),m=P,()=>{l.removeEventListener(dy,v),m=null}},createHref(P){return e(l,P)},createURL:A,encodeLocation(P){let z=A(P);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:E,replace:b,go(P){return f.go(P)}};return H}var Cw=new Set(["lazy","caseSensitive","path","id","index","children"]);function Rw(n){return n.index===!0}function Du(n,e,r=[],a={}){return n.map((l,u)=>{let f=[...r,String(u)],h=typeof l.id=="string"?l.id:f.join("-");if(xe(l.index!==!0||!l.children,"Cannot specify children on an index route"),xe(!a[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),Rw(l)){let m={...l,...e(l),id:h};return a[h]=m,m}else{let m={...l,...e(l),id:h,children:void 0};return a[h]=m,l.children&&(m.children=Du(l.children,e,f,a)),m}})}function ur(n,e,r="/"){return Su(n,e,r,!1)}function Su(n,e,r,a){let l=typeof e=="string"?Sr(e):e,u=Hn(l.pathname||"/",r);if(u==null)return null;let f=Wv(n);Nw(f);let h=null;for(let m=0;h==null&&m<f.length;++m){let p=Hw(u);h=Pw(f[m],p,a)}return h}function Aw(n,e){let{route:r,pathname:a,params:l}=n;return{id:r.id,pathname:a,params:l,data:e[r.id],handle:r.handle}}function Wv(n,e=[],r=[],a=""){let l=(u,f,h)=>{let m={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(xe(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length));let p=Xn([a,m.relativePath]),_=r.concat(m);u.children&&u.children.length>0&&(xe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Wv(u.children,e,_,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:kw(p,u.index),routesMeta:_})};return n.forEach((u,f)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))l(u,f);else for(let m of Zv(u.path))l(u,f,m)}),e}function Zv(n){let e=n.split("/");if(e.length===0)return[];let[r,...a]=e,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(a.length===0)return l?[u,""]:[u];let f=Zv(a.join("/")),h=[];return h.push(...f.map(m=>m===""?u:[u,m].join("/"))),l&&h.push(...f),h.map(m=>n.startsWith("/")&&m===""?"/":m)}function Nw(n){n.sort((e,r)=>e.score!==r.score?r.score-e.score:Uw(e.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var Dw=/^:[\w-]+$/,Ow=3,Iw=2,Mw=1,xw=10,Lw=-2,my=n=>n==="*";function kw(n,e){let r=n.split("/"),a=r.length;return r.some(my)&&(a+=Lw),e&&(a+=Iw),r.filter(l=>!my(l)).reduce((l,u)=>l+(Dw.test(u)?Ow:u===""?Mw:xw),a)}function Uw(n,e){return n.length===e.length&&n.slice(0,-1).every((a,l)=>a===e[l])?n[n.length-1]-e[e.length-1]:0}function Pw(n,e,r=!1){let{routesMeta:a}=n,l={},u="/",f=[];for(let h=0;h<a.length;++h){let m=a[h],p=h===a.length-1,_=u==="/"?e:e.slice(u.length)||"/",v=Ou({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},_),E=m.route;if(!v&&p&&r&&!a[a.length-1].route.index&&(v=Ou({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!v)return null;Object.assign(l,v.params),f.push({params:l,pathname:Xn([u,v.pathname]),pathnameBase:qw(Xn([u,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(u=Xn([u,v.pathnameBase]))}return f}function Ou(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,a]=zw(n.path,n.caseSensitive,n.end),l=e.match(r);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:a.reduce((p,{paramName:_,isOptional:v},E)=>{if(_==="*"){let A=h[E]||"";f=u.slice(0,u.length-A.length).replace(/(.)\/+$/,"$1")}const b=h[E];return v&&!b?p[_]=void 0:p[_]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:n}}function zw(n,e=!1,r=!0){Pt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,m)=>(a.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(a.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function Hw(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Hn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,a=n.charAt(r);return a&&a!=="/"?null:n.slice(r)||"/"}function Bw(n,e="/"){let{pathname:r,search:a="",hash:l=""}=typeof n=="string"?Sr(n):n;return{pathname:r?r.startsWith("/")?r:jw(r,e):e,search:Vw(a),hash:Fw(l)}}function jw(n,e){let r=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function xd(n,e,r,a){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Jv(n){return n.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function wh(n){let e=Jv(n);return e.map((r,a)=>a===e.length-1?r.pathname:r.pathnameBase)}function Ch(n,e,r,a=!1){let l;typeof n=="string"?l=Sr(n):(l={...n},xe(!l.pathname||!l.pathname.includes("?"),xd("?","pathname","search",l)),xe(!l.pathname||!l.pathname.includes("#"),xd("#","pathname","hash",l)),xe(!l.search||!l.search.includes("#"),xd("#","search","hash",l)));let u=n===""||l.pathname==="",f=u?"/":l.pathname,h;if(f==null)h=r;else{let v=e.length-1;if(!a&&f.startsWith("..")){let E=f.split("/");for(;E[0]==="..";)E.shift(),v-=1;l.pathname=E.join("/")}h=v>=0?e[v]:"/"}let m=Bw(l,h),p=f&&f!=="/"&&f.endsWith("/"),_=(u||f===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(p||_)&&(m.pathname+="/"),m}var Xn=n=>n.join("/").replace(/\/\/+/g,"/"),qw=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Vw=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Fw=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Iu=class{constructor(n,e,r,a=!1){this.status=n,this.statusText=e||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Ml(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var eE=["POST","PUT","PATCH","DELETE"],Gw=new Set(eE),Yw=["GET",...eE],Kw=new Set(Yw),Qw=new Set([301,302,303,307,308]),$w=new Set([307,308]),Ld={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Xw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},gl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Rh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ww=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),tE="remix-router-transitions",nE=Symbol("ResetLoaderData");function Zw(n){const e=n.window?n.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";xe(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=n.mapRouteProperties||Ww,l={},u=Du(n.routes,a,void 0,l),f,h=n.basename||"/",m=n.dataStrategy||iC,p=n.patchRoutesOnNavigation,_={...n.future},v=null,E=new Set,b=null,A=null,H=null,P=n.hydrationData!=null,z=ur(u,n.history.location,h),G=!1,J=null;if(z==null&&!p){let w=Cn(404,{pathname:n.history.location.pathname}),{matches:D,route:L}=Cy(u);z=D,J={[L.id]:w}}z&&!n.hydrationData&&ai(z,u,n.history.location.pathname).active&&(z=null);let fe;if(z)if(z.some(w=>w.route.lazy))fe=!1;else if(!z.some(w=>w.route.loader))fe=!0;else{let w=n.hydrationData?n.hydrationData.loaderData:null,D=n.hydrationData?n.hydrationData.errors:null;if(D){let L=z.findIndex(V=>D[V.route.id]!==void 0);fe=z.slice(0,L+1).every(V=>!th(V.route,w,D))}else fe=z.every(L=>!th(L.route,w,D))}else{fe=!1,z=[];let w=ai(null,u,n.history.location.pathname);w.active&&w.matches&&(G=!0,z=w.matches)}let W,I={historyAction:n.history.action,location:n.history.location,matches:z,initialized:fe,navigation:Ld,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||J,fetchers:new Map,blockers:new Map},ye="POP",Se=!1,F,oe=!1,je=new Map,_t=null,Dt=!1,at=!1,et=new Set,Y=new Map,me=0,X=-1,Ne=new Map,T=new Set,j=new Map,re=new Map,te=new Set,Z=new Map,be,pe=null;function Ot(){if(v=n.history.listen(({action:w,location:D,delta:L})=>{if(be){be(),be=void 0;return}Pt(Z.size===0||L!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let V=so({currentLocation:I.location,nextLocation:D,historyAction:w});if(V&&L!=null){let ee=new Promise(ue=>{be=ue});n.history.go(L*-1),bt(V,{state:"blocked",location:D,proceed(){bt(V,{state:"proceeding",proceed:void 0,reset:void 0,location:D}),ee.then(()=>n.history.go(L))},reset(){let ue=new Map(I.blockers);ue.set(V,gl),we({blockers:ue})}});return}return un(w,D)}),r){mC(e,je);let w=()=>pC(e,je);e.addEventListener("pagehide",w),_t=()=>e.removeEventListener("pagehide",w)}return I.initialized||un("POP",I.location,{initialHydration:!0}),W}function Ue(){v&&v(),_t&&_t(),E.clear(),F&&F.abort(),I.fetchers.forEach((w,D)=>Es(D)),I.blockers.forEach((w,D)=>Nn(D))}function st(w){return E.add(w),()=>E.delete(w)}function we(w,D={}){I={...I,...w};let L=[],V=[];I.fetchers.forEach((ee,ue)=>{ee.state==="idle"&&(te.has(ue)?L.push(ue):V.push(ue))}),te.forEach(ee=>{!I.fetchers.has(ee)&&!Y.has(ee)&&L.push(ee)}),[...E].forEach(ee=>ee(I,{deletedFetchers:L,viewTransitionOpts:D.viewTransitionOpts,flushSync:D.flushSync===!0})),L.forEach(ee=>Es(ee)),V.forEach(ee=>I.fetchers.delete(ee))}function It(w,D,{flushSync:L}={}){var $,se;let V=I.actionData!=null&&I.navigation.formMethod!=null&&xn(I.navigation.formMethod)&&I.navigation.state==="loading"&&(($=w.state)==null?void 0:$._isRedirect)!==!0,ee;D.actionData?Object.keys(D.actionData).length>0?ee=D.actionData:ee=null:V?ee=I.actionData:ee=null;let ue=D.loaderData?Ty(I.loaderData,D.loaderData,D.matches||[],D.errors):I.loaderData,_e=I.blockers;_e.size>0&&(_e=new Map(_e),_e.forEach((de,Be)=>_e.set(Be,gl)));let ne=Se===!0||I.navigation.formMethod!=null&&xn(I.navigation.formMethod)&&((se=w.state)==null?void 0:se._isRedirect)!==!0;f&&(u=f,f=void 0),Dt||ye==="POP"||(ye==="PUSH"?n.history.push(w,w.state):ye==="REPLACE"&&n.history.replace(w,w.state));let ae;if(ye==="POP"){let de=je.get(I.location.pathname);de&&de.has(w.pathname)?ae={currentLocation:I.location,nextLocation:w}:je.has(w.pathname)&&(ae={currentLocation:w,nextLocation:I.location})}else if(oe){let de=je.get(I.location.pathname);de?de.add(w.pathname):(de=new Set([w.pathname]),je.set(I.location.pathname,de)),ae={currentLocation:I.location,nextLocation:w}}we({...D,actionData:ee,loaderData:ue,historyAction:ye,location:w,initialized:!0,navigation:Ld,revalidation:"idle",restoreScrollPosition:Vn(w,D.matches||I.matches),preventScrollReset:ne,blockers:_e},{viewTransitionOpts:ae,flushSync:L===!0}),ye="POP",Se=!1,oe=!1,Dt=!1,at=!1,pe==null||pe.resolve(),pe=null}async function Pi(w,D){if(typeof w=="number"){n.history.go(w);return}let L=eh(I.location,I.matches,h,w,D==null?void 0:D.fromRouteId,D==null?void 0:D.relative),{path:V,submission:ee,error:ue}=py(!1,L,D),_e=I.location,ne=Il(I.location,V,D&&D.state);ne={...ne,...n.history.encodeLocation(ne)};let ae=D&&D.replace!=null?D.replace:void 0,$="PUSH";ae===!0?$="REPLACE":ae===!1||ee!=null&&xn(ee.formMethod)&&ee.formAction===I.location.pathname+I.location.search&&($="REPLACE");let se=D&&"preventScrollReset"in D?D.preventScrollReset===!0:void 0,de=(D&&D.flushSync)===!0,Be=so({currentLocation:_e,nextLocation:ne,historyAction:$});if(Be){bt(Be,{state:"blocked",location:ne,proceed(){bt(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),Pi(w,D)},reset(){let dt=new Map(I.blockers);dt.set(Be,gl),we({blockers:dt})}});return}await un($,ne,{submission:ee,pendingError:ue,preventScrollReset:se,replace:D&&D.replace,enableViewTransition:D&&D.viewTransition,flushSync:de})}function jn(){pe||(pe=gC()),vs(),we({revalidation:"loading"});let w=pe.promise;return I.navigation.state==="submitting"?w:I.navigation.state==="idle"?(un(I.historyAction,I.location,{startUninterruptedRevalidation:!0}),w):(un(ye||I.historyAction,I.navigation.location,{overrideNavigation:I.navigation,enableViewTransition:oe===!0}),w)}async function un(w,D,L){F&&F.abort(),F=null,ye=w,Dt=(L&&L.startUninterruptedRevalidation)===!0,_a(I.location,I.matches),Se=(L&&L.preventScrollReset)===!0,oe=(L&&L.enableViewTransition)===!0;let V=f||u,ee=L&&L.overrideNavigation,ue=L!=null&&L.initialHydration&&I.matches&&I.matches.length>0&&!G?I.matches:ur(V,D,h),_e=(L&&L.flushSync)===!0;if(ue&&I.initialized&&!at&&uC(I.location,D)&&!(L&&L.submission&&xn(L.submission.formMethod))){It(D,{matches:ue},{flushSync:_e});return}let ne=ai(ue,V,D.pathname);if(ne.active&&ne.matches&&(ue=ne.matches),!ue){let{error:Ze,notFoundMatches:Ge,route:lt}=Ss(D.pathname);It(D,{matches:Ge,loaderData:{},errors:{[lt.id]:Ze}},{flushSync:_e});return}F=new AbortController;let ae=Xa(n.history,D,F.signal,L&&L.submission),$;if(L&&L.pendingError)$=[$r(ue).route.id,{type:"error",error:L.pendingError}];else if(L&&L.submission&&xn(L.submission.formMethod)){let Ze=await ma(ae,D,L.submission,ue,ne.active,{replace:L.replace,flushSync:_e});if(Ze.shortCircuited)return;if(Ze.pendingActionResult){let[Ge,lt]=Ze.pendingActionResult;if(ln(lt)&&Ml(lt.error)&&lt.error.status===404){F=null,It(D,{matches:Ze.matches,loaderData:{},errors:{[Ge]:lt.error}});return}}ue=Ze.matches||ue,$=Ze.pendingActionResult,ee=kd(D,L.submission),_e=!1,ne.active=!1,ae=Xa(n.history,ae.url,ae.signal)}let{shortCircuited:se,matches:de,loaderData:Be,errors:dt}=await zi(ae,D,ue,ne.active,ee,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,L&&L.initialHydration===!0,_e,$);se||(F=null,It(D,{matches:de||ue,...wy($),loaderData:Be,errors:dt}))}async function ma(w,D,L,V,ee,ue={}){vs();let _e=dC(D,L);if(we({navigation:_e},{flushSync:ue.flushSync===!0}),ee){let $=await Fn(V,D.pathname,w.signal);if($.type==="aborted")return{shortCircuited:!0};if($.type==="error"){let se=$r($.partialMatches).route.id;return{matches:$.partialMatches,pendingActionResult:[se,{type:"error",error:$.error}]}}else if($.matches)V=$.matches;else{let{notFoundMatches:se,error:de,route:Be}=Ss(D.pathname);return{matches:se,pendingActionResult:[Be.id,{type:"error",error:de}]}}}let ne,ae=Tl(V,D);if(!ae.route.action&&!ae.route.lazy)ne={type:"error",error:Cn(405,{method:w.method,pathname:D.pathname,routeId:ae.route.id})};else if(ne=(await br("action",I,w,[ae],V,null))[ae.route.id],w.signal.aborted)return{shortCircuited:!0};if(Wr(ne)){let $;return ue&&ue.replace!=null?$=ue.replace:$=Ey(ne.response.headers.get("Location"),new URL(w.url),h)===I.location.pathname+I.location.search,await ri(w,ne,!0,{submission:L,replace:$}),{shortCircuited:!0}}if(ln(ne)){let $=$r(V,ae.route.id);return(ue&&ue.replace)!==!0&&(ye="PUSH"),{matches:V,pendingActionResult:[$.route.id,ne]}}return{matches:V,pendingActionResult:[ae.route.id,ne]}}async function zi(w,D,L,V,ee,ue,_e,ne,ae,$,se){let de=ee||kd(D,ue),Be=ue||_e||Ay(de),dt=!Dt&&!ae;if(V){if(dt){let tt=pa(se);we({navigation:de,...tt!==void 0?{actionData:tt}:{}},{flushSync:$})}let Le=await Fn(L,D.pathname,w.signal);if(Le.type==="aborted")return{shortCircuited:!0};if(Le.type==="error"){let tt=$r(Le.partialMatches).route.id;return{matches:Le.partialMatches,loaderData:{},errors:{[tt]:Le.error}}}else if(Le.matches)L=Le.matches;else{let{error:tt,notFoundMatches:Kt,route:Ar}=Ss(D.pathname);return{matches:Kt,loaderData:{},errors:{[Ar.id]:tt}}}}let Ze=f||u,[Ge,lt]=_y(n.history,I,L,Be,D,ae===!0,at,et,te,j,T,Ze,h,se);if(X=++me,Ge.length===0&&lt.length===0){let Le=Hi();return It(D,{matches:L,loaderData:{},errors:se&&ln(se[1])?{[se[0]]:se[1].error}:null,...wy(se),...Le?{fetchers:new Map(I.fetchers)}:{}},{flushSync:$}),{shortCircuited:!0}}if(dt){let Le={};if(!V){Le.navigation=de;let tt=pa(se);tt!==void 0&&(Le.actionData=tt)}lt.length>0&&(Le.fetchers=ga(lt)),we(Le,{flushSync:$})}lt.forEach(Le=>{qn(Le.key),Le.controller&&Y.set(Le.key,Le.controller)});let fn=()=>lt.forEach(Le=>qn(Le.key));F&&F.signal.addEventListener("abort",fn);let{loaderResults:si,fetcherResults:Mt}=await en(I,L,Ge,lt,w);if(w.signal.aborted)return{shortCircuited:!0};F&&F.signal.removeEventListener("abort",fn),lt.forEach(Le=>Y.delete(Le.key));let xt=gu(si);if(xt)return await ri(w,xt.result,!0,{replace:ne}),{shortCircuited:!0};if(xt=gu(Mt),xt)return T.add(xt.key),await ri(w,xt.result,!0,{replace:ne}),{shortCircuited:!0};let{loaderData:li,errors:dn}=by(I,L,si,se,lt,Mt);ae&&I.errors&&(dn={...I.errors,...dn});let Qe=Hi(),Cr=zt(X),Rr=Qe||Cr||lt.length>0;return{matches:L,loaderData:li,errors:dn,...Rr?{fetchers:new Map(I.fetchers)}:{}}}function pa(w){if(w&&!ln(w[1]))return{[w[0]]:w[1].data};if(I.actionData)return Object.keys(I.actionData).length===0?null:I.actionData}function ga(w){return w.forEach(D=>{let L=I.fetchers.get(D.key),V=_l(void 0,L?L.data:void 0);I.fetchers.set(D.key,V)}),new Map(I.fetchers)}async function gs(w,D,L,V){qn(w);let ee=(V&&V.flushSync)===!0,ue=f||u,_e=eh(I.location,I.matches,h,L,D,V==null?void 0:V.relative),ne=ur(ue,_e,h),ae=ai(ne,ue,_e);if(ae.active&&ae.matches&&(ne=ae.matches),!ne){cn(w,D,Cn(404,{pathname:_e}),{flushSync:ee});return}let{path:$,submission:se,error:de}=py(!0,_e,V);if(de){cn(w,D,de,{flushSync:ee});return}let Be=Tl(ne,$),dt=(V&&V.preventScrollReset)===!0;if(se&&xn(se.formMethod)){await _s(w,D,$,Be,ne,ae.active,ee,dt,se);return}j.set(w,{routeId:D,path:$}),await ys(w,D,$,Be,ne,ae.active,ee,dt,se)}async function _s(w,D,L,V,ee,ue,_e,ne,ae){vs(),j.delete(w);function $(nt){if(!nt.route.action&&!nt.route.lazy){let oi=Cn(405,{method:ae.formMethod,pathname:L,routeId:D});return cn(w,D,oi,{flushSync:_e}),!0}return!1}if(!ue&&$(V))return;let se=I.fetchers.get(w);An(w,hC(ae,se),{flushSync:_e});let de=new AbortController,Be=Xa(n.history,L,de.signal,ae);if(ue){let nt=await Fn(ee,L,Be.signal);if(nt.type==="aborted")return;if(nt.type==="error"){cn(w,D,nt.error,{flushSync:_e});return}else if(nt.matches){if(ee=nt.matches,V=Tl(ee,L),$(V))return}else{cn(w,D,Cn(404,{pathname:L}),{flushSync:_e});return}}Y.set(w,de);let dt=me,Ge=(await br("action",I,Be,[V],ee,w))[V.route.id];if(Be.signal.aborted){Y.get(w)===de&&Y.delete(w);return}if(te.has(w)){if(Wr(Ge)||ln(Ge)){An(w,or(void 0));return}}else{if(Wr(Ge))if(Y.delete(w),X>dt){An(w,or(void 0));return}else return T.add(w),An(w,_l(ae)),ri(Be,Ge,!1,{fetcherSubmission:ae,preventScrollReset:ne});if(ln(Ge)){cn(w,D,Ge.error);return}}let lt=I.navigation.location||I.location,fn=Xa(n.history,lt,de.signal),si=f||u,Mt=I.navigation.state!=="idle"?ur(si,I.navigation.location,h):I.matches;xe(Mt,"Didn't find any matches after fetcher action");let xt=++me;Ne.set(w,xt);let li=_l(ae,Ge.data);I.fetchers.set(w,li);let[dn,Qe]=_y(n.history,I,Mt,ae,lt,!1,at,et,te,j,T,si,h,[V.route.id,Ge]);Qe.filter(nt=>nt.key!==w).forEach(nt=>{let oi=nt.key,oo=I.fetchers.get(oi),ya=_l(void 0,oo?oo.data:void 0);I.fetchers.set(oi,ya),qn(oi),nt.controller&&Y.set(oi,nt.controller)}),we({fetchers:new Map(I.fetchers)});let Cr=()=>Qe.forEach(nt=>qn(nt.key));de.signal.addEventListener("abort",Cr);let{loaderResults:Rr,fetcherResults:Le}=await en(I,Mt,dn,Qe,fn);if(de.signal.aborted)return;de.signal.removeEventListener("abort",Cr),Ne.delete(w),Y.delete(w),Qe.forEach(nt=>Y.delete(nt.key));let tt=gu(Rr);if(tt)return ri(fn,tt.result,!1,{preventScrollReset:ne});if(tt=gu(Le),tt)return T.add(tt.key),ri(fn,tt.result,!1,{preventScrollReset:ne});let{loaderData:Kt,errors:Ar}=by(I,Mt,Rr,void 0,Qe,Le);if(I.fetchers.has(w)){let nt=or(Ge.data);I.fetchers.set(w,nt)}zt(xt),I.navigation.state==="loading"&&xt>X?(xe(ye,"Expected pending action"),F&&F.abort(),It(I.navigation.location,{matches:Mt,loaderData:Kt,errors:Ar,fetchers:new Map(I.fetchers)})):(we({errors:Ar,loaderData:Ty(I.loaderData,Kt,Mt,Ar),fetchers:new Map(I.fetchers)}),at=!1)}async function ys(w,D,L,V,ee,ue,_e,ne,ae){let $=I.fetchers.get(w);An(w,_l(ae,$?$.data:void 0),{flushSync:_e});let se=new AbortController,de=Xa(n.history,L,se.signal);if(ue){let Ge=await Fn(ee,L,de.signal);if(Ge.type==="aborted")return;if(Ge.type==="error"){cn(w,D,Ge.error,{flushSync:_e});return}else if(Ge.matches)ee=Ge.matches,V=Tl(ee,L);else{cn(w,D,Cn(404,{pathname:L}),{flushSync:_e});return}}Y.set(w,se);let Be=me,Ze=(await br("loader",I,de,[V],ee,w))[V.route.id];if(Y.get(w)===se&&Y.delete(w),!de.signal.aborted){if(te.has(w)){An(w,or(void 0));return}if(Wr(Ze))if(X>Be){An(w,or(void 0));return}else{T.add(w),await ri(de,Ze,!1,{preventScrollReset:ne});return}if(ln(Ze)){cn(w,D,Ze.error);return}An(w,or(Ze.data))}}async function ri(w,D,L,{submission:V,fetcherSubmission:ee,preventScrollReset:ue,replace:_e}={}){D.response.headers.has("X-Remix-Revalidate")&&(at=!0);let ne=D.response.headers.get("Location");xe(ne,"Expected a Location header on the redirect Response"),ne=Ey(ne,new URL(w.url),h);let ae=Il(I.location,ne,{_isRedirect:!0});if(r){let Ze=!1;if(D.response.headers.has("X-Remix-Reload-Document"))Ze=!0;else if(Rh.test(ne)){const Ge=n.history.createURL(ne);Ze=Ge.origin!==e.location.origin||Hn(Ge.pathname,h)==null}if(Ze){_e?e.location.replace(ne):e.location.assign(ne);return}}F=null;let $=_e===!0||D.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:se,formAction:de,formEncType:Be}=I.navigation;!V&&!ee&&se&&de&&Be&&(V=Ay(I.navigation));let dt=V||ee;if($w.has(D.response.status)&&dt&&xn(dt.formMethod))await un($,ae,{submission:{...dt,formAction:ne},preventScrollReset:ue||Se,enableViewTransition:L?oe:void 0});else{let Ze=kd(ae,V);await un($,ae,{overrideNavigation:Ze,fetcherSubmission:ee,preventScrollReset:ue||Se,enableViewTransition:L?oe:void 0})}}async function br(w,D,L,V,ee,ue){let _e,ne={};try{_e=await rC(m,w,D,L,V,ee,ue,l,a)}catch(ae){return V.forEach($=>{ne[$.route.id]={type:"error",error:ae}}),ne}for(let[ae,$]of Object.entries(_e))if(cC($)){let se=$.result;ne[ae]={type:"redirect",response:lC(se,L,ae,ee,h)}}else ne[ae]=await sC($);return ne}async function en(w,D,L,V,ee){let ue=br("loader",w,ee,L,D,null),_e=Promise.all(V.map(async $=>{if($.matches&&$.match&&$.controller){let de=(await br("loader",w,Xa(n.history,$.path,$.controller.signal),[$.match],$.matches,$.key))[$.match.route.id];return{[$.key]:de}}else return Promise.resolve({[$.key]:{type:"error",error:Cn(404,{pathname:$.path})}})})),ne=await ue,ae=(await _e).reduce(($,se)=>Object.assign($,se),{});return{loaderResults:ne,fetcherResults:ae}}function vs(){at=!0,j.forEach((w,D)=>{Y.has(D)&&et.add(D),qn(D)})}function An(w,D,L={}){I.fetchers.set(w,D),we({fetchers:new Map(I.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function cn(w,D,L,V={}){let ee=$r(I.matches,D);Es(w),we({errors:{[ee.route.id]:L},fetchers:new Map(I.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function Tr(w){return re.set(w,(re.get(w)||0)+1),te.has(w)&&te.delete(w),I.fetchers.get(w)||Xw}function Es(w){let D=I.fetchers.get(w);Y.has(w)&&!(D&&D.state==="loading"&&Ne.has(w))&&qn(w),j.delete(w),Ne.delete(w),T.delete(w),te.delete(w),et.delete(w),I.fetchers.delete(w)}function ro(w){let D=(re.get(w)||0)-1;D<=0?(re.delete(w),te.add(w)):re.set(w,D),we({fetchers:new Map(I.fetchers)})}function qn(w){let D=Y.get(w);D&&(D.abort(),Y.delete(w))}function ao(w){for(let D of w){let L=Tr(D),V=or(L.data);I.fetchers.set(D,V)}}function Hi(){let w=[],D=!1;for(let L of T){let V=I.fetchers.get(L);xe(V,`Expected fetcher: ${L}`),V.state==="loading"&&(T.delete(L),w.push(L),D=!0)}return ao(w),D}function zt(w){let D=[];for(let[L,V]of Ne)if(V<w){let ee=I.fetchers.get(L);xe(ee,`Expected fetcher: ${L}`),ee.state==="loading"&&(qn(L),Ne.delete(L),D.push(L))}return ao(D),D.length>0}function Sc(w,D){let L=I.blockers.get(w)||gl;return Z.get(w)!==D&&Z.set(w,D),L}function Nn(w){I.blockers.delete(w),Z.delete(w)}function bt(w,D){let L=I.blockers.get(w)||gl;xe(L.state==="unblocked"&&D.state==="blocked"||L.state==="blocked"&&D.state==="blocked"||L.state==="blocked"&&D.state==="proceeding"||L.state==="blocked"&&D.state==="unblocked"||L.state==="proceeding"&&D.state==="unblocked",`Invalid blocker state transition: ${L.state} -> ${D.state}`);let V=new Map(I.blockers);V.set(w,D),we({blockers:V})}function so({currentLocation:w,nextLocation:D,historyAction:L}){if(Z.size===0)return;Z.size>1&&Pt(!1,"A router only supports one blocker at a time");let V=Array.from(Z.entries()),[ee,ue]=V[V.length-1],_e=I.blockers.get(ee);if(!(_e&&_e.state==="proceeding")&&ue({currentLocation:w,nextLocation:D,historyAction:L}))return ee}function Ss(w){let D=Cn(404,{pathname:w}),L=f||u,{matches:V,route:ee}=Cy(L);return{notFoundMatches:V,route:ee,error:D}}function bc(w,D,L){if(b=w,H=D,A=L||null,!P&&I.navigation===Ld){P=!0;let V=Vn(I.location,I.matches);V!=null&&we({restoreScrollPosition:V})}return()=>{b=null,H=null,A=null}}function wr(w,D){return A&&A(w,D.map(V=>Aw(V,I.loaderData)))||w.key}function _a(w,D){if(b&&H){let L=wr(w,D);b[L]=H()}}function Vn(w,D){if(b){let L=wr(w,D),V=b[L];if(typeof V=="number")return V}return null}function ai(w,D,L){if(p)if(w){if(Object.keys(w[0].params).length>0)return{active:!0,matches:Su(D,L,h,!0)}}else return{active:!0,matches:Su(D,L,h,!0)||[]};return{active:!1,matches:null}}async function Fn(w,D,L){if(!p)return{type:"success",matches:w};let V=w;for(;;){let ee=f==null,ue=f||u,_e=l;try{await p({path:D,matches:V,patch:($,se)=>{L.aborted||vy($,se,ue,_e,a)}})}catch($){return{type:"error",error:$,partialMatches:V}}finally{ee&&!L.aborted&&(u=[...u])}if(L.aborted)return{type:"aborted"};let ne=ur(ue,D,h);if(ne)return{type:"success",matches:ne};let ae=Su(ue,D,h,!0);if(!ae||V.length===ae.length&&V.every(($,se)=>$.route.id===ae[se].route.id))return{type:"success",matches:null};V=ae}}function Tc(w){l={},f=Du(w,a,void 0,l)}function lo(w,D){let L=f==null;vy(w,D,f||u,l,a),L&&(u=[...u],we({}))}return W={get basename(){return h},get future(){return _},get state(){return I},get routes(){return u},get window(){return e},initialize:Ot,subscribe:st,enableScrollRestoration:bc,navigate:Pi,fetch:gs,revalidate:jn,createHref:w=>n.history.createHref(w),encodeLocation:w=>n.history.encodeLocation(w),getFetcher:Tr,deleteFetcher:ro,dispose:Ue,getBlocker:Sc,deleteBlocker:Nn,patchRoutes:lo,_internalFetchControllers:Y,_internalSetRoutes:Tc},W}function Jw(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function eh(n,e,r,a,l,u){let f,h;if(l){f=[];for(let p of e)if(f.push(p),p.route.id===l){h=p;break}}else f=e,h=e[e.length-1];let m=Ch(a||".",wh(f),Hn(n.pathname,r)||n.pathname,u==="path");if(a==null&&(m.search=n.search,m.hash=n.hash),(a==null||a===""||a===".")&&h){let p=Ah(m.search);if(h.route.index&&!p)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&p){let _=new URLSearchParams(m.search),v=_.getAll("index");_.delete("index"),v.filter(b=>b).forEach(b=>_.append("index",b));let E=_.toString();m.search=E?`?${E}`:""}}return r!=="/"&&(m.pathname=m.pathname==="/"?r:Xn([r,m.pathname])),_r(m)}function py(n,e,r){if(!r||!Jw(r))return{path:e};if(r.formMethod&&!fC(r.formMethod))return{path:e,error:Cn(405,{method:r.formMethod})};let a=()=>({path:e,error:Cn(400,{type:"invalid-body"})}),u=(r.formMethod||"get").toUpperCase(),f=rE(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!xn(u))return a();let v=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((E,[b,A])=>`${E}${b}=${A}
`,""):String(r.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:r.formEncType,formData:void 0,json:void 0,text:v}}}else if(r.formEncType==="application/json"){if(!xn(u))return a();try{let v=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:r.formEncType,formData:void 0,json:v,text:void 0}}}catch{return a()}}}xe(typeof FormData=="function","FormData is not available in this environment");let h,m;if(r.formData)h=nh(r.formData),m=r.formData;else if(r.body instanceof FormData)h=nh(r.body),m=r.body;else if(r.body instanceof URLSearchParams)h=r.body,m=Sy(h);else if(r.body==null)h=new URLSearchParams,m=new FormData;else try{h=new URLSearchParams(r.body),m=Sy(h)}catch{return a()}let p={formMethod:u,formAction:f,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(xn(p.formMethod))return{path:e,submission:p};let _=Sr(e);return n&&_.search&&Ah(_.search)&&h.append("index",""),_.search=`?${h}`,{path:_r(_),submission:p}}function gy(n,e,r=!1){let a=n.findIndex(l=>l.route.id===e);return a>=0?n.slice(0,r?a+1:a):n}function _y(n,e,r,a,l,u,f,h,m,p,_,v,E,b){let A=b?ln(b[1])?b[1].error:b[1].data:void 0,H=n.createURL(e.location),P=n.createURL(l),z=r;u&&e.errors?z=gy(r,Object.keys(e.errors)[0],!0):b&&ln(b[1])&&(z=gy(r,b[0]));let G=b?b[1].statusCode:void 0,J=G&&G>=400,fe=z.filter((I,ye)=>{let{route:Se}=I;if(Se.lazy)return!0;if(Se.loader==null)return!1;if(u)return th(Se,e.loaderData,e.errors);if(eC(e.loaderData,e.matches[ye],I))return!0;let F=e.matches[ye],oe=I;return yy(I,{currentUrl:H,currentParams:F.params,nextUrl:P,nextParams:oe.params,...a,actionResult:A,actionStatus:G,defaultShouldRevalidate:J?!1:f||H.pathname+H.search===P.pathname+P.search||H.search!==P.search||tC(F,oe)})}),W=[];return p.forEach((I,ye)=>{if(u||!r.some(_t=>_t.route.id===I.routeId)||m.has(ye))return;let Se=ur(v,I.path,E);if(!Se){W.push({key:ye,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let F=e.fetchers.get(ye),oe=Tl(Se,I.path),je=!1;_.has(ye)?je=!1:h.has(ye)?(h.delete(ye),je=!0):F&&F.state!=="idle"&&F.data===void 0?je=f:je=yy(oe,{currentUrl:H,currentParams:e.matches[e.matches.length-1].params,nextUrl:P,nextParams:r[r.length-1].params,...a,actionResult:A,actionStatus:G,defaultShouldRevalidate:J?!1:f}),je&&W.push({key:ye,routeId:I.routeId,path:I.path,matches:Se,match:oe,controller:new AbortController})}),[fe,W]}function th(n,e,r){if(n.lazy)return!0;if(!n.loader)return!1;let a=e!=null&&e[n.id]!==void 0,l=r!=null&&r[n.id]!==void 0;return!a&&l?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!a&&!l}function eC(n,e,r){let a=!e||r.route.id!==e.route.id,l=!n.hasOwnProperty(r.route.id);return a||l}function tC(n,e){let r=n.route.path;return n.pathname!==e.pathname||r!=null&&r.endsWith("*")&&n.params["*"]!==e.params["*"]}function yy(n,e){if(n.route.shouldRevalidate){let r=n.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function vy(n,e,r,a,l){let u;if(n){let m=a[n];xe(m,`No route found to patch children into: routeId = ${n}`),m.children||(m.children=[]),u=m.children}else u=r;let f=e.filter(m=>!u.some(p=>iE(m,p))),h=Du(f,l,[n||"_","patch",String((u==null?void 0:u.length)||"0")],a);u.push(...h)}function iE(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((r,a)=>{var l;return(l=e.children)==null?void 0:l.some(u=>iE(r,u))}):!1}async function nC(n,e,r){if(!n.lazy)return;let a=await n.lazy();if(!n.lazy)return;let l=r[n.id];xe(l,"No route found in manifest");let u={};for(let f in a){let m=l[f]!==void 0&&f!=="hasErrorBoundary";Pt(!m,`Route "${l.id}" has a static property "${f}" defined but its lazy function is also returning a value for this property. The lazy route property "${f}" will be ignored.`),!m&&!Cw.has(f)&&(u[f]=a[f])}Object.assign(l,u),Object.assign(l,{...e(l),lazy:void 0})}async function iC({matches:n}){let e=n.filter(a=>a.shouldLoad);return(await Promise.all(e.map(a=>a.resolve()))).reduce((a,l,u)=>Object.assign(a,{[e[u].route.id]:l}),{})}async function rC(n,e,r,a,l,u,f,h,m,p){let _=u.map(b=>b.route.lazy?nC(b.route,m,h):void 0),v=u.map((b,A)=>{let H=_[A],P=l.some(G=>G.route.id===b.route.id);return{...b,shouldLoad:P,resolve:async G=>(G&&a.method==="GET"&&(b.route.lazy||b.route.loader)&&(P=!0),P?aC(e,a,b,H,G,p):Promise.resolve({type:"data",result:void 0}))}}),E=await n({matches:v,request:a,params:u[0].params,fetcherKey:f,context:p});try{await Promise.all(_)}catch{}return E}async function aC(n,e,r,a,l,u){let f,h,m=p=>{let _,v=new Promise((A,H)=>_=H);h=()=>_(),e.signal.addEventListener("abort",h);let E=A=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${r.route.id}]`)):p({request:e,params:r.params,context:u},...A!==void 0?[A]:[]),b=(async()=>{try{return{type:"data",result:await(l?l(H=>E(H)):E())}}catch(A){return{type:"error",result:A}}})();return Promise.race([b,v])};try{let p=r.route[n];if(a)if(p){let _,[v]=await Promise.all([m(p).catch(E=>{_=E}),a]);if(_!==void 0)throw _;f=v}else if(await a,p=r.route[n],p)f=await m(p);else if(n==="action"){let _=new URL(e.url),v=_.pathname+_.search;throw Cn(405,{method:e.method,pathname:v,routeId:r.route.id})}else return{type:"data",result:void 0};else if(p)f=await m(p);else{let _=new URL(e.url),v=_.pathname+_.search;throw Cn(404,{pathname:v})}}catch(p){return{type:"error",result:p}}finally{h&&e.signal.removeEventListener("abort",h)}return f}async function sC(n){var a,l,u,f,h,m;let{result:e,type:r}=n;if(aE(e)){let p;try{let _=e.headers.get("Content-Type");_&&/\bapplication\/json\b/.test(_)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(_){return{type:"error",error:_}}return r==="error"?{type:"error",error:new Iu(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return r==="error"?Ry(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Iu(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:Ml(e)?e.status:void 0,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Ml(e)?e.status:void 0}:Ry(e)?{type:"data",data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(m=e.init)!=null&&m.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function lC(n,e,r,a,l){let u=n.headers.get("Location");if(xe(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Rh.test(u)){let f=a.slice(0,a.findIndex(h=>h.route.id===r)+1);u=eh(new URL(e.url),f,l,u),n.headers.set("Location",u)}return n}function Ey(n,e,r){if(Rh.test(n)){let a=n,l=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=Hn(l.pathname,r)!=null;if(l.origin===e.origin&&u)return l.pathname+l.search+l.hash}return n}function Xa(n,e,r,a){let l=n.createURL(rE(e)).toString(),u={signal:r};if(a&&xn(a.formMethod)){let{formMethod:f,formEncType:h}=a;u.method=f.toUpperCase(),h==="application/json"?(u.headers=new Headers({"Content-Type":h}),u.body=JSON.stringify(a.json)):h==="text/plain"?u.body=a.text:h==="application/x-www-form-urlencoded"&&a.formData?u.body=nh(a.formData):u.body=a.formData}return new Request(l,u)}function nh(n){let e=new URLSearchParams;for(let[r,a]of n.entries())e.append(r,typeof a=="string"?a:a.name);return e}function Sy(n){let e=new FormData;for(let[r,a]of n.entries())e.append(r,a);return e}function oC(n,e,r,a=!1,l=!1){let u={},f=null,h,m=!1,p={},_=r&&ln(r[1])?r[1].error:void 0;return n.forEach(v=>{if(!(v.route.id in e))return;let E=v.route.id,b=e[E];if(xe(!Wr(b),"Cannot handle redirect results in processLoaderData"),ln(b)){let A=b.error;if(_!==void 0&&(A=_,_=void 0),f=f||{},l)f[E]=A;else{let H=$r(n,E);f[H.route.id]==null&&(f[H.route.id]=A)}a||(u[E]=nE),m||(m=!0,h=Ml(b.error)?b.error.status:500),b.headers&&(p[E]=b.headers)}else u[E]=b.data,b.statusCode&&b.statusCode!==200&&!m&&(h=b.statusCode),b.headers&&(p[E]=b.headers)}),_!==void 0&&r&&(f={[r[0]]:_},u[r[0]]=void 0),{loaderData:u,errors:f,statusCode:h||200,loaderHeaders:p}}function by(n,e,r,a,l,u){let{loaderData:f,errors:h}=oC(e,r,a);return l.forEach(m=>{let{key:p,match:_,controller:v}=m,E=u[p];if(xe(E,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(ln(E)){let b=$r(n.matches,_==null?void 0:_.route.id);h&&h[b.route.id]||(h={...h,[b.route.id]:E.error}),n.fetchers.delete(p)}else if(Wr(E))xe(!1,"Unhandled fetcher revalidation redirect");else{let b=or(E.data);n.fetchers.set(p,b)}}),{loaderData:f,errors:h}}function Ty(n,e,r,a){let l=Object.entries(e).filter(([,u])=>u!==nE).reduce((u,[f,h])=>(u[f]=h,u),{});for(let u of r){let f=u.route.id;if(!e.hasOwnProperty(f)&&n.hasOwnProperty(f)&&u.route.loader&&(l[f]=n[f]),a&&a.hasOwnProperty(f))break}return l}function wy(n){return n?ln(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function $r(n,e){return(e?n.slice(0,n.findIndex(a=>a.route.id===e)+1):[...n]).reverse().find(a=>a.route.hasErrorBoundary===!0)||n[0]}function Cy(n){let e=n.length===1?n[0]:n.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Cn(n,{pathname:e,routeId:r,method:a,type:l,message:u}={}){let f="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(f="Bad Request",a&&e&&r?h=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:l==="invalid-body"&&(h="Unable to encode submission body")):n===403?(f="Forbidden",h=`Route "${r}" does not match URL "${e}"`):n===404?(f="Not Found",h=`No route matches URL "${e}"`):n===405&&(f="Method Not Allowed",a&&e&&r?h=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:a&&(h=`Invalid request method "${a.toUpperCase()}"`)),new Iu(n||500,f,new Error(h),!0)}function gu(n){let e=Object.entries(n);for(let r=e.length-1;r>=0;r--){let[a,l]=e[r];if(Wr(l))return{key:a,result:l}}}function rE(n){let e=typeof n=="string"?Sr(n):n;return _r({...e,hash:""})}function uC(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function cC(n){return aE(n.result)&&Qw.has(n.result.status)}function ln(n){return n.type==="error"}function Wr(n){return(n&&n.type)==="redirect"}function Ry(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function aE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function fC(n){return Kw.has(n.toUpperCase())}function xn(n){return Gw.has(n.toUpperCase())}function Ah(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Tl(n,e){let r=typeof e=="string"?Sr(e).search:e.search;if(n[n.length-1].route.index&&Ah(r||""))return n[n.length-1];let a=Jv(n);return a[a.length-1]}function Ay(n){let{formMethod:e,formAction:r,formEncType:a,text:l,formData:u,json:f}=n;if(!(!e||!r||!a)){if(l!=null)return{formMethod:e,formAction:r,formEncType:a,formData:void 0,json:void 0,text:l};if(u!=null)return{formMethod:e,formAction:r,formEncType:a,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:r,formEncType:a,formData:void 0,json:f,text:void 0}}}function kd(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function dC(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function _l(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function hC(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function or(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function mC(n,e){try{let r=n.sessionStorage.getItem(tE);if(r){let a=JSON.parse(r);for(let[l,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(l,new Set(u||[]))}}catch{}}function pC(n,e){if(e.size>0){let r={};for(let[a,l]of e)r[a]=[...l];try{n.sessionStorage.setItem(tE,JSON.stringify(r))}catch(a){Pt(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function gC(){let n,e,r=new Promise((a,l)=>{n=async u=>{a(u);try{await r}catch{}},e=async u=>{l(u);try{await r}catch{}}});return{promise:r,resolve:n,reject:e}}var ua=O.createContext(null);ua.displayName="DataRouter";var Yl=O.createContext(null);Yl.displayName="DataRouterState";var Nh=O.createContext({isTransitioning:!1});Nh.displayName="ViewTransition";var sE=O.createContext(new Map);sE.displayName="Fetchers";var _C=O.createContext(null);_C.displayName="Await";var ti=O.createContext(null);ti.displayName="Navigation";var tc=O.createContext(null);tc.displayName="Location";var ni=O.createContext({outlet:null,matches:[],isDataRoute:!1});ni.displayName="Route";var Dh=O.createContext(null);Dh.displayName="RouteError";function yC(n,{relative:e}={}){xe(Kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=O.useContext(ti),{hash:l,pathname:u,search:f}=Ql(n,{relative:e}),h=u;return r!=="/"&&(h=u==="/"?r:Xn([r,u])),a.createHref({pathname:h,search:f,hash:l})}function Kl(){return O.useContext(tc)!=null}function ca(){return xe(Kl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(tc).location}var lE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oE(n){O.useContext(ti).static||O.useLayoutEffect(n)}function vC(){let{isDataRoute:n}=O.useContext(ni);return n?LC():EC()}function EC(){xe(Kl(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(ua),{basename:e,navigator:r}=O.useContext(ti),{matches:a}=O.useContext(ni),{pathname:l}=ca(),u=JSON.stringify(wh(a)),f=O.useRef(!1);return oE(()=>{f.current=!0}),O.useCallback((m,p={})=>{if(Pt(f.current,lE),!f.current)return;if(typeof m=="number"){r.go(m);return}let _=Ch(m,JSON.parse(u),l,p.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Xn([e,_.pathname])),(p.replace?r.replace:r.push)(_,p.state,p)},[e,r,u,l,n])}var SC=O.createContext(null);function bC(n){let e=O.useContext(ni).outlet;return e&&O.createElement(SC.Provider,{value:n},e)}function Ql(n,{relative:e}={}){let{matches:r}=O.useContext(ni),{pathname:a}=ca(),l=JSON.stringify(wh(r));return O.useMemo(()=>Ch(n,JSON.parse(l),a,e==="path"),[n,l,a,e])}function TC(n,e,r,a){xe(Kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=O.useContext(ti),{matches:f}=O.useContext(ni),h=f[f.length-1],m=h?h.params:{},p=h?h.pathname:"/",_=h?h.pathnameBase:"/",v=h&&h.route;{let G=v&&v.path||"";uE(p,!v||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let E=ca(),b;b=E;let A=b.pathname||"/",H=A;if(_!=="/"){let G=_.replace(/^\//,"").split("/");H="/"+A.replace(/^\//,"").split("/").slice(G.length).join("/")}let P=!u&&r&&r.matches&&r.matches.length>0?r.matches:ur(n,{pathname:H});return Pt(v||P!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Pt(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),NC(P&&P.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:Xn([_,l.encodeLocation?l.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?_:Xn([_,l.encodeLocation?l.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),f,r,a)}function wC(){let n=xC(),e=Ml(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:u},"ErrorBoundary")," or"," ",O.createElement("code",{style:u},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),r?O.createElement("pre",{style:l},r):null,f)}var CC=O.createElement(wC,null),RC=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?O.createElement(ni.Provider,{value:this.props.routeContext},O.createElement(Dh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AC({routeContext:n,match:e,children:r}){let a=O.useContext(ua);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(ni.Provider,{value:n},r)}function NC(n,e=[],r=null,a=null){if(n==null){if(!r)return null;if(r.errors)n=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let l=n,u=r==null?void 0:r.errors;if(u!=null){let m=l.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);xe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let f=!1,h=-1;if(r)for(let m=0;m<l.length;m++){let p=l[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:_,errors:v}=r,E=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||E){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((m,p,_)=>{let v,E=!1,b=null,A=null;r&&(v=u&&p.route.id?u[p.route.id]:void 0,b=p.route.errorElement||CC,f&&(h<0&&_===0?(uE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):h===_&&(E=!0,A=p.route.hydrateFallbackElement||null)));let H=e.concat(l.slice(0,_+1)),P=()=>{let z;return v?z=b:E?z=A:p.route.Component?z=O.createElement(p.route.Component,null):p.route.element?z=p.route.element:z=m,O.createElement(AC,{match:p,routeContext:{outlet:m,matches:H,isDataRoute:r!=null},children:z})};return r&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?O.createElement(RC,{location:r.location,revalidation:r.revalidation,component:b,error:v,children:P(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):P()},null)}function Oh(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DC(n){let e=O.useContext(ua);return xe(e,Oh(n)),e}function OC(n){let e=O.useContext(Yl);return xe(e,Oh(n)),e}function IC(n){let e=O.useContext(ni);return xe(e,Oh(n)),e}function Ih(n){let e=IC(n),r=e.matches[e.matches.length-1];return xe(r.route.id,`${n} can only be used on routes that contain a unique "id"`),r.route.id}function MC(){return Ih("useRouteId")}function xC(){var a;let n=O.useContext(Dh),e=OC("useRouteError"),r=Ih("useRouteError");return n!==void 0?n:(a=e.errors)==null?void 0:a[r]}function LC(){let{router:n}=DC("useNavigate"),e=Ih("useNavigate"),r=O.useRef(!1);return oE(()=>{r.current=!0}),O.useCallback(async(l,u={})=>{Pt(r.current,lE),r.current&&(typeof l=="number"?n.navigate(l):await n.navigate(l,{fromRouteId:e,...u}))},[n,e])}var Ny={};function uE(n,e,r){!e&&!Ny[n]&&(Ny[n]=!0,Pt(!1,r))}var Dy={};function Oy(n,e){!n&&!Dy[e]&&(Dy[e]=!0,console.warn(e))}function kC(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Pt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:O.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Pt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:O.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Pt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:O.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var UC=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",r(a))}})}};function PC({router:n,flushSync:e}){let[r,a]=O.useState(n.state),[l,u]=O.useState(),[f,h]=O.useState({isTransitioning:!1}),[m,p]=O.useState(),[_,v]=O.useState(),[E,b]=O.useState(),A=O.useRef(new Map),H=O.useCallback((J,{deletedFetchers:fe,flushSync:W,viewTransitionOpts:I})=>{J.fetchers.forEach((Se,F)=>{Se.data!==void 0&&A.current.set(F,Se.data)}),fe.forEach(Se=>A.current.delete(Se)),Oy(W===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ye=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Oy(I==null||ye,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!I||!ye){e&&W?e(()=>a(J)):O.startTransition(()=>a(J));return}if(e&&W){e(()=>{_&&(m&&m.resolve(),_.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation})});let Se=n.window.document.startViewTransition(()=>{e(()=>a(J))});Se.finished.finally(()=>{e(()=>{p(void 0),v(void 0),u(void 0),h({isTransitioning:!1})})}),e(()=>v(Se));return}_?(m&&m.resolve(),_.skipTransition(),b({state:J,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(u(J),h({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[n.window,e,_,m]);O.useLayoutEffect(()=>n.subscribe(H),[n,H]),O.useEffect(()=>{f.isTransitioning&&!f.flushSync&&p(new UC)},[f]),O.useEffect(()=>{if(m&&l&&n.window){let J=l,fe=m.promise,W=n.window.document.startViewTransition(async()=>{O.startTransition(()=>a(J)),await fe});W.finished.finally(()=>{p(void 0),v(void 0),u(void 0),h({isTransitioning:!1})}),v(W)}},[l,m,n.window]),O.useEffect(()=>{m&&l&&r.location.key===l.location.key&&m.resolve()},[m,_,r.location,l]),O.useEffect(()=>{!f.isTransitioning&&E&&(u(E.state),h({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),b(void 0))},[f.isTransitioning,E]);let P=O.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:J=>n.navigate(J),push:(J,fe,W)=>n.navigate(J,{state:fe,preventScrollReset:W==null?void 0:W.preventScrollReset}),replace:(J,fe,W)=>n.navigate(J,{replace:!0,state:fe,preventScrollReset:W==null?void 0:W.preventScrollReset})}),[n]),z=n.basename||"/",G=O.useMemo(()=>({router:n,navigator:P,static:!1,basename:z}),[n,P,z]);return O.createElement(O.Fragment,null,O.createElement(ua.Provider,{value:G},O.createElement(Yl.Provider,{value:r},O.createElement(sE.Provider,{value:A.current},O.createElement(Nh.Provider,{value:f},O.createElement(jC,{basename:z,location:r.location,navigationType:r.historyAction,navigator:P},O.createElement(zC,{routes:n.routes,future:n.future,state:r})))))),null)}var zC=O.memo(HC);function HC({routes:n,future:e,state:r}){return TC(n,void 0,r,e)}function BC(n){return bC(n.context)}function jC({basename:n="/",children:e=null,location:r,navigationType:a="POP",navigator:l,static:u=!1}){xe(!Kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),h=O.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof r=="string"&&(r=Sr(r));let{pathname:m="/",search:p="",hash:_="",state:v=null,key:E="default"}=r,b=O.useMemo(()=>{let A=Hn(m,f);return A==null?null:{location:{pathname:A,search:p,hash:_,state:v,key:E},navigationType:a}},[f,m,p,_,v,E,a]);return Pt(b!=null,`<Router basename="${f}"> is not able to match the URL "${m}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:O.createElement(ti.Provider,{value:h},O.createElement(tc.Provider,{children:e,value:b}))}var bu="get",Tu="application/x-www-form-urlencoded";function nc(n){return n!=null&&typeof n.tagName=="string"}function qC(n){return nc(n)&&n.tagName.toLowerCase()==="button"}function VC(n){return nc(n)&&n.tagName.toLowerCase()==="form"}function FC(n){return nc(n)&&n.tagName.toLowerCase()==="input"}function GC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function YC(n,e){return n.button===0&&(!e||e==="_self")&&!GC(n)}var _u=null;function KC(){if(_u===null)try{new FormData(document.createElement("form"),0),_u=!1}catch{_u=!0}return _u}var QC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ud(n){return n!=null&&!QC.has(n)?(Pt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tu}"`),null):n}function $C(n,e){let r,a,l,u,f;if(VC(n)){let h=n.getAttribute("action");a=h?Hn(h,e):null,r=n.getAttribute("method")||bu,l=Ud(n.getAttribute("enctype"))||Tu,u=new FormData(n)}else if(qC(n)||FC(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||h.getAttribute("action");if(a=m?Hn(m,e):null,r=n.getAttribute("formmethod")||h.getAttribute("method")||bu,l=Ud(n.getAttribute("formenctype"))||Ud(h.getAttribute("enctype"))||Tu,u=new FormData(h,n),!KC()){let{name:p,type:_,value:v}=n;if(_==="image"){let E=p?`${p}.`:"";u.append(`${E}x`,"0"),u.append(`${E}y`,"0")}else p&&u.append(p,v)}}else{if(nc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=bu,a=null,l=Tu,f=n}return u&&l==="text/plain"&&(f=u,u=void 0),{action:a,method:r.toLowerCase(),encType:l,formData:u,body:f}}function Mh(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function XC(n,e){if(n.id in e)return e[n.id];try{let r=await import(n.module);return e[n.id]=r,r}catch(r){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ZC(n,e,r){let a=await Promise.all(n.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await XC(u,r);return f.links?f.links():[]}return[]}));return nR(a.flat(1).filter(WC).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Iy(n,e,r,a,l,u){let f=(m,p)=>r[p]?m.route.id!==r[p].route.id:!0,h=(m,p)=>{var _;return r[p].pathname!==m.pathname||((_=r[p].route.path)==null?void 0:_.endsWith("*"))&&r[p].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,p)=>f(m,p)||h(m,p)):u==="data"?e.filter((m,p)=>{var v;let _=a.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(f(m,p)||h(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((v=r[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function JC(n,e){return eR(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function eR(n){return[...new Set(n)]}function tR(n){let e={},r=Object.keys(n).sort();for(let a of r)e[a]=n[a];return e}function nR(n,e){let r=new Set;return new Set(e),n.reduce((a,l)=>{let u=JSON.stringify(tR(l));return r.has(u)||(r.add(u),a.push({key:u,link:l})),a},[])}function iR(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function rR(){let n=O.useContext(ua);return Mh(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function aR(){let n=O.useContext(Yl);return Mh(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var xh=O.createContext(void 0);xh.displayName="FrameworkContext";function cE(){let n=O.useContext(xh);return Mh(n,"You must render this element inside a <HydratedRouter> element"),n}function sR(n,e){let r=O.useContext(xh),[a,l]=O.useState(!1),[u,f]=O.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:p,onMouseLeave:_,onTouchStart:v}=e,E=O.useRef(null);O.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let H=z=>{z.forEach(G=>{f(G.isIntersecting)})},P=new IntersectionObserver(H,{threshold:.5});return E.current&&P.observe(E.current),()=>{P.disconnect()}}},[n]),O.useEffect(()=>{if(a){let H=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(H)}}},[a]);let b=()=>{l(!0)},A=()=>{l(!1),f(!1)};return r?n!=="intent"?[u,E,{}]:[u,E,{onFocus:yl(h,b),onBlur:yl(m,A),onMouseEnter:yl(p,b),onMouseLeave:yl(_,A),onTouchStart:yl(v,b)}]:[!1,E,{}]}function yl(n,e){return r=>{n&&n(r),r.defaultPrevented||e(r)}}function lR({page:n,...e}){let{router:r}=rR(),a=O.useMemo(()=>ur(r.routes,n,r.basename),[r.routes,n,r.basename]);return a?O.createElement(uR,{page:n,matches:a,...e}):null}function oR(n){let{manifest:e,routeModules:r}=cE(),[a,l]=O.useState([]);return O.useEffect(()=>{let u=!1;return ZC(n,e,r).then(f=>{u||l(f)}),()=>{u=!0}},[n,e,r]),a}function uR({page:n,matches:e,...r}){let a=ca(),{manifest:l,routeModules:u}=cE(),{loaderData:f,matches:h}=aR(),m=O.useMemo(()=>Iy(n,e,h,l,a,"data"),[n,e,h,l,a]),p=O.useMemo(()=>Iy(n,e,h,l,a,"assets"),[n,e,h,l,a]),_=O.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let b=new Set,A=!1;if(e.forEach(P=>{var G;let z=l.routes[P.route.id];!z||!z.hasLoader||(!m.some(J=>J.route.id===P.route.id)&&P.route.id in f&&((G=u[P.route.id])!=null&&G.shouldRevalidate)||z.hasClientLoader?A=!0:b.add(P.route.id))}),b.size===0)return[];let H=iR(n);return A&&b.size>0&&H.searchParams.set("_routes",e.filter(P=>b.has(P.route.id)).map(P=>P.route.id).join(",")),[H.pathname+H.search]},[f,a,l,m,e,n,u]),v=O.useMemo(()=>JC(p,l),[p,l]),E=oR(p);return O.createElement(O.Fragment,null,_.map(b=>O.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),v.map(b=>O.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),E.map(({key:b,link:A})=>O.createElement("link",{key:b,...A})))}function cR(...n){return e=>{n.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var fE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fE&&(window.__reactRouterVersion="7.1.5")}catch{}function fR(n,e){return Zw({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:bw({window:e==null?void 0:e.window}),hydrationData:dR(),routes:n,mapRouteProperties:kC,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function dR(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:hR(n.errors)}),n}function hR(n){if(!n)return null;let e=Object.entries(n),r={};for(let[a,l]of e)if(l&&l.__type==="RouteErrorResponse")r[a]=new Iu(l.status,l.statusText,l.data,l.internal===!0);else if(l&&l.__type==="Error"){if(l.__subType){let u=window[l.__subType];if(typeof u=="function")try{let f=new u(l.message);f.stack="",r[a]=f}catch{}}if(r[a]==null){let u=new Error(l.message);u.stack="",r[a]=u}}else r[a]=l;return r}var dE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xr=O.forwardRef(function({onClick:e,discover:r="render",prefetch:a="none",relative:l,reloadDocument:u,replace:f,state:h,target:m,to:p,preventScrollReset:_,viewTransition:v,...E},b){let{basename:A}=O.useContext(ti),H=typeof p=="string"&&dE.test(p),P,z=!1;if(typeof p=="string"&&H&&(P=p,fE))try{let F=new URL(window.location.href),oe=p.startsWith("//")?new URL(F.protocol+p):new URL(p),je=Hn(oe.pathname,A);oe.origin===F.origin&&je!=null?p=je+oe.search+oe.hash:z=!0}catch{Pt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=yC(p,{relative:l}),[J,fe,W]=sR(a,E),I=_R(p,{replace:f,state:h,target:m,preventScrollReset:_,relative:l,viewTransition:v});function ye(F){e&&e(F),F.defaultPrevented||I(F)}let Se=O.createElement("a",{...E,...W,href:P||G,onClick:z||u?e:ye,ref:cR(b,fe),target:m,"data-discover":!H&&r==="render"?"true":void 0});return J&&!H?O.createElement(O.Fragment,null,Se,O.createElement(lR,{page:G})):Se});Xr.displayName="Link";var mR=O.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:a="",end:l=!1,style:u,to:f,viewTransition:h,children:m,...p},_){let v=Ql(f,{relative:p.relative}),E=ca(),b=O.useContext(Yl),{navigator:A,basename:H}=O.useContext(ti),P=b!=null&&bR(v)&&h===!0,z=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,G=E.pathname,J=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(G=G.toLowerCase(),J=J?J.toLowerCase():null,z=z.toLowerCase()),J&&H&&(J=Hn(J,H)||J);const fe=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let W=G===z||!l&&G.startsWith(z)&&G.charAt(fe)==="/",I=J!=null&&(J===z||!l&&J.startsWith(z)&&J.charAt(z.length)==="/"),ye={isActive:W,isPending:I,isTransitioning:P},Se=W?e:void 0,F;typeof a=="function"?F=a(ye):F=[a,W?"active":null,I?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let oe=typeof u=="function"?u(ye):u;return O.createElement(Xr,{...p,"aria-current":Se,className:F,ref:_,style:oe,to:f,viewTransition:h},typeof m=="function"?m(ye):m)});mR.displayName="NavLink";var pR=O.forwardRef(({discover:n="render",fetcherKey:e,navigate:r,reloadDocument:a,replace:l,state:u,method:f=bu,action:h,onSubmit:m,relative:p,preventScrollReset:_,viewTransition:v,...E},b)=>{let A=ER(),H=SR(h,{relative:p}),P=f.toLowerCase()==="get"?"get":"post",z=typeof h=="string"&&dE.test(h),G=J=>{if(m&&m(J),J.defaultPrevented)return;J.preventDefault();let fe=J.nativeEvent.submitter,W=(fe==null?void 0:fe.getAttribute("formmethod"))||f;A(fe||J.currentTarget,{fetcherKey:e,method:W,navigate:r,replace:l,state:u,relative:p,preventScrollReset:_,viewTransition:v})};return O.createElement("form",{ref:b,method:P,action:H,onSubmit:a?m:G,...E,"data-discover":!z&&n==="render"?"true":void 0})});pR.displayName="Form";function gR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hE(n){let e=O.useContext(ua);return xe(e,gR(n)),e}function _R(n,{target:e,replace:r,state:a,preventScrollReset:l,relative:u,viewTransition:f}={}){let h=vC(),m=ca(),p=Ql(n,{relative:u});return O.useCallback(_=>{if(YC(_,e)){_.preventDefault();let v=r!==void 0?r:_r(m)===_r(p);h(n,{replace:v,state:a,preventScrollReset:l,relative:u,viewTransition:f})}},[m,h,p,r,a,e,n,l,u,f])}var yR=0,vR=()=>`__${String(++yR)}__`;function ER(){let{router:n}=hE("useSubmit"),{basename:e}=O.useContext(ti),r=MC();return O.useCallback(async(a,l={})=>{let{action:u,method:f,encType:h,formData:m,body:p}=$C(a,e);if(l.navigate===!1){let _=l.fetcherKey||vR();await n.fetch(_,r,l.action||u,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await n.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,e,r])}function SR(n,{relative:e}={}){let{basename:r}=O.useContext(ti),a=O.useContext(ni);xe(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),u={...Ql(n||".",{relative:e})},f=ca();if(n==null){u.search=f.search;let h=new URLSearchParams(u.search),m=h.getAll("index");if(m.some(_=>_==="")){h.delete("index"),m.filter(v=>v).forEach(v=>h.append("index",v));let _=h.toString();u.search=_?`?${_}`:""}}return(!n||n===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Xn([r,u.pathname])),_r(u)}function bR(n,e={}){let r=O.useContext(Nh);xe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=hE("useViewTransitionState"),l=Ql(n,{relative:e.relative});if(!r.isTransitioning)return!1;let u=Hn(r.currentLocation.pathname,a)||r.currentLocation.pathname,f=Hn(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Ou(l.pathname,f)!=null||Ou(l.pathname,u)!=null}new TextEncoder;var TR=Xv();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wR(n){return O.createElement(PC,{flushSync:TR.flushSync,...n})}const ic=O.createContext(),mE=({children:n})=>{const[e,r]=O.useState(0);return Q.jsx(ic.Provider,{value:{score:e,setScore:r},children:n})},pE=O.createContext(),CR=({children:n})=>{const[e,r]=O.useState(!0);return Q.jsx(pE.Provider,{value:{isRunning:e,setIsRunning:r},children:n})},gE=O.createContext(),RR=({children:n})=>{const[e,r]=O.useState(50);return Q.jsx(gE.Provider,{value:{volume:e,setVolume:r},children:n})},_E=()=>O.useContext(pE),Lh=()=>O.useContext(gE),AR=({children:n})=>Q.jsx(CR,{children:Q.jsx(mE,{children:Q.jsxs(RR,{children:[" ",n]})})}),yE=({isPlaying:n})=>{const{volume:e}=Lh(),r=O.useRef(null);return O.useEffect(()=>{r.current&&(r.current.volume=e/100)},[e]),O.useEffect(()=>{const a=r.current;a&&(n?(async()=>{try{await a.play()}catch(u){console.log("❌ Autoplay blocked, retrying on user interaction:",u)}})():(a.pause(),a.currentTime=0))},[n]),Q.jsx("audio",{ref:r,src:"/static/TTD_01.mp3",preload:"auto",loop:!0})},NR=()=>{const{score:n}=O.useContext(ic),{volume:e,setVolume:r}=Lh();return Q.jsxs("nav",{className:"navbar navbar-expand-lg bg-body-tertiary",children:[Q.jsxs("div",{className:"container-fluid",children:[Q.jsx(Xr,{className:"navbar-brand",to:"/",children:"Dino Dash"}),Q.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Q.jsx("span",{className:"navbar-toggler-icon"})}),Q.jsx("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Q.jsxs("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0 d-flex align-items-center",children:[Q.jsx("li",{className:"nav-item",children:Q.jsx(Xr,{className:"nav-link active","aria-current":"page",to:"/",children:"Home"})}),Q.jsx("li",{className:"nav-item",children:Q.jsx(Xr,{className:"nav-link",to:"/highscorespage",children:"High Scores"})}),Q.jsx("li",{className:"nav-item",children:Q.jsx(Xr,{className:"nav-link",to:"/adminpage",children:"Admin"})}),Q.jsx("li",{className:"nav-item",children:Q.jsx(Xr,{className:"nav-link",to:"/OptionsPage",children:"Options"})}),Q.jsxs("div",{className:"nav-score",children:["Score: ",n]})]})}),Q.jsxs("div",{className:"volume-control",children:[Q.jsx("label",{htmlFor:"volume",children:"Volume:"}),Q.jsx("input",{id:"volume",type:"range",min:"0",max:"100",value:e,onChange:a=>r(a.target.value)})]})]}),Q.jsx(yE,{volume:e})]})},DR=()=>Q.jsxs(mE,{children:[" ",Q.jsxs("div",{children:[Q.jsx(NR,{}),Q.jsxs("div",{className:"container-fluid",children:[Q.jsx(BC,{})," "]})]})]});var My={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K=function(n,e){if(!n)throw us(e)},us=function(n){return new Error("Firebase Database ("+vE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=function(n){const e=[];let r=0;for(let a=0;a<n.length;a++){let l=n.charCodeAt(a);l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):(l&64512)===55296&&a+1<n.length&&(n.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++a)&1023),e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},OR=function(n){const e=[];let r=0,a=0;for(;r<n.length;){const l=n[r++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=n[r++];e[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=n[r++],f=n[r++],h=n[r++],m=((l&7)<<18|(u&63)<<12|(f&63)<<6|h&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const u=n[r++],f=n[r++];e[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},kh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<n.length;l+=3){const u=n[l],f=l+1<n.length,h=f?n[l+1]:0,m=l+2<n.length,p=m?n[l+2]:0,_=u>>2,v=(u&3)<<4|h>>4;let E=(h&15)<<2|p>>6,b=p&63;m||(b=64,f||(E=64)),a.push(r[_],r[v],r[E],r[b])}return a.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(EE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):OR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<n.length;){const u=r[n.charAt(l++)],h=l<n.length?r[n.charAt(l)]:0;++l;const p=l<n.length?r[n.charAt(l)]:64;++l;const v=l<n.length?r[n.charAt(l)]:64;if(++l,u==null||h==null||p==null||v==null)throw new IR;const E=u<<2|h>>4;if(a.push(E),p!==64){const b=h<<4&240|p>>2;if(a.push(b),v!==64){const A=p<<6&192|v;a.push(A)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class IR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SE=function(n){const e=EE(n);return kh.encodeByteArray(e,!0)},Mu=function(n){return SE(n).replace(/\./g,"")},xu=function(n){try{return kh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(n){return bE(void 0,n)}function bE(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!xR(r)||(n[r]=bE(n[r],e[r]));return n}function xR(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=()=>LR().__FIREBASE_DEFAULTS__,UR=()=>{if(typeof process>"u"||typeof My>"u")return;const n=My.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},PR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&xu(n[1]);return e&&JSON.parse(e)},Uh=()=>{try{return kR()||UR()||PR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},TE=n=>{var e,r;return(r=(e=Uh())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[n]},zR=n=>{const e=TE(n);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),a]:[e.substring(0,r),a]},wE=()=>{var n;return(n=Uh())===null||n===void 0?void 0:n.config},CE=n=>{var e;return(e=Uh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,a)=>{r?this.reject(r):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},a=e||"demo-project",l=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Mu(JSON.stringify(r)),Mu(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ph(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function BR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function AE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jR(){const n=Gt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function qR(){return vE.NODE_ADMIN===!0}function NE(){try{return typeof indexedDB=="object"}catch{return!1}}function DE(){return new Promise((n,e)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(a),n(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){e(r)}})}function VR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="FirebaseError";class ii extends Error{constructor(e,r,a){super(r),this.code=e,this.customData=a,this.name=FR,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fa.prototype.create)}}class fa{constructor(e,r,a){this.service=e,this.serviceName=r,this.errors=a}create(e,...r){const a=r[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?GR(u,a):"Error",h=`${this.serviceName}: ${f} (${l}).`;return new ii(l,h,a)}}function GR(n,e){return n.replace(YR,(r,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const YR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(n){return JSON.parse(n)}function Et(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=function(n){let e={},r={},a={},l="";try{const u=n.split(".");e=xl(xu(u[0])||""),r=xl(xu(u[1])||""),l=u[2],a=r.d||{},delete r.d}catch{}return{header:e,claims:r,data:a,signature:l}},KR=function(n){const e=OE(n),r=e.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},QR=function(n){const e=OE(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function rs(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function ih(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Lu(n,e,r){const a={};for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(a[l]=e.call(r,n[l],l,n));return a}function Ll(n,e){if(n===e)return!0;const r=Object.keys(n),a=Object.keys(e);for(const l of r){if(!a.includes(l))return!1;const u=n[l],f=e[l];if(xy(u)&&xy(f)){if(!Ll(u,f))return!1}else if(u!==f)return!1}for(const l of a)if(!r.includes(l))return!1;return!0}function xy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(n){const e=[];for(const[r,a]of Object.entries(n))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,r){r||(r=0);const a=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)a[v]=e.charCodeAt(r)<<24|e.charCodeAt(r+1)<<16|e.charCodeAt(r+2)<<8|e.charCodeAt(r+3),r+=4;else for(let v=0;v<16;v++)a[v]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r+=4;for(let v=16;v<80;v++){const E=a[v-3]^a[v-8]^a[v-14]^a[v-16];a[v]=(E<<1|E>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],f=this.chain_[2],h=this.chain_[3],m=this.chain_[4],p,_;for(let v=0;v<80;v++){v<40?v<20?(p=h^u&(f^h),_=1518500249):(p=u^f^h,_=1859775393):v<60?(p=u&f|h&(u|f),_=2400959708):(p=u^f^h,_=3395469782);const E=(l<<5|l>>>27)+p+m+_+a[v]&4294967295;m=h,h=f,f=(u<<30|u>>>2)&4294967295,u=l,l=E}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,r){if(e==null)return;r===void 0&&(r=e.length);const a=r-this.blockSize;let l=0;const u=this.buf_;let f=this.inbuf_;for(;l<r;){if(f===0)for(;l<=a;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<r;)if(u[f]=e.charCodeAt(l),++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}else for(;l<r;)if(u[f]=e[l],++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=r}digest(){const e=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=r&255,r/=256;this.compress_(this.buf_);let a=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[a]=this.chain_[l]>>u&255,++a;return e}}function XR(n,e){const r=new WR(n,e);return r.subscribe.bind(r)}class WR{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,a){let l;if(e===void 0&&r===void 0&&a===void 0)throw new Error("Missing Observer.");ZR(e,["next","error","complete"])?l=e:l={next:e,error:r,complete:a},l.next===void 0&&(l.next=Pd),l.error===void 0&&(l.error=Pd),l.complete===void 0&&(l.complete=Pd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZR(n,e){if(typeof n!="object"||n===null)return!1;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}function Pd(){}function zh(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=function(n){const e=[];let r=0;for(let a=0;a<n.length;a++){let l=n.charCodeAt(a);if(l>=55296&&l<=56319){const u=l-55296;a++,K(a<n.length,"Surrogate pair missing trail surrogate.");const f=n.charCodeAt(a)-56320;l=65536+(u<<10)+f}l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):l<65536?(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},ac=function(n){let e=0;for(let r=0;r<n.length;r++){const a=n.charCodeAt(r);a<128?e++:a<2048?e+=2:a>=55296&&a<=56319?(e+=4,r++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=1e3,tA=2,nA=4*60*60*1e3,iA=.5;function Ly(n,e=eA,r=tA){const a=e*Math.pow(r,n),l=Math.round(iA*a*(Math.random()-.5)*2);return Math.min(nA,a+l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(n){return n&&n._delegate?n._delegate:n}class Bn{constructor(e,r,a){this.name=e,this.instanceFactory=r,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const a=new rc;if(this.instancesDeferred.set(r,a),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sA(e))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(e=Kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Kr){return this.instances.has(e)}getOptions(e=Kr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:r});for(const[u,f]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);a===h&&f.resolve(l)}return l}onInit(e,r){var a;const l=this.normalizeInstanceIdentifier(r),u=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&e(f,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,r){const a=this.onInitCallbacks.get(r);if(a)for(const l of a)try{l(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:aA(e),options:r}),this.instances.set(e,a),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Kr){return this.component?this.component.multipleInstances?e:Kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aA(n){return n===Kr?void 0:n}function sA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new rA(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const oA={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},uA=Fe.INFO,cA={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},fA=(n,e,...r)=>{if(e<n.logLevel)return;const a=new Date().toISOString(),l=cA[e];if(l)console[l](`[${a}]  ${n.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sc{constructor(e){this.name=e,this._logLevel=uA,this._logHandler=fA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const dA=(n,e)=>e.some(r=>n instanceof r);let ky,Uy;function hA(){return ky||(ky=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mA(){return Uy||(Uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IE=new WeakMap,rh=new WeakMap,ME=new WeakMap,zd=new WeakMap,Hh=new WeakMap;function pA(n){const e=new Promise((r,a)=>{const l=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{r(hr(n.result)),l()},f=()=>{a(n.error),l()};n.addEventListener("success",u),n.addEventListener("error",f)});return e.then(r=>{r instanceof IDBCursor&&IE.set(r,n)}).catch(()=>{}),Hh.set(e,n),e}function gA(n){if(rh.has(n))return;const e=new Promise((r,a)=>{const l=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{r(),l()},f=()=>{a(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});rh.set(n,e)}let ah={get(n,e,r){if(n instanceof IDBTransaction){if(e==="done")return rh.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ME.get(n);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return hr(n[e])},set(n,e,r){return n[e]=r,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function _A(n){ah=n(ah)}function yA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const a=n.call(Hd(this),e,...r);return ME.set(a,e.sort?e.sort():[e]),hr(a)}:mA().includes(n)?function(...e){return n.apply(Hd(this),e),hr(IE.get(this))}:function(...e){return hr(n.apply(Hd(this),e))}}function vA(n){return typeof n=="function"?yA(n):(n instanceof IDBTransaction&&gA(n),dA(n,hA())?new Proxy(n,ah):n)}function hr(n){if(n instanceof IDBRequest)return pA(n);if(zd.has(n))return zd.get(n);const e=vA(n);return e!==n&&(zd.set(n,e),Hh.set(e,n)),e}const Hd=n=>Hh.get(n);function xE(n,e,{blocked:r,upgrade:a,blocking:l,terminated:u}={}){const f=indexedDB.open(n,e),h=hr(f);return a&&f.addEventListener("upgradeneeded",m=>{a(hr(f.result),m.oldVersion,m.newVersion,hr(f.transaction),m)}),r&&f.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),h.then(m=>{u&&m.addEventListener("close",()=>u()),l&&m.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const EA=["get","getKey","getAll","getAllKeys","count"],SA=["put","add","delete","clear"],Bd=new Map;function Py(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Bd.get(e))return Bd.get(e);const r=e.replace(/FromIndex$/,""),a=e!==r,l=SA.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(l||EA.includes(r)))return;const u=async function(f,...h){const m=this.transaction(f,l?"readwrite":"readonly");let p=m.store;return a&&(p=p.index(h.shift())),(await Promise.all([p[r](...h),l&&m.done]))[0]};return Bd.set(e,u),u}_A(n=>({...n,get:(e,r,a)=>Py(e,r)||n.get(e,r,a),has:(e,r)=>!!Py(e,r)||n.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(TA(r)){const a=r.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(r=>r).join(" ")}}function TA(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sh="@firebase/app",zy="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new sc("@firebase/app"),wA="@firebase/app-compat",CA="@firebase/analytics-compat",RA="@firebase/analytics",AA="@firebase/app-check-compat",NA="@firebase/app-check",DA="@firebase/auth",OA="@firebase/auth-compat",IA="@firebase/database",MA="@firebase/data-connect",xA="@firebase/database-compat",LA="@firebase/functions",kA="@firebase/functions-compat",UA="@firebase/installations",PA="@firebase/installations-compat",zA="@firebase/messaging",HA="@firebase/messaging-compat",BA="@firebase/performance",jA="@firebase/performance-compat",qA="@firebase/remote-config",VA="@firebase/remote-config-compat",FA="@firebase/storage",GA="@firebase/storage-compat",YA="@firebase/firestore",KA="@firebase/vertexai",QA="@firebase/firestore-compat",$A="firebase",XA="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh="[DEFAULT]",WA={[sh]:"fire-core",[wA]:"fire-core-compat",[RA]:"fire-analytics",[CA]:"fire-analytics-compat",[NA]:"fire-app-check",[AA]:"fire-app-check-compat",[DA]:"fire-auth",[OA]:"fire-auth-compat",[IA]:"fire-rtdb",[MA]:"fire-data-connect",[xA]:"fire-rtdb-compat",[LA]:"fire-fn",[kA]:"fire-fn-compat",[UA]:"fire-iid",[PA]:"fire-iid-compat",[zA]:"fire-fcm",[HA]:"fire-fcm-compat",[BA]:"fire-perf",[jA]:"fire-perf-compat",[qA]:"fire-rc",[VA]:"fire-rc-compat",[FA]:"fire-gcs",[GA]:"fire-gcs-compat",[YA]:"fire-fst",[QA]:"fire-fst-compat",[KA]:"fire-vertex","fire-js":"fire-js",[$A]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=new Map,ZA=new Map,oh=new Map;function Hy(n,e){try{n.container.addComponent(e)}catch(r){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,r)}}function Zn(n){const e=n.name;if(oh.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;oh.set(e,n);for(const r of ku.values())Hy(r,n);for(const r of ZA.values())Hy(r,n);return!0}function da(n,e){const r=n.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),n.container.getProvider(e)}function Ri(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new fa("app","Firebase",JA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,r,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Bn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=XA;function LE(n,e={}){let r=n;typeof e!="object"&&(e={name:e});const a=Object.assign({name:lh,automaticDataCollectionEnabled:!1},e),l=a.name;if(typeof l!="string"||!l)throw mr.create("bad-app-name",{appName:String(l)});if(r||(r=wE()),!r)throw mr.create("no-options");const u=ku.get(l);if(u){if(Ll(r,u.options)&&Ll(a,u.config))return u;throw mr.create("duplicate-app",{appName:l})}const f=new lA(l);for(const m of oh.values())f.addComponent(m);const h=new e1(r,a,f);return ku.set(l,h),h}function Bh(n=lh){const e=ku.get(n);if(!e&&n===lh&&wE())return LE();if(!e)throw mr.create("no-app",{appName:n});return e}function Rn(n,e,r){var a;let l=(a=WA[n])!==null&&a!==void 0?a:n;r&&(l+=`-${r}`);const u=l.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const h=[`Unable to register library "${l}" with version "${e}":`];u&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&h.push("and"),f&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(h.join(" "));return}Zn(new Bn(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="firebase-heartbeat-database",n1=1,kl="firebase-heartbeat-store";let jd=null;function kE(){return jd||(jd=xE(t1,n1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(kl)}catch(r){console.warn(r)}}}}).catch(n=>{throw mr.create("idb-open",{originalErrorMessage:n.message})})),jd}async function i1(n){try{const r=(await kE()).transaction(kl),a=await r.objectStore(kl).get(UE(n));return await r.done,a}catch(e){if(e instanceof ii)Mi.warn(e.message);else{const r=mr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(r.message)}}}async function By(n,e){try{const a=(await kE()).transaction(kl,"readwrite");await a.objectStore(kl).put(e,UE(n)),await a.done}catch(r){if(r instanceof ii)Mi.warn(r.message);else{const a=mr.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Mi.warn(a.message)}}}function UE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=1024,a1=30*24*60*60*1e3;class s1{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new o1(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=jy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const h=new Date(f.date).valueOf();return Date.now()-h<=a1}),this._storage.overwrite(this._heartbeatsCache))}catch(a){Mi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=jy(),{heartbeatsToSend:a,unsentEntries:l}=l1(this._heartbeatsCache.heartbeats),u=Mu(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return Mi.warn(r),""}}}function jy(){return new Date().toISOString().substring(0,10)}function l1(n,e=r1){const r=[];let a=n.slice();for(const l of n){const u=r.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),qy(r)>e){u.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),qy(r)>e){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class o1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NE()?DE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await i1(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return By(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return By(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function qy(n){return Mu(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(n){Zn(new Bn("platform-logger",e=>new bA(e),"PRIVATE")),Zn(new Bn("heartbeat",e=>new s1(e),"PRIVATE")),Rn(sh,zy,n),Rn(sh,zy,"esm2017"),Rn("fire-js","")}u1("");var c1="firebase",f1="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn(c1,f1,"app");const PE="@firebase/installations",jh="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=1e4,HE=`w:${jh}`,BE="FIS_v2",d1="https://firebaseinstallations.googleapis.com/v1",h1=60*60*1e3,m1="installations",p1="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ia=new fa(m1,p1,g1);function jE(n){return n instanceof ii&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE({projectId:n}){return`${d1}/projects/${n}/installations`}function VE(n){return{token:n.token,requestStatus:2,expiresIn:y1(n.expiresIn),creationTime:Date.now()}}async function FE(n,e){const a=(await e.json()).error;return ia.create("request-failed",{requestName:n,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function GE({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function _1(n,{refreshToken:e}){const r=GE(n);return r.append("Authorization",v1(e)),r}async function YE(n){const e=await n();return e.status>=500&&e.status<600?n():e}function y1(n){return Number(n.replace("s","000"))}function v1(n){return`${BE} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1({appConfig:n,heartbeatServiceProvider:e},{fid:r}){const a=qE(n),l=GE(n),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&l.append("x-firebase-client",p)}const f={fid:r,authVersion:BE,appId:n.appId,sdkVersion:HE},h={method:"POST",headers:l,body:JSON.stringify(f)},m=await YE(()=>fetch(a,h));if(m.ok){const p=await m.json();return{fid:p.fid||r,registrationStatus:2,refreshToken:p.refreshToken,authToken:VE(p.authToken)}}else throw await FE("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=/^[cdef][\w-]{21}$/,uh="";function T1(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const r=w1(n);return b1.test(r)?r:uh}catch{return uh}}function w1(n){return S1(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Map;function $E(n,e){const r=lc(n);XE(r,e),C1(r,e)}function XE(n,e){const r=QE.get(n);if(r)for(const a of r)a(e)}function C1(n,e){const r=R1();r&&r.postMessage({key:n,fid:e}),A1()}let Zr=null;function R1(){return!Zr&&"BroadcastChannel"in self&&(Zr=new BroadcastChannel("[Firebase] FID Change"),Zr.onmessage=n=>{XE(n.data.key,n.data.fid)}),Zr}function A1(){QE.size===0&&Zr&&(Zr.close(),Zr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="firebase-installations-database",D1=1,ra="firebase-installations-store";let qd=null;function qh(){return qd||(qd=xE(N1,D1,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(ra)}}})),qd}async function Uu(n,e){const r=lc(n),l=(await qh()).transaction(ra,"readwrite"),u=l.objectStore(ra),f=await u.get(r);return await u.put(e,r),await l.done,(!f||f.fid!==e.fid)&&$E(n,e.fid),e}async function WE(n){const e=lc(n),a=(await qh()).transaction(ra,"readwrite");await a.objectStore(ra).delete(e),await a.done}async function oc(n,e){const r=lc(n),l=(await qh()).transaction(ra,"readwrite"),u=l.objectStore(ra),f=await u.get(r),h=e(f);return h===void 0?await u.delete(r):await u.put(h,r),await l.done,h&&(!f||f.fid!==h.fid)&&$E(n,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(n){let e;const r=await oc(n.appConfig,a=>{const l=O1(a),u=I1(n,l);return e=u.registrationPromise,u.installationEntry});return r.fid===uh?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function O1(n){const e=n||{fid:T1(),registrationStatus:0};return ZE(e)}function I1(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(ia.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=M1(n,r);return{installationEntry:r,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:x1(n)}:{installationEntry:e}}async function M1(n,e){try{const r=await E1(n,e);return Uu(n.appConfig,r)}catch(r){throw jE(r)&&r.customData.serverCode===409?await WE(n.appConfig):await Uu(n.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function x1(n){let e=await Vy(n.appConfig);for(;e.registrationStatus===1;)await KE(100),e=await Vy(n.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:a}=await Vh(n);return a||r}return e}function Vy(n){return oc(n,e=>{if(!e)throw ia.create("installation-not-found");return ZE(e)})}function ZE(n){return L1(n)?{fid:n.fid,registrationStatus:0}:n}function L1(n){return n.registrationStatus===1&&n.registrationTime+zE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k1({appConfig:n,heartbeatServiceProvider:e},r){const a=U1(n,r),l=_1(n,r),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&l.append("x-firebase-client",p)}const f={installation:{sdkVersion:HE,appId:n.appId}},h={method:"POST",headers:l,body:JSON.stringify(f)},m=await YE(()=>fetch(a,h));if(m.ok){const p=await m.json();return VE(p)}else throw await FE("Generate Auth Token",m)}function U1(n,{fid:e}){return`${qE(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(n,e=!1){let r;const a=await oc(n.appConfig,u=>{if(!JE(u))throw ia.create("not-registered");const f=u.authToken;if(!e&&H1(f))return u;if(f.requestStatus===1)return r=P1(n,e),u;{if(!navigator.onLine)throw ia.create("app-offline");const h=j1(u);return r=z1(n,h),h}});return r?await r:a.authToken}async function P1(n,e){let r=await Fy(n.appConfig);for(;r.authToken.requestStatus===1;)await KE(100),r=await Fy(n.appConfig);const a=r.authToken;return a.requestStatus===0?Fh(n,e):a}function Fy(n){return oc(n,e=>{if(!JE(e))throw ia.create("not-registered");const r=e.authToken;return q1(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function z1(n,e){try{const r=await k1(n,e),a=Object.assign(Object.assign({},e),{authToken:r});return await Uu(n.appConfig,a),r}catch(r){if(jE(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await WE(n.appConfig);else{const a=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Uu(n.appConfig,a)}throw r}}function JE(n){return n!==void 0&&n.registrationStatus===2}function H1(n){return n.requestStatus===2&&!B1(n)}function B1(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+h1}function j1(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function q1(n){return n.requestStatus===1&&n.requestTime+zE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V1(n){const e=n,{installationEntry:r,registrationPromise:a}=await Vh(e);return a?a.catch(console.error):Fh(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F1(n,e=!1){const r=n;return await G1(r),(await Fh(r,e)).token}async function G1(n){const{registrationPromise:e}=await Vh(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(n){if(!n||!n.options)throw Vd("App Configuration");if(!n.name)throw Vd("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!n.options[r])throw Vd(r);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Vd(n){return ia.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="installations",K1="installations-internal",Q1=n=>{const e=n.getProvider("app").getImmediate(),r=Y1(e),a=da(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},$1=n=>{const e=n.getProvider("app").getImmediate(),r=da(e,eS).getImmediate();return{getId:()=>V1(r),getToken:l=>F1(r,l)}};function X1(){Zn(new Bn(eS,Q1,"PUBLIC")),Zn(new Bn(K1,$1,"PRIVATE"))}X1();Rn(PE,jh);Rn(PE,jh,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu="analytics",W1="firebase_id",Z1="origin",J1=60*1e3,eN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gh="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt=new sc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},on=new fa("analytics","Analytics",tN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(n){if(!n.startsWith(Gh)){const e=on.create("invalid-gtag-resource",{gtagURL:n});return Wt.warn(e.message),""}return n}function tS(n){return Promise.all(n.map(e=>e.catch(r=>r)))}function iN(n,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(n,e)),r}function rN(n,e){const r=iN("firebase-js-sdk-policy",{createScriptURL:nN}),a=document.createElement("script"),l=`${Gh}?l=${n}&id=${e}`;a.src=r?r==null?void 0:r.createScriptURL(l):l,a.async=!0,document.head.appendChild(a)}function aN(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function sN(n,e,r,a,l,u){const f=a[l];try{if(f)await e[f];else{const m=(await tS(r)).find(p=>p.measurementId===l);m&&await e[m.appId]}}catch(h){Wt.error(h)}n("config",l,u)}async function lN(n,e,r,a,l){try{let u=[];if(l&&l.send_to){let f=l.send_to;Array.isArray(f)||(f=[f]);const h=await tS(r);for(const m of f){const p=h.find(v=>v.measurementId===m),_=p&&e[p.appId];if(_)u.push(_);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),n("event",a,l||{})}catch(u){Wt.error(u)}}function oN(n,e,r,a){async function l(u,...f){try{if(u==="event"){const[h,m]=f;await lN(n,e,r,h,m)}else if(u==="config"){const[h,m]=f;await sN(n,e,r,a,h,m)}else if(u==="consent"){const[h,m]=f;n("consent",h,m)}else if(u==="get"){const[h,m,p]=f;n("get",h,m,p)}else if(u==="set"){const[h]=f;n("set",h)}else n(u,...f)}catch(h){Wt.error(h)}}return l}function uN(n,e,r,a,l){let u=function(...f){window[a].push(arguments)};return window[l]&&typeof window[l]=="function"&&(u=window[l]),window[l]=oN(u,n,e,r),{gtagCore:u,wrappedGtag:window[l]}}function cN(n){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(Gh)&&r.src.includes(n))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=30,dN=1e3;class hN{constructor(e={},r=dN){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const nS=new hN;function mN(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function pN(n){var e;const{appId:r,apiKey:a}=n,l={method:"GET",headers:mN(a)},u=eN.replace("{app-id}",r),f=await fetch(u,l);if(f.status!==200&&f.status!==304){let h="";try{const m=await f.json();!((e=m.error)===null||e===void 0)&&e.message&&(h=m.error.message)}catch{}throw on.create("config-fetch-failed",{httpStatus:f.status,responseMessage:h})}return f.json()}async function gN(n,e=nS,r){const{appId:a,apiKey:l,measurementId:u}=n.options;if(!a)throw on.create("no-app-id");if(!l){if(u)return{measurementId:u,appId:a};throw on.create("no-api-key")}const f=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new vN;return setTimeout(async()=>{h.abort()},J1),iS({appId:a,apiKey:l,measurementId:u},f,h,e)}async function iS(n,{throttleEndTimeMillis:e,backoffCount:r},a,l=nS){var u;const{appId:f,measurementId:h}=n;try{await _N(a,e)}catch(m){if(h)return Wt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:f,measurementId:h};throw m}try{const m=await pN(n);return l.deleteThrottleMetadata(f),m}catch(m){const p=m;if(!yN(p)){if(l.deleteThrottleMetadata(f),h)return Wt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:h};throw m}const _=Number((u=p==null?void 0:p.customData)===null||u===void 0?void 0:u.httpStatus)===503?Ly(r,l.intervalMillis,fN):Ly(r,l.intervalMillis),v={throttleEndTimeMillis:Date.now()+_,backoffCount:r+1};return l.setThrottleMetadata(f,v),Wt.debug(`Calling attemptFetch again in ${_} millis`),iS(n,v,a,l)}}function _N(n,e){return new Promise((r,a)=>{const l=Math.max(e-Date.now(),0),u=setTimeout(r,l);n.addEventListener(()=>{clearTimeout(u),a(on.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function yN(n){if(!(n instanceof ii)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class vN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function EN(n,e,r,a,l){if(l&&l.global){n("event",r,a);return}else{const u=await e,f=Object.assign(Object.assign({},a),{send_to:u});n("event",r,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(){if(NE())try{await DE()}catch(n){return Wt.warn(on.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Wt.warn(on.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function bN(n,e,r,a,l,u,f){var h;const m=gN(n);m.then(b=>{r[b.measurementId]=b.appId,n.options.measurementId&&b.measurementId!==n.options.measurementId&&Wt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Wt.error(b)),e.push(m);const p=SN().then(b=>{if(b)return a.getId()}),[_,v]=await Promise.all([m,p]);cN(u)||rN(u,_.measurementId),l("js",new Date);const E=(h=f==null?void 0:f.config)!==null&&h!==void 0?h:{};return E[Z1]="firebase",E.update=!0,v!=null&&(E[W1]=v),l("config",_.measurementId,E),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.app=e}_delete(){return delete wl[this.app.options.appId],Promise.resolve()}}let wl={},Gy=[];const Yy={};let Fd="dataLayer",wN="gtag",Ky,rS,Qy=!1;function CN(){const n=[];if(RE()&&n.push("This is a browser extension environment."),VR()||n.push("Cookies are not available."),n.length>0){const e=n.map((a,l)=>`(${l+1}) ${a}`).join(" "),r=on.create("invalid-analytics-context",{errorInfo:e});Wt.warn(r.message)}}function RN(n,e,r){CN();const a=n.options.appId;if(!a)throw on.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Wt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw on.create("no-api-key");if(wl[a]!=null)throw on.create("already-exists",{id:a});if(!Qy){aN(Fd);const{wrappedGtag:u,gtagCore:f}=uN(wl,Gy,Yy,Fd,wN);rS=u,Ky=f,Qy=!0}return wl[a]=bN(n,Gy,Yy,e,Ky,Fd,r),new TN(n)}function AN(n=Bh()){n=Yt(n);const e=da(n,Pu);return e.isInitialized()?e.getImmediate():NN(n)}function NN(n,e={}){const r=da(n,Pu);if(r.isInitialized()){const l=r.getImmediate();if(Ll(e,r.getOptions()))return l;throw on.create("already-initialized")}return r.initialize({options:e})}function DN(n,e,r,a){n=Yt(n),EN(rS,wl[n.app.options.appId],e,r,a).catch(l=>Wt.error(l))}const $y="@firebase/analytics",Xy="0.10.11";function ON(){Zn(new Bn(Pu,(e,{options:r})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("installations-internal").getImmediate();return RN(a,l,r)},"PUBLIC")),Zn(new Bn("analytics-internal",n,"PRIVATE")),Rn($y,Xy),Rn($y,Xy,"esm2017");function n(e){try{const r=e.getProvider(Pu).getImmediate();return{logEvent:(a,l,u)=>DN(r,a,l,u)}}catch(r){throw on.create("interop-component-reg-failed",{reason:r})}}}ON();var Wy={};const Zy="@firebase/database",Jy="1.0.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aS="";function IN(n){aS=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,r){r==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Et(r))}get(e){const r=this.domStorage_.getItem(this.prefixedName_(e));return r==null?null:xl(r)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,r){r==null?delete this.cache_[e]:this.cache_[e]=r}get(e){return ki(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new MN(e)}}catch{}return new xN},Jr=sS("localStorage"),LN=sS("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=new sc("@firebase/database"),kN=function(){let n=1;return function(){return n++}}(),lS=function(n){const e=JR(n),r=new $R;r.update(e);const a=r.digest();return kh.encodeByteArray(a)},$l=function(...n){let e="";for(let r=0;r<n.length;r++){const a=n[r];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?e+=$l.apply(null,a):typeof a=="object"?e+=Et(a):e+=a,e+=" "}return e};let Cl=null,ev=!0;const UN=function(n,e){K(!0,"Can't turn on custom loggers persistently."),Ja.logLevel=Fe.VERBOSE,Cl=Ja.log.bind(Ja)},jt=function(...n){if(ev===!0&&(ev=!1,Cl===null&&LN.get("logging_enabled")===!0&&UN()),Cl){const e=$l.apply(null,n);Cl(e)}},Xl=function(n){return function(...e){jt(n,...e)}},ch=function(...n){const e="FIREBASE INTERNAL ERROR: "+$l(...n);Ja.error(e)},xi=function(...n){const e=`FIREBASE FATAL ERROR: ${$l(...n)}`;throw Ja.error(e),new Error(e)},Zt=function(...n){const e="FIREBASE WARNING: "+$l(...n);Ja.warn(e)},PN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Zt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},oS=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},zN=function(n){if(document.readyState==="complete")n();else{let e=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},as="[MIN_NAME]",aa="[MAX_NAME]",ds=function(n,e){if(n===e)return 0;if(n===as||e===aa)return-1;if(e===as||n===aa)return 1;{const r=tv(n),a=tv(e);return r!==null?a!==null?r-a===0?n.length-e.length:r-a:-1:a!==null?1:n<e?-1:1}},HN=function(n,e){return n===e?0:n<e?-1:1},vl=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Et(e))},Yh=function(n){if(typeof n!="object"||n===null)return Et(n);const e=[];for(const a in n)e.push(a);e.sort();let r="{";for(let a=0;a<e.length;a++)a!==0&&(r+=","),r+=Et(e[a]),r+=":",r+=Yh(n[e[a]]);return r+="}",r},uS=function(n,e){const r=n.length;if(r<=e)return[n];const a=[];for(let l=0;l<r;l+=e)l+e>r?a.push(n.substring(l,r)):a.push(n.substring(l,l+e));return a};function Jt(n,e){for(const r in n)n.hasOwnProperty(r)&&e(r,n[r])}const cS=function(n){K(!oS(n),"Invalid JSON number");const e=11,r=52,a=(1<<e-1)-1;let l,u,f,h,m;n===0?(u=0,f=0,l=1/n===-1/0?1:0):(l=n<0,n=Math.abs(n),n>=Math.pow(2,1-a)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),a),u=h+a,f=Math.round(n*Math.pow(2,r-h)-Math.pow(2,r))):(u=0,f=Math.round(n/Math.pow(2,1-a-r))));const p=[];for(m=r;m;m-=1)p.push(f%2?1:0),f=Math.floor(f/2);for(m=e;m;m-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(l?1:0),p.reverse();const _=p.join("");let v="";for(m=0;m<64;m+=8){let E=parseInt(_.substr(m,8),2).toString(16);E.length===1&&(E="0"+E),v=v+E}return v.toLowerCase()},BN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},jN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function qN(n,e){let r="Unknown Error";n==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?r="Client doesn't have permission to access the desired data.":n==="unavailable"&&(r="The service is unavailable");const a=new Error(n+" at "+e._path.toString()+": "+r);return a.code=n.toUpperCase(),a}const VN=new RegExp("^-?(0*)\\d{1,10}$"),FN=-2147483648,GN=2147483647,tv=function(n){if(VN.test(n)){const e=Number(n);if(e>=FN&&e<=GN)return e}return null},hs=function(n){try{n()}catch(e){setTimeout(()=>{const r=e.stack||"";throw Zt("Exception was thrown by user callback.",r),e},Math.floor(0))}},YN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Rl=function(n,e){const r=setTimeout(n,e);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,r){this.appName_=e,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(a=>this.appCheck=a)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((r,a)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(r,a):r(null)},0)})}addTokenChangeListener(e){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(a=>a.addTokenListener(e))}notifyForInvalidToken(){Zt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,r,a){this.appName_=e,this.firebaseOptions_=r,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(r=>r&&r.code==="auth/token-not-initialized"?(jt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,a)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(r,a):r(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(r=>r.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(r=>r.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Zt(e)}}class wu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}wu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh="5",fS="v",dS="s",hS="r",mS="f",pS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gS="ls",_S="p",fh="ac",yS="websocket",vS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,r,a,l,u=!1,f="",h=!1,m=!1){this.secure=r,this.namespace=a,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Jr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Jr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${r}`}}function $N(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function SS(n,e,r){K(typeof e=="string","typeof type must == string"),K(typeof r=="object","typeof params must == object");let a;if(e===yS)a=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===vS)a=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);$N(n)&&(r.ns=n.namespace);const l=[];return Jt(r,(u,f)=>{l.push(u+"="+f)}),a+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.counters_={}}incrementCounter(e,r=1){ki(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=r}get(){return MR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd={},Yd={};function Qh(n){const e=n.toString();return Gd[e]||(Gd[e]=new XN),Gd[e]}function WN(n,e){const r=n.toString();return Yd[r]||(Yd[r]=e()),Yd[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,r){this.closeAfterResponse=e,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,r){for(this.pendingResponses[e]=r;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<a.length;++l)a[l]&&hs(()=>{this.onMessage_(a[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="start",JN="close",eD="pLPCommand",tD="pRTLPCB",bS="id",TS="pw",wS="ser",nD="cb",iD="seg",rD="ts",aD="d",sD="dframe",CS=1870,RS=30,lD=CS-RS,oD=25e3,uD=3e4;class Za{constructor(e,r,a,l,u,f,h){this.connId=e,this.repoInfo=r,this.applicationId=a,this.appCheckToken=l,this.authToken=u,this.transportSessionId=f,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xl(e),this.stats_=Qh(r),this.urlFn=m=>(this.appCheckToken&&(m[fh]=this.appCheckToken),SS(r,vS,m))}open(e,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new ZN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(uD)),zN(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $h((...u)=>{const[f,h,m,p,_]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===nv)this.id=h,this.password=m;else if(f===JN)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,h)},()=>{this.onClosed_()},this.urlFn);const a={};a[nv]="t",a[wS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[nD]=this.scriptTagHolder.uniqueCallbackIdentifier),a[fS]=Kh,this.transportSessionId&&(a[dS]=this.transportSessionId),this.lastSessionId&&(a[gS]=this.lastSessionId),this.applicationId&&(a[_S]=this.applicationId),this.appCheckToken&&(a[fh]=this.appCheckToken),typeof location<"u"&&location.hostname&&pS.test(location.hostname)&&(a[hS]=mS);const l=this.urlFn(a);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Za.forceAllow_=!0}static forceDisallow(){Za.forceDisallow_=!0}static isAvailable(){return Za.forceAllow_?!0:!Za.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!BN()&&!jN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const r=Et(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const a=SE(r),l=uS(a,lD);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,r){this.myDisconnFrame=document.createElement("iframe");const a={};a[sD]="t",a[bS]=e,a[TS]=r,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const r=Et(e).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class $h{constructor(e,r,a,l){this.onDisconnect=a,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=kN(),window[eD+this.uniqueCallbackIdentifier]=e,window[tD+this.uniqueCallbackIdentifier]=r,this.myIFrame=$h.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(h){jt("frame writing exception"),h.stack&&jt(h.stack),jt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||jt("No IE domain setting required")}catch{const a=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,r){for(this.myID=e,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[bS]=this.myID,e[TS]=this.myPW,e[wS]=this.currentSerial;let r=this.urlFn(e),a="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+RS+a.length<=CS;){const f=this.pendingSegs.shift();a=a+"&"+iD+l+"="+f.seg+"&"+rD+l+"="+f.ts+"&"+aD+l+"="+f.d,l++}return r=r+a,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(e,r,a){this.pendingSegs.push({seg:e,ts:r,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(e,r){this.outstandingRequests.add(r);const a=()=>{this.outstandingRequests.delete(r),this.newRequest_()},l=setTimeout(a,Math.floor(oD)),u=()=>{clearTimeout(l),a()};this.addTag(e,u)}addTag(e,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){const l=a.readyState;(!l||l==="loaded"||l==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),r())},a.onerror=()=>{jt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=16384,fD=45e3;let zu=null;typeof MozWebSocket<"u"?zu=MozWebSocket:typeof WebSocket<"u"&&(zu=WebSocket);class Ln{constructor(e,r,a,l,u,f,h){this.connId=e,this.applicationId=a,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xl(this.connId),this.stats_=Qh(r),this.connURL=Ln.connectionURL_(r,f,h,l,a),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,a,l,u){const f={};return f[fS]=Kh,typeof location<"u"&&location.hostname&&pS.test(location.hostname)&&(f[hS]=mS),r&&(f[dS]=r),a&&(f[gS]=a),l&&(f[fh]=l),u&&(f[_S]=u),SS(e,yS,f)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Jr.set("previous_websocket_failure",!0);try{let a;qR(),this.mySock=new zu(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const l=a.message||a.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const l=a.message||a.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){Ln.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(r);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&zu!==null&&!Ln.forceDisallow_}static previouslyFailed(){return Jr.isInMemoryStorage||Jr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Jr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const a=xl(r);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(K(this.frames===null,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const a=this.extractFrameCount_(r);a!==null&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const r=Et(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const a=uS(r,cD);a.length>1&&this.sendString_(String(a.length));for(let l=0;l<a.length;l++)this.sendString_(a[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(fD))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ln.responsesRequiredToBeHealthy=2;Ln.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{static get ALL_TRANSPORTS(){return[Za,Ln]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const r=Ln&&Ln.isAvailable();let a=r&&!Ln.previouslyFailed();if(e.webSocketOnly&&(r||Zt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Ln];else{const l=this.transports_=[];for(const u of Ul.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);Ul.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ul.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=6e4,hD=5e3,mD=10*1024,pD=100*1024,Kd="t",iv="d",gD="s",rv="r",_D="e",av="o",sv="a",lv="n",ov="p",yD="h";class vD{constructor(e,r,a,l,u,f,h,m,p,_){this.id=e,this.repoInfo_=r,this.applicationId_=a,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=f,this.onReady_=h,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xl("c:"+this.id+":"),this.transportManager_=new Ul(r),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,a)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=Rl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>pD?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>mD?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return r=>{e===this.conn_?this.onConnectionLost_(r):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return r=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(r):e===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(e){const r={t:"d",d:e};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Kd in e){const r=e[Kd];r===sv?this.upgradeIfSecondaryHealthy_():r===rv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===av&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const r=vl("t",e),a=vl("d",e);if(r==="c")this.onSecondaryControl_(a);else if(r==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ov,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:sv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:lv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const r=vl("t",e),a=vl("d",e);r==="c"?this.onControl_(a):r==="d"&&this.onDataMessage_(a)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const r=vl(Kd,e);if(iv in e){const a=e[iv];if(r===yD){const l=Object.assign({},a);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(r===lv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===gD?this.onConnectionShutdown_(a):r===rv?this.onReset_(a):r===_D?ch("Server Error: "+a):r===av?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ch("Unknown control packet command: "+r)}}onHandshake_(e){const r=e.ts,a=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Kh!==a&&Zt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,a),Rl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(dD))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,r){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Rl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(hD))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ov,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Jr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{put(e,r,a,l){}merge(e,r,a,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,r,a){}onDisconnectMerge(e,r,a){}onDisconnectCancel(e,r){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.allowedEvents_=e,this.listeners_={},K(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...r){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(let l=0;l<a.length;l++)a[l].callback.apply(a[l].context,r)}}on(e,r,a){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:r,context:a});const l=this.getInitialEvent(e);l&&r.apply(a,l)}off(e,r,a){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===r&&(!a||a===l[u].context)){l.splice(u,1);return}}validateEventType_(e){K(this.allowedEvents_.find(r=>r===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends NS{static getInstance(){return new Hu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ph()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return K(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=32,cv=768;class Ke{constructor(e,r){if(r===void 0){this.pieces_=e.split("/");let a=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[a]=this.pieces_[l],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=r}toString(){let e="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(e+="/"+this.pieces_[r]);return e||"/"}}function He(){return new Ke("")}function Ie(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function yr(n){return n.pieces_.length-n.pieceNum_}function We(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ke(n.pieces_,e)}function DS(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function ED(n){let e="";for(let r=n.pieceNum_;r<n.pieces_.length;r++)n.pieces_[r]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[r])));return e||"/"}function OS(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function IS(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let r=n.pieceNum_;r<n.pieces_.length-1;r++)e.push(n.pieces_[r]);return new Ke(e,0)}function St(n,e){const r=[];for(let a=n.pieceNum_;a<n.pieces_.length;a++)r.push(n.pieces_[a]);if(e instanceof Ke)for(let a=e.pieceNum_;a<e.pieces_.length;a++)r.push(e.pieces_[a]);else{const a=e.split("/");for(let l=0;l<a.length;l++)a[l].length>0&&r.push(a[l])}return new Ke(r,0)}function Oe(n){return n.pieceNum_>=n.pieces_.length}function Ft(n,e){const r=Ie(n),a=Ie(e);if(r===null)return e;if(r===a)return Ft(We(n),We(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function MS(n,e){if(yr(n)!==yr(e))return!1;for(let r=n.pieceNum_,a=e.pieceNum_;r<=n.pieces_.length;r++,a++)if(n.pieces_[r]!==e.pieces_[a])return!1;return!0}function kn(n,e){let r=n.pieceNum_,a=e.pieceNum_;if(yr(n)>yr(e))return!1;for(;r<n.pieces_.length;){if(n.pieces_[r]!==e.pieces_[a])return!1;++r,++a}return!0}class SD{constructor(e,r){this.errorPrefix_=r,this.parts_=OS(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=ac(this.parts_[a]);xS(this)}}function bD(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=ac(e),xS(n)}function TD(n){const e=n.parts_.pop();n.byteLength_-=ac(e),n.parts_.length>0&&(n.byteLength_-=1)}function xS(n){if(n.byteLength_>cv)throw new Error(n.errorPrefix_+"has a key path longer than "+cv+" bytes ("+n.byteLength_+").");if(n.parts_.length>uv)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+uv+") or object contains a cycle "+Qr(n))}function Qr(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh extends NS{static getInstance(){return new Xh}constructor(){super(["visible"]);let e,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const a=!document[e];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(e){return K(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=1e3,wD=60*5*1e3,fv=30*1e3,CD=1.3,RD=3e4,AD="server_kill",dv=3;class Ii extends AS{constructor(e,r,a,l,u,f,h,m){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=a,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=Ii.nextPersistentConnectionId_++,this.log_=Xl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=El,this.maxReconnectDelay_=wD,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Xh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Hu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,a){const l=++this.requestNumber_,u={r:l,a:e,b:r};this.log_(Et(u)),K(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),a&&(this.requestCBHash_[l]=a)}get(e){this.initConnection_();const r=new rc,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const h=f.d;f.s==="ok"?r.resolve(h):r.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),r.promise}listen(e,r,a,l){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),K(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:r,query:e,tag:a};this.listens.get(f).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(a)})}sendListen_(e){const r=e.query,a=r._path.toString(),l=r._queryIdentifier;this.log_("Listen on "+a+" for "+l);const u={p:a},f="q";e.tag&&(u.q=r._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,h=>{const m=h.d,p=h.s;Ii.warnOnListenWarnings_(m,r),(this.listens.get(a)&&this.listens.get(a).get(l))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(a,l),e.onComplete&&e.onComplete(p,m))})}static warnOnListenWarnings_(e,r){if(e&&typeof e=="object"&&ki(e,"w")){const a=rs(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const l='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();Zt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||QR(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=fv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=KR(e)?"auth":"gauth",a={cred:e};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(r,a,l=>{const u=l.s,f=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,a=e.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,a)})}unlisten(e,r){const a=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+l),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,l)&&this.connected_&&this.sendUnlisten_(a,l,e._queryObject,r)}sendUnlisten_(e,r,a,l){this.log_("Unlisten on "+e+" for "+r);const u={p:e},f="n";l&&(u.q=a,u.t=l),this.sendRequest(f,u)}onDisconnectPut(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:a})}onDisconnectMerge(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:a})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,a,l){const u={p:r,d:a};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{l&&setTimeout(()=>{l(f.s,f.d)},Math.floor(0))})}put(e,r,a,l){this.putInternal("p",e,r,a,l)}merge(e,r,a,l){this.putInternal("m",e,r,a,l)}putInternal(e,r,a,l,u){this.initConnection_();const f={p:r,d:a};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,a,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,a=>{if(a.s!=="ok"){const u=a.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Et(e));const r=e.r,a=this.requestCBHash_[r];a&&(delete this.requestCBHash_[r],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),e==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):e==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):e==="c"?this.onListenRevoked_(r.p,r.q):e==="ac"?this.onAuthRevoked_(r.s,r.d):e==="apc"?this.onAppCheckRevoked_(r.s,r.d):e==="sd"?this.onSecurityDebugPacket_(r):ch("Unrecognized action received from server: "+Et(e)+`
Are you using the latest client?`)}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){K(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=El,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=El,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>RD&&(this.reconnectDelay_=El),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*CD)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Ii.nextConnectionId_++,u=this.lastSessionId;let f=!1,h=null;const m=function(){h?h.close():(f=!0,a())},p=function(v){K(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(v)};this.realtime_={close:m,sendRequest:p};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,E]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);f?jt("getToken() completed but was canceled"):(jt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=E&&E.token,h=new vD(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,r,a,b=>{Zt(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(AD)},u))}catch(v){this.log_("Failed to get token: "+v),f||(this.repoInfo_.nodeAdmin&&Zt(v),m())}}}interrupt(e){jt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){jt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ih(this.interruptReasons_)&&(this.reconnectDelay_=El,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let a;r?a=r.map(u=>Yh(u)).join("$"):a="default";const l=this.removeListen_(e,a);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,r){const a=new Ke(e).toString();let l;if(this.listens.has(a)){const u=this.listens.get(a);l=u.get(r),u.delete(r),u.size===0&&this.listens.delete(a)}else l=void 0;return l}onAuthRevoked_(e,r){jt("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=dv&&(this.reconnectDelay_=fv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){jt("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=dv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";e["sdk."+r+"."+aS.replace(/\./g,"-")]=1,Ph()?e["framework.cordova"]=1:AE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Hu.getInstance().currentlyOnline();return ih(this.interruptReasons_)&&e}}Ii.nextPersistentConnectionId_=0;Ii.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,r){this.name=e,this.node=r}static Wrap(e,r){return new Ae(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,r){const a=new Ae(as,e),l=new Ae(as,r);return this.compare(a,l)!==0}minPost(){return Ae.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yu;class LS extends uc{static get __EMPTY_NODE(){return yu}static set __EMPTY_NODE(e){yu=e}compare(e,r){return ds(e.name,r.name)}isDefinedOn(e){throw us("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,r){return!1}minPost(){return Ae.MIN}maxPost(){return new Ae(aa,yu)}makePost(e,r){return K(typeof e=="string","KeyIndex indexValue must always be a string."),new Ae(e,yu)}toString(){return".key"}}const es=new LS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,r,a,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=r?a(e.key,r):1,l&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(e.key,e.value):r={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class At{constructor(e,r,a,l,u){this.key=e,this.value=r,this.color=a??At.RED,this.left=l??Xt.EMPTY_NODE,this.right=u??Xt.EMPTY_NODE}copy(e,r,a,l,u){return new At(e??this.key,r??this.value,a??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let l=this;const u=a(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,r,a),null):u===0?l=l.copy(null,r,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,r,a)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let a,l;if(a=this,r(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),r(e,a.key)===0){if(a.right.isEmpty())return Xt.EMPTY_NODE;l=a.right.min_(),a=a.copy(l.key,l.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}At.RED=!0;At.BLACK=!1;class ND{copy(e,r,a,l,u){return this}insert(e,r,a){return new At(e,r,null)}remove(e,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Xt{constructor(e,r=Xt.EMPTY_NODE){this.comparator_=e,this.root_=r}insert(e,r){return new Xt(this.comparator_,this.root_.insert(e,r,this.comparator_).copy(null,null,At.BLACK,null,null))}remove(e){return new Xt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,At.BLACK,null,null))}get(e){let r,a=this.root_;for(;!a.isEmpty();){if(r=this.comparator_(e,a.key),r===0)return a.value;r<0?a=a.left:r>0&&(a=a.right)}return null}getPredecessorKey(e){let r,a=this.root_,l=null;for(;!a.isEmpty();)if(r=this.comparator_(e,a.key),r===0){if(a.left.isEmpty())return l?l.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else r<0?a=a.left:r>0&&(l=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new vu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,r){return new vu(this.root_,e,this.comparator_,!1,r)}getReverseIteratorFrom(e,r){return new vu(this.root_,e,this.comparator_,!0,r)}getReverseIterator(e){return new vu(this.root_,null,this.comparator_,!0,e)}}Xt.EMPTY_NODE=new ND;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(n,e){return ds(n.name,e.name)}function Wh(n,e){return ds(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh;function OD(n){dh=n}const kS=function(n){return typeof n=="number"?"number:"+cS(n):"string:"+n},US=function(n){if(n.isLeafNode()){const e=n.val();K(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ki(e,".sv"),"Priority must be a string or number.")}else K(n===dh||n.isEmpty(),"priority of unexpected type.");K(n===dh||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hv;class Rt{static set __childrenNodeConstructor(e){hv=e}static get __childrenNodeConstructor(){return hv}constructor(e,r=Rt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,K(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),US(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Rt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Rt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Oe(e)?this:Ie(e)===".priority"?this.priorityNode_:Rt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return e===".priority"?this.updatePriority(r):r.isEmpty()&&e!==".priority"?this:Rt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const a=Ie(e);return a===null?r:r.isEmpty()&&a!==".priority"?this:(K(a!==".priority"||yr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,Rt.__childrenNodeConstructor.EMPTY_NODE.updateChild(We(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+kS(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",r==="number"?e+=cS(this.value_):e+=this.value_,this.lazyHash_=lS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Rt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Rt.__childrenNodeConstructor?-1:(K(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,a=typeof this.value_,l=Rt.VALUE_TYPE_ORDER.indexOf(r),u=Rt.VALUE_TYPE_ORDER.indexOf(a);return K(l>=0,"Unknown leaf type: "+r),K(u>=0,"Unknown leaf type: "+a),l===u?a==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Rt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PS,zS;function ID(n){PS=n}function MD(n){zS=n}class xD extends uc{compare(e,r){const a=e.node.getPriority(),l=r.node.getPriority(),u=a.compareTo(l);return u===0?ds(e.name,r.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,r){return!e.getPriority().equals(r.getPriority())}minPost(){return Ae.MIN}maxPost(){return new Ae(aa,new Rt("[PRIORITY-POST]",zS))}makePost(e,r){const a=PS(e);return new Ae(r,new Rt("[PRIORITY-POST]",a))}toString(){return".priority"}}const ft=new xD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=Math.log(2);class kD{constructor(e){const r=u=>parseInt(Math.log(u)/LD,10),a=u=>parseInt(Array(u+1).join("1"),2);this.count=r(e+1),this.current_=this.count-1;const l=a(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Bu=function(n,e,r,a){n.sort(e);const l=function(m,p){const _=p-m;let v,E;if(_===0)return null;if(_===1)return v=n[m],E=r?r(v):v,new At(E,v.node,At.BLACK,null,null);{const b=parseInt(_/2,10)+m,A=l(m,b),H=l(b+1,p);return v=n[b],E=r?r(v):v,new At(E,v.node,At.BLACK,A,H)}},u=function(m){let p=null,_=null,v=n.length;const E=function(A,H){const P=v-A,z=v;v-=A;const G=l(P+1,z),J=n[P],fe=r?r(J):J;b(new At(fe,J.node,H,null,G))},b=function(A){p?(p.left=A,p=A):(_=A,p=A)};for(let A=0;A<m.count;++A){const H=m.nextBitIsOne(),P=Math.pow(2,m.count-(A+1));H?E(P,At.BLACK):(E(P,At.BLACK),E(P,At.RED))}return _},f=new kD(n.length),h=u(f);return new Xt(a||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qd;const Wa={};class Ai{static get Default(){return K(Wa&&ft,"ChildrenNode.ts has not been loaded"),Qd=Qd||new Ai({".priority":Wa},{".priority":ft}),Qd}constructor(e,r){this.indexes_=e,this.indexSet_=r}get(e){const r=rs(this.indexes_,e);if(!r)throw new Error("No index defined for "+e);return r instanceof Xt?r:null}hasIndex(e){return ki(this.indexSet_,e.toString())}addIndex(e,r){K(e!==es,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let l=!1;const u=r.getIterator(Ae.Wrap);let f=u.getNext();for(;f;)l=l||e.isDefinedOn(f.node),a.push(f),f=u.getNext();let h;l?h=Bu(a,e.getCompare()):h=Wa;const m=e.toString(),p=Object.assign({},this.indexSet_);p[m]=e;const _=Object.assign({},this.indexes_);return _[m]=h,new Ai(_,p)}addToIndexes(e,r){const a=Lu(this.indexes_,(l,u)=>{const f=rs(this.indexSet_,u);if(K(f,"Missing index implementation for "+u),l===Wa)if(f.isDefinedOn(e.node)){const h=[],m=r.getIterator(Ae.Wrap);let p=m.getNext();for(;p;)p.name!==e.name&&h.push(p),p=m.getNext();return h.push(e),Bu(h,f.getCompare())}else return Wa;else{const h=r.get(e.name);let m=l;return h&&(m=m.remove(new Ae(e.name,h))),m.insert(e,e.node)}});return new Ai(a,this.indexSet_)}removeFromIndexes(e,r){const a=Lu(this.indexes_,l=>{if(l===Wa)return l;{const u=r.get(e.name);return u?l.remove(new Ae(e.name,u)):l}});return new Ai(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl;class ge{static get EMPTY_NODE(){return Sl||(Sl=new ge(new Xt(Wh),null,Ai.Default))}constructor(e,r,a){this.children_=e,this.priorityNode_=r,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&US(this.priorityNode_),this.children_.isEmpty()&&K(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Sl}updatePriority(e){return this.children_.isEmpty()?this:new ge(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const r=this.children_.get(e);return r===null?Sl:r}}getChild(e){const r=Ie(e);return r===null?this:this.getImmediateChild(r).getChild(We(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,r){if(K(r,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(r);{const a=new Ae(e,r);let l,u;r.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(a,this.children_)):(l=this.children_.insert(e,r),u=this.indexMap_.addToIndexes(a,this.children_));const f=l.isEmpty()?Sl:this.priorityNode_;return new ge(l,f,u)}}updateChild(e,r){const a=Ie(e);if(a===null)return r;{K(Ie(e)!==".priority"||yr(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(a).updateChild(We(e),r);return this.updateImmediateChild(a,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let a=0,l=0,u=!0;if(this.forEachChild(ft,(f,h)=>{r[f]=h.val(e),a++,u&&ge.INTEGER_REGEXP_.test(f)?l=Math.max(l,Number(f)):u=!1}),!e&&u&&l<2*a){const f=[];for(const h in r)f[h]=r[h];return f}else return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+kS(this.getPriority().val())+":"),this.forEachChild(ft,(r,a)=>{const l=a.hash();l!==""&&(e+=":"+r+":"+l)}),this.lazyHash_=e===""?"":lS(e)}return this.lazyHash_}getPredecessorChildName(e,r,a){const l=this.resolveIndex_(a);if(l){const u=l.getPredecessorKey(new Ae(e,r));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new Ae(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new Ae(r,this.children_.get(r)):null}forEachChild(e,r){const a=this.resolveIndex_(e);return a?a.inorderTraversal(l=>r(l.name,l.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,Ae.Wrap);let u=l.peek();for(;u!=null&&r.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,Ae.Wrap);let u=l.peek();for(;u!=null&&r.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Wl?-1:0}withIndex(e){if(e===es||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new ge(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===es||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const a=this.getIterator(ft),l=r.getIterator(ft);let u=a.getNext(),f=l.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=a.getNext(),f=l.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===es?null:this.indexMap_.get(e.toString())}}ge.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class UD extends ge{constructor(){super(new Xt(Wh),ge.EMPTY_NODE,Ai.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ge.EMPTY_NODE}isEmpty(){return!1}}const Wl=new UD;Object.defineProperties(Ae,{MIN:{value:new Ae(as,ge.EMPTY_NODE)},MAX:{value:new Ae(aa,Wl)}});LS.__EMPTY_NODE=ge.EMPTY_NODE;Rt.__childrenNodeConstructor=ge;OD(Wl);MD(Wl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=!0;function Nt(n,e=null){if(n===null)return ge.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),K(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const r=n;return new Rt(r,Nt(e))}if(!(n instanceof Array)&&PD){const r=[];let a=!1;if(Jt(n,(f,h)=>{if(f.substring(0,1)!=="."){const m=Nt(h);m.isEmpty()||(a=a||!m.getPriority().isEmpty(),r.push(new Ae(f,m)))}}),r.length===0)return ge.EMPTY_NODE;const u=Bu(r,DD,f=>f.name,Wh);if(a){const f=Bu(r,ft.getCompare());return new ge(u,Nt(e),new Ai({".priority":f},{".priority":ft}))}else return new ge(u,Nt(e),Ai.Default)}else{let r=ge.EMPTY_NODE;return Jt(n,(a,l)=>{if(ki(n,a)&&a.substring(0,1)!=="."){const u=Nt(l);(u.isLeafNode()||!u.isEmpty())&&(r=r.updateImmediateChild(a,u))}}),r.updatePriority(Nt(e))}}ID(Nt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD extends uc{constructor(e){super(),this.indexPath_=e,K(!Oe(e)&&Ie(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,r){const a=this.extractChild(e.node),l=this.extractChild(r.node),u=a.compareTo(l);return u===0?ds(e.name,r.name):u}makePost(e,r){const a=Nt(e),l=ge.EMPTY_NODE.updateChild(this.indexPath_,a);return new Ae(r,l)}maxPost(){const e=ge.EMPTY_NODE.updateChild(this.indexPath_,Wl);return new Ae(aa,e)}toString(){return OS(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD extends uc{compare(e,r){const a=e.node.compareTo(r.node);return a===0?ds(e.name,r.name):a}isDefinedOn(e){return!0}indexedValueChanged(e,r){return!e.equals(r)}minPost(){return Ae.MIN}maxPost(){return Ae.MAX}makePost(e,r){const a=Nt(e);return new Ae(r,a)}toString(){return".value"}}const BD=new HD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(n){return{type:"value",snapshotNode:n}}function ss(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Pl(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function zl(n,e,r){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:r}}function jD(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.index_=e}updateChild(e,r,a,l,u,f){K(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(r);return h.getChild(l).equals(a.getChild(l))&&h.isEmpty()===a.isEmpty()||(f!=null&&(a.isEmpty()?e.hasChild(r)?f.trackChildChange(Pl(r,h)):K(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?f.trackChildChange(ss(r,a)):f.trackChildChange(zl(r,a,h))),e.isLeafNode()&&a.isEmpty())?e:e.updateImmediateChild(r,a).withIndex(this.index_)}updateFullNode(e,r,a){return a!=null&&(e.isLeafNode()||e.forEachChild(ft,(l,u)=>{r.hasChild(l)||a.trackChildChange(Pl(l,u))}),r.isLeafNode()||r.forEachChild(ft,(l,u)=>{if(e.hasChild(l)){const f=e.getImmediateChild(l);f.equals(u)||a.trackChildChange(zl(l,u,f))}else a.trackChildChange(ss(l,u))})),r.withIndex(this.index_)}updatePriority(e,r){return e.isEmpty()?ge.EMPTY_NODE:e.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this.indexedFilter_=new Zh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Hl.getStartPost_(e),this.endPost_=Hl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,a=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return r&&a}updateChild(e,r,a,l,u,f){return this.matches(new Ae(r,a))||(a=ge.EMPTY_NODE),this.indexedFilter_.updateChild(e,r,a,l,u,f)}updateFullNode(e,r,a){r.isLeafNode()&&(r=ge.EMPTY_NODE);let l=r.withIndex(this.index_);l=l.updatePriority(ge.EMPTY_NODE);const u=this;return r.forEachChild(ft,(f,h)=>{u.matches(new Ae(f,h))||(l=l.updateImmediateChild(f,ge.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,a)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const r=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),r)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const r=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),r)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=r=>{const a=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new Hl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,r,a,l,u,f){return this.rangedFilter_.matches(new Ae(r,a))||(a=ge.EMPTY_NODE),e.getImmediateChild(r).equals(a)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,r,a,l,u,f):this.fullLimitUpdateChild_(e,r,a,u,f)}updateFullNode(e,r,a){let l;if(r.isLeafNode()||r.isEmpty())l=ge.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){l=ge.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),f++;else break;else continue}}else{l=r.withIndex(this.index_),l=l.updatePriority(ge.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let f=0;for(;u.hasNext();){const h=u.getNext();f<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?f++:l=l.updateImmediateChild(h.name,ge.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,a)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,r,a,l,u){let f;if(this.reverse_){const v=this.index_.getCompare();f=(E,b)=>v(b,E)}else f=this.index_.getCompare();const h=e;K(h.numChildren()===this.limit_,"");const m=new Ae(r,a),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),_=this.rangedFilter_.matches(m);if(h.hasChild(r)){const v=h.getImmediateChild(r);let E=l.getChildAfterChild(this.index_,p,this.reverse_);for(;E!=null&&(E.name===r||h.hasChild(E.name));)E=l.getChildAfterChild(this.index_,E,this.reverse_);const b=E==null?1:f(E,m);if(_&&!a.isEmpty()&&b>=0)return u!=null&&u.trackChildChange(zl(r,a,v)),h.updateImmediateChild(r,a);{u!=null&&u.trackChildChange(Pl(r,v));const H=h.updateImmediateChild(r,ge.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(u!=null&&u.trackChildChange(ss(E.name,E.node)),H.updateImmediateChild(E.name,E.node)):H}}else return a.isEmpty()?e:_&&f(p,m)>=0?(u!=null&&(u.trackChildChange(Pl(p.name,p.node)),u.trackChildChange(ss(r,a))),h.updateImmediateChild(r,a).updateImmediateChild(p.name,ge.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ft}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return K(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return K(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:as}hasEnd(){return this.endSet_}getIndexEndValue(){return K(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return K(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:aa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return K(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ft}copy(){const e=new Jh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function VD(n){return n.loadsAllData()?new Zh(n.getIndex()):n.hasLimit()?new qD(n):new Hl(n)}function mv(n){const e={};if(n.isDefault())return e;let r;if(n.index_===ft?r="$priority":n.index_===BD?r="$value":n.index_===es?r="$key":(K(n.index_ instanceof zD,"Unrecognized index type!"),r=n.index_.toString()),e.orderBy=Et(r),n.startSet_){const a=n.startAfterSet_?"startAfter":"startAt";e[a]=Et(n.indexStartValue_),n.startNameSet_&&(e[a]+=","+Et(n.indexStartName_))}if(n.endSet_){const a=n.endBeforeSet_?"endBefore":"endAt";e[a]=Et(n.indexEndValue_),n.endNameSet_&&(e[a]+=","+Et(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function pv(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let r=n.viewFrom_;r===""&&(n.isViewFromLeft()?r="l":r="r"),e.vf=r}return n.index_!==ft&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends AS{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,r){return r!==void 0?"tag$"+r:(K(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,r,a,l){super(),this.repoInfo_=e,this.onDataUpdate_=r,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.log_=Xl("p:rest:"),this.listens_={}}listen(e,r,a,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=ju.getListenId_(e,a),h={};this.listens_[f]=h;const m=mv(e._queryParams);this.restRequest_(u+".json",m,(p,_)=>{let v=_;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(u,v,!1,a),rs(this.listens_,f)===h){let E;p?p===401?E="permission_denied":E="rest_error:"+p:E="ok",l(E,null)}})}unlisten(e,r){const a=ju.getListenId_(e,r);delete this.listens_[a]}get(e){const r=mv(e._queryParams),a=e._path.toString(),l=new rc;return this.restRequest_(a+".json",r,(u,f)=>{let h=f;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(a,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(e){}restRequest_(e,r={},a){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(r.auth=l.accessToken),u&&u.token&&(r.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+cs(r);this.log_("Sending REST request for "+f);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(a&&h.readyState===4){this.log_("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=xl(h.responseText)}catch{Zt("Failed to parse JSON response for "+f+": "+h.responseText)}a(null,m)}else h.status!==401&&h.status!==404&&Zt("Got unsuccessful REST response for "+f+" Status: "+h.status),a(h.status);a=null}},h.open("GET",f,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.rootNode_=ge.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,r){this.rootNode_=this.rootNode_.updateChild(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(){return{value:null,children:new Map}}function BS(n,e,r){if(Oe(e))n.value=r,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,r);else{const a=Ie(e);n.children.has(a)||n.children.set(a,qu());const l=n.children.get(a);e=We(e),BS(l,e,r)}}function hh(n,e,r){n.value!==null?r(e,n.value):GD(n,(a,l)=>{const u=new Ke(e.toString()+"/"+a);hh(l,u,r)})}function GD(n,e){n.children.forEach((r,a)=>{e(a,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),r=Object.assign({},e);return this.last_&&Jt(this.last_,(a,l)=>{r[a]=r[a]-l}),this.last_=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=10*1e3,KD=30*1e3,QD=5*60*1e3;class $D{constructor(e,r){this.server_=r,this.statsToReport_={},this.statsListener_=new YD(e);const a=gv+(KD-gv)*Math.random();Rl(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const e=this.statsListener_.get(),r={};let a=!1;Jt(e,(l,u)=>{u>0&&ki(this.statsToReport_,l)&&(r[l]=u,a=!0)}),a&&this.server_.reportStats(r),Rl(this.reportStats_.bind(this),Math.floor(Math.random()*2*QD))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Un||(Un={}));function jS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function em(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function tm(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,r,a){this.path=e,this.affectedTree=r,this.revert=a,this.type=Un.ACK_USER_WRITE,this.source=jS()}operationForChild(e){if(Oe(this.path)){if(this.affectedTree.value!=null)return K(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new Ke(e));return new Vu(He(),r,this.revert)}}else return K(Ie(this.path)===e,"operationForChild called for unrelated child."),new Vu(We(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,r){this.source=e,this.path=r,this.type=Un.LISTEN_COMPLETE}operationForChild(e){return Oe(this.path)?new Bl(this.source,He()):new Bl(this.source,We(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,r,a){this.source=e,this.path=r,this.snap=a,this.type=Un.OVERWRITE}operationForChild(e){return Oe(this.path)?new sa(this.source,He(),this.snap.getImmediateChild(e)):new sa(this.source,We(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,r,a){this.source=e,this.path=r,this.children=a,this.type=Un.MERGE}operationForChild(e){if(Oe(this.path)){const r=this.children.subtree(new Ke(e));return r.isEmpty()?null:r.value?new sa(this.source,He(),r.value):new jl(this.source,He(),r)}else return K(Ie(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new jl(this.source,We(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,r,a){this.node_=e,this.fullyInitialized_=r,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Oe(e))return this.isFullyInitialized()&&!this.filtered_;const r=Ie(e);return this.isCompleteForChild(r)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function WD(n,e,r,a){const l=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&n.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(jD(f.childName,f.snapshotNode))}),bl(n,l,"child_removed",e,a,r),bl(n,l,"child_added",e,a,r),bl(n,l,"child_moved",u,a,r),bl(n,l,"child_changed",e,a,r),bl(n,l,"value",e,a,r),l}function bl(n,e,r,a,l,u){const f=a.filter(h=>h.type===r);f.sort((h,m)=>JD(n,h,m)),f.forEach(h=>{const m=ZD(n,h,u);l.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(m,n.query_))})})}function ZD(n,e,r){return e.type==="value"||e.type==="child_removed"||(e.prevName=r.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function JD(n,e,r){if(e.childName==null||r.childName==null)throw us("Should only compare child_ events.");const a=new Ae(e.childName,e.snapshotNode),l=new Ae(r.childName,r.snapshotNode);return n.index_.compare(a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(n,e){return{eventCache:n,serverCache:e}}function Al(n,e,r,a){return cc(new vr(e,r,a),n.serverCache)}function qS(n,e,r,a){return cc(n.eventCache,new vr(e,r,a))}function Fu(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function la(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $d;const eO=()=>($d||($d=new Xt(HN)),$d);class Je{static fromObject(e){let r=new Je(null);return Jt(e,(a,l)=>{r=r.set(new Ke(a),l)}),r}constructor(e,r=eO()){this.value=e,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,r){if(this.value!=null&&r(this.value))return{path:He(),value:this.value};if(Oe(e))return null;{const a=Ie(e),l=this.children.get(a);if(l!==null){const u=l.findRootMostMatchingPathAndValue(We(e),r);return u!=null?{path:St(new Ke(a),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Oe(e))return this;{const r=Ie(e),a=this.children.get(r);return a!==null?a.subtree(We(e)):new Je(null)}}set(e,r){if(Oe(e))return new Je(r,this.children);{const a=Ie(e),u=(this.children.get(a)||new Je(null)).set(We(e),r),f=this.children.insert(a,u);return new Je(this.value,f)}}remove(e){if(Oe(e))return this.children.isEmpty()?new Je(null):new Je(null,this.children);{const r=Ie(e),a=this.children.get(r);if(a){const l=a.remove(We(e));let u;return l.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,l),this.value===null&&u.isEmpty()?new Je(null):new Je(this.value,u)}else return this}}get(e){if(Oe(e))return this.value;{const r=Ie(e),a=this.children.get(r);return a?a.get(We(e)):null}}setTree(e,r){if(Oe(e))return r;{const a=Ie(e),u=(this.children.get(a)||new Je(null)).setTree(We(e),r);let f;return u.isEmpty()?f=this.children.remove(a):f=this.children.insert(a,u),new Je(this.value,f)}}fold(e){return this.fold_(He(),e)}fold_(e,r){const a={};return this.children.inorderTraversal((l,u)=>{a[l]=u.fold_(St(e,l),r)}),r(e,this.value,a)}findOnPath(e,r){return this.findOnPath_(e,He(),r)}findOnPath_(e,r,a){const l=this.value?a(r,this.value):!1;if(l)return l;if(Oe(e))return null;{const u=Ie(e),f=this.children.get(u);return f?f.findOnPath_(We(e),St(r,u),a):null}}foreachOnPath(e,r){return this.foreachOnPath_(e,He(),r)}foreachOnPath_(e,r,a){if(Oe(e))return this;{this.value&&a(r,this.value);const l=Ie(e),u=this.children.get(l);return u?u.foreachOnPath_(We(e),St(r,l),a):new Je(null)}}foreach(e){this.foreach_(He(),e)}foreach_(e,r){this.children.inorderTraversal((a,l)=>{l.foreach_(St(e,a),r)}),this.value&&r(e,this.value)}foreachChild(e){this.children.inorderTraversal((r,a)=>{a.value&&e(r,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.writeTree_=e}static empty(){return new Pn(new Je(null))}}function Nl(n,e,r){if(Oe(e))return new Pn(new Je(r));{const a=n.writeTree_.findRootMostValueAndPath(e);if(a!=null){const l=a.path;let u=a.value;const f=Ft(l,e);return u=u.updateChild(f,r),new Pn(n.writeTree_.set(l,u))}else{const l=new Je(r),u=n.writeTree_.setTree(e,l);return new Pn(u)}}}function _v(n,e,r){let a=n;return Jt(r,(l,u)=>{a=Nl(a,St(e,l),u)}),a}function yv(n,e){if(Oe(e))return Pn.empty();{const r=n.writeTree_.setTree(e,new Je(null));return new Pn(r)}}function mh(n,e){return ha(n,e)!=null}function ha(n,e){const r=n.writeTree_.findRootMostValueAndPath(e);return r!=null?n.writeTree_.get(r.path).getChild(Ft(r.path,e)):null}function vv(n){const e=[],r=n.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(ft,(a,l)=>{e.push(new Ae(a,l))}):n.writeTree_.children.inorderTraversal((a,l)=>{l.value!=null&&e.push(new Ae(a,l.value))}),e}function pr(n,e){if(Oe(e))return n;{const r=ha(n,e);return r!=null?new Pn(new Je(r)):new Pn(n.writeTree_.subtree(e))}}function ph(n){return n.writeTree_.isEmpty()}function ls(n,e){return VS(He(),n.writeTree_,e)}function VS(n,e,r){if(e.value!=null)return r.updateChild(n,e.value);{let a=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(K(u.value!==null,"Priority writes must always be leaf nodes"),a=u.value):r=VS(St(n,l),u,r)}),!r.getChild(n).isEmpty()&&a!==null&&(r=r.updateChild(St(n,".priority"),a)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(n,e){return KS(e,n)}function tO(n,e,r,a,l){K(a>n.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),n.allWrites.push({path:e,snap:r,writeId:a,visible:l}),l&&(n.visibleWrites=Nl(n.visibleWrites,e,r)),n.lastWriteId=a}function nO(n,e){for(let r=0;r<n.allWrites.length;r++){const a=n.allWrites[r];if(a.writeId===e)return a}return null}function iO(n,e){const r=n.allWrites.findIndex(h=>h.writeId===e);K(r>=0,"removeWrite called with nonexistent writeId.");const a=n.allWrites[r];n.allWrites.splice(r,1);let l=a.visible,u=!1,f=n.allWrites.length-1;for(;l&&f>=0;){const h=n.allWrites[f];h.visible&&(f>=r&&rO(h,a.path)?l=!1:kn(a.path,h.path)&&(u=!0)),f--}if(l){if(u)return aO(n),!0;if(a.snap)n.visibleWrites=yv(n.visibleWrites,a.path);else{const h=a.children;Jt(h,m=>{n.visibleWrites=yv(n.visibleWrites,St(a.path,m))})}return!0}else return!1}function rO(n,e){if(n.snap)return kn(n.path,e);for(const r in n.children)if(n.children.hasOwnProperty(r)&&kn(St(n.path,r),e))return!0;return!1}function aO(n){n.visibleWrites=FS(n.allWrites,sO,He()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function sO(n){return n.visible}function FS(n,e,r){let a=Pn.empty();for(let l=0;l<n.length;++l){const u=n[l];if(e(u)){const f=u.path;let h;if(u.snap)kn(r,f)?(h=Ft(r,f),a=Nl(a,h,u.snap)):kn(f,r)&&(h=Ft(f,r),a=Nl(a,He(),u.snap.getChild(h)));else if(u.children){if(kn(r,f))h=Ft(r,f),a=_v(a,h,u.children);else if(kn(f,r))if(h=Ft(f,r),Oe(h))a=_v(a,He(),u.children);else{const m=rs(u.children,Ie(h));if(m){const p=m.getChild(We(h));a=Nl(a,He(),p)}}}else throw us("WriteRecord should have .snap or .children")}}return a}function GS(n,e,r,a,l){if(!a&&!l){const u=ha(n.visibleWrites,e);if(u!=null)return u;{const f=pr(n.visibleWrites,e);if(ph(f))return r;if(r==null&&!mh(f,He()))return null;{const h=r||ge.EMPTY_NODE;return ls(f,h)}}}else{const u=pr(n.visibleWrites,e);if(!l&&ph(u))return r;if(!l&&r==null&&!mh(u,He()))return null;{const f=function(p){return(p.visible||l)&&(!a||!~a.indexOf(p.writeId))&&(kn(p.path,e)||kn(e,p.path))},h=FS(n.allWrites,f,e),m=r||ge.EMPTY_NODE;return ls(h,m)}}}function lO(n,e,r){let a=ge.EMPTY_NODE;const l=ha(n.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(ft,(u,f)=>{a=a.updateImmediateChild(u,f)}),a;if(r){const u=pr(n.visibleWrites,e);return r.forEachChild(ft,(f,h)=>{const m=ls(pr(u,new Ke(f)),h);a=a.updateImmediateChild(f,m)}),vv(u).forEach(f=>{a=a.updateImmediateChild(f.name,f.node)}),a}else{const u=pr(n.visibleWrites,e);return vv(u).forEach(f=>{a=a.updateImmediateChild(f.name,f.node)}),a}}function oO(n,e,r,a,l){K(a||l,"Either existingEventSnap or existingServerSnap must exist");const u=St(e,r);if(mh(n.visibleWrites,u))return null;{const f=pr(n.visibleWrites,u);return ph(f)?l.getChild(r):ls(f,l.getChild(r))}}function uO(n,e,r,a){const l=St(e,r),u=ha(n.visibleWrites,l);if(u!=null)return u;if(a.isCompleteForChild(r)){const f=pr(n.visibleWrites,l);return ls(f,a.getNode().getImmediateChild(r))}else return null}function cO(n,e){return ha(n.visibleWrites,e)}function fO(n,e,r,a,l,u,f){let h;const m=pr(n.visibleWrites,e),p=ha(m,He());if(p!=null)h=p;else if(r!=null)h=ls(m,r);else return[];if(h=h.withIndex(f),!h.isEmpty()&&!h.isLeafNode()){const _=[],v=f.getCompare(),E=u?h.getReverseIteratorFrom(a,f):h.getIteratorFrom(a,f);let b=E.getNext();for(;b&&_.length<l;)v(b,a)!==0&&_.push(b),b=E.getNext();return _}else return[]}function dO(){return{visibleWrites:Pn.empty(),allWrites:[],lastWriteId:-1}}function Gu(n,e,r,a){return GS(n.writeTree,n.treePath,e,r,a)}function nm(n,e){return lO(n.writeTree,n.treePath,e)}function Ev(n,e,r,a){return oO(n.writeTree,n.treePath,e,r,a)}function Yu(n,e){return cO(n.writeTree,St(n.treePath,e))}function hO(n,e,r,a,l,u){return fO(n.writeTree,n.treePath,e,r,a,l,u)}function im(n,e,r){return uO(n.writeTree,n.treePath,e,r)}function YS(n,e){return KS(St(n.treePath,e),n.writeTree)}function KS(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.changeMap=new Map}trackChildChange(e){const r=e.type,a=e.childName;K(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),K(a!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(a);if(l){const u=l.type;if(r==="child_added"&&u==="child_removed")this.changeMap.set(a,zl(a,e.snapshotNode,l.snapshotNode));else if(r==="child_removed"&&u==="child_added")this.changeMap.delete(a);else if(r==="child_removed"&&u==="child_changed")this.changeMap.set(a,Pl(a,l.oldSnap));else if(r==="child_changed"&&u==="child_added")this.changeMap.set(a,ss(a,e.snapshotNode));else if(r==="child_changed"&&u==="child_changed")this.changeMap.set(a,zl(a,e.snapshotNode,l.oldSnap));else throw us("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(a,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{getCompleteChild(e){return null}getChildAfterChild(e,r,a){return null}}const QS=new pO;class rm{constructor(e,r,a=null){this.writes_=e,this.viewCache_=r,this.optCompleteServerCache_=a}getCompleteChild(e){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(e))return r.getNode().getImmediateChild(e);{const a=this.optCompleteServerCache_!=null?new vr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return im(this.writes_,e,a)}}getChildAfterChild(e,r,a){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:la(this.viewCache_),u=hO(this.writes_,l,r,1,a,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(n){return{filter:n}}function _O(n,e){K(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),K(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function yO(n,e,r,a,l){const u=new mO;let f,h;if(r.type===Un.OVERWRITE){const p=r;p.source.fromUser?f=gh(n,e,p.path,p.snap,a,l,u):(K(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!Oe(p.path),f=Ku(n,e,p.path,p.snap,a,l,h,u))}else if(r.type===Un.MERGE){const p=r;p.source.fromUser?f=EO(n,e,p.path,p.children,a,l,u):(K(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),f=_h(n,e,p.path,p.children,a,l,h,u))}else if(r.type===Un.ACK_USER_WRITE){const p=r;p.revert?f=TO(n,e,p.path,a,l,u):f=SO(n,e,p.path,p.affectedTree,a,l,u)}else if(r.type===Un.LISTEN_COMPLETE)f=bO(n,e,r.path,a,u);else throw us("Unknown operation type: "+r.type);const m=u.getChanges();return vO(e,f,m),{viewCache:f,changes:m}}function vO(n,e,r){const a=e.eventCache;if(a.isFullyInitialized()){const l=a.getNode().isLeafNode()||a.getNode().isEmpty(),u=Fu(n);(r.length>0||!n.eventCache.isFullyInitialized()||l&&!a.getNode().equals(u)||!a.getNode().getPriority().equals(u.getPriority()))&&r.push(HS(Fu(e)))}}function $S(n,e,r,a,l,u){const f=e.eventCache;if(Yu(a,r)!=null)return e;{let h,m;if(Oe(r))if(K(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=la(e),_=p instanceof ge?p:ge.EMPTY_NODE,v=nm(a,_);h=n.filter.updateFullNode(e.eventCache.getNode(),v,u)}else{const p=Gu(a,la(e));h=n.filter.updateFullNode(e.eventCache.getNode(),p,u)}else{const p=Ie(r);if(p===".priority"){K(yr(r)===1,"Can't have a priority with additional path components");const _=f.getNode();m=e.serverCache.getNode();const v=Ev(a,r,_,m);v!=null?h=n.filter.updatePriority(_,v):h=f.getNode()}else{const _=We(r);let v;if(f.isCompleteForChild(p)){m=e.serverCache.getNode();const E=Ev(a,r,f.getNode(),m);E!=null?v=f.getNode().getImmediateChild(p).updateChild(_,E):v=f.getNode().getImmediateChild(p)}else v=im(a,p,e.serverCache);v!=null?h=n.filter.updateChild(f.getNode(),p,v,_,l,u):h=f.getNode()}}return Al(e,h,f.isFullyInitialized()||Oe(r),n.filter.filtersNodes())}}function Ku(n,e,r,a,l,u,f,h){const m=e.serverCache;let p;const _=f?n.filter:n.filter.getIndexedFilter();if(Oe(r))p=_.updateFullNode(m.getNode(),a,null);else if(_.filtersNodes()&&!m.isFiltered()){const b=m.getNode().updateChild(r,a);p=_.updateFullNode(m.getNode(),b,null)}else{const b=Ie(r);if(!m.isCompleteForPath(r)&&yr(r)>1)return e;const A=We(r),P=m.getNode().getImmediateChild(b).updateChild(A,a);b===".priority"?p=_.updatePriority(m.getNode(),P):p=_.updateChild(m.getNode(),b,P,A,QS,null)}const v=qS(e,p,m.isFullyInitialized()||Oe(r),_.filtersNodes()),E=new rm(l,v,u);return $S(n,v,r,l,E,h)}function gh(n,e,r,a,l,u,f){const h=e.eventCache;let m,p;const _=new rm(l,e,u);if(Oe(r))p=n.filter.updateFullNode(e.eventCache.getNode(),a,f),m=Al(e,p,!0,n.filter.filtersNodes());else{const v=Ie(r);if(v===".priority")p=n.filter.updatePriority(e.eventCache.getNode(),a),m=Al(e,p,h.isFullyInitialized(),h.isFiltered());else{const E=We(r),b=h.getNode().getImmediateChild(v);let A;if(Oe(E))A=a;else{const H=_.getCompleteChild(v);H!=null?DS(E)===".priority"&&H.getChild(IS(E)).isEmpty()?A=H:A=H.updateChild(E,a):A=ge.EMPTY_NODE}if(b.equals(A))m=e;else{const H=n.filter.updateChild(h.getNode(),v,A,E,_,f);m=Al(e,H,h.isFullyInitialized(),n.filter.filtersNodes())}}}return m}function Sv(n,e){return n.eventCache.isCompleteForChild(e)}function EO(n,e,r,a,l,u,f){let h=e;return a.foreach((m,p)=>{const _=St(r,m);Sv(e,Ie(_))&&(h=gh(n,h,_,p,l,u,f))}),a.foreach((m,p)=>{const _=St(r,m);Sv(e,Ie(_))||(h=gh(n,h,_,p,l,u,f))}),h}function bv(n,e,r){return r.foreach((a,l)=>{e=e.updateChild(a,l)}),e}function _h(n,e,r,a,l,u,f,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,p;Oe(r)?p=a:p=new Je(null).setTree(r,a);const _=e.serverCache.getNode();return p.children.inorderTraversal((v,E)=>{if(_.hasChild(v)){const b=e.serverCache.getNode().getImmediateChild(v),A=bv(n,b,E);m=Ku(n,m,new Ke(v),A,l,u,f,h)}}),p.children.inorderTraversal((v,E)=>{const b=!e.serverCache.isCompleteForChild(v)&&E.value===null;if(!_.hasChild(v)&&!b){const A=e.serverCache.getNode().getImmediateChild(v),H=bv(n,A,E);m=Ku(n,m,new Ke(v),H,l,u,f,h)}}),m}function SO(n,e,r,a,l,u,f){if(Yu(l,r)!=null)return e;const h=e.serverCache.isFiltered(),m=e.serverCache;if(a.value!=null){if(Oe(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return Ku(n,e,r,m.getNode().getChild(r),l,u,h,f);if(Oe(r)){let p=new Je(null);return m.getNode().forEachChild(es,(_,v)=>{p=p.set(new Ke(_),v)}),_h(n,e,r,p,l,u,h,f)}else return e}else{let p=new Je(null);return a.foreach((_,v)=>{const E=St(r,_);m.isCompleteForPath(E)&&(p=p.set(_,m.getNode().getChild(E)))}),_h(n,e,r,p,l,u,h,f)}}function bO(n,e,r,a,l){const u=e.serverCache,f=qS(e,u.getNode(),u.isFullyInitialized()||Oe(r),u.isFiltered());return $S(n,f,r,a,QS,l)}function TO(n,e,r,a,l,u){let f;if(Yu(a,r)!=null)return e;{const h=new rm(a,e,l),m=e.eventCache.getNode();let p;if(Oe(r)||Ie(r)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=Gu(a,la(e));else{const v=e.serverCache.getNode();K(v instanceof ge,"serverChildren would be complete if leaf node"),_=nm(a,v)}_=_,p=n.filter.updateFullNode(m,_,u)}else{const _=Ie(r);let v=im(a,_,e.serverCache);v==null&&e.serverCache.isCompleteForChild(_)&&(v=m.getImmediateChild(_)),v!=null?p=n.filter.updateChild(m,_,v,We(r),h,u):e.eventCache.getNode().hasChild(_)?p=n.filter.updateChild(m,_,ge.EMPTY_NODE,We(r),h,u):p=m,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=Gu(a,la(e)),f.isLeafNode()&&(p=n.filter.updateFullNode(p,f,u)))}return f=e.serverCache.isFullyInitialized()||Yu(a,He())!=null,Al(e,p,f,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,r){this.query_=e,this.eventRegistrations_=[];const a=this.query_._queryParams,l=new Zh(a.getIndex()),u=VD(a);this.processor_=gO(u);const f=r.serverCache,h=r.eventCache,m=l.updateFullNode(ge.EMPTY_NODE,f.getNode(),null),p=u.updateFullNode(ge.EMPTY_NODE,h.getNode(),null),_=new vr(m,f.isFullyInitialized(),l.filtersNodes()),v=new vr(p,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=cc(v,_),this.eventGenerator_=new XD(this.query_)}get query(){return this.query_}}function CO(n){return n.viewCache_.serverCache.getNode()}function RO(n){return Fu(n.viewCache_)}function AO(n,e){const r=la(n.viewCache_);return r&&(n.query._queryParams.loadsAllData()||!Oe(e)&&!r.getImmediateChild(Ie(e)).isEmpty())?r.getChild(e):null}function Tv(n){return n.eventRegistrations_.length===0}function NO(n,e){n.eventRegistrations_.push(e)}function wv(n,e,r){const a=[];if(r){K(e==null,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(r,l);f&&a.push(f)})}if(e){let l=[];for(let u=0;u<n.eventRegistrations_.length;++u){const f=n.eventRegistrations_[u];if(!f.matches(e))l.push(f);else if(e.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(u+1));break}}n.eventRegistrations_=l}else n.eventRegistrations_=[];return a}function Cv(n,e,r,a){e.type===Un.MERGE&&e.source.queryId!==null&&(K(la(n.viewCache_),"We should always have a full cache before handling merges"),K(Fu(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,u=yO(n.processor_,l,e,r,a);return _O(n.processor_,u.viewCache),K(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,XS(n,u.changes,u.viewCache.eventCache.getNode(),null)}function DO(n,e){const r=n.viewCache_.eventCache,a=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(ft,(u,f)=>{a.push(ss(u,f))}),r.isFullyInitialized()&&a.push(HS(r.getNode())),XS(n,a,r.getNode(),e)}function XS(n,e,r,a){const l=a?[a]:n.eventRegistrations_;return WD(n.eventGenerator_,e,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu;class WS{constructor(){this.views=new Map}}function OO(n){K(!Qu,"__referenceConstructor has already been defined"),Qu=n}function IO(){return K(Qu,"Reference.ts has not been loaded"),Qu}function MO(n){return n.views.size===0}function am(n,e,r,a){const l=e.source.queryId;if(l!==null){const u=n.views.get(l);return K(u!=null,"SyncTree gave us an op for an invalid query."),Cv(u,e,r,a)}else{let u=[];for(const f of n.views.values())u=u.concat(Cv(f,e,r,a));return u}}function ZS(n,e,r,a,l){const u=e._queryIdentifier,f=n.views.get(u);if(!f){let h=Gu(r,l?a:null),m=!1;h?m=!0:a instanceof ge?(h=nm(r,a),m=!1):(h=ge.EMPTY_NODE,m=!1);const p=cc(new vr(h,m,!1),new vr(a,l,!1));return new wO(e,p)}return f}function xO(n,e,r,a,l,u){const f=ZS(n,e,a,l,u);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,f),NO(f,r),DO(f,r)}function LO(n,e,r,a){const l=e._queryIdentifier,u=[];let f=[];const h=Er(n);if(l==="default")for(const[m,p]of n.views.entries())f=f.concat(wv(p,r,a)),Tv(p)&&(n.views.delete(m),p.query._queryParams.loadsAllData()||u.push(p.query));else{const m=n.views.get(l);m&&(f=f.concat(wv(m,r,a)),Tv(m)&&(n.views.delete(l),m.query._queryParams.loadsAllData()||u.push(m.query)))}return h&&!Er(n)&&u.push(new(IO())(e._repo,e._path)),{removed:u,events:f}}function JS(n){const e=[];for(const r of n.views.values())r.query._queryParams.loadsAllData()||e.push(r);return e}function gr(n,e){let r=null;for(const a of n.views.values())r=r||AO(a,e);return r}function eb(n,e){if(e._queryParams.loadsAllData())return dc(n);{const a=e._queryIdentifier;return n.views.get(a)}}function tb(n,e){return eb(n,e)!=null}function Er(n){return dc(n)!=null}function dc(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u;function kO(n){K(!$u,"__referenceConstructor has already been defined"),$u=n}function UO(){return K($u,"Reference.ts has not been loaded"),$u}let PO=1;class Rv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Je(null),this.pendingWriteTree_=dO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function nb(n,e,r,a,l){return tO(n.pendingWriteTree_,e,r,a,l),l?Jl(n,new sa(jS(),e,r)):[]}function ea(n,e,r=!1){const a=nO(n.pendingWriteTree_,e);if(iO(n.pendingWriteTree_,e)){let u=new Je(null);return a.snap!=null?u=u.set(He(),!0):Jt(a.children,f=>{u=u.set(new Ke(f),!0)}),Jl(n,new Vu(a.path,u,r))}else return[]}function Zl(n,e,r){return Jl(n,new sa(em(),e,r))}function zO(n,e,r){const a=Je.fromObject(r);return Jl(n,new jl(em(),e,a))}function HO(n,e){return Jl(n,new Bl(em(),e))}function BO(n,e,r){const a=lm(n,r);if(a){const l=om(a),u=l.path,f=l.queryId,h=Ft(u,e),m=new Bl(tm(f),h);return um(n,u,m)}else return[]}function ib(n,e,r,a,l=!1){const u=e._path,f=n.syncPointTree_.get(u);let h=[];if(f&&(e._queryIdentifier==="default"||tb(f,e))){const m=LO(f,e,r,a);MO(f)&&(n.syncPointTree_=n.syncPointTree_.remove(u));const p=m.removed;if(h=m.events,!l){const _=p.findIndex(E=>E._queryParams.loadsAllData())!==-1,v=n.syncPointTree_.findOnPath(u,(E,b)=>Er(b));if(_&&!v){const E=n.syncPointTree_.subtree(u);if(!E.isEmpty()){const b=FO(E);for(let A=0;A<b.length;++A){const H=b[A],P=H.query,z=lb(n,H);n.listenProvider_.startListening(Dl(P),ql(n,P),z.hashFn,z.onComplete)}}}!v&&p.length>0&&!a&&(_?n.listenProvider_.stopListening(Dl(e),null):p.forEach(E=>{const b=n.queryToTagMap.get(hc(E));n.listenProvider_.stopListening(Dl(E),b)}))}GO(n,p)}return h}function rb(n,e,r,a){const l=lm(n,a);if(l!=null){const u=om(l),f=u.path,h=u.queryId,m=Ft(f,e),p=new sa(tm(h),m,r);return um(n,f,p)}else return[]}function jO(n,e,r,a){const l=lm(n,a);if(l){const u=om(l),f=u.path,h=u.queryId,m=Ft(f,e),p=Je.fromObject(r),_=new jl(tm(h),m,p);return um(n,f,_)}else return[]}function qO(n,e,r,a=!1){const l=e._path;let u=null,f=!1;n.syncPointTree_.foreachOnPath(l,(E,b)=>{const A=Ft(E,l);u=u||gr(b,A),f=f||Er(b)});let h=n.syncPointTree_.get(l);h?(f=f||Er(h),u=u||gr(h,He())):(h=new WS,n.syncPointTree_=n.syncPointTree_.set(l,h));let m;u!=null?m=!0:(m=!1,u=ge.EMPTY_NODE,n.syncPointTree_.subtree(l).foreachChild((b,A)=>{const H=gr(A,He());H&&(u=u.updateImmediateChild(b,H))}));const p=tb(h,e);if(!p&&!e._queryParams.loadsAllData()){const E=hc(e);K(!n.queryToTagMap.has(E),"View does not exist, but we have a tag");const b=YO();n.queryToTagMap.set(E,b),n.tagToQueryMap.set(b,E)}const _=fc(n.pendingWriteTree_,l);let v=xO(h,e,r,_,u,m);if(!p&&!f&&!a){const E=eb(h,e);v=v.concat(KO(n,e,E))}return v}function sm(n,e,r){const l=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(e,(f,h)=>{const m=Ft(f,e),p=gr(h,m);if(p)return p});return GS(l,e,u,r,!0)}function VO(n,e){const r=e._path;let a=null;n.syncPointTree_.foreachOnPath(r,(p,_)=>{const v=Ft(p,r);a=a||gr(_,v)});let l=n.syncPointTree_.get(r);l?a=a||gr(l,He()):(l=new WS,n.syncPointTree_=n.syncPointTree_.set(r,l));const u=a!=null,f=u?new vr(a,!0,!1):null,h=fc(n.pendingWriteTree_,e._path),m=ZS(l,e,h,u?f.getNode():ge.EMPTY_NODE,u);return RO(m)}function Jl(n,e){return ab(e,n.syncPointTree_,null,fc(n.pendingWriteTree_,He()))}function ab(n,e,r,a){if(Oe(n.path))return sb(n,e,r,a);{const l=e.get(He());r==null&&l!=null&&(r=gr(l,He()));let u=[];const f=Ie(n.path),h=n.operationForChild(f),m=e.children.get(f);if(m&&h){const p=r?r.getImmediateChild(f):null,_=YS(a,f);u=u.concat(ab(h,m,p,_))}return l&&(u=u.concat(am(l,n,a,r))),u}}function sb(n,e,r,a){const l=e.get(He());r==null&&l!=null&&(r=gr(l,He()));let u=[];return e.children.inorderTraversal((f,h)=>{const m=r?r.getImmediateChild(f):null,p=YS(a,f),_=n.operationForChild(f);_&&(u=u.concat(sb(_,h,m,p)))}),l&&(u=u.concat(am(l,n,a,r))),u}function lb(n,e){const r=e.query,a=ql(n,r);return{hashFn:()=>(CO(e)||ge.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return a?BO(n,r._path,a):HO(n,r._path);{const u=qN(l,r);return ib(n,r,null,u)}}}}function ql(n,e){const r=hc(e);return n.queryToTagMap.get(r)}function hc(n){return n._path.toString()+"$"+n._queryIdentifier}function lm(n,e){return n.tagToQueryMap.get(e)}function om(n){const e=n.indexOf("$");return K(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ke(n.substr(0,e))}}function um(n,e,r){const a=n.syncPointTree_.get(e);K(a,"Missing sync point for query tag that we're tracking");const l=fc(n.pendingWriteTree_,e);return am(a,r,l,null)}function FO(n){return n.fold((e,r,a)=>{if(r&&Er(r))return[dc(r)];{let l=[];return r&&(l=JS(r)),Jt(a,(u,f)=>{l=l.concat(f)}),l}})}function Dl(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(UO())(n._repo,n._path):n}function GO(n,e){for(let r=0;r<e.length;++r){const a=e[r];if(!a._queryParams.loadsAllData()){const l=hc(a),u=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(u)}}}function YO(){return PO++}function KO(n,e,r){const a=e._path,l=ql(n,e),u=lb(n,r),f=n.listenProvider_.startListening(Dl(e),l,u.hashFn,u.onComplete),h=n.syncPointTree_.subtree(a);if(l)K(!Er(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((p,_,v)=>{if(!Oe(p)&&_&&Er(_))return[dc(_).query];{let E=[];return _&&(E=E.concat(JS(_).map(b=>b.query))),Jt(v,(b,A)=>{E=E.concat(A)}),E}});for(let p=0;p<m.length;++p){const _=m[p];n.listenProvider_.stopListening(Dl(_),ql(n,_))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.node_=e}getImmediateChild(e){const r=this.node_.getImmediateChild(e);return new cm(r)}node(){return this.node_}}class fm{constructor(e,r){this.syncTree_=e,this.path_=r}getImmediateChild(e){const r=St(this.path_,e);return new fm(this.syncTree_,r)}node(){return sm(this.syncTree_,this.path_)}}const QO=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Av=function(n,e,r){if(!n||typeof n!="object")return n;if(K(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return $O(n[".sv"],e,r);if(typeof n[".sv"]=="object")return XO(n[".sv"],e);K(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},$O=function(n,e,r){switch(n){case"timestamp":return r.timestamp;default:K(!1,"Unexpected server value: "+n)}},XO=function(n,e,r){n.hasOwnProperty("increment")||K(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const a=n.increment;typeof a!="number"&&K(!1,"Unexpected increment value: "+a);const l=e.node();if(K(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return a;const f=l.getValue();return typeof f!="number"?a:f+a},WO=function(n,e,r,a){return dm(e,new fm(r,n),a)},ob=function(n,e,r){return dm(n,new cm(e),r)};function dm(n,e,r){const a=n.getPriority().val(),l=Av(a,e.getImmediateChild(".priority"),r);let u;if(n.isLeafNode()){const f=n,h=Av(f.getValue(),e,r);return h!==f.getValue()||l!==f.getPriority().val()?new Rt(h,Nt(l)):n}else{const f=n;return u=f,l!==f.getPriority().val()&&(u=u.updatePriority(new Rt(l))),f.forEachChild(ft,(h,m)=>{const p=dm(m,e.getImmediateChild(h),r);p!==m&&(u=u.updateImmediateChild(h,p))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e="",r=null,a={children:{},childCount:0}){this.name=e,this.parent=r,this.node=a}}function mm(n,e){let r=e instanceof Ke?e:new Ke(e),a=n,l=Ie(r);for(;l!==null;){const u=rs(a.node.children,l)||{children:{},childCount:0};a=new hm(l,a,u),r=We(r),l=Ie(r)}return a}function ms(n){return n.node.value}function ub(n,e){n.node.value=e,yh(n)}function cb(n){return n.node.childCount>0}function ZO(n){return ms(n)===void 0&&!cb(n)}function mc(n,e){Jt(n.node.children,(r,a)=>{e(new hm(r,n,a))})}function fb(n,e,r,a){r&&e(n),mc(n,l=>{fb(l,e,!0)})}function JO(n,e,r){let a=n.parent;for(;a!==null;){if(e(a))return!0;a=a.parent}return!1}function eo(n){return new Ke(n.parent===null?n.name:eo(n.parent)+"/"+n.name)}function yh(n){n.parent!==null&&eI(n.parent,n.name,n)}function eI(n,e,r){const a=ZO(r),l=ki(n.node.children,e);a&&l?(delete n.node.children[e],n.node.childCount--,yh(n)):!a&&!l&&(n.node.children[e]=r.node,n.node.childCount++,yh(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=/[\[\].#$\/\u0000-\u001F\u007F]/,nI=/[\[\].#$\u0000-\u001F\u007F]/,Xd=10*1024*1024,db=function(n){return typeof n=="string"&&n.length!==0&&!tI.test(n)},hb=function(n){return typeof n=="string"&&n.length!==0&&!nI.test(n)},iI=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),hb(n)},mb=function(n,e,r,a){a&&e===void 0||pm(zh(n,"value"),e,r)},pm=function(n,e,r){const a=r instanceof Ke?new SD(r,n):r;if(e===void 0)throw new Error(n+"contains undefined "+Qr(a));if(typeof e=="function")throw new Error(n+"contains a function "+Qr(a)+" with contents = "+e.toString());if(oS(e))throw new Error(n+"contains "+e.toString()+" "+Qr(a));if(typeof e=="string"&&e.length>Xd/3&&ac(e)>Xd)throw new Error(n+"contains a string greater than "+Xd+" utf8 bytes "+Qr(a)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(Jt(e,(f,h)=>{if(f===".value")l=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!db(f)))throw new Error(n+" contains an invalid key ("+f+") "+Qr(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);bD(a,f),pm(n,h,a),TD(a)}),l&&u)throw new Error(n+' contains ".value" child '+Qr(a)+" in addition to actual children.")}},pb=function(n,e,r,a){if(!hb(r))throw new Error(zh(n,e)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},rI=function(n,e,r,a){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),pb(n,e,r)},gb=function(n,e){if(Ie(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},aI=function(n,e){const r=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!db(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!iI(r))throw new Error(zh(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _b(n,e){let r=null;for(let a=0;a<e.length;a++){const l=e[a],u=l.getPath();r!==null&&!MS(u,r.path)&&(n.eventLists_.push(r),r=null),r===null&&(r={events:[],path:u}),r.events.push(l)}r&&n.eventLists_.push(r)}function Jn(n,e,r){_b(n,r),lI(n,a=>kn(a,e)||kn(e,a))}function lI(n,e){n.recursionDepth_++;let r=!0;for(let a=0;a<n.eventLists_.length;a++){const l=n.eventLists_[a];if(l){const u=l.path;e(u)?(oI(n.eventLists_[a]),n.eventLists_[a]=null):r=!1}}r&&(n.eventLists_=[]),n.recursionDepth_--}function oI(n){for(let e=0;e<n.events.length;e++){const r=n.events[e];if(r!==null){n.events[e]=null;const a=r.getEventRunner();Cl&&jt("event: "+r.toString()),hs(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="repo_interrupt",cI=25;class fI{constructor(e,r,a,l){this.repoInfo_=e,this.forceRestClient_=r,this.authTokenProvider_=a,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qu(),this.transactionQueueTree_=new hm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function dI(n,e,r){if(n.stats_=Qh(n.repoInfo_),n.forceRestClient_||YN())n.server_=new ju(n.repoInfo_,(a,l,u,f)=>{Nv(n,a,l,u,f)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Dv(n,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Et(r)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}n.persistentConnection_=new Ii(n.repoInfo_,e,(a,l,u,f)=>{Nv(n,a,l,u,f)},a=>{Dv(n,a)},a=>{hI(n,a)},n.authTokenProvider_,n.appCheckProvider_,r),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(a=>{n.server_.refreshAuthToken(a)}),n.appCheckProvider_.addTokenChangeListener(a=>{n.server_.refreshAppCheckToken(a.token)}),n.statsReporter_=WN(n.repoInfo_,()=>new $D(n.stats_,n.server_)),n.infoData_=new FD,n.infoSyncTree_=new Rv({startListening:(a,l,u,f)=>{let h=[];const m=n.infoData_.getNode(a._path);return m.isEmpty()||(h=Zl(n.infoSyncTree_,a._path,m),setTimeout(()=>{f("ok")},0)),h},stopListening:()=>{}}),_m(n,"connected",!1),n.serverSyncTree_=new Rv({startListening:(a,l,u,f)=>(n.server_.listen(a,u,l,(h,m)=>{const p=f(h,m);Jn(n.eventQueue_,a._path,p)}),[]),stopListening:(a,l)=>{n.server_.unlisten(a,l)}})}function yb(n){const r=n.infoData_.getNode(new Ke(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function gm(n){return QO({timestamp:yb(n)})}function Nv(n,e,r,a,l){n.dataUpdateCount++;const u=new Ke(e);r=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,r):r;let f=[];if(l)if(a){const m=Lu(r,p=>Nt(p));f=jO(n.serverSyncTree_,u,m,l)}else{const m=Nt(r);f=rb(n.serverSyncTree_,u,m,l)}else if(a){const m=Lu(r,p=>Nt(p));f=zO(n.serverSyncTree_,u,m)}else{const m=Nt(r);f=Zl(n.serverSyncTree_,u,m)}let h=u;f.length>0&&(h=gc(n,u)),Jn(n.eventQueue_,h,f)}function Dv(n,e){_m(n,"connected",e),e===!1&&gI(n)}function hI(n,e){Jt(e,(r,a)=>{_m(n,r,a)})}function _m(n,e,r){const a=new Ke("/.info/"+e),l=Nt(r);n.infoData_.updateSnapshot(a,l);const u=Zl(n.infoSyncTree_,a,l);Jn(n.eventQueue_,a,u)}function vb(n){return n.nextWriteId_++}function mI(n,e,r){const a=VO(n.serverSyncTree_,e);return a!=null?Promise.resolve(a):n.server_.get(e).then(l=>{const u=Nt(l).withIndex(e._queryParams.getIndex());qO(n.serverSyncTree_,e,r,!0);let f;if(e._queryParams.loadsAllData())f=Zl(n.serverSyncTree_,e._path,u);else{const h=ql(n.serverSyncTree_,e);f=rb(n.serverSyncTree_,e._path,u,h)}return Jn(n.eventQueue_,e._path,f),ib(n.serverSyncTree_,e,r,null,!0),u},l=>(pc(n,"get for query "+Et(e)+" failed: "+l),Promise.reject(new Error(l))))}function pI(n,e,r,a,l){pc(n,"set",{path:e.toString(),value:r,priority:a});const u=gm(n),f=Nt(r,a),h=sm(n.serverSyncTree_,e),m=ob(f,h,u),p=vb(n),_=nb(n.serverSyncTree_,e,m,p,!0);_b(n.eventQueue_,_),n.server_.put(e.toString(),f.val(!0),(E,b)=>{const A=E==="ok";A||Zt("set at "+e+" failed: "+E);const H=ea(n.serverSyncTree_,p,!A);Jn(n.eventQueue_,e,H),yI(n,l,E,b)});const v=wb(n,e);gc(n,v),Jn(n.eventQueue_,v,[])}function gI(n){pc(n,"onDisconnectEvents");const e=gm(n),r=qu();hh(n.onDisconnect_,He(),(l,u)=>{const f=WO(l,u,n.serverSyncTree_,e);BS(r,l,f)});let a=[];hh(r,He(),(l,u)=>{a=a.concat(Zl(n.serverSyncTree_,l,u));const f=wb(n,l);gc(n,f)}),n.onDisconnect_=qu(),Jn(n.eventQueue_,He(),a)}function _I(n){n.persistentConnection_&&n.persistentConnection_.interrupt(uI)}function pc(n,...e){let r="";n.persistentConnection_&&(r=n.persistentConnection_.id+":"),jt(r,...e)}function yI(n,e,r,a){e&&hs(()=>{if(r==="ok")e(null);else{const l=(r||"error").toUpperCase();let u=l;a&&(u+=": "+a);const f=new Error(u);f.code=l,e(f)}})}function Eb(n,e,r){return sm(n.serverSyncTree_,e,r)||ge.EMPTY_NODE}function ym(n,e=n.transactionQueueTree_){if(e||_c(n,e),ms(e)){const r=bb(n,e);K(r.length>0,"Sending zero length transaction queue"),r.every(l=>l.status===0)&&vI(n,eo(e),r)}else cb(e)&&mc(e,r=>{ym(n,r)})}function vI(n,e,r){const a=r.map(p=>p.currentWriteId),l=Eb(n,e,a);let u=l;const f=l.hash();for(let p=0;p<r.length;p++){const _=r[p];K(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const v=Ft(e,_.path);u=u.updateChild(v,_.currentOutputSnapshotRaw)}const h=u.val(!0),m=e;n.server_.put(m.toString(),h,p=>{pc(n,"transaction put response",{path:m.toString(),status:p});let _=[];if(p==="ok"){const v=[];for(let E=0;E<r.length;E++)r[E].status=2,_=_.concat(ea(n.serverSyncTree_,r[E].currentWriteId)),r[E].onComplete&&v.push(()=>r[E].onComplete(null,!0,r[E].currentOutputSnapshotResolved)),r[E].unwatcher();_c(n,mm(n.transactionQueueTree_,e)),ym(n,n.transactionQueueTree_),Jn(n.eventQueue_,e,_);for(let E=0;E<v.length;E++)hs(v[E])}else{if(p==="datastale")for(let v=0;v<r.length;v++)r[v].status===3?r[v].status=4:r[v].status=0;else{Zt("transaction at "+m.toString()+" failed: "+p);for(let v=0;v<r.length;v++)r[v].status=4,r[v].abortReason=p}gc(n,e)}},f)}function gc(n,e){const r=Sb(n,e),a=eo(r),l=bb(n,r);return EI(n,l,a),a}function EI(n,e,r){if(e.length===0)return;const a=[];let l=[];const f=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const m=e[h],p=Ft(r,m.path);let _=!1,v;if(K(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)_=!0,v=m.abortReason,l=l.concat(ea(n.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=cI)_=!0,v="maxretry",l=l.concat(ea(n.serverSyncTree_,m.currentWriteId,!0));else{const E=Eb(n,m.path,f);m.currentInputSnapshot=E;const b=e[h].update(E.val());if(b!==void 0){pm("transaction failed: Data returned ",b,m.path);let A=Nt(b);typeof b=="object"&&b!=null&&ki(b,".priority")||(A=A.updatePriority(E.getPriority()));const P=m.currentWriteId,z=gm(n),G=ob(A,E,z);m.currentOutputSnapshotRaw=A,m.currentOutputSnapshotResolved=G,m.currentWriteId=vb(n),f.splice(f.indexOf(P),1),l=l.concat(nb(n.serverSyncTree_,m.path,G,m.currentWriteId,m.applyLocally)),l=l.concat(ea(n.serverSyncTree_,P,!0))}else _=!0,v="nodata",l=l.concat(ea(n.serverSyncTree_,m.currentWriteId,!0))}Jn(n.eventQueue_,r,l),l=[],_&&(e[h].status=2,function(E){setTimeout(E,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(v==="nodata"?a.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):a.push(()=>e[h].onComplete(new Error(v),!1,null))))}_c(n,n.transactionQueueTree_);for(let h=0;h<a.length;h++)hs(a[h]);ym(n,n.transactionQueueTree_)}function Sb(n,e){let r,a=n.transactionQueueTree_;for(r=Ie(e);r!==null&&ms(a)===void 0;)a=mm(a,r),e=We(e),r=Ie(e);return a}function bb(n,e){const r=[];return Tb(n,e,r),r.sort((a,l)=>a.order-l.order),r}function Tb(n,e,r){const a=ms(e);if(a)for(let l=0;l<a.length;l++)r.push(a[l]);mc(e,l=>{Tb(n,l,r)})}function _c(n,e){const r=ms(e);if(r){let a=0;for(let l=0;l<r.length;l++)r[l].status!==2&&(r[a]=r[l],a++);r.length=a,ub(e,r.length>0?r:void 0)}mc(e,a=>{_c(n,a)})}function wb(n,e){const r=eo(Sb(n,e)),a=mm(n.transactionQueueTree_,e);return JO(a,l=>{Wd(n,l)}),Wd(n,a),fb(a,l=>{Wd(n,l)}),r}function Wd(n,e){const r=ms(e);if(r){const a=[];let l=[],u=-1;for(let f=0;f<r.length;f++)r[f].status===3||(r[f].status===1?(K(u===f-1,"All SENT items should be at beginning of queue."),u=f,r[f].status=3,r[f].abortReason="set"):(K(r[f].status===0,"Unexpected transaction status in abort"),r[f].unwatcher(),l=l.concat(ea(n.serverSyncTree_,r[f].currentWriteId,!0)),r[f].onComplete&&a.push(r[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?ub(e,void 0):r.length=u+1,Jn(n.eventQueue_,eo(e),l);for(let f=0;f<a.length;f++)hs(a[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(n){let e="";const r=n.split("/");for(let a=0;a<r.length;a++)if(r[a].length>0){let l=r[a];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function bI(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const r of n.split("&")){if(r.length===0)continue;const a=r.split("=");a.length===2?e[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Zt(`Invalid query segment '${r}' in query '${n}'`)}return e}const Ov=function(n,e){const r=TI(n),a=r.namespace;r.domain==="firebase.com"&&xi(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&r.domain!=="localhost"&&xi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||PN();const l=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new ES(r.host,r.secure,a,l,e,"",a!==r.subdomain),path:new Ke(r.pathString)}},TI=function(n){let e="",r="",a="",l="",u="",f=!0,h="https",m=443;if(typeof n=="string"){let p=n.indexOf("//");p>=0&&(h=n.substring(0,p-1),n=n.substring(p+2));let _=n.indexOf("/");_===-1&&(_=n.length);let v=n.indexOf("?");v===-1&&(v=n.length),e=n.substring(0,Math.min(_,v)),_<v&&(l=SI(n.substring(_,v)));const E=bI(n.substring(Math.min(n.length,v)));p=e.indexOf(":"),p>=0?(f=h==="https"||h==="wss",m=parseInt(e.substring(p+1),10)):p=e.length;const b=e.slice(0,p);if(b.toLowerCase()==="localhost")r="localhost";else if(b.split(".").length<=2)r=b;else{const A=e.indexOf(".");a=e.substring(0,A).toLowerCase(),r=e.substring(A+1),u=a}"ns"in E&&(u=E.ns)}return{host:e,port:m,domain:r,subdomain:a,secure:f,scheme:h,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",wI=function(){let n=0;const e=[];return function(r){const a=r===n;n=r;let l;const u=new Array(8);for(l=7;l>=0;l--)u[l]=Iv.charAt(r%64),r=Math.floor(r/64);K(r===0,"Cannot push at time == 0");let f=u.join("");if(a){for(l=11;l>=0&&e[l]===63;l--)e[l]=0;e[l]++}else for(l=0;l<12;l++)e[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)f+=Iv.charAt(e[l]);return K(f.length===20,"nextPushId: Length should be 20."),f}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,r,a,l){this.eventType=e,this.eventRegistration=r,this.snapshot=a,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Et(this.snapshot.exportVal())}}class RI{constructor(e,r,a){this.eventRegistration=e,this.error=r,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,r){this.snapshotCallback=e,this.cancelCallback=r}onValue(e,r){this.snapshotCallback.call(null,e,r)}onCancel(e){return K(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,r,a,l){this._repo=e,this._path=r,this._queryParams=a,this._orderByCalled=l}get key(){return Oe(this._path)?null:DS(this._path)}get ref(){return new Ui(this._repo,this._path)}get _queryIdentifier(){const e=pv(this._queryParams),r=Yh(e);return r==="{}"?"default":r}get _queryObject(){return pv(this._queryParams)}isEqual(e){if(e=Yt(e),!(e instanceof vm))return!1;const r=this._repo===e._repo,a=MS(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return r&&a&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+ED(this._path)}}class Ui extends vm{constructor(e,r){super(e,r,new Jh,!1)}get parent(){const e=IS(this._path);return e===null?null:new Ui(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Vl{constructor(e,r,a){this._node=e,this.ref=r,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const r=new Ke(e),a=Fl(this.ref,e);return new Vl(this._node.getChild(r),a,ft)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,l)=>e(new Vl(l,Fl(this.ref,a),ft)))}hasChild(e){const r=new Ke(e);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Cb(n,e){return n=Yt(n),n._checkNotDeleted("ref"),e!==void 0?Fl(n._root,e):n._root}function Fl(n,e){return n=Yt(n),Ie(n._path)===null?rI("child","path",e):pb("child","path",e),new Ui(n._repo,St(n._path,e))}function NI(n,e){n=Yt(n),gb("push",n._path),mb("push",e,n._path,!0);const r=yb(n._repo),a=wI(r),l=Fl(n,a),u=Fl(n,a);let f;return e!=null?f=DI(u,e).then(()=>u):f=Promise.resolve(u),l.then=f.then.bind(f),l.catch=f.then.bind(f,void 0),l}function DI(n,e){n=Yt(n),gb("set",n._path),mb("set",e,n._path,!1);const r=new rc;return pI(n._repo,n._path,e,null,r.wrapCallback(()=>{})),r.promise}function OI(n){n=Yt(n);const e=new AI(()=>{}),r=new Em(e);return mI(n._repo,n,r).then(a=>new Vl(a,new Ui(n._repo,n._path),n._queryParams.getIndex()))}class Em{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,r){const a=r._queryParams.getIndex();return new CI("value",this,new Vl(e.snapshotNode,new Ui(r._repo,r._path),a))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,r){return this.callbackContext.hasCancelCallback?new RI(this,e,r):null}matches(e){return e instanceof Em?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}OO(Ui);kO(Ui);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="FIREBASE_DATABASE_EMULATOR_HOST",vh={};let MI=!1;function xI(n,e,r,a){n.repoInfo_=new ES(`${e}:${r}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),a&&(n.authTokenProvider_=a)}function LI(n,e,r,a,l){let u=a||n.options.databaseURL;u===void 0&&(n.options.projectId||xi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),jt("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f=Ov(u,l),h=f.repoInfo,m;typeof process<"u"&&Wy&&(m=Wy[II]),m?(u=`http://${m}?ns=${h.namespace}`,f=Ov(u,l),h=f.repoInfo):f.repoInfo.secure;const p=new QN(n.name,n.options,e);aI("Invalid Firebase Database URL",f),Oe(f.path)||xi("Database URL must point to the root of a Firebase Database (not including a child path).");const _=UI(h,n,p,new KN(n.name,r));return new PI(_,n)}function kI(n,e){const r=vh[e];(!r||r[n.key]!==n)&&xi(`Database ${e}(${n.repoInfo_}) has already been deleted.`),_I(n),delete r[n.key]}function UI(n,e,r,a){let l=vh[e.name];l||(l={},vh[e.name]=l);let u=l[n.toURLString()];return u&&xi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new fI(n,MI,r,a),l[n.toURLString()]=u,u}class PI{constructor(e,r){this._repoInternal=e,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(dI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ui(this._repo,He())),this._rootInternal}_delete(){return this._rootInternal!==null&&(kI(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&xi("Cannot call "+e+" on a deleted database.")}}function zI(n=Bh(),e){const r=da(n,"database").getImmediate({identifier:e});if(!r._instanceStarted){const a=zR("database");a&&HI(r,...a)}return r}function HI(n,e,r,a={}){n=Yt(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&xi("Cannot call useEmulator() after instance has already been initialized.");const l=n._repoInternal;let u;if(l.repoInfo_.nodeAdmin)a.mockUserToken&&xi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new wu(wu.OWNER);else if(a.mockUserToken){const f=typeof a.mockUserToken=="string"?a.mockUserToken:HR(a.mockUserToken,n.app.options.projectId);u=new wu(f)}xI(l,e,r,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(n){IN(fs),Zn(new Bn("database",(e,{instanceIdentifier:r})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return LI(a,l,u,r)},"PUBLIC").setMultipleInstances(!0)),Rn(Zy,Jy,n),Rn(Zy,Jy,"esm2017")}Ii.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Ii.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};BI();const jI={apiKey:"AIzaSyA87k59Y0yvzptwjS0CB5jqQR80igso3sw",authDomain:"dino-dash-66723.firebaseapp.com",databaseURL:"https://dino-dash-66723-default-rtdb.europe-west1.firebasedatabase.app",projectId:"dino-dash-66723",storageBucket:"dino-dash-66723.firebasestorage.app",messagingSenderId:"456959919434",appId:"1:456959919434:web:fde2e8ba634046c8642db3",measurementId:"G-5LXYMB5NEH"},Sm=LE(jI);AN(Sm);const Rb=zI(Sm),Ab="highscores",qI=async(n,e)=>{try{const r=Cb(Rb,`${Ab}/${n}`);await NI(r,{score:e,timestamp:new Date().toISOString()}),console.log("High score submitted successfully")}catch(r){console.error("Error submitting high score: ",r)}},VI=async()=>{try{const n=Cb(Rb,Ab),e=await OI(n);return e.exists()?e.val():{}}catch(n){return console.error("Error retrieving high scores: ",n),{}}},FI=()=>{const[n,e]=O.useState(0);return O.useEffect(()=>{const r=setInterval(()=>{e(a=>a===-15?15:-15)},1e3);return()=>clearInterval(r)},[]),n},GI=()=>{const{isRunning:n}=_E(),[e,r]=O.useState(0);return O.useEffect(()=>{if(!n)return;const a=setInterval(()=>{r(l=>(l-1)%window.innerWidth)},20);return()=>clearInterval(a)},[n]),Q.jsxs("div",{className:"background-container",children:[Q.jsx("div",{className:"background-layer Background-sky-1"}),Q.jsx("div",{className:"background-layer Background-outline-2"}),Q.jsx("div",{className:"background-layer Background-desert-3",style:{backgroundPositionX:`${e}px`}}),Q.jsx("div",{className:"background-layer Background-decor-4",style:{backgroundPositionX:`${e}px`}}),Q.jsx("div",{className:"background-layer Background-foreground-5",style:{backgroundPositionX:`${e*4.5}px`}})]})},YI=()=>{const p="/static/jump_1.mp3",{score:_,setScore:v}=O.useContext(ic),{isRunning:E,setIsRunning:b}=_E(),{volume:A}=Lh(),[H,P]=O.useState(window.innerWidth),[z,G]=O.useState(40),[J,fe]=O.useState(!1),[W,I]=O.useState(!1),[ye,Se]=O.useState(0),[F,oe]=O.useState(""),[je,_t]=O.useState(!1),Dt=FI(),at=O.useRef(null),et=O.useRef(null),Y=()=>{I(!1),b(!0),_t(!0),P(window.innerWidth),G(40),v(0),fe(!1),oe(""),at.current=setInterval(()=>{P(X=>X<=-50?window.innerWidth:X-5)},20),et.current=setInterval(()=>{v(X=>X+1)},100)};O.useEffect(()=>{if(E)return at.current=setInterval(()=>{P(X=>X<=-50?window.innerWidth:X-5)},20),et.current=setInterval(()=>{v(X=>X+1)},100),()=>{clearInterval(at.current),clearInterval(et.current)}},[E,v]),O.useEffect(()=>{const X=Ne=>{if(Ne.code==="Space"&&!J&&E){fe(!0);let T=z;const j=new Audio(p);j.volume=A/100,j.play();const re=setInterval(()=>{if(T>=450){clearInterval(re);const te=setInterval(()=>{T<=40?(clearInterval(te),G(40),fe(!1)):(T-=6,G(T))},20)}else T+=6,G(T)},20)}};return E&&document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[J,E]),O.useEffect(()=>{const Ne=setInterval(()=>{if(W)return;const T=100,j=z,re=H,te=40,Z=re<T+150&&re+150>T,be=te<j+150&&te+170>j;Z&&be&&(I(!0),b(!1),_t(!1),clearInterval(at.current),clearInterval(et.current),Se(pe=>Math.max(pe,_)))},20);return()=>clearInterval(Ne)},[H,z,W,_]);const me=()=>{F.trim()!==""&&qI(F,_)};return O.useEffect(()=>{const X=()=>{_t(!0),window.removeEventListener("click",X),window.removeEventListener("keydown",X)};return window.addEventListener("click",X),window.addEventListener("keydown",X),()=>{window.removeEventListener("click",X),window.removeEventListener("keydown",X)}},[]),Q.jsxs("div",{className:"game-container",children:[Q.jsx(GI,{})," ",Q.jsx(yE,{isPlaying:je,volume:A})," ",W&&Q.jsx("div",{className:"game-over-overlay",children:Q.jsxs("div",{className:"game-over-menu",children:[Q.jsx("p",{children:"Seems you have hugged a cactus. Ouch."}),Q.jsxs("p",{children:["High Score: ",ye]}),Q.jsx("input",{type:"text",placeholder:"Enter your name",value:F,onChange:X=>oe(X.target.value)}),Q.jsx("button",{onClick:me,children:"Submit Score"}),Q.jsx("button",{onClick:Y,children:"Restart"})]})}),Q.jsxs("div",{className:"game-entities",children:[Q.jsx("div",{className:"dino",style:{bottom:`${z}px`,left:"100px",transform:`rotate(${Dt}deg)`,transition:"transform 1s ease-in-out"}}),Q.jsx("div",{className:"cactus",style:{left:`${H}px`}})]})]})},KI=()=>{const[n,e]=O.useState(!1),[r,a]=O.useState(!0),{setScore:l}=O.useContext(ic),u=()=>{e(!0),a(!0),l(0)},f=()=>{a(!1)},h=()=>{a(!0)},m=[1,2,3],[p,_]=O.useState(0),v=()=>{_(E=>(E+1)%m.length)};return Q.jsx("div",{className:"homepage-container",children:n?Q.jsxs(Q.Fragment,{children:[Q.jsx(YI,{isRunning:r,onPause:f}),!r&&Q.jsx("div",{className:"pause-overlay",children:Q.jsxs("div",{className:"pause-menu",children:[Q.jsx("h2",{children:"Game Paused"}),Q.jsx("button",{onClick:h,className:"resume-btn",children:"Resume Game"})]})})]}):Q.jsxs("div",{className:"container text-center mt-5",children:[Q.jsx("button",{onClick:u,className:"start-btn",children:"Start Game"}),Q.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[Q.jsx("p",{className:"me-3 mb-0",children:"Select level:"}),Q.jsx("button",{className:"btn btn-secondary",onClick:v,children:m[p]})]})]})})},QI=()=>{const[n,e]=O.useState([]),[r,a]=O.useState(1),l=50;O.useEffect(()=>{u()},[r]);const u=async()=>{const f=await VI(),h=Object.entries(f).flatMap(([_,v])=>Object.entries(v).map(([E,{score:b,timestamp:A}])=>({id:E,username:_,score:b,timestamp:A}))).sort((_,v)=>v.score-_.score),m=(r-1)*l,p=h.slice(m,m+l);e(p)};return Q.jsxs("div",{children:[Q.jsx("h2",{children:"High Scores"}),Q.jsx("ul",{className:"ListedScores",children:n.length>0?n.map((f,h)=>Q.jsxs("li",{children:[h+1+(r-1)*l,". Score: ",f.score,", Username: ",f.username]},f.id)):Q.jsx("p",{children:"No scores available"})}),Q.jsxs("div",{className:"pagination",children:[r>1&&Q.jsx("button",{onClick:()=>a(r-1),children:"Previous"}),n.length===l&&Q.jsx("button",{onClick:()=>a(r+1),children:"Next"})]})]})};function bm(n,e){var r={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(r[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(n);l<a.length;l++)e.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(n,a[l])&&(r[a[l]]=n[a[l]]);return r}function Nb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $I=Nb,Db=new fa("auth","Firebase",Nb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new sc("@firebase/auth");function XI(n,...e){Xu.logLevel<=Fe.WARN&&Xu.warn(`Auth (${fs}): ${n}`,...e)}function Cu(n,...e){Xu.logLevel<=Fe.ERROR&&Xu.error(`Auth (${fs}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(n,...e){throw wm(n,...e)}function zn(n,...e){return wm(n,...e)}function Tm(n,e,r){const a=Object.assign(Object.assign({},$I()),{[e]:r});return new fa("auth","Firebase",a).create(e,{appName:n.name})}function na(n){return Tm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WI(n,e,r){const a=r;if(!(e instanceof a))throw a.name!==e.constructor.name&&ei(n,"argument-error"),Tm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wm(n,...e){if(typeof n!="string"){const r=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=n.name),n._errorFactory.create(r,...a)}return Db.create(n,...e)}function ve(n,e,...r){if(!n)throw wm(e,...r)}function Ni(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Cu(e),new Error(e)}function Li(n,e){n||Ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ZI(){return Mv()==="http:"||Mv()==="https:"}function Mv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZI()||RE()||"connection"in navigator)?navigator.onLine:!0}function eM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,r){this.shortDelay=e,this.longDelay=r,Li(r>e,"Short delay should be less than long delay!"),this.isMobile=Ph()||AE()}get(){return JI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(n,e){Li(n.emulator,"Emulator should always be set here");const{url:r}=n.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{static initialize(e,r,a){this.fetchImpl=e,r&&(this.headersImpl=r),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=new to(3e4,6e4);function Rm(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ps(n,e,r,a,l={}){return Ib(n,l,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const h=cs(Object.assign({key:n.config.apiKey},f)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:m},u);return BR()||(p.referrerPolicy="no-referrer"),Ob.fetch()(Mb(n,n.config.apiHost,r,h),p)})}async function Ib(n,e,r){n._canInitEmulator=!1;const a=Object.assign(Object.assign({},tM),e);try{const l=new rM(n),u=await Promise.race([r(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Eu(n,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const h=u.ok?f.errorMessage:f.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eu(n,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw Eu(n,"email-already-in-use",f);if(m==="USER_DISABLED")throw Eu(n,"user-disabled",f);const _=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Tm(n,_,p);ei(n,_)}}catch(l){if(l instanceof ii)throw l;ei(n,"network-request-failed",{message:String(l)})}}async function iM(n,e,r,a,l={}){const u=await ps(n,e,r,a,l);return"mfaPendingCredential"in u&&ei(n,"multi-factor-auth-required",{_serverResponse:u}),u}function Mb(n,e,r,a){const l=`${e}${r}?${a}`;return n.config.emulator?Cm(n.config,l):`${n.config.apiScheme}://${l}`}class rM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,a)=>{this.timer=setTimeout(()=>a(zn(this.auth,"network-request-failed")),nM.get())})}}function Eu(n,e,r){const a={appName:n.name};r.email&&(a.email=r.email),r.phoneNumber&&(a.phoneNumber=r.phoneNumber);const l=zn(n,e,a);return l.customData._tokenResponse=r,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(n,e){return ps(n,"POST","/v1/accounts:delete",e)}async function xb(n,e){return ps(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sM(n,e=!1){const r=Yt(n),a=await r.getIdToken(e),l=Am(a);ve(l&&l.exp&&l.auth_time&&l.iat,r.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:a,authTime:Ol(Zd(l.auth_time)),issuedAtTime:Ol(Zd(l.iat)),expirationTime:Ol(Zd(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Zd(n){return Number(n)*1e3}function Am(n){const[e,r,a]=n.split(".");if(e===void 0||r===void 0||a===void 0)return Cu("JWT malformed, contained fewer than 3 sections"),null;try{const l=xu(r);return l?JSON.parse(l):(Cu("Failed to decode base64 JWT payload"),null)}catch(l){return Cu("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function xv(n){const e=Am(n);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(n,e,r=!1){if(r)return e;try{return await e}catch(a){throw a instanceof ii&&lM(a)&&n.auth.currentUser===n&&await n.auth.signOut(),a}}function lM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(n){var e;const r=n.auth,a=await n.getIdToken(),l=await Gl(n,xb(r,{idToken:a}));ve(l==null?void 0:l.users.length,r,"internal-error");const u=l.users[0];n._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?Lb(u.providerUserInfo):[],h=cM(n.providerData,f),m=n.isAnonymous,p=!(n.email&&u.passwordHash)&&!(h!=null&&h.length),_=m?p:!1,v={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new Sh(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(n,v)}async function uM(n){const e=Yt(n);await Wu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cM(n,e){return[...n.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function Lb(n){return n.map(e=>{var{providerId:r}=e,a=bm(e,["providerId"]);return{providerId:r,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(n,e){const r=await Ib(n,{},async()=>{const a=cs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=n.config,f=Mb(n,l,"/v1/token",`key=${u}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Ob.fetch()(f,{method:"POST",headers:h,body:a})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function dM(n,e){return ps(n,"POST","/v2/accounts:revokeToken",Rm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const r=xv(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:a,refreshToken:l,expiresIn:u}=await fM(e,r);this.updateTokensAndExpiration(a,l,Number(u))}updateTokensAndExpiration(e,r,a){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,r){const{refreshToken:a,accessToken:l,expirationTime:u}=r,f=new ts;return a&&(ve(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),l&&(ve(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ts,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(n,e){ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Di{constructor(e){var{uid:r,auth:a,stsTokenManager:l}=e,u=bm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Sh(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const r=await Gl(this,this.stsTokenManager.getToken(this.auth,e));return ve(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return sM(this,e)}reload(){return uM(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),r&&await Wu(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ri(this.auth.app))return Promise.reject(na(this.auth));const e=await this.getIdToken();return await Gl(this,aM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var a,l,u,f,h,m,p,_;const v=(a=r.displayName)!==null&&a!==void 0?a:void 0,E=(l=r.email)!==null&&l!==void 0?l:void 0,b=(u=r.phoneNumber)!==null&&u!==void 0?u:void 0,A=(f=r.photoURL)!==null&&f!==void 0?f:void 0,H=(h=r.tenantId)!==null&&h!==void 0?h:void 0,P=(m=r._redirectEventId)!==null&&m!==void 0?m:void 0,z=(p=r.createdAt)!==null&&p!==void 0?p:void 0,G=(_=r.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:J,emailVerified:fe,isAnonymous:W,providerData:I,stsTokenManager:ye}=r;ve(J&&ye,e,"internal-error");const Se=ts.fromJSON(this.name,ye);ve(typeof J=="string",e,"internal-error"),lr(v,e.name),lr(E,e.name),ve(typeof fe=="boolean",e,"internal-error"),ve(typeof W=="boolean",e,"internal-error"),lr(b,e.name),lr(A,e.name),lr(H,e.name),lr(P,e.name),lr(z,e.name),lr(G,e.name);const F=new Di({uid:J,auth:e,email:E,emailVerified:fe,displayName:v,isAnonymous:W,photoURL:A,phoneNumber:b,tenantId:H,stsTokenManager:Se,createdAt:z,lastLoginAt:G});return I&&Array.isArray(I)&&(F.providerData=I.map(oe=>Object.assign({},oe))),P&&(F._redirectEventId=P),F}static async _fromIdTokenResponse(e,r,a=!1){const l=new ts;l.updateFromServerResponse(r);const u=new Di({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Wu(u),u}static async _fromGetAccountInfoResponse(e,r,a){const l=r.users[0];ve(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?Lb(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),h=new ts;h.updateFromIdToken(a);const m=new Di({uid:l.localId,auth:e,stsTokenManager:h,isAnonymous:f}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Sh(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=new Map;function Oi(n){Li(n instanceof Function,"Expected a class definition");let e=Lv.get(n);return e?(Li(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Lv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}kb.type="NONE";const kv=kb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(n,e,r){return`firebase:${n}:${e}:${r}`}class ns{constructor(e,r,a){this.persistence=e,this.auth=r,this.userKey=a;const{config:l,name:u}=this.auth;this.fullUserKey=Ru(this.userKey,l.apiKey,u),this.fullPersistenceKey=Ru("persistence",l.apiKey,u),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Di._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,a="authUser"){if(!r.length)return new ns(Oi(kv),e,a);const l=(await Promise.all(r.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=l[0]||Oi(kv);const f=Ru(a,e.config.apiKey,e.name);let h=null;for(const p of r)try{const _=await p._get(f);if(_){const v=Di._fromJSON(e,_);p!==u&&(h=v),u=p;break}}catch{}const m=l.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new ns(u,e,a):(u=m[0],h&&await u._set(f,h.toJSON()),await Promise.all(r.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new ns(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ub(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jb(e))return"Blackberry";if(qb(e))return"Webos";if(Pb(e))return"Safari";if((e.includes("chrome/")||zb(e))&&!e.includes("edge/"))return"Chrome";if(Bb(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=n.match(r);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function Ub(n=Gt()){return/firefox\//i.test(n)}function Pb(n=Gt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zb(n=Gt()){return/crios\//i.test(n)}function Hb(n=Gt()){return/iemobile/i.test(n)}function Bb(n=Gt()){return/android/i.test(n)}function jb(n=Gt()){return/blackberry/i.test(n)}function qb(n=Gt()){return/webos/i.test(n)}function Nm(n=Gt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function hM(n=Gt()){var e;return Nm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mM(){return jR()&&document.documentMode===10}function Vb(n=Gt()){return Nm(n)||Bb(n)||qb(n)||jb(n)||/windows phone/i.test(n)||Hb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(n,e=[]){let r;switch(n){case"Browser":r=Uv(Gt());break;case"Worker":r=`${Uv(Gt())}-${n}`;break;default:r=n}const a=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${fs}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const a=u=>new Promise((f,h)=>{try{const m=e(u);f(m)}catch(m){h(m)}});a.onAbort=r,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const a of this.queue)await a(e),a.onAbort&&r.push(a.onAbort)}catch(a){r.reverse();for(const l of r)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(n,e={}){return ps(n,"GET","/v2/passwordPolicy",Rm(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=6;class yM{constructor(e){var r,a,l,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=f.minPasswordLength)!==null&&r!==void 0?r:_M,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,a,l,u,f,h;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(r=m.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(a=m.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsLowercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNumericCharacter)!==null&&f!==void 0?f:!0),m.isValid&&(m.isValid=(h=m.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),m}validatePasswordLengthOptions(e,r){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(r.meetsMinPasswordLength=e.length>=a),l&&(r.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(r,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,r,a,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,r,a,l){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pv(this),this.idTokenSubscription=new Pv(this),this.beforeStateQueue=new pM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Db,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Oi(r)),this._initializationPromise=this.queue(async()=>{var a,l;if(!this._deleted&&(this.persistenceManager=await ns.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await xb(this,{idToken:e}),a=await Di._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(a)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Ri(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(h,h))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,h=l==null?void 0:l._redirectEventId,m=await this.tryRedirectSignIn(e);(!f||f===h)&&(m!=null&&m.user)&&(l=m.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Wu(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ri(this.app))return Promise.reject(na(this));const r=e?Yt(e):null;return r&&ve(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ri(this.app)?Promise.reject(na(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ri(this.app)?Promise.reject(na(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gM(this),r=new yM(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fa("auth","Firebase",e())}onAuthStateChanged(e,r,a){return this.registerStateListener(this.authStateSubscription,e,r,a)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,a){return this.registerStateListener(this.idTokenSubscription,e,r,a)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(a.tenantId=this.tenantId),await dM(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const a=await this.getOrInitRedirectPersistenceManager(r);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Oi(e)||this._popupRedirectResolver;ve(r,this,"argument-error"),this.redirectPersistenceManager=await ns.create(this,[Oi(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,a;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,a,l){if(this._deleted)return()=>{};const u=typeof r=="function"?r:r.next.bind(r);let f=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(h,this,"internal-error"),h.then(()=>{f||u(this.currentUser)}),typeof r=="function"){const m=e.addObserver(r,a,l);return()=>{f=!0,m()}}else{const m=e.addObserver(r);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(r["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(r["X-Firebase-AppCheck"]=l),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&XI(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function yc(n){return Yt(n)}class Pv{constructor(e){this.auth=e,this.observer=null,this.addObserver=XR(r=>this.observer=r)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EM(n){Dm=n}function SM(n){return Dm.loadJS(n)}function bM(){return Dm.gapiScript}function TM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(n,e){const r=da(n,"auth");if(r.isInitialized()){const l=r.getImmediate(),u=r.getOptions();if(Ll(u,e??{}))return l;ei(l,"already-initialized")}return r.initialize({options:e})}function CM(n,e){const r=(e==null?void 0:e.persistence)||[],a=(Array.isArray(r)?r:[r]).map(Oi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function RM(n,e,r){const a=yc(n);ve(a._canInitEmulator,a,"emulator-config-failed"),ve(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,u=Gb(e),{host:f,port:h}=AM(e),m=h===null?"":`:${h}`;a.config.emulator={url:`${u}//${f}${m}/`},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:f,port:h,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})}),NM()}function Gb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function AM(n){const e=Gb(n),r=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!r)return{host:"",port:null};const a=r[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const u=l[1];return{host:u,port:zv(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:zv(f)}}}function zv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function NM(){function n(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,r){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function is(n,e){return iM(n,"POST","/v1/accounts:signInWithIdp",Rm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="http://localhost";class oa extends Yb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ei("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l}=r,u=bm(r,["providerId","signInMethod"]);if(!a||!l)return null;const f=new oa(a,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const r=this.buildRequest();return is(e,r)}_linkToIdToken(e,r){const a=this.buildRequest();return a.idToken=r,is(e,a)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,is(e,r)}buildRequest(){const e={requestUri:DM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=cs(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends Om{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends no{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";cr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends no{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return oa._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:a}=e;if(!r&&!a)return null;try{return Ci.credential(r,a)}catch{return null}}}Ci.GOOGLE_SIGN_IN_METHOD="google.com";Ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends no{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com";fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends no{constructor(){super("twitter.com")}static credential(e,r){return oa._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:a}=e;if(!r||!a)return null;try{return dr.credential(r,a)}catch{return null}}}dr.TWITTER_SIGN_IN_METHOD="twitter.com";dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,a,l=!1){const u=await Di._fromIdTokenResponse(e,a,l),f=Hv(a);return new os({user:u,providerId:f,_tokenResponse:a,operationType:r})}static async _forOperation(e,r,a){await e._updateTokensIfNecessary(a,!0);const l=Hv(a);return new os({user:e,providerId:l,_tokenResponse:a,operationType:r})}}function Hv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends ii{constructor(e,r,a,l){var u;super(r.code,r.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Zu.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:r.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,r,a,l){return new Zu(e,r,a,l)}}function Kb(n,e,r,a){return(e==="reauthenticate"?r._getReauthenticationResolver(n):r._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Zu._fromErrorAndOperation(n,u,e,a):u})}async function OM(n,e,r=!1){const a=await Gl(n,e._linkToIdToken(n.auth,await n.getIdToken()),r);return os._forOperation(n,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(n,e,r=!1){const{auth:a}=n;if(Ri(a.app))return Promise.reject(na(a));const l="reauthenticate";try{const u=await Gl(n,Kb(a,l,e,n),r);ve(u.idToken,a,"internal-error");const f=Am(u.idToken);ve(f,a,"internal-error");const{sub:h}=f;return ve(n.uid===h,a,"user-mismatch"),os._forOperation(n,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ei(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(n,e,r=!1){if(Ri(n.app))return Promise.reject(na(n));const a="signIn",l=await Kb(n,a,e),u=await os._fromIdTokenResponse(n,a,l);return r||await n._updateCurrentUser(u.user),u}function xM(n,e,r,a){return Yt(n).onIdTokenChanged(e,r,a)}function LM(n,e,r){return Yt(n).beforeAuthStateChanged(e,r)}const Ju="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Ju,"1"),this.storage.removeItem(Ju),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=1e3,UM=10;class $b extends Qb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Vb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const a=this.storage.getItem(r),l=this.localCache[r];a!==l&&e(r,l,a)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((f,h,m)=>{this.notifyListeners(f,m)});return}const a=e.key;r?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(a);!r&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);mM()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,UM):l()}notifyListeners(e,r){this.localCache[e]=r;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:a}),!0)})},kM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}$b.type="LOCAL";const PM=$b;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb extends Qb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Xb.type="SESSION";const Wb=Xb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(l=>l.isListeningto(e));if(r)return r;const a=new vc(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:a,eventType:l,data:u}=r.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;r.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const h=Array.from(f).map(async p=>p(r.origin,u)),m=await zM(h);r.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:m})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(n="",e=10){let r="";for(let a=0;a<e;a++)r+=Math.floor(Math.random()*10);return n+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((h,m)=>{const p=Im("",20);l.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},a);f={messageChannel:l,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),h(E.data.response);break;default:clearTimeout(_),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:r},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(){return window}function BM(n){Wn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(){return typeof Wn().WorkerGlobalScope<"u"&&typeof Wn().importScripts=="function"}async function jM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qM(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function VM(){return Zb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="firebaseLocalStorageDb",FM=1,ec="firebaseLocalStorage",eT="fbase_key";class io{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Ec(n,e){return n.transaction([ec],e?"readwrite":"readonly").objectStore(ec)}function GM(){const n=indexedDB.deleteDatabase(Jb);return new io(n).toPromise()}function bh(){const n=indexedDB.open(Jb,FM);return new Promise((e,r)=>{n.addEventListener("error",()=>{r(n.error)}),n.addEventListener("upgradeneeded",()=>{const a=n.result;try{a.createObjectStore(ec,{keyPath:eT})}catch(l){r(l)}}),n.addEventListener("success",async()=>{const a=n.result;a.objectStoreNames.contains(ec)?e(a):(a.close(),await GM(),e(await bh()))})})}async function Bv(n,e,r){const a=Ec(n,!0).put({[eT]:e,value:r});return new io(a).toPromise()}async function YM(n,e){const r=Ec(n,!1).get(e),a=await new io(r).toPromise();return a===void 0?null:a.value}function jv(n,e){const r=Ec(n,!0).delete(e);return new io(r).toPromise()}const KM=800,QM=3;class tT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bh(),this.db)}async _withRetries(e){let r=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(r++>QM)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vc._getInstance(VM()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await jM(),!this.activeServiceWorker)return;this.sender=new HM(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((r=a[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bh();return await Bv(e,Ju,"1"),await jv(e,Ju),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(a=>Bv(a,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(a=>YM(a,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>jv(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Ec(l,!1).getAll();return new io(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),r.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),r.push(l));return r}notifyListeners(e,r){this.localCache[e]=r;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tT.type="LOCAL";const $M=tT;new to(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(n,e){return e?Oi(e):(ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm extends Yb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return is(e,this._buildIdpRequest())}_linkToIdToken(e,r){return is(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return is(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function XM(n){return MM(n.auth,new Mm(n),n.bypassAuthState)}function WM(n){const{auth:e,user:r}=n;return ve(r,e,"internal-error"),IM(r,new Mm(n),n.bypassAuthState)}async function ZM(n){const{auth:e,user:r}=n;return ve(r,e,"internal-error"),OM(r,new Mm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,r,a,l,u=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:a,postBody:l,tenantId:u,error:f,type:h}=e;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:r,sessionId:a,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XM;case"linkViaPopup":case"linkViaRedirect":return ZM;case"reauthViaPopup":case"reauthViaRedirect":return WM;default:ei(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=new to(2e3,1e4);async function ex(n,e,r){if(Ri(n.app))return Promise.reject(zn(n,"operation-not-supported-in-this-environment"));const a=yc(n);WI(n,e,Om);const l=nT(a,r);return new ta(a,"signInViaPopup",e,l).executeNotNull()}class ta extends iT{constructor(e,r,a,l,u){super(e,r,l,u),this.provider=a,this.authWindow=null,this.pollId=null,ta.currentPopupAction&&ta.currentPopupAction.cancel(),ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,a;if(!((a=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JM.get())};e()}}ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="pendingRedirect",Au=new Map;class nx extends iT{constructor(e,r,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a),this.eventId=null}async execute(){let e=Au.get(this.auth._key());if(!e){try{const a=await ix(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(r){e=()=>Promise.reject(r)}Au.set(this.auth._key(),e)}return this.bypassAuthState||Au.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ix(n,e){const r=sx(e),a=ax(n);if(!await a._isAvailable())return!1;const l=await a._get(r)==="true";return await a._remove(r),l}function rx(n,e){Au.set(n._key(),e)}function ax(n){return Oi(n._redirectPersistence)}function sx(n){return Ru(tx,n.config.apiKey,n.name)}async function lx(n,e,r=!1){if(Ri(n.app))return Promise.reject(na(n));const a=yc(n),l=nT(a,e),f=await new nx(a,l,r).execute();return f&&!r&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=10*60*1e3;class ux{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(r=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cx(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var a;if(e.error&&!rT(e)){const l=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";r.onError(zn(this.auth,l))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const a=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ox&&this.cachedEventUids.clear(),this.cachedEventUids.has(qv(e))}saveEventToCache(e){this.cachedEventUids.add(qv(e)),this.lastProcessedEventTime=Date.now()}}function qv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function rT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cx(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fx(n,e={}){return ps(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hx=/^https?/;async function mx(n){if(n.config.emulator)return;const{authorizedDomains:e}=await fx(n);for(const r of e)try{if(px(r))return}catch{}ei(n,"unauthorized-domain")}function px(n){const e=Eh(),{protocol:r,hostname:a}=new URL(e);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&a===""?r==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&f.hostname===a}if(!hx.test(r))return!1;if(dx.test(n))return a===n;const l=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=new to(3e4,6e4);function Vv(){const n=Wn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let r=0;r<n.CP.length;r++)n.CP[r]=null}}function _x(n){return new Promise((e,r)=>{var a,l,u;function f(){Vv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vv(),r(zn(n,"network-request-failed"))},timeout:gx.get()})}if(!((l=(a=Wn().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=Wn().gapi)===null||u===void 0)&&u.load)f();else{const h=TM("iframefcb");return Wn()[h]=()=>{gapi.load?f():r(zn(n,"network-request-failed"))},SM(`${bM()}?onload=${h}`).catch(m=>r(m))}}).catch(e=>{throw Nu=null,e})}let Nu=null;function yx(n){return Nu=Nu||_x(n),Nu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=new to(5e3,15e3),Ex="__/auth/iframe",Sx="emulator/auth/iframe",bx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wx(n){const e=n.config;ve(e.authDomain,n,"auth-domain-config-required");const r=e.emulator?Cm(e,Sx):`https://${n.config.authDomain}/${Ex}`,a={apiKey:e.apiKey,appName:n.name,v:fs},l=Tx.get(n.config.apiHost);l&&(a.eid=l);const u=n._getFrameworks();return u.length&&(a.fw=u.join(",")),`${r}?${cs(a).slice(1)}`}async function Cx(n){const e=await yx(n),r=Wn().gapi;return ve(r,n,"internal-error"),e.open({where:document.body,url:wx(n),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bx,dontclear:!0},a=>new Promise(async(l,u)=>{await a.restyle({setHideOnLeave:!1});const f=zn(n,"network-request-failed"),h=Wn().setTimeout(()=>{u(f)},vx.get());function m(){Wn().clearTimeout(h),l(a)}a.ping(m).then(m,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ax=500,Nx=600,Dx="_blank",Ox="http://localhost";class Fv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ix(n,e,r,a=Ax,l=Nx){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let h="";const m=Object.assign(Object.assign({},Rx),{width:a.toString(),height:l.toString(),top:u,left:f}),p=Gt().toLowerCase();r&&(h=zb(p)?Dx:r),Ub(p)&&(e=e||Ox,m.scrollbars="yes");const _=Object.entries(m).reduce((E,[b,A])=>`${E}${b}=${A},`,"");if(hM(p)&&h!=="_self")return Mx(e||"",h),new Fv(null);const v=window.open(e||"",h,_);ve(v,n,"popup-blocked");try{v.focus()}catch{}return new Fv(v)}function Mx(n,e){const r=document.createElement("a");r.href=n,r.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="__/auth/handler",Lx="emulator/auth/handler",kx=encodeURIComponent("fac");async function Gv(n,e,r,a,l,u){ve(n.config.authDomain,n,"auth-domain-config-required"),ve(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:r,redirectUrl:a,v:fs,eventId:l};if(e instanceof Om){e.setDefaultLanguage(n.languageCode),f.providerId=e.providerId||"",ih(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))f[_]=v}if(e instanceof no){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(f.scopes=_.join(","))}n.tenantId&&(f.tid=n.tenantId);const h=f;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const m=await n._getAppCheckToken(),p=m?`#${kx}=${encodeURIComponent(m)}`:"";return`${Ux(n)}?${cs(h).slice(1)}${p}`}function Ux({config:n}){return n.emulator?Cm(n,Lx):`https://${n.authDomain}/${xx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="webStorageSupport";class Px{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wb,this._completeRedirectFn=lx,this._overrideRedirectResult=rx}async _openPopup(e,r,a,l){var u;Li((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Gv(e,r,a,Eh(),l);return Ix(e,f,Im())}async _openRedirect(e,r,a,l){await this._originValidation(e);const u=await Gv(e,r,a,Eh(),l);return BM(u),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:l,promise:u}=this.eventManagers[r];return l?Promise.resolve(l):(Li(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[r]={promise:a},a.catch(()=>{delete this.eventManagers[r]}),a}async initAndGetManager(e){const r=await Cx(e),a=new ux(e);return r.register("authEvent",l=>(ve(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=r,a}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Jd,{type:Jd},l=>{var u;const f=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[Jd];f!==void 0&&r(!!f),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=mx(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Vb()||Pb()||Nm()}}const zx=Px;var Yv="@firebase/auth",Kv="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jx(n){Zn(new Bn("auth",(e,{options:r})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:h}=a.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:f,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fb(n)},p=new vM(a,l,u,m);return CM(p,r),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,a)=>{e.getProvider("auth-internal").initialize()})),Zn(new Bn("auth-internal",e=>{const r=yc(e.getProvider("auth").getImmediate());return(a=>new Hx(a))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rn(Yv,Kv,Bx(n)),Rn(Yv,Kv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=5*60,Vx=CE("authIdTokenMaxAge")||qx;let Qv=null;const Fx=n=>async e=>{const r=e&&await e.getIdTokenResult(),a=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(a&&a>Vx)return;const l=r==null?void 0:r.token;Qv!==l&&(Qv=l,await fetch(n,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Gx(n=Bh()){const e=da(n,"auth");if(e.isInitialized())return e.getImmediate();const r=wM(n,{popupRedirectResolver:zx,persistence:[$M,PM,Wb]}),a=CE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=Fx(u.toString());LM(r,f,()=>f(r.currentUser)),xM(r,h=>f(h))}}const l=TE("auth");return l&&RM(r,`http://${l}`),r}function Yx(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}EM({loadJS(n){return new Promise((e,r)=>{const a=document.createElement("script");a.setAttribute("src",n),a.onload=e,a.onerror=l=>{const u=zn("internal-error");u.customData=l,r(u)},a.type="text/javascript",a.charset="UTF-8",Yx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jx("Browser");const Kx=()=>{const[n,e]=O.useState(null),r=Gx(Sm),a=new Ci,l=async()=>{try{const u=await ex(r,a);e(u.user)}catch(u){console.error("Login Failed:",u)}};return Q.jsxs("div",{children:[Q.jsx("h2",{children:"Admin Panel"}),n?Q.jsxs("p",{children:["Welcome, ",n.displayName,"!"]}):Q.jsx("button",{onClick:l,children:"Login with Google"})]})},Qx=fR([{path:"/",element:Q.jsx(DR,{}),children:[{index:!0,element:Q.jsx(KI,{})},{path:"highscorespage",element:Q.jsx(QI,{})},{path:"adminpage",element:Q.jsx(Kx,{})}]}]),$x=()=>Q.jsx(wR,{router:Qx});Ew.createRoot(document.getElementById("root")).render(Q.jsx(hw.StrictMode,{children:Q.jsxs(AR,{children:[" ",Q.jsx($x,{})]})}));
